/*! Build time : Mon Jul 19 2021 18:19:59 GMT+0800 (GMT+08:00) */(function(e){function t(t){for(var i,_,a=t[0],c=t[1],l=t[2],f=0,d=[];f<a.length;f++)_=a[f],Object.prototype.hasOwnProperty.call(n,_)&&n[_]&&d.push(n[_][0]),n[_]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);s&&s(t);while(d.length)d.shift()();return r.push.apply(r,l||[]),o()}function o(){for(var e,t=0;t<r.length;t++){for(var o=r[t],i=!0,a=1;a<o.length;a++){var c=o[a];0!==n[c]&&(i=!1)}i&&(r.splice(t--,1),e=_(_.s=o[0]))}return e}var i={},n={app2:0,app:0,subPage:0},r=[];function _(t){if(i[t])return i[t].exports;var o=i[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,_),o.l=!0,o.exports}_.m=e,_.c=i,_.d=function(e,t,o){_.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},_.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},_.t=function(e,t){if(1&t&&(e=_(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(_.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)_.d(o,i,function(t){return e[t]}.bind(null,i));return o},_.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return _.d(t,"a",t),t},_.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},_.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var s=c;r.push([0,"dsf-pc","dsf-vendors"]),o()})({0:function(e,t,o){e.exports=o("d3da")},"12cb":function(e,t,o){"use strict";var i=o("5530"),n=o("a925"),r={};for(var _ in $i18n)r[_]=Object(i["a"])({},$i18n[_]||{});Vue.use(n["a"]);var a=new n["a"]({locale:"zh_CN",messages:Object(i["a"])({},r),silentTranslationWarn:!0});t["a"]=a},"365c":function(e,t){},4360:function(e,t,o){"use strict";var i=o("5530"),n=o("5880"),r=o.n(n),_={route:{},curPlayItem:null,svaeProgress:"",curPlayTime:0,curPlayProgress:0,seektime:0,screenshot:null},a=_;o("fdef"),o("89f5"),o("5dcc");function c(){var e=this,t=0,o=dsf.noop,i=dsf.noop,n=[];function r(e){t++,this.exec(e)}function _(e){o&&o(e)}this.catch=function(t){return o=t,e},this.finally=function(t){return i=t,e},this.step=function(t){return n.push(t),e},this.exec=function(o){t<n.length?n[t]({resolve:r.bind(e),reject:_.bind(e)},o):i&&i()}}var l=function(){return new c},s="Media_GetCourse",f="Media_GetProgress",d="SET_CURRENT_PLAY_ITEM",u="SET_CURRENT_PLAY_TIME",m="SET_CURRENT_PLAY_PROGRESS",b="SET_CURRENT_PLAY_SEEKTIME",p="PLAYER_HAS_PLAY",g="PLAYER_SET_SCRRENSHOT",h={namespaced:!0,state:{src:null,seekTime:null,progressInfo:{},playingTime:0,playVideoId:"",playVideoTime:"",course:{},isUseMini:!1,miniHide:!1,miniAutoPlay:!1,miniPlaying:!1,backData:null},mutations:{Media_SetSource:function(e,t){Vue.set(e,"src",t)},Media_SetSeekTime:function(e,t){Vue.set(e,"seekTime",t)},Media_SetProgress:function(e,t){dsf.isUnDef(t)&&(t={}),Vue.set(e,"progressInfo",t)},Media_SetCourse:function(e,t){dsf.isUnDef(t)&&(t={}),Vue.set(e,"course",t)},Media_UpdatePlayTime:function(e,t){dsf.isUnDef(t)&&(t="00:00:00"),Vue.set(e,"playingTime",t)},Media_ChangeVideo:function(e,t){Vue.set(e,"playVideoId",t.videoId),Vue.set(e,"playVideoTime",t.videoTime)},Media_UseMini:function(e,t){Vue.set(e,"isUseMini",t)},Media_MiniHide:function(e,t){Vue.set(e,"miniHide",t)},Meida_MiniAutoPlay:function(e,t){Vue.set(e,"miniAutoPlay",t)},Media_LoadLastStudy:function(e,t){var o=JSON.parse(localStorage.getItem("lastStudyInfo"));o?(e.src=o.src,e.seekTime=o.seekTime,e.progressInfo=o.progressInfo,e.playingTime=o.playingTime,e.course=o.course,e.playVideoId=o.playVideoId,e.playVideoTime=o.playVideoTime,e.isUseMini=!0,e.miniHide=!0,e.miniPlaying=!1,e.miniAutoPlay=!1):(e.isUseMini=!1,e.miniHide=!1,e.miniAutoPlay=!1,e.miniPlaying=!1)},Media_RollBack:function(e,t){if(e.backData){for(var o in e.backData)"backData"!=o&&Vue.set(e,o,e.backData[o]);Vue.set(e,"miniAutoPlay",e.miniPlaying)}},Media_MiniPlaying:function(e,t){Vue.set(e,"miniPlaying",t)}},actions:{Media_GetSource:function(e,t){return new Promise((function(o,i){if("audio"==t.type||"video"==t.type){var n="/slice/video/"+t.fileId;dsf.http.get(n,{},$$webRoot.nc).done((function(t){t.success&&2e4==t.state&&(e.commit("media/Media_SetSource",t.data),o(t.data))})).error((function(e){i(e),console.log(e)}))}else if("text"==t.type||"media"==t.type||"other"==t.type){var r={sd:{relative:t.fileId},cd:{relative:t.fileId},hd:{relative:t.fileId},mp3:{relative:t.fileId}};e.commit("media/Media_SetSource",r),o(r)}}))},Media_GetProgress:function(e,t){var o="nc/mobile/tyzj/kcbf/queryKjXxjl",i={relid:t.videoId,kcId:t.kcId};return new Promise((function(n,r){dsf.http.get(o,i,$$webRoot.nc).done((function(o){if(o.success)if(2e4==o.state){var i=0;i=t.seekTime?t.seekTime:v(o.data.timespan);var _=o.data;e.commit("media/Media_SetSeekTime",i),e.commit("media/Media_SetProgress",_),n(o)}else e.commit("media/Media_SetSeekTime",0),e.commit("media/Media_SetProgress",{}),r(o);else r(o)})).error((function(e){r(e)})).always((function(){}))}))},Media_SetCourse:function(e,t){return new Promise((function(o,i){var n="nc/mobile/tyzj/kcbf/getKcDetailInfo",r={kcid:t.kcid,type:t.type||2,dwid:t.dwid};dsf.http.get(n,r,$$webRoot.nc).done((function(t){if("20000"==t.state){var n=t.data,r={};r=n,e.commit("media/Media_SetCourse",r),e.commit("media/Media_ChangeVideo",{videoId:n.bfinfo.kjid,videoTime:n.bfinfo.kjsc}),o(t)}else e.commit("media/Media_SetCourse",null),i(t)})).error((function(t){e.commit("media/Media_SetCourse",null),i(t)}))}))},Media_PostProgress:function(e,t){var o="nc/mobile/tyzj/kcbf/addXxjlByKczj",i=dsf.date.secondsToTime(e.state.playingTime);i=i.hours+":"+i.minutes+":"+i.seconds;var n={relid:e.state.playVideoId,bigtimespan:e.state.playVideoTime,timespan:i,pass:e.state.progressInfo.pass||0,sumtime:e.state.progressInfo.sumtime,everytime:t.everytime||10};return new Promise((function(t,i){dsf.http.post(o,n,$$webRoot.nc).done((function(o){var i=dsf.mix({},e.state);delete i.isUseMini,localStorage.setItem("lastStudyInfo",JSON.stringify(i)),console.log(localStorage.getItem("lastStudyInfo")),t(o)})).error((function(e){i(e)})).always((function(){}))}))},Media_GetCourseAll:function(e,t){var o=e.dispatch,i=(e.commit,e.state);return new Promise((function(e,n){var r={kcid:t.kcid,type:t.type||2,dwid:t.dwid||""},_=l(),a=i.playVideoId;i.backData=dsf.mix(!0,{},i),_.step((function(e,t){o(s,r).then((function(t){console.log(t),e.resolve(t.data)})).catch((function(t){e.reject(t),console.log(t)}))})),_.step((function(e,t){var i,n,r,_=t.bfinfo;switch(_.kjlx_value){case"1":i=JSON.parse(_.spdz)[0],n="video",r=i.id;break;case"2":i=JSON.parse(_.ypdz)[0],n="audio",r=i.id;break;case"3":i=JSON.parse(_.wgdz)[0],n="text",r="/preview/file?fileId="+i.id;break;default:i=_.yddz,n=4==_.kjlx_value?"media":"other",r=_.yddz;break}o("media/Media_GetSource",{fileId:r,type:n}).then((function(t){e.resolve()})).catch((function(t){e.reject(t)}))})),_.step((function(e,t){var n={videoId:i.playVideoId,kcId:i.course.kcid,seekTime:a==i.playVideoId?i.playingTime:""};o(f,n).then((function(){e.resolve(t)})).catch((function(t){e.reject(t)}))})),_.step((function(t){e({courseData:i.course,source:i.src,progressInfo:i.progressInfo})})),_.catch((function(e){n(e)})),_.exec()}))}},getters:{}};function v(e){e||(e="00:00:00"),e=e.split(":");var t=60*e[0]*60+60*e[1]+1*e[2];return t}var y,k=h,P=o("ade3");function S(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"get";return new Promise((function(i,n){dsf.http[o](e,t).done((function(e){i(e)})).error((function(e){n(e)}))}))}var w={playerModel:"normal",state:{curPlayItem:null,svaeProgress:"",curPlayTime:"00:00:00",curPlayProgress:0,seektime:0,screenshot:null},mutations:(y={},Object(P["a"])(y,u,(function(e,t){e.curPlayTime=t})),Object(P["a"])(y,m,(function(e,t){e.curPlayProgress=t})),Object(P["a"])(y,b,(function(e,t){e.seektime=t})),Object(P["a"])(y,d,(function(e,t){e.curPlayItem=t})),Object(P["a"])(y,p,(function(e,t){e.svaeProgress=t})),Object(P["a"])(y,g,(function(e,t){e.screenshot=t})),y),actions:{playerPlaySaveProgress:function(e,t){var o=e.commit,i=t.courseId,n=t.coursewareId,r=t.watchPoint,_=t.pulseTime,a=t.pulseRate,c="nc/course/front/pulseSaveRecord",l={courseId:i,coursewareId:n,watchPoint:r,pulseTime:_,pulseRate:a};S(c,l,"post").then((function(e){!e.success&&dsf.layer.pc.message("保存学习进度失败,请重新登录或联系管理员",!1),e.success&&o(types.SET_CURRENT_PLAY_PROGRESS,e.data.finishedRate)})).catch((function(e){console.error("保存进度失败")}))},uploadScreenshot:function(e,t){var o=e.commit,i="file/base64Img",n={base64ImgStr:t.substring(23)};S(i,n,"post").then((function(e){e.success&&o(g,e.data)})).catch((function(e){console.error("上传视频截图")}))}},getters:{getCurPlayItem:function(e){return e.curPlayItem},getScreenshot:function(e){return e.screenshot},getCurPlayTime:function(e){return e.curPlayTime},getCurPlayProgress:function(e){return e.curPlayProgress},getSeektime:function(e){return e.seektime}}},I=w,T=[k,I];Vue.use(r.a);t["a"]=new r.a.Store({state:a,modules:Object(i["a"])(Object(i["a"])({},$platformStore),T)})},"4ce4":function(e,t){},5880:function(e,t){e.exports=Vuex},"5d45":function(e,t,o){"use strict";o("d3b7");function i(e){var t=this;return new Promise((function(o){var i=dsf.getCookie("isLogin");if(1==i)o(!0);else{var n=dsf.config.setting_public_login_dialog;e?sessionStorage.setItem("toUrl",e):sessionStorage.clear(),n&&t.$openDialog({title:"",width:"400px",height:"340px",params:{path:n,loginSuccess:function(){o(!0)},loginFail:function(){o(!1)}},onClosed:function(){o(!1)}})}}))}t["a"]=i},9401:function(e,t,o){"use strict";o("ac1f"),o("1276");var i=o("c158"),n=o.n(i),r={};for(var _ in n.a)for(var a=_.split("___"),c=r,l=0,s=a.length;l<s;l++)l!=s-1?(c[a[l]]||(c[a[l]]={}),c=c[a[l]]):c[a[l]]=n.a[_];t["a"]=r},a745:function(e,t,o){dsf.mix(!0,dsf.config,{webRoot:{default:"/dsf5/",dsfa:"/",teas:"/",nc:"/",exam:"/"},file:{preViewServer:"/dsfa/"},designer:{controlsVersionFilter:!1,defaultControlGroup:[],scssDir:"/dsf5/static/",scss:["platform/variable.scss","platform/themes.scss","platform/mixins.scss"]},runType:"product",assetsDir:"./static/",setting_public_login_dialog:"#/pc/nc/pagelogin/dialogLogin",setting_public_search_url:"#/pc/nc/pageglobalsearch/globalSearch",setting_public_usercenter_url:"#/pc/nc/pagepersonalCenter/index",setting_public_pcindex_url:"ncIndex.html#/pc/nc/pagehome/index",setting_public_mobileindex_url:"/dsf5/mobile-index.html?appid=nc.page.app.manager#/mobile/nc/page/app/home/mobile-index",setting_public_default_theme:"red-theme",setting_public_default_size:"normal",setting_public_default_header_mini:!1,setting_public_gotoicon:"1",setting_public_login_success_to:"./index.html",setting_public_mobile_login_success_to:"./mobile-index.html",setting_public_pc_login_page:"./page.html#/pc/login",setting_public_mobile_login_page:"./mobile-index.html#/mobile/login",setting_public_logo_image:"",setting_public_logo_title:"",setting_public_user_default_header:"./static/img/defaultHeader.png",setting_public_home_menu_src:"/menu/getTree",setting_public_index_menu_src:"/nc/menu/home",setting_public_file_host:"/",setting_flow_count_down_time:3,setting_error_img:o("c18c")},window.$$serverConfig?window.$$serverConfig:{},window.$$config?window.$$config:{}),window.$$webRoot=dsf.config.webRoot},c158:function(e,t,o){e.exports={"red-theme___main":"#c62f26","red-theme___normal":"#ff7200","red-theme___font_normal":"#333","red-theme___button_plain_bgcolor":"#fff","red-theme___button_plain_bordercolor":"#c9c9c9","red-theme___button_plain_fontcolor":"#5f5f5f","red-theme___nav_active_bgColor":"#e63b2e","red-theme___shadow_normal":"rgba(0,0,0,0.1)","red-theme___bottom_color":"#fff","red-theme___mobile_head_border_color":"#ebedf0","red-theme___mobile_foot_color":"#fff","red-theme___mobile_foot_border_color":"#ebedf0","blue-theme___main":"#1a66b1","blue-theme___normal":"#3c8ddb","blue-theme___button_plain_bgcolor":"#fff","blue-theme___button_plain_bordercolor":"#c9c9c9","blue-theme___button_plain_fontcolor":"#5f5f5f","blue-theme___nav_active_bgColor":"#3c8ddb","blue-theme___bottom_color":"#fff","blue-theme___mobile_head_border_color":"#ebedf0","blue-theme___mobile_foot_color":"#fff","blue-theme___mobile_foot_border_color":"#ebedf0","green-theme___main":"#189a5a","green-theme___normal":"#4daf7b","green-theme___button_plain_bgcolor":"#fff","green-theme___button_plain_bordercolor":"#c9c9c9","green-theme___button_plain_fontcolor":"#5f5f5f","green-theme___nav_active_bgColor":"#4daf7b","green-theme___bottom_color":"#fff","green-theme___mobile_head_border_color":"#ebedf0","green-theme___mobile_foot_color":"#fff","green-theme___mobile_foot_border_color":"#ebedf0","orange-theme___main":"#fc7001","orange-theme___normal":"#ffb142","orange-theme___button_plain_bgcolor":"#fff","orange-theme___button_plain_bordercolor":"#c9c9c9","orange-theme___button_plain_fontcolor":"#5f5f5f","orange-theme___nav_active_bgColor":"#ffb142","orange-theme___bottom_color":"#fff","orange-theme___mobile_head_border_color":"#ebedf0","orange-theme___mobile_foot_color":"#fff","orange-theme___mobile_foot_border_color":"#ebedf0","darkred-theme___main":"#c60100","darkred-theme___normal":"#c60100","darkred-theme___button_plain_bgcolor":"#fff","darkred-theme___button_plain_bordercolor":"#c9c9c9","darkred-theme___button_plain_fontcolor":"#5f5f5f","darkred-theme___nav_active_bgColor":"#c60100","darkred-theme___bottom_color":"#fff","darkred-theme___mobile_head_border_color":"#ebedf0","darkred-theme___mobile_foot_color":"#fff","darkred-theme___mobile_foot_border_color":"#ebedf0","darkblue-theme___main":"#2659bf","darkblue-theme___normal":"#2659bf","darkblue-theme___button_plain_bgcolor":"#fff","darkblue-theme___button_plain_bordercolor":"#c9c9c9","darkblue-theme___button_plain_fontcolor":"#5f5f5f","darkblue-theme___nav_active_bgColor":"#3c7ade","darkblue-theme___bottom_color":"#fff","darkblue-theme___mobile_head_border_color":"#ebedf0","darkblue-theme___mobile_foot_color":"#fff","darkblue-theme___mobile_foot_border_color":"#ebedf0","dingtalk-theme___main":"#3C8AF8","dingtalk-theme___normal":"#3C8AF8","dingtalk-theme___button_plain_bgcolor":"#fff","dingtalk-theme___button_plain_bordercolor":"#c9c9c9","dingtalk-theme___button_plain_fontcolor":"#5f5f5f","dingtalk-theme___nav_active_bgColor":"#3C8AF8","dingtalk-theme___bottom_color":"#fff","dingtalk-theme___mobile_head_border_color":"#ebedf0","dingtalk-theme___mobile_foot_color":"#fff","dingtalk-theme___mobile_foot_border_color":"#ebedf0","heijin-theme___main":"#ECBD63","heijin-theme___normal":"#ECBD63","heijin-theme___button_plain_bgcolor":"#fff","heijin-theme___button_plain_bordercolor":"#c9c9c9","heijin-theme___button_plain_fontcolor":"#5f5f5f","heijin-theme___nav_active_bgColor":"#ECBD63","heijin-theme___bottom_color":"#fff","heijin-theme___mobile_head_border_color":"#ebedf0","heijin-theme___mobile_foot_color":"#fff","heijin-theme___mobile_foot_border_color":"#ebedf0"}},c18c:function(e,t,o){e.exports=o.p+"static/img/product/404.png"}});
//# sourceMappingURL=app2.js.map