{"version":3,"sources":["webpack://platform/./designer/flow/flowInfo.vue?3593","webpack://platform/./designer/flow/Lanes.vue?b0a0","webpack://platform/./designer/flow/flow.vue?e1ef","webpack://platform/./designer/flow/flowInfo.vue?d0a1","webpack://platform/./designer/flow/flowInfo.vue?1361","webpack://platform/./designer/flow/Lanes.vue?e8e8","webpack://platform/./designer/flow/Lanes.vue?cfed","webpack://platform/./designer/flow/flow.vue?c2ec","webpack://platform/./designer/flow/flow.vue?c888","webpack://platform/./designer/flow/flow.vue?8f65","webpack://platform/./designer/flow/flow.js","webpack://platform/./designer/flow/Lane.js","webpack://platform/./designer/flow/flowInfo.vue?639e","webpack://platform/designer/flow/flowInfo.vue","webpack://platform/./designer/flow/flowInfo.vue?c2f6","webpack://platform/./designer/flow/flowInfo.vue","webpack://platform/./designer/flow/flowContent.vue?eefb","webpack://platform/designer/flow/flowContent.vue","webpack://platform/./designer/flow/flowContent.vue?7bae","webpack://platform/./designer/flow/flowContent.vue","webpack://platform/./designer/flow/Lanes.vue?6bdf","webpack://platform/designer/flow/Lanes.vue","webpack://platform/./designer/flow/Lanes.vue?4a8e","webpack://platform/./designer/flow/Lanes.vue","webpack://platform/designer/flow/flow.vue","webpack://platform/./designer/flow/flow.vue?00e8","webpack://platform/./designer/flow/flow.vue"],"names":["content","module","i","locals","exports","add","default","render","_vm","this","_h","$createElement","_c","_self","staticClass","class","flowModel","attrs","id","on","click","doSave","_v","$event","printImage","selected","isDrawLine","drawLine","_m","addLane","disabled","scale","rootScale","_s","Math","round","exportFlowJson","action","accept","uploadJson","slot","selectedList","length","alignment","_e","setFlowModel","ref","scroll","onScroll","isPrintImage","style","width","toPx","height","transform","transformOrigin","has_v_head","lanes","vertical","has_h_head","horizontal","baseLine","showV","left","showH","top","lines","nodes","events","checked","staticStyle","accordion","model","value","activeNames","callback","$$v","expression","_l","flowTools","tool","index","key","title","name","data","item","type","sort","nodetype","draggable","dragstart","dragTool","src","img","clear","boundaryEvents","event","dragBoundaryEvent","url","attached","dragAttached","flowInfo","staticRenderFns","_withStripped","exportXML","xmlString","getXMLStr","blob","Blob","encoding","link","document","createElement","window","URL","createObjectURL","href","download","BaseInfo","Name","file","fileList","reader","FileReader","dsf","layer","confirm","message","then","onload","evt","jsonFile","JSON","parse","target","result","WorkFlow","$store","commit","deleteEvent","deleteLine","deleteNode","ID","$route","query","sName","loadElement","readAsText","raw","catch","getSaveData","_","cloneDeep","types","201","101","299","302","102","Vendor","APP","sAPPName","Desc","ModuleID","sModuleID","NodeList","forEach","Type","Object","assign","InLine","Require","IsSpecialSend","Multiplayer","IsEnabled","SendMode","Poior","ExAction","SendBackAction","BanSendBack","RangeRule","Rule","RuleList","RangeType","Range","IsDeep","IsShowDeptUser","NodeRowIndex","desc","Script","Sql","exp","SuperType","Level","level","IsUser","OutLine","SendConditions","PreAction","LineList","Alias","SendParameter","IsAutoSend","ShowOrder","IsInheritDept","IsBackTrack","IsRemind","RemindContent","Corridor","CorridorList","LaneList","StageList","dataToXML","isArray","isList","indexOf","realKey","replace","isObject","keys","paramID","sID","zipFileName","getWebPath","$","appendTo","submit","remove","alignLeft","node","point","x","$bus","$emit","alignRight","right","alignTop","y","alignBottom","bottom","alignMiddle","middle","alignCenter","center","alignHorizontal","sortX","a","b","spaces","reduce","before","after","space","push","between","alignVertical","sortY","dir","state","flow","Lane","opt","options","size","direction","LaneDirection","isRender","setAttributes","attributes","getProperties","properties","getAttributes","directives","rawName","status","itemIndex","attr","hide","isBase","cursor","showHelp","visible","showHeplerMark","$set","overflow","display","domProps","innerHTML","nodeType","nodeName2","subIsDisabled","min","minValue","input","changeVesion","value0","value1","value2","unit","max","changeProperty","show","editor","placeholder","nodeName1","change","option","label","text","$index","icon","doOpenDialog","components","DsfDesignerDialog","props","Array","curSelectObj","curNodeAttr","curElement","AppInfo","computed","Number","oldValue","split","watch","val","loadPropertyWindow","disabledSub","mounted","$on","bool","methods","parentNodeId","loadPropertyDom","isNaN","showRob","rows","rowData","nodeLevel","nodeName","Node","Line","taskMsg","nodeName3","strokeDasharray","refresh","field","setTimeout","Mode","SubWFID","Merge","IsEnbled","code","language","config","params","isEvent","mode","subNodes","openDialog","btns","__file","Lines","Events","subprocess","Boolean","created","lane","selectLane","placement","trigger","isEdit","autofocus","hideEdit","composing","dblclick","edit","mousedown","dragLane","current","minSize","addEventListener","e","stopPropagation","dropLane","pageX","page","svgRoot","scrollLeft","pageY","scrollTop","moveLane","resize","minLeft","mouse","FlowInfo","FlowContent","Lanes","dragNode","dragEvent","dragAttach","endTarget","maxWidth","maxHeight","distance","cloneObj","crashNode","dragSize","maxSizeOffset","showLineV","showLineH","isGlobalPosMove","globalPos","globalMoveLastMouse","globalRect","isGlobalSelect","selectGlobalPos","selectGlobalPonits","start","end","globalSelect","isCtrlKey","ctrlCopyNodes","isCopyNodes","copyNodesPos","copyNodes","hasMoved","printImageUrl","reset","init","verifySub","ds_page","clientWidth","clientHeight","initData","$http","ElementList","element","EventList","postData","sImgData","nodeLines","map","line","paper","parentNode","infoCopy","n","deleteLines","splice","child","StageID","CLaneID","laneHeight","parseInt","LLaneID","laneWidth","arrowEnd","saveFlow","sData","stringify","initEvent","parentAutoScroll","autoScroll","dragCloneEvent","dragCloneAttached","startGlobalMove","startCopyNodes","initSubNode","keydown","onresize","$refs","root","editName","mp","offset","scrollwheel","open","nodeResize","copyNewNode","ev","cloneNode","setAttribute","copy","copyNode","className","position","zIndex","pointerEvents","body","appendChild","createCopyNodes","getPoint","offsetY","getDisplacement","move_p","last_p","nodesMove","displacement","ctrlKey","dragToolOver","getTargetIsNodes","contains","getBeforeCopyLine","lineIds","from","fromType","to","newLine","tools","fromNodeIds","toNodeIds","newLines","resetLineFromAndTo","nodeId","newNode","in","out","copyEventsLines","linkInfo","nodesMoveEnd","isMove","nodeMoveEnd","mouseConvert","p","padding","fromCopyId","copyNodeNext","removeChild","copyNodeEvent","dragToolEnd","createDragNode","offsetX","BoundaryEvent","commonDragOver","dataTransfer","dropEffect","parentAndSub","parent","subNode","points","getters","obj","comp","commonDragEnd","preventDefault","touches","dragEventOver","dragEventEnd","addNewEvent","newEvent","dragAttachedOver","dragAttachedEnd","copyEvent","dragLineProperty","copyEvents","fromId","all","realDistance","getDistance","dis","computedPoint","getOptions","addNode","order","addSubNode","children","showSubNode","readOnly","keyCode","deleteEventAndLines","l","find","isDel","getIn","getOut","fromNode","toNode","endPoint","path","fromDirection","startPoint","targetDirection","toDirection","targetNode","isHide","fromOffset","toOffset","EndNodeID","StartNodeID","newLineParam","deleteFromOrOut","f_index","t_index","createLane","getFromNodes","arr","lineId","fn","getToNodes","getFlowAllObjectMap","dm","info","lastV","horizontalWidth","minWidth","lastH","verticalHeight","minHeight","maxHeigth","arg","parentElement","abs","h","setCursor","tagName","segmen","setRootCursor","getRect","globalMove","current_p","x_move","y_move","getWheelDirect","wheelDelta","detail","toFixed","selectGlobalMove","selectGlobalEnd","documentCopy","pasteNode","html2canvas","useCORS","imgUrl","canvas","toDataURL","toPrintImage","isSave","hideNodes","ids"],"mappings":"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","file":"modules/platform/js/dsf-platform.Flow.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-1!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-2!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-1-4!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./flowInfo.vue?vue&type=style&index=0&id=420525b2&lang=scss&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"3dfbe9ee\", content, false, {\"sourceMap\":false,\"shadowMode\":false});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-1!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-2!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-1-4!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./flowInfo.vue?vue&type=style&index=0&id=420525b2&lang=scss&scoped=true&\", function() {\n     var newContent = require(\"!!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-1!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-2!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-1-4!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./flowInfo.vue?vue&type=style&index=0&id=420525b2&lang=scss&scoped=true&\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-1!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-2!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-1-4!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Lanes.vue?vue&type=style&index=0&id=11303e4c&lang=scss&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"17d789f2\", content, false, {\"sourceMap\":false,\"shadowMode\":false});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-1!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-2!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-1-4!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Lanes.vue?vue&type=style&index=0&id=11303e4c&lang=scss&scoped=true&\", function() {\n     var newContent = require(\"!!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-1!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-2!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-1-4!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Lanes.vue?vue&type=style&index=0&id=11303e4c&lang=scss&scoped=true&\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-1!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-2!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-1-4!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./flow.vue?vue&type=style&index=0&lang=scss&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"6b5cf479\", content, false, {\"sourceMap\":false,\"shadowMode\":false});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-1!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-2!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-1-4!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./flow.vue?vue&type=style&index=0&lang=scss&\", function() {\n     var newContent = require(\"!!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-1!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-2!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-1-4!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./flow.vue?vue&type=style&index=0&lang=scss&\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","export * from \"-!../../../../../node_modules/vue-style-loader/index.js??ref--5-oneOf-1-0!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-1!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-2!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-1-4!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./flowInfo.vue?vue&type=style&index=0&id=420525b2&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\nexport {};","export * from \"-!../../../../../node_modules/vue-style-loader/index.js??ref--5-oneOf-1-0!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-1!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-2!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-1-4!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Lanes.vue?vue&type=style&index=0&id=11303e4c&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\nexport {};","export * from \"-!../../../../../node_modules/vue-style-loader/index.js??ref--5-oneOf-1-0!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-1-1!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-2!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-1-4!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./flow.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\nexport {};","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    {\n      staticClass: \"ds_workflow ds-designer\",\n      class: _vm.flowModel,\n      attrs: { id: \"desginer\" }\n    },\n    [\n      _c(\"div\", { staticClass: \"designer-head\" }, [\n        _c(\"div\", { staticClass: \"desginer_tools\" }, [\n          _c(\n            \"a\",\n            { staticClass: \"ds-button--icon-text\", on: { click: _vm.doSave } },\n            [\n              _c(\"i\", { staticClass: \"iconfont icon-baocun\" }),\n              _c(\"span\", [_vm._v(\"\")])\n            ]\n          ),\n          _c(\n            \"a\",\n            {\n              staticClass: \"ds-button--icon-text\",\n              on: {\n                click: function($event) {\n                  return _vm.printImage()\n                }\n              }\n            },\n            [\n              _c(\"i\", { staticClass: \"iconfont icon-baocun\" }),\n              _c(\"span\", [_vm._v(\"\")])\n            ]\n          ),\n          _c(\n            \"a\",\n            {\n              staticClass: \"ds-button--icon-text\",\n              class: { selected: _vm.isDrawLine },\n              on: { click: _vm.drawLine }\n            },\n            [\n              _c(\"i\", { staticClass: \"iconfont icon-liujisuan\" }),\n              _c(\"span\", [_vm._v(\"\")])\n            ]\n          ),\n          _c(\"a\", { staticClass: \"ds-button--icon-text\" }, [\n            _c(\"i\", { staticClass: \"iconfont icon-iframetianjia\" }),\n            _vm._m(0),\n            _c(\"dl\", { staticClass: \"layui-nav-child\" }, [\n              _c(\n                \"dd\",\n                {\n                  on: {\n                    click: function($event) {\n                      return _vm.addLane(\"vertical\")\n                    }\n                  }\n                },\n                [_c(\"span\", [_vm._v(\"()\")])]\n              ),\n              _c(\n                \"dd\",\n                {\n                  on: {\n                    click: function($event) {\n                      return _vm.addLane(\"horizontal\")\n                    }\n                  }\n                },\n                [_c(\"span\", [_vm._v(\"()\")])]\n              )\n            ])\n          ]),\n          _c(\"a\", { staticClass: \"ds-button--icon-text scale\" }, [\n            _c(\"div\", { staticClass: \"scale-com\" }, [\n              _c(\"i\", {\n                staticClass: \"el-icon-minus\",\n                class: { disabled: _vm.scale <= 0.4 },\n                on: {\n                  click: function($event) {\n                    return _vm.rootScale(\"down\")\n                  }\n                }\n              }),\n              _c(\"span\", { staticClass: \"percent\" }, [\n                _vm._v(_vm._s(Math.round(_vm.scale * 100)) + \"%\")\n              ]),\n              _c(\"i\", {\n                staticClass: \"el-icon-plus\",\n                class: { disabled: _vm.scale >= 2 },\n                on: {\n                  click: function($event) {\n                    return _vm.rootScale(\"up\")\n                  }\n                }\n              })\n            ]),\n            _c(\"span\", [_vm._v(\"\")])\n          ]),\n          _c(\"a\", { staticClass: \"ds-button--icon-text\" }, [\n            _c(\"i\", { staticClass: \"iconfont icon-lianjieliu\" }),\n            _vm._m(1),\n            _c(\"dl\", { staticClass: \"layui-nav-child\" }, [\n              _vm._m(2),\n              _c(\n                \"p\",\n                {\n                  staticClass: \"label child\",\n                  on: {\n                    click: function($event) {\n                      return _vm.exportFlowJson()\n                    }\n                  }\n                },\n                [_vm._v(\"JSON\")]\n              ),\n              _vm._m(3),\n              _c(\n                \"p\",\n                { staticClass: \"label child\" },\n                [\n                  _c(\n                    \"el-upload\",\n                    {\n                      attrs: {\n                        action: \"\",\n                        accept: \".json\",\n                        \"show-file-list\": false,\n                        \"on-change\": _vm.uploadJson,\n                        \"auto-upload\": false\n                      }\n                    },\n                    [\n                      _c(\n                        \"span\",\n                        { attrs: { slot: \"trigger\" }, slot: \"trigger\" },\n                        [_vm._v(\"JSON\")]\n                      )\n                    ]\n                  )\n                ],\n                1\n              )\n            ])\n          ]),\n          _vm.selectedList && _vm.selectedList.length > 1\n            ? _c(\"a\", { staticClass: \"ds-button--icon-text\" }, [\n                _c(\"i\", { staticClass: \"iconfont icon-lianjieliu\" }),\n                _vm._m(4),\n                _c(\"dl\", { staticClass: \"layui-nav-child\" }, [\n                  _c(\n                    \"dd\",\n                    {\n                      on: {\n                        click: function($event) {\n                          return _vm.alignment(\"left\")\n                        }\n                      }\n                    },\n                    [_c(\"span\", [_vm._v(\"(L)\")])]\n                  ),\n                  _c(\n                    \"dd\",\n                    {\n                      on: {\n                        click: function($event) {\n                          return _vm.alignment(\"center\")\n                        }\n                      }\n                    },\n                    [_c(\"span\", [_vm._v(\"(C)\")])]\n                  ),\n                  _c(\n                    \"dd\",\n                    {\n                      on: {\n                        click: function($event) {\n                          return _vm.alignment(\"right\")\n                        }\n                      }\n                    },\n                    [_c(\"span\", [_vm._v(\"(R)\")])]\n                  ),\n                  _c(\n                    \"dd\",\n                    {\n                      on: {\n                        click: function($event) {\n                          return _vm.alignment(\"top\")\n                        }\n                      }\n                    },\n                    [_c(\"span\", [_vm._v(\"(T)\")])]\n                  ),\n                  _c(\n                    \"dd\",\n                    {\n                      on: {\n                        click: function($event) {\n                          return _vm.alignment(\"middle\")\n                        }\n                      }\n                    },\n                    [_c(\"span\", [_vm._v(\"(M)\")])]\n                  ),\n                  _c(\n                    \"dd\",\n                    {\n                      on: {\n                        click: function($event) {\n                          return _vm.alignment(\"bottom\")\n                        }\n                      }\n                    },\n                    [_c(\"span\", [_vm._v(\"(B)\")])]\n                  ),\n                  _c(\n                    \"dd\",\n                    {\n                      on: {\n                        click: function($event) {\n                          return _vm.alignment(\"horizontal\")\n                        }\n                      }\n                    },\n                    [_c(\"span\", [_vm._v(\"(H)\")])]\n                  ),\n                  _c(\n                    \"dd\",\n                    {\n                      on: {\n                        click: function($event) {\n                          return _vm.alignment(\"vertical\")\n                        }\n                      }\n                    },\n                    [_c(\"span\", [_vm._v(\"(V)\")])]\n                  )\n                ])\n              ])\n            : _vm._e(),\n          _c(\"a\", { staticClass: \"ds-button--icon-text\" }, [\n            _c(\"i\", { staticClass: \"iconfont icon-iframetianjia\" }),\n            _c(\"span\", [\n              _vm._v(\n                \" \" +\n                  _vm._s(\n                    _vm.flowModel === \"normal\" ? \"\" : \"\"\n                  ) +\n                  \" \"\n              ),\n              _c(\"i\", { staticClass: \"iconfont icon-xia1\" })\n            ]),\n            _c(\"dl\", { staticClass: \"layui-nav-child\" }, [\n              _c(\n                \"dd\",\n                {\n                  on: {\n                    click: function($event) {\n                      return _vm.setFlowModel(\"normal\")\n                    }\n                  }\n                },\n                [_c(\"span\", [_vm._v(\"\")])]\n              ),\n              _c(\n                \"dd\",\n                {\n                  on: {\n                    click: function($event) {\n                      return _vm.setFlowModel(\"systematic\")\n                    }\n                  }\n                },\n                [_c(\"span\", [_vm._v(\"\")])]\n              )\n            ])\n          ])\n        ])\n      ]),\n      _c(\"div\", { staticClass: \"designer-content\" }, [\n        _c(\"div\", { staticClass: \"designer-center\" }, [\n          _c(\n            \"div\",\n            {\n              ref: \"ds_page\",\n              staticClass: \"ds_page design\",\n              on: {\n                scroll: function($event) {\n                  return _vm.onScroll($event)\n                }\n              }\n            },\n            [\n              _c(\n                \"div\",\n                {\n                  ref: \"container\",\n                  staticClass: \"flow\",\n                  class: { \"is-print-image\": _vm.isPrintImage },\n                  style: {\n                    width: _vm.toPx(\n                      _vm.scale > 1\n                        ? _vm.width * _vm.scale\n                        : _vm.width / _vm.scale\n                    ),\n                    height: _vm.toPx(\n                      _vm.scale > 1\n                        ? _vm.height * _vm.scale\n                        : _vm.height / _vm.scale\n                    ),\n                    transform: \"scale(\" + _vm.scale + \") translateZ(0)\",\n                    transformOrigin: \"left top\"\n                  }\n                },\n                [\n                  _c(\n                    \"div\",\n                    {\n                      ref: \"root\",\n                      staticClass: \"root\",\n                      class: {\n                        has_v_head: _vm.lanes && _vm.lanes.vertical.length > 0,\n                        has_h_head: _vm.lanes && _vm.lanes.horizontal.length > 0\n                      },\n                      style: {\n                        width: _vm.toPx(\n                          _vm.scale > 1\n                            ? _vm.width * _vm.scale\n                            : _vm.width / _vm.scale\n                        ),\n                        height: _vm.toPx(\n                          _vm.scale > 1\n                            ? _vm.height * _vm.scale\n                            : _vm.height / _vm.scale\n                        )\n                      }\n                    },\n                    [\n                      _vm.baseLine.showV\n                        ? _c(\"span\", {\n                            staticClass: \"baseLine_v\",\n                            style: {\n                              transform:\n                                \"translate3d(\" + _vm.baseLine.left + \"px, 0, 0)\"\n                            }\n                          })\n                        : _vm._e(),\n                      _vm.baseLine.showH\n                        ? _c(\"span\", {\n                            staticClass: \"baseLine_h\",\n                            style: {\n                              transform:\n                                \"translate3d(0, \" + _vm.baseLine.top + \"px, 0)\"\n                            }\n                          })\n                        : _vm._e(),\n                      _c(\"flow-content\", {\n                        ref: \"flowContent\",\n                        attrs: {\n                          \"is-draw-line\": _vm.isDrawLine,\n                          lines: _vm.lines,\n                          nodes: _vm.nodes,\n                          events: _vm.events,\n                          checked: _vm.checked\n                        }\n                      }),\n                      _c(\n                        \"div\",\n                        { ref: \"backLayout\", staticClass: \"backgroundLayout\" },\n                        [\n                          _c(\n                            \"div\",\n                            { ref: \"v_lane\", staticClass: \"v_lane\" },\n                            [\n                              _c(\"lanes\", {\n                                attrs: {\n                                  lanes: _vm.lanes && _vm.lanes.vertical,\n                                  checked: _vm.checked\n                                },\n                                on: { addLane: _vm.addLane }\n                              })\n                            ],\n                            1\n                          ),\n                          _c(\n                            \"div\",\n                            { ref: \"h_lane\", staticClass: \"h_lane\" },\n                            [\n                              _c(\"lanes\", {\n                                attrs: {\n                                  lanes: _vm.lanes && _vm.lanes.horizontal,\n                                  checked: _vm.checked\n                                },\n                                on: { addLane: _vm.addLane }\n                              })\n                            ],\n                            1\n                          )\n                        ]\n                      )\n                    ],\n                    1\n                  )\n                ]\n              )\n            ]\n          )\n        ]),\n        _c(\n          \"div\",\n          {\n            staticClass: \"designer-left\",\n            staticStyle: { \"margin-top\": \"60px\" }\n          },\n          [\n            _c(\n              \"div\",\n              { staticClass: \"designer-left-tools\" },\n              [\n                _c(\n                  \"dsf-virtual-scroll\",\n                  [\n                    _c(\n                      \"el-collapse\",\n                      {\n                        attrs: { accordion: \"\" },\n                        model: {\n                          value: _vm.activeNames,\n                          callback: function($$v) {\n                            _vm.activeNames = $$v\n                          },\n                          expression: \"activeNames\"\n                        }\n                      },\n                      [\n                        _vm._l(_vm.flowTools, function(tool, index) {\n                          return _c(\n                            \"el-collapse-item\",\n                            {\n                              key: index,\n                              attrs: { title: tool.title, name: index }\n                            },\n                            [\n                              _c(\n                                \"div\",\n                                {\n                                  staticClass: \"layui-colla-content layui-show\"\n                                },\n                                [\n                                  _vm._l(tool.data, function(item) {\n                                    return _c(\n                                      \"div\",\n                                      {\n                                        key: item.type,\n                                        staticClass: \"ds_tool_item nodeButton\",\n                                        attrs: {\n                                          title: item.name,\n                                          sort: item.sort,\n                                          nodetype: item.type,\n                                          draggable: \"true\"\n                                        },\n                                        on: {\n                                          dragstart: function($event) {\n                                            return _vm.dragTool($event, item)\n                                          }\n                                        }\n                                      },\n                                      [\n                                        _c(\"img\", {\n                                          attrs: {\n                                            src: item.img,\n                                            draggable: \"false\"\n                                          }\n                                        }),\n                                        _vm._v(\" \" + _vm._s(item.name) + \" \")\n                                      ]\n                                    )\n                                  }),\n                                  _c(\"div\", { staticStyle: { clear: \"both\" } })\n                                ],\n                                2\n                              )\n                            ]\n                          )\n                        }),\n                        _c(\n                          \"el-collapse-item\",\n                          { attrs: { title: \"\", name: \"5\" } },\n                          [\n                            _c(\n                              \"div\",\n                              { staticClass: \"layui-colla-content layui-show\" },\n                              _vm._l(_vm.boundaryEvents, function(event) {\n                                return _c(\n                                  \"div\",\n                                  {\n                                    key: event.type,\n                                    staticClass: \"nodeButton ds_tool_event\",\n                                    attrs: {\n                                      title: event.name,\n                                      nodetype: event.type\n                                    }\n                                  },\n                                  [\n                                    _c(\n                                      \"div\",\n                                      {\n                                        staticClass: \"tool_event_drag\",\n                                        attrs: { draggable: \"true\" },\n                                        on: {\n                                          dragstart: function($event) {\n                                            return _vm.dragBoundaryEvent(\n                                              $event,\n                                              event\n                                            )\n                                          }\n                                        }\n                                      },\n                                      [\n                                        _c(\"img\", {\n                                          staticStyle: {\n                                            width: \"32px\",\n                                            height: \"32px\"\n                                          },\n                                          attrs: {\n                                            src: event.url,\n                                            draggable: \"false\"\n                                          }\n                                        })\n                                      ]\n                                    ),\n                                    _c(\"span\", { staticClass: \"event-name\" }, [\n                                      _vm._v(_vm._s(event.name))\n                                    ])\n                                  ]\n                                )\n                              }),\n                              0\n                            )\n                          ]\n                        ),\n                        _c(\n                          \"el-collapse-item\",\n                          { attrs: { title: \"\", name: \"6\" } },\n                          [\n                            _c(\n                              \"div\",\n                              { staticClass: \"layui-colla-content layui-show\" },\n                              _vm._l(_vm.attached, function(event) {\n                                return _c(\n                                  \"div\",\n                                  {\n                                    key: event.type,\n                                    staticClass: \"nodeButton ds_tool_event\",\n                                    attrs: {\n                                      title: event.name,\n                                      nodetype: event.type\n                                    }\n                                  },\n                                  [\n                                    _c(\n                                      \"div\",\n                                      {\n                                        staticClass: \"tool_event_drag\",\n                                        attrs: { draggable: \"true\" },\n                                        on: {\n                                          dragstart: function($event) {\n                                            return _vm.dragAttached(\n                                              $event,\n                                              event\n                                            )\n                                          }\n                                        }\n                                      },\n                                      [\n                                        _c(\"img\", {\n                                          staticStyle: {\n                                            width: \"32px\",\n                                            height: \"32px\"\n                                          },\n                                          attrs: {\n                                            src: event.url,\n                                            draggable: \"false\"\n                                          }\n                                        })\n                                      ]\n                                    ),\n                                    _c(\"span\", { staticClass: \"event-name\" }, [\n                                      _vm._v(_vm._s(event.name))\n                                    ])\n                                  ]\n                                )\n                              }),\n                              0\n                            )\n                          ]\n                        )\n                      ],\n                      2\n                    )\n                  ],\n                  1\n                )\n              ],\n              1\n            )\n          ]\n        ),\n        _c(\n          \"div\",\n          { staticClass: \"designer-right\" },\n          [\n            _c(\n              \"dsf-virtual-scroll\",\n              [\n                _c(\"flow-info\", {\n                  attrs: {\n                    checked: _vm.checked,\n                    nodes: _vm.nodes,\n                    lines: _vm.lines,\n                    \"flow-info\": _vm.flowInfo\n                  }\n                })\n              ],\n              1\n            )\n          ],\n          1\n        )\n      ])\n    ]\n  )\n}\nvar staticRenderFns = [\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"span\", [\n      _vm._v(\"  \"),\n      _c(\"i\", { staticClass: \"iconfont icon-xia1\" })\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"span\", [\n      _vm._v(\"  \"),\n      _c(\"i\", { staticClass: \"iconfont icon-xia1\" })\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"p\", { staticClass: \"title\" }, [_c(\"span\", [_vm._v(\"\")])])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"p\", { staticClass: \"title\" }, [_c(\"span\", [_vm._v(\"\")])])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"span\", [\n      _vm._v(\"  \"),\n      _c(\"i\", { staticClass: \"iconfont icon-xia1\" })\n    ])\n  }\n]\nrender._withStripped = true\n\nexport { render, staticRenderFns }","function exportXML() {\r\n  let xmlString = this.getXMLStr();\r\n  var blob = new Blob([xmlString], {\r\n    type: \"text/xml;charset=UTF-8\",\r\n    encoding: \"UTF-8\",\r\n  });\r\n  var link = document.createElement(\"a\");\r\n  const url = window.URL.createObjectURL(blob);\r\n  link.href = url;\r\n  link.download = this.flowInfo?.BaseInfo?.Name ?? \"\";\r\n  link.click();\r\n}\r\n\r\nfunction uploadJson(file, fileList) {\r\n  var reader = new FileReader();\r\n  dsf.layer\r\n    .confirm({\r\n      title: \"\",\r\n      message: \"\",\r\n    })\r\n    .then(() => {\r\n      reader.onload = (evt) => {\r\n        const jsonFile = JSON.parse(evt.target.result);\r\n        if(!jsonFile?.WorkFlow) {\r\n          dsf.layer.message(\"\", false);\r\n          return;\r\n        }\r\n        this.$store.commit(\"flow/clearLanes\");\r\n        for (let i = 0;i < this.events.length; i++) {\r\n          this.deleteEvent(this.events[i].id, this.events);\r\n          i--;\r\n        }\r\n        for (let i = 0;i < this.lines.length; i++) {\r\n          this.deleteLine(this.lines[i]);\r\n          i--;\r\n        }\r\n        for (let i = 0;i < this.nodes.length; i++) {\r\n          this.deleteNode(this.nodes[i]);\r\n          i--;\r\n        }\r\n        this.flowInfo = jsonFile.WorkFlow;\r\n        this.flowInfo.BaseInfo.ID = this.$route.query.id;\r\n        if (this.$route.query.sName) {\r\n          this.flowInfo.BaseInfo.Name = this.$route.query.sName;\r\n        }\r\n        this.setFlowModel(jsonFile.flowModel || jsonFile.WorkFlow?.flowModel || \"normal\");\r\n        this.loadElement();\r\n      };\r\n      reader.readAsText(file.raw);\r\n    })\r\n    .catch(() => {});\r\n}\r\n\r\nfunction getXMLStr() {\r\n  let data = this.getSaveData();\r\n  data = _.cloneDeep(data);\r\n  // \r\n  const types = {\r\n    201: 0,\r\n    101: 1,\r\n    299: 2,\r\n    302: 3,\r\n    102: 4,\r\n  };\r\n  data.WorkFlow.BaseInfo.Vendor.APP = {\r\n    ID: \"\",\r\n    Name: this.$route.query.sAPPName ?? \"\",\r\n    Desc: \"\",\r\n    ModuleID: this.$route.query.sModuleID ?? \"\",\r\n  };\r\n  data?.WorkFlow?.NodeList?.forEach((item) => {\r\n    item.BaseInfo.Type = types[item.BaseInfo.Type] ?? item.BaseInfo.Type;\r\n    Object.assign(item, item.BaseInfo);\r\n    if(item.InLine) {\r\n      Object.assign(item.InLine, {\r\n        Require: \"\",\r\n        IsSpecialSend: \"\",\r\n        Multiplayer: {\r\n          IsEnabled: \"\",\r\n          SendMode: \"\",\r\n          Poior: \"\"\r\n        },\r\n        ExAction: \"\",\r\n        SendBackAction: \"\",\r\n        BanSendBack: \"\"\r\n      });\r\n    }\r\n    if (item?.InLine?.RangeRule?.Rule) {\r\n      item.InLine.RangeRule.RuleList = item.InLine.RangeRule.Rule;\r\n      // \r\n      item.InLine.RangeRule.RuleList.forEach((item) => {\r\n        item.RangeType = item.Type;\r\n        item.Range = item.name;\r\n        //  \r\n        if (item.Type == 21) {\r\n          item.IsDeep = item.IsDeep ?? \"\";\r\n          item.IsShowDeptUser = \"\";\r\n        }\r\n        //  \r\n        if (item.Type == 22) {\r\n          item.NodeRowIndex = \"\";\r\n          item.desc = \"\";\r\n          item.IsDeep = item.IsDeep ?? \"\";\r\n          item.IsShowDeptUser = \"\";\r\n        }\r\n        //  +  \r\n        if (item.Type == 23) {\r\n          item.Script = \"1\";\r\n          item.Sql = item.exp;\r\n          item.SuperType = \"6\";\r\n        }\r\n        //  +  \r\n        if (item.Type == 31) {\r\n          item.IsShowDeptUser = \"\";\r\n        }\r\n        //  +  \r\n        if (item.Type == 32) {\r\n          item.NodeRowIndex = \"\";\r\n          item.desc = \"\";\r\n          item.IsDeep = item.IsDeep ?? \"\";\r\n          item.IsShowDeptUser = \"\";\r\n          item.Level = 1;\r\n          item.level = 1;\r\n        }\r\n        //  +  \r\n        if (item.Type == 33) {\r\n          item.IsDeep = item.IsDeep ?? \"\";\r\n          item.IsShowDeptUser = \"\";\r\n          item.Script = \"1\";\r\n          item.Sql = item.exp;\r\n          item.SuperType = \"6\";\r\n        }\r\n        //  +   \r\n        if (item.Type == 41) {\r\n          item.desc = \"\";\r\n          item.level = \"1\";\r\n        }\r\n        //  +   \r\n        if (item.Type == 42) {\r\n          item.Script = \"1\";\r\n          item.Sql = item.exp;\r\n          item.SuperType = \"6\";\r\n        }\r\n        delete item.id;\r\n        delete item.IsUser;\r\n        delete item.name;\r\n        delete item.Type;\r\n      });\r\n      delete item.InLine.RangeRule.Rule;\r\n    }\r\n    if(item.OutLine) {\r\n      Object.assign(item.OutLine, {\r\n        SendConditions: \"\",\r\n        PreAction: \"\",\r\n      });\r\n    }\r\n    delete item.BaseInfo;\r\n  });\r\n  data?.WorkFlow?.LineList?.forEach((item) => {\r\n    Object.assign(item, {\r\n      Alias: \"\",\r\n      Desc: \"\",\r\n      SendParameter: {\r\n        IsAutoSend: \"\",\r\n        ShowOrder: \"\",\r\n        IsInheritDept: \"\",\r\n        IsBackTrack: \"\",\r\n        Multiplayer: {\r\n          SendMode: \"\",\r\n        },\r\n        ExAction: \"\",\r\n        SendBackAction: \"\",\r\n        IsRemind: \"\",\r\n        RemindContent: \"\",\r\n      }\r\n    }, item.BaseInfo);\r\n    delete item.BaseInfo;\r\n  });\r\n  data.WorkFlow.Corridor = {\r\n    CorridorList: data.WorkFlow.LaneList.horizontal,\r\n    StageList: data.WorkFlow.LaneList.vertical,\r\n  };\r\n  delete data.WorkFlow.LaneList;\r\n  // console.log(data);\r\n  let WorkFlow = this.dataToXML(data);\r\n  return WorkFlow;\r\n}\r\n\r\nfunction dataToXML(data, key) {\r\n  let WorkFlow = \"\";\r\n  if (_.isArray(data)) {\r\n    // console.log(key);\r\n    const isList = key?.indexOf(\"List\") > -1;\r\n    const realKey = key.replace(\"List\", \"\");\r\n    data.forEach((item, index) => {\r\n      if (isList) {\r\n        WorkFlow += `<${realKey}>${this.dataToXML(item)}</${realKey}>`;\r\n      } else {\r\n        WorkFlow += `${this.dataToXML(item)}`;\r\n        if (index < data.length - 1) {\r\n          WorkFlow += `</${realKey}>`;\r\n        }\r\n        if (index < data.length - 1) {\r\n          WorkFlow += `<${realKey}>`;\r\n        }\r\n      }\r\n    });\r\n  } else if (_.isObject(data)) {\r\n    Object.keys(data).forEach((item) => {\r\n      if(item !== 'sImgData') {\r\n        WorkFlow += `<${item}>${this.dataToXML(data[item], item)}</${item}>`;\r\n      }\r\n    });\r\n  } else {\r\n    return data;\r\n  }\r\n  return WorkFlow;\r\n}\r\n\r\nfunction exportFlowJson() {\r\n  const paramID = this.sID;\r\n  const zipFileName = this.flowInfo.BaseInfo.Name;\r\n  let url = dsf.url.getWebPath(\"wfk/exportJsonWF\");\r\n  $(\r\n    \"<form action=\" +\r\n      url +\r\n      ' method=\"get\">' + // action\r\n      '<input type=\"text\" name=\"sID\" value=\"' +\r\n      paramID +\r\n      '\"/>' + // id\r\n      '<input type=\"text\" name=\"zipName\" value=\"' +\r\n      zipFileName +\r\n      '\"/>' + // \r\n      \"</form>\"\r\n  )\r\n    .appendTo(\"body\")\r\n    .submit()\r\n    .remove();\r\n}\r\n\r\nfunction alignLeft(selectedList, left) {\r\n  selectedList.forEach((node) => {\r\n    node.point.x = left;\r\n    this.$bus.$emit(\"nodeMove\", node);\r\n  });\r\n}\r\n\r\nfunction alignRight(selectedList, right) {\r\n  selectedList.forEach((node) => {\r\n    node.point.x = right - node.width;\r\n    this.$bus.$emit(\"nodeMove\", node);\r\n  });\r\n}\r\n\r\nfunction alignTop(selectedList, top) {\r\n  selectedList.forEach((node) => {\r\n    node.point.y = top;\r\n    this.$bus.$emit(\"nodeMove\", node);\r\n  });\r\n}\r\n\r\nfunction alignBottom(selectedList, bottom) {\r\n  selectedList.forEach((node) => {\r\n    node.point.y = bottom - node.height;\r\n    this.$bus.$emit(\"nodeMove\", node);\r\n  });\r\n}\r\n\r\nfunction alignMiddle(selectedList, middle) {\r\n  selectedList.forEach((node) => {\r\n    node.point.y = middle - node.height / 2;\r\n    this.$bus.$emit(\"nodeMove\", node);\r\n  });\r\n}\r\n\r\nfunction alignCenter(selectedList, center) {\r\n  selectedList.forEach((node) => {\r\n    node.point.x = center - node.width / 2;\r\n    this.$bus.$emit(\"nodeMove\", node);\r\n  });\r\n}\r\n\r\nfunction alignHorizontal(selectedList) {\r\n  // \r\n  const sortX = selectedList.sort((a, b) => a.point.x - b.point.x);\r\n  // \r\n  let spaces = [];\r\n  sortX.reduce((before, after) => {\r\n    const space = after.point.x - (before.point.x + before.width);\r\n    spaces.push(space);\r\n    return after;\r\n  });\r\n  // \r\n  const between = spaces.reduce((a, b) => a + b) / spaces.length;\r\n  sortX.forEach((node, index) => {\r\n    if (index !== 0 && index !== sortX.length - 1) {\r\n      node.point.x =\r\n        sortX[index - 1].point.x + sortX[index - 1].width + between;\r\n      this.$bus.$emit(\"nodeMove\", node);\r\n    }\r\n  });\r\n}\r\n\r\nfunction alignVertical(selectedList) {\r\n  // \r\n  const sortY = selectedList.sort((a, b) => a.point.y - b.point.y);\r\n  // \r\n  let spaces = [];\r\n  sortY.reduce((before, after) => {\r\n    const space = after.point.y - (before.point.y + before.height);\r\n    spaces.push(space);\r\n    return after;\r\n  });\r\n  // \r\n  const between = spaces.reduce((a, b) => a + b) / spaces.length;\r\n  sortY.forEach((node, index) => {\r\n    if (index !== 0 && index !== sortY.length - 1) {\r\n      node.point.y =\r\n        sortY[index - 1].point.y + sortY[index - 1].height + between;\r\n      this.$bus.$emit(\"nodeMove\", node);\r\n    }\r\n  });\r\n}\r\n\r\nfunction alignment(dir) {\r\n  const selectedList = this.$store.state.flow.selectedList;\r\n  let top = 0;\r\n  let right = 0;\r\n  let bottom = 0;\r\n  let left = 0;\r\n  let middle = 0;\r\n  let center = 0;\r\n  selectedList.forEach((node, index) => {\r\n    const {\r\n      width,\r\n      height,\r\n      point: { x, y },\r\n    } = node;\r\n    if (index === 0) {\r\n      top = y;\r\n      left = x;\r\n      right = x + width;\r\n      bottom = y + height;\r\n    }\r\n    if (left > x) {\r\n      left = x;\r\n    }\r\n    if (top > y) {\r\n      top = y;\r\n    }\r\n    if (right < x + width) {\r\n      right = x + width;\r\n    }\r\n    if (bottom < y + height) {\r\n      bottom = y + height;\r\n    }\r\n  });\r\n  middle = (top + bottom) / 2;\r\n  center = (left + right) / 2;\r\n  switch (dir) {\r\n  case \"left\":\r\n    this.alignLeft(selectedList, left);\r\n    break;\r\n  case \"top\":\r\n    this.alignTop(selectedList, top);\r\n    break;\r\n  case \"right\":\r\n    this.alignRight(selectedList, right);\r\n    break;\r\n  case \"bottom\":\r\n    this.alignBottom(selectedList, bottom);\r\n    break;\r\n  case \"middle\":\r\n    this.alignMiddle(selectedList, middle);\r\n    break;\r\n  case \"center\":\r\n    this.alignCenter(selectedList, center);\r\n    break;\r\n  case \"horizontal\":\r\n    this.alignHorizontal(selectedList);\r\n    break;\r\n  case \"vertical\":\r\n    this.alignVertical(selectedList);\r\n    break;\r\n  }\r\n}\r\n\r\nexport default {\r\n  exportXML,\r\n  uploadJson,\r\n  getXMLStr,\r\n  dataToXML,\r\n  exportFlowJson,\r\n  alignment,\r\n  alignLeft,\r\n  alignRight,\r\n  alignTop,\r\n  alignBottom,\r\n  alignMiddle,\r\n  alignCenter,\r\n  alignHorizontal,\r\n  alignVertical,\r\n};\r\n","import { LaneDirection } from './tools';\r\n\r\nimport { getAttributes, getProperties } from \"./common\";\r\n\r\n//\r\nconst Lane = function (opt) {\r\n  var options = Object.assign({ size: 260, direction: LaneDirection.vertical }, opt);\r\n  this.id = options.id || null;\r\n  this.name = options.name || \"\";\r\n  this.index = options.index;\r\n  this.direction = options.direction;\r\n  this.isRender = false;\r\n  this.size = options.size;\r\n\r\n  this.setAttributes = async function () {\r\n    if (!options.attributes) {\r\n      let properties = await getProperties('lane');\r\n      this.attributes = getAttributes(properties);\r\n      this.attributes.Name = this.name;\r\n      this.attributes.ID = this.id;\r\n    } else {\r\n      this.attributes = { ...options.attributes };\r\n    }\r\n  };\r\n  this.setAttributes();\r\n}\r\nexport default Lane;","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { staticClass: \"ds_attr_root\" }, [\n    _c(\n      \"div\",\n      {\n        directives: [\n          {\n            name: \"show\",\n            rawName: \"v-show\",\n            value: _vm.status === \"base\",\n            expression: \"status === 'base'\"\n          }\n        ],\n        staticClass: \"base\"\n      },\n      [\n        _c(\n          \"p\",\n          { staticClass: \"title\" },\n          [\n            _c(\"span\", [_vm._v(\"\")]),\n            _c(\n              \"el-button\",\n              {\n                staticClass: \"el-button-all\",\n                attrs: { size: \"mini\", round: \"\" },\n                on: {\n                  click: function($event) {\n                    _vm.status = \"advanced\"\n                  }\n                }\n              },\n              [\n                _c(\"span\", [_vm._v(\"\")]),\n                _c(\"i\", { staticClass: \"el-icon-arrow-right\" })\n              ]\n            )\n          ],\n          1\n        ),\n        _c(\n          \"div\",\n          { staticClass: \"el-collapse-item__content\" },\n          _vm._l(_vm.data, function(item, itemIndex) {\n            return _c(\n              \"el-form\",\n              {\n                key: itemIndex,\n                staticClass: \"colla-content\",\n                attrs: { \"label-position\": \"top\", \"label-width\": \"80px\" }\n              },\n              _vm._l(item.attributes, function(attr, index) {\n                return _c(\n                  \"div\",\n                  { key: index, staticClass: \"property-item\" },\n                  [\n                    !attr.hide && attr.isBase\n                      ? _c(\n                          \"el-form-item\",\n                          [\n                            _c(\n                              \"span\",\n                              {\n                                staticClass: \"property-item-name\",\n                                attrs: { slot: \"label\" },\n                                slot: \"label\"\n                              },\n                              [\n                                _vm._v(\" \" + _vm._s(attr.name) + \" \"),\n                                attr.desc\n                                  ? _c(\"DsfIcon\", {\n                                      staticStyle: {\n                                        \"margin-left\": \"5px\",\n                                        cursor: \"pointer\"\n                                      },\n                                      attrs: { name: \"bangzhuzhongxin\" },\n                                      on: {\n                                        click: function($event) {\n                                          return _vm.showHelp(attr)\n                                        }\n                                      }\n                                    })\n                                  : _vm._e(),\n                                _c(\n                                  \"el-dialog\",\n                                  {\n                                    attrs: {\n                                      visible: attr.showHeplerMark,\n                                      title: attr.name,\n                                      \"append-to-body\": true,\n                                      width: \"500px\"\n                                    },\n                                    on: {\n                                      \"update:visible\": function($event) {\n                                        return _vm.$set(\n                                          attr,\n                                          \"showHeplerMark\",\n                                          $event\n                                        )\n                                      }\n                                    }\n                                  },\n                                  [\n                                    _c(\n                                      \"div\",\n                                      {\n                                        staticStyle: {\n                                          \"max-height\": \"500px\",\n                                          \"min-height\": \"300px\",\n                                          overflow: \"auto\"\n                                        }\n                                      },\n                                      [\n                                        _c(\"span\", {\n                                          staticStyle: {\n                                            display: \"inline-block\",\n                                            \"line-height\": \"1.5em\"\n                                          },\n                                          domProps: {\n                                            innerHTML: _vm._s(attr.desc)\n                                          }\n                                        })\n                                      ]\n                                    )\n                                  ]\n                                )\n                              ],\n                              1\n                            ),\n                            attr.nodeType === \"flow\" &&\n                            attr.nodeName2 === \"Version\"\n                              ? _c(\n                                  \"div\",\n                                  { staticClass: \"inline\" },\n                                  [\n                                    _c(\"el-input-number\", {\n                                      attrs: {\n                                        \"controls-position\": \"right\",\n                                        disabled: _vm.subIsDisabled,\n                                        min: _vm.minValue(attr, 0)\n                                      },\n                                      on: {\n                                        input: function($event) {\n                                          return _vm.changeVesion(attr, 0)\n                                        }\n                                      },\n                                      model: {\n                                        value: attr.value0,\n                                        callback: function($$v) {\n                                          _vm.$set(attr, \"value0\", $$v)\n                                        },\n                                        expression: \"attr.value0\"\n                                      }\n                                    }),\n                                    _c(\"span\", [_vm._v(\".\")]),\n                                    _c(\"el-input-number\", {\n                                      attrs: {\n                                        \"controls-position\": \"right\",\n                                        disabled: _vm.subIsDisabled,\n                                        min: _vm.minValue(attr, 1)\n                                      },\n                                      on: {\n                                        input: function($event) {\n                                          return _vm.changeVesion(attr, 1)\n                                        }\n                                      },\n                                      model: {\n                                        value: attr.value1,\n                                        callback: function($$v) {\n                                          _vm.$set(attr, \"value1\", $$v)\n                                        },\n                                        expression: \"attr.value1\"\n                                      }\n                                    }),\n                                    _c(\"span\", [_vm._v(\".\")]),\n                                    _c(\"el-input\", {\n                                      attrs: { disabled: \"disabled\" },\n                                      model: {\n                                        value: attr.value2,\n                                        callback: function($$v) {\n                                          _vm.$set(attr, \"value2\", $$v)\n                                        },\n                                        expression: \"attr.value2\"\n                                      }\n                                    })\n                                  ],\n                                  1\n                                )\n                              : _vm._e(),\n                            attr.unit\n                              ? _c(\n                                  \"div\",\n                                  { staticClass: \"inline\" },\n                                  [\n                                    _c(\"el-input-number\", {\n                                      attrs: {\n                                        \"controls-position\": \"right\",\n                                        disabled: _vm.subIsDisabled,\n                                        min: 1,\n                                        max: attr.max\n                                      },\n                                      on: {\n                                        input: function($event) {\n                                          return _vm.changeProperty(attr)\n                                        }\n                                      },\n                                      model: {\n                                        value: attr.value,\n                                        callback: function($$v) {\n                                          _vm.$set(attr, \"value\", $$v)\n                                        },\n                                        expression: \"attr.value\"\n                                      }\n                                    }),\n                                    _c(\"span\", { staticClass: \"unit\" }, [\n                                      _vm._v(_vm._s(attr.unit))\n                                    ])\n                                  ],\n                                  1\n                                )\n                              : _vm._e(),\n                            _vm.show(attr)\n                              ? _c(\"el-input\", {\n                                  attrs: {\n                                    disabled: _vm.subIsDisabled || !attr.editor\n                                  },\n                                  on: {\n                                    input: function($event) {\n                                      return _vm.changeProperty(attr)\n                                    }\n                                  },\n                                  model: {\n                                    value: attr.value,\n                                    callback: function($$v) {\n                                      _vm.$set(attr, \"value\", $$v)\n                                    },\n                                    expression: \"attr.value\"\n                                  }\n                                })\n                              : _vm._e(),\n                            attr.editor === \"numberbox\"\n                              ? _c(\"el-input-number\", {\n                                  attrs: {\n                                    \"controls-position\": \"right\",\n                                    disabled: _vm.subIsDisabled,\n                                    min: 0\n                                  },\n                                  on: {\n                                    input: function($event) {\n                                      return _vm.changeProperty(attr)\n                                    }\n                                  },\n                                  model: {\n                                    value: attr.value,\n                                    callback: function($$v) {\n                                      _vm.$set(attr, \"value\", $$v)\n                                    },\n                                    expression: \"attr.value\"\n                                  }\n                                })\n                              : _vm._e(),\n                            attr.editor === \"textarea\"\n                              ? _c(\"el-input\", {\n                                  attrs: {\n                                    disabled: _vm.subIsDisabled,\n                                    type: \"textarea\",\n                                    placeholder: \"\"\n                                  },\n                                  on: {\n                                    input: function($event) {\n                                      return _vm.changeProperty(attr)\n                                    }\n                                  },\n                                  model: {\n                                    value: attr.value,\n                                    callback: function($$v) {\n                                      _vm.$set(attr, \"value\", $$v)\n                                    },\n                                    expression: \"attr.value\"\n                                  }\n                                })\n                              : _vm._e(),\n                            attr.editor && attr.editor.type === \"combobox\"\n                              ? _c(\n                                  \"el-select\",\n                                  {\n                                    attrs: {\n                                      name:\n                                        \"\" +\n                                        (attr.nodeName1 + \"_\" + attr.nodeName2),\n                                      disabled: _vm.subIsDisabled\n                                    },\n                                    on: {\n                                      change: function($event) {\n                                        return _vm.changeProperty(attr)\n                                      }\n                                    },\n                                    model: {\n                                      value: attr.value,\n                                      callback: function($$v) {\n                                        _vm.$set(attr, \"value\", $$v)\n                                      },\n                                      expression: \"attr.value\"\n                                    }\n                                  },\n                                  _vm._l(attr.editor.options.data, function(\n                                    option,\n                                    i\n                                  ) {\n                                    return _c(\"el-option\", {\n                                      key: i,\n                                      attrs: {\n                                        label: option.text,\n                                        value: option.value\n                                      }\n                                    })\n                                  }),\n                                  1\n                                )\n                              : _vm._e(),\n                            attr.editor && attr.editor.type === \"radio\"\n                              ? _c(\n                                  \"el-radio-group\",\n                                  {\n                                    attrs: { disabled: _vm.subIsDisabled },\n                                    on: {\n                                      change: function($event) {\n                                        return _vm.changeProperty(attr)\n                                      }\n                                    },\n                                    model: {\n                                      value: attr.value,\n                                      callback: function($$v) {\n                                        _vm.$set(attr, \"value\", $$v)\n                                      },\n                                      expression: \"attr.value\"\n                                    }\n                                  },\n                                  _vm._l(attr.editor.options.data, function(\n                                    option,\n                                    $index\n                                  ) {\n                                    return _c(\n                                      \"el-radio\",\n                                      {\n                                        key: $index,\n                                        attrs: { label: option.value }\n                                      },\n                                      [_vm._v(\" \" + _vm._s(option.text) + \" \")]\n                                    )\n                                  }),\n                                  1\n                                )\n                              : _vm._e(),\n                            attr.editor && attr.editor.type === \"checkbox\"\n                              ? _c(\n                                  \"el-checkbox-group\",\n                                  {\n                                    attrs: { disabled: _vm.subIsDisabled },\n                                    on: {\n                                      change: function($event) {\n                                        return _vm.changeProperty(attr)\n                                      }\n                                    },\n                                    model: {\n                                      value: attr.value,\n                                      callback: function($$v) {\n                                        _vm.$set(attr, \"value\", $$v)\n                                      },\n                                      expression: \"attr.value\"\n                                    }\n                                  },\n                                  _vm._l(attr.editor.options.data, function(\n                                    option,\n                                    $index\n                                  ) {\n                                    return _c(\n                                      \"el-checkbox\",\n                                      {\n                                        key: $index,\n                                        attrs: { label: option.value }\n                                      },\n                                      [_vm._v(\" \" + _vm._s(option.text) + \" \")]\n                                    )\n                                  }),\n                                  1\n                                )\n                              : _vm._e(),\n                            attr.type === \"dialog\"\n                              ? _c(\n                                  \"DsfButton\",\n                                  {\n                                    class: [attr.class],\n                                    attrs: { type: \"plain\", icon: \"shezhi\" },\n                                    on: {\n                                      click: function($event) {\n                                        return _vm.doOpenDialog(attr)\n                                      }\n                                    }\n                                  },\n                                  [\n                                    _vm._v(\n                                      \" \" +\n                                        _vm._s(\n                                          _vm.subIsDisabled ? \"\" : \"\"\n                                        ) +\n                                        \" \"\n                                    )\n                                  ]\n                                )\n                              : _vm._e()\n                          ],\n                          1\n                        )\n                      : _vm._e()\n                  ],\n                  1\n                )\n              }),\n              0\n            )\n          }),\n          1\n        )\n      ]\n    ),\n    _c(\n      \"div\",\n      {\n        directives: [\n          {\n            name: \"show\",\n            rawName: \"v-show\",\n            value: _vm.status === \"advanced\",\n            expression: \"status === 'advanced'\"\n          }\n        ],\n        staticClass: \"advanced\"\n      },\n      [\n        _c(\n          \"p\",\n          { staticClass: \"title\" },\n          [\n            _c(\"span\", [_vm._v(\"\")]),\n            _c(\n              \"el-button\",\n              {\n                staticClass: \"el-button-base\",\n                attrs: { size: \"mini\", round: \"\" },\n                on: {\n                  click: function($event) {\n                    _vm.status = \"base\"\n                  }\n                }\n              },\n              [\n                _c(\"i\", { staticClass: \"el-icon-arrow-left\" }),\n                _c(\"span\", [_vm._v(\"\")])\n              ]\n            )\n          ],\n          1\n        ),\n        _c(\n          \"el-collapse\",\n          {\n            attrs: { accordion: \"\" },\n            model: {\n              value: _vm.activeNames,\n              callback: function($$v) {\n                _vm.activeNames = $$v\n              },\n              expression: \"activeNames\"\n            }\n          },\n          _vm._l(_vm.data, function(item) {\n            return _c(\n              \"el-collapse-item\",\n              { key: item.name, attrs: { title: item.name, name: item.name } },\n              [\n                _c(\n                  \"el-form\",\n                  {\n                    staticClass: \"colla-content\",\n                    attrs: { \"label-position\": \"top\", \"label-width\": \"80px\" }\n                  },\n                  _vm._l(item.attributes, function(attr, index) {\n                    return _c(\n                      \"div\",\n                      { key: index, staticClass: \"property-item\" },\n                      [\n                        !attr.hide\n                          ? _c(\n                              \"el-form-item\",\n                              [\n                                _c(\n                                  \"span\",\n                                  {\n                                    staticClass: \"property-item-name\",\n                                    attrs: { slot: \"label\" },\n                                    slot: \"label\"\n                                  },\n                                  [\n                                    _vm._v(\" \" + _vm._s(attr.name) + \" \"),\n                                    attr.desc\n                                      ? _c(\"DsfIcon\", {\n                                          staticStyle: {\n                                            \"margin-left\": \"5px\",\n                                            cursor: \"pointer\"\n                                          },\n                                          attrs: { name: \"bangzhuzhongxin\" },\n                                          on: {\n                                            click: function($event) {\n                                              return _vm.showHelp(attr)\n                                            }\n                                          }\n                                        })\n                                      : _vm._e(),\n                                    _c(\n                                      \"el-dialog\",\n                                      {\n                                        attrs: {\n                                          visible: attr.showHeplerMark,\n                                          title: attr.name,\n                                          \"append-to-body\": true,\n                                          width: \"500px\"\n                                        },\n                                        on: {\n                                          \"update:visible\": function($event) {\n                                            return _vm.$set(\n                                              attr,\n                                              \"showHeplerMark\",\n                                              $event\n                                            )\n                                          }\n                                        }\n                                      },\n                                      [\n                                        _c(\n                                          \"div\",\n                                          {\n                                            staticStyle: {\n                                              \"max-height\": \"500px\",\n                                              \"min-height\": \"300px\",\n                                              overflow: \"auto\"\n                                            }\n                                          },\n                                          [\n                                            _c(\"span\", {\n                                              staticStyle: {\n                                                display: \"inline-block\",\n                                                \"line-height\": \"1.5em\"\n                                              },\n                                              domProps: {\n                                                innerHTML: _vm._s(attr.desc)\n                                              }\n                                            })\n                                          ]\n                                        )\n                                      ]\n                                    )\n                                  ],\n                                  1\n                                ),\n                                attr.nodeType === \"flow\" &&\n                                attr.nodeName2 === \"Version\"\n                                  ? _c(\n                                      \"div\",\n                                      { staticClass: \"inline\" },\n                                      [\n                                        _c(\"el-input-number\", {\n                                          attrs: {\n                                            \"controls-position\": \"right\",\n                                            disabled: _vm.subIsDisabled,\n                                            min: _vm.minValue(attr, 0)\n                                          },\n                                          on: {\n                                            input: function($event) {\n                                              return _vm.changeVesion(attr, 0)\n                                            }\n                                          },\n                                          model: {\n                                            value: attr.value0,\n                                            callback: function($$v) {\n                                              _vm.$set(attr, \"value0\", $$v)\n                                            },\n                                            expression: \"attr.value0\"\n                                          }\n                                        }),\n                                        _c(\"span\", [_vm._v(\".\")]),\n                                        _c(\"el-input-number\", {\n                                          attrs: {\n                                            \"controls-position\": \"right\",\n                                            disabled: _vm.subIsDisabled,\n                                            min: _vm.minValue(attr, 1)\n                                          },\n                                          on: {\n                                            input: function($event) {\n                                              return _vm.changeVesion(attr, 1)\n                                            }\n                                          },\n                                          model: {\n                                            value: attr.value1,\n                                            callback: function($$v) {\n                                              _vm.$set(attr, \"value1\", $$v)\n                                            },\n                                            expression: \"attr.value1\"\n                                          }\n                                        }),\n                                        _c(\"span\", [_vm._v(\".\")]),\n                                        _c(\"el-input\", {\n                                          attrs: { disabled: \"disabled\" },\n                                          model: {\n                                            value: attr.value2,\n                                            callback: function($$v) {\n                                              _vm.$set(attr, \"value2\", $$v)\n                                            },\n                                            expression: \"attr.value2\"\n                                          }\n                                        })\n                                      ],\n                                      1\n                                    )\n                                  : _vm._e(),\n                                attr.unit\n                                  ? _c(\n                                      \"div\",\n                                      { staticClass: \"inline\" },\n                                      [\n                                        _c(\"el-input-number\", {\n                                          attrs: {\n                                            \"controls-position\": \"right\",\n                                            disabled: _vm.subIsDisabled,\n                                            min: 0,\n                                            max: attr.max\n                                          },\n                                          on: {\n                                            input: function($event) {\n                                              return _vm.changeProperty(attr)\n                                            }\n                                          },\n                                          model: {\n                                            value: attr.value,\n                                            callback: function($$v) {\n                                              _vm.$set(attr, \"value\", $$v)\n                                            },\n                                            expression: \"attr.value\"\n                                          }\n                                        }),\n                                        _c(\"span\", { staticClass: \"unit\" }, [\n                                          _vm._v(_vm._s(attr.unit))\n                                        ])\n                                      ],\n                                      1\n                                    )\n                                  : _vm._e(),\n                                _vm.show(attr)\n                                  ? _c(\"el-input\", {\n                                      attrs: {\n                                        disabled:\n                                          _vm.subIsDisabled || !attr.editor\n                                      },\n                                      on: {\n                                        input: function($event) {\n                                          return _vm.changeProperty(attr)\n                                        }\n                                      },\n                                      model: {\n                                        value: attr.value,\n                                        callback: function($$v) {\n                                          _vm.$set(attr, \"value\", $$v)\n                                        },\n                                        expression: \"attr.value\"\n                                      }\n                                    })\n                                  : _vm._e(),\n                                attr.editor === \"numberbox\"\n                                  ? _c(\"el-input-number\", {\n                                      attrs: {\n                                        \"controls-position\": \"right\",\n                                        disabled: _vm.subIsDisabled,\n                                        min: 0\n                                      },\n                                      on: {\n                                        input: function($event) {\n                                          return _vm.changeProperty(attr)\n                                        }\n                                      },\n                                      model: {\n                                        value: attr.value,\n                                        callback: function($$v) {\n                                          _vm.$set(attr, \"value\", $$v)\n                                        },\n                                        expression: \"attr.value\"\n                                      }\n                                    })\n                                  : _vm._e(),\n                                attr.editor === \"textarea\"\n                                  ? _c(\"el-input\", {\n                                      attrs: {\n                                        disabled: _vm.subIsDisabled,\n                                        type: \"textarea\",\n                                        placeholder: \"\"\n                                      },\n                                      on: {\n                                        input: function($event) {\n                                          return _vm.changeProperty(attr)\n                                        }\n                                      },\n                                      model: {\n                                        value: attr.value,\n                                        callback: function($$v) {\n                                          _vm.$set(attr, \"value\", $$v)\n                                        },\n                                        expression: \"attr.value\"\n                                      }\n                                    })\n                                  : _vm._e(),\n                                attr.editor && attr.editor.type === \"combobox\"\n                                  ? _c(\n                                      \"el-select\",\n                                      {\n                                        attrs: {\n                                          name:\n                                            \"\" +\n                                            (attr.nodeName1 +\n                                              \"_\" +\n                                              attr.nodeName2),\n                                          disabled: _vm.subIsDisabled\n                                        },\n                                        on: {\n                                          change: function($event) {\n                                            return _vm.changeProperty(attr)\n                                          }\n                                        },\n                                        model: {\n                                          value: attr.value,\n                                          callback: function($$v) {\n                                            _vm.$set(attr, \"value\", $$v)\n                                          },\n                                          expression: \"attr.value\"\n                                        }\n                                      },\n                                      _vm._l(attr.editor.options.data, function(\n                                        option,\n                                        i\n                                      ) {\n                                        return _c(\"el-option\", {\n                                          key: i,\n                                          attrs: {\n                                            label: option.text,\n                                            value: option.value\n                                          }\n                                        })\n                                      }),\n                                      1\n                                    )\n                                  : _vm._e(),\n                                attr.editor && attr.editor.type === \"radio\"\n                                  ? _c(\n                                      \"el-radio-group\",\n                                      {\n                                        attrs: { disabled: _vm.subIsDisabled },\n                                        on: {\n                                          change: function($event) {\n                                            return _vm.changeProperty(attr)\n                                          }\n                                        },\n                                        model: {\n                                          value: attr.value,\n                                          callback: function($$v) {\n                                            _vm.$set(attr, \"value\", $$v)\n                                          },\n                                          expression: \"attr.value\"\n                                        }\n                                      },\n                                      _vm._l(attr.editor.options.data, function(\n                                        option,\n                                        $index\n                                      ) {\n                                        return _c(\n                                          \"el-radio\",\n                                          {\n                                            key: $index,\n                                            attrs: { label: option.value }\n                                          },\n                                          [\n                                            _vm._v(\n                                              \" \" + _vm._s(option.text) + \" \"\n                                            )\n                                          ]\n                                        )\n                                      }),\n                                      1\n                                    )\n                                  : _vm._e(),\n                                attr.editor && attr.editor.type === \"checkbox\"\n                                  ? _c(\n                                      \"el-checkbox-group\",\n                                      {\n                                        attrs: { disabled: _vm.subIsDisabled },\n                                        on: {\n                                          change: function($event) {\n                                            return _vm.changeProperty(attr)\n                                          }\n                                        },\n                                        model: {\n                                          value: attr.value,\n                                          callback: function($$v) {\n                                            _vm.$set(attr, \"value\", $$v)\n                                          },\n                                          expression: \"attr.value\"\n                                        }\n                                      },\n                                      _vm._l(attr.editor.options.data, function(\n                                        option,\n                                        $index\n                                      ) {\n                                        return _c(\n                                          \"el-checkbox\",\n                                          {\n                                            key: $index,\n                                            attrs: { label: option.value }\n                                          },\n                                          [\n                                            _vm._v(\n                                              \" \" + _vm._s(option.text) + \" \"\n                                            )\n                                          ]\n                                        )\n                                      }),\n                                      1\n                                    )\n                                  : _vm._e(),\n                                attr.type === \"dialog\"\n                                  ? _c(\n                                      \"DsfButton\",\n                                      {\n                                        class: attr.class,\n                                        attrs: {\n                                          type: \"plain\",\n                                          icon: \"shezhi\"\n                                        },\n                                        on: {\n                                          click: function($event) {\n                                            return _vm.doOpenDialog(attr)\n                                          }\n                                        }\n                                      },\n                                      [\n                                        _vm._v(\n                                          \" \" +\n                                            _vm._s(\n                                              _vm.subIsDisabled\n                                                ? \"\"\n                                                : \"\"\n                                            ) +\n                                            \" \"\n                                        )\n                                      ]\n                                    )\n                                  : _vm._e()\n                              ],\n                              1\n                            )\n                          : _vm._e()\n                      ],\n                      1\n                    )\n                  }),\n                  0\n                )\n              ],\n              1\n            )\n          }),\n          1\n        )\n      ],\n      1\n    )\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"ds_attr_root\">\r\n    <div v-show=\"status === 'base'\" class=\"base\">\r\n      <p class=\"title\">\r\n        <span></span>\r\n        <el-button class=\"el-button-all\" size=\"mini\" round @click=\"status = 'advanced'\">\r\n          <span></span>\r\n          <i class=\"el-icon-arrow-right\"></i>\r\n        </el-button>\r\n      </p>\r\n      <div class=\"el-collapse-item__content\">\r\n        <el-form v-for=\"(item, itemIndex) in data\" :key=\"itemIndex\" class=\"colla-content\" label-position=\"top\" label-width=\"80px\">\r\n          <div v-for=\"(attr, index) in item.attributes\" :key=\"index\" class=\"property-item\">\r\n            <el-form-item v-if=\"!attr.hide && attr.isBase\">\r\n              <span slot=\"label\" class=\"property-item-name\">\r\n                {{ attr.name }}\r\n                <DsfIcon v-if=\"attr.desc\" style=\"margin-left: 5px; cursor: pointer\" name=\"bangzhuzhongxin\" @click=\"showHelp(attr)\"></DsfIcon>\r\n                <el-dialog :visible.sync=\"attr.showHeplerMark\" :title=\"attr.name\" :append-to-body=\"true\" :width=\"'500px'\">\r\n                  <div style=\"max-height: 500px; min-height: 300px; overflow: auto\">\r\n                    <span style=\"display: inline-block; line-height: 1.5em\" v-html=\"attr.desc\"></span>\r\n                  </div>\r\n                </el-dialog>\r\n              </span>\r\n              <div v-if=\"attr.nodeType === 'flow' && attr.nodeName2 === 'Version'\" class=\"inline\">\r\n                <el-input-number\r\n                  v-model=\"attr.value0\"\r\n                  controls-position=\"right\"\r\n                  :disabled=\"subIsDisabled\"\r\n                  :min=\"minValue(attr, 0)\"\r\n                  @input=\"changeVesion(attr, 0)\"\r\n                ></el-input-number>\r\n                <span>.</span>\r\n                <el-input-number\r\n                  v-model=\"attr.value1\"\r\n                  controls-position=\"right\"\r\n                  :disabled=\"subIsDisabled\"\r\n                  :min=\"minValue(attr, 1)\"\r\n                  @input=\"changeVesion(attr, 1)\"\r\n                ></el-input-number>\r\n                <span>.</span>\r\n                <el-input v-model=\"attr.value2\" disabled=\"disabled\"></el-input>\r\n              </div>\r\n              <div v-if=\"attr.unit\" class=\"inline\">\r\n                <el-input-number\r\n                  v-model=\"attr.value\"\r\n                  controls-position=\"right\"\r\n                  :disabled=\"subIsDisabled\"\r\n                  :min=\"1\"\r\n                  :max=\"attr.max\"\r\n                  @input=\"changeProperty(attr)\"\r\n                ></el-input-number>\r\n                <span class=\"unit\">{{ attr.unit }}</span>\r\n              </div>\r\n              <el-input v-if=\"show(attr)\" v-model=\"attr.value\" :disabled=\"subIsDisabled || !attr.editor\" @input=\"changeProperty(attr)\"></el-input>\r\n              <el-input-number\r\n                v-if=\"attr.editor === 'numberbox'\"\r\n                v-model=\"attr.value\"\r\n                controls-position=\"right\"\r\n                :disabled=\"subIsDisabled\"\r\n                :min=\"0\"\r\n                @input=\"changeProperty(attr)\"\r\n              ></el-input-number>\r\n              <el-input\r\n                v-if=\"attr.editor === 'textarea'\"\r\n                v-model=\"attr.value\"\r\n                :disabled=\"subIsDisabled\"\r\n                type=\"textarea\"\r\n                placeholder=\"\"\r\n                @input=\"changeProperty(attr)\"\r\n              ></el-input>\r\n              <el-select\r\n                v-if=\"attr.editor && attr.editor.type === 'combobox'\"\r\n                v-model=\"attr.value\"\r\n                :name=\"`${attr.nodeName1 + '_' + attr.nodeName2}`\"\r\n                :disabled=\"subIsDisabled\"\r\n                @change=\"changeProperty(attr)\"\r\n              >\r\n                <el-option v-for=\"(option, i) in attr.editor.options.data\" :key=\"i\" :label=\"option.text\" :value=\"option.value\"></el-option>\r\n              </el-select>\r\n              <!---->\r\n              <el-radio-group\r\n                v-if=\"attr.editor && attr.editor.type === 'radio'\"\r\n                v-model=\"attr.value\"\r\n                :disabled=\"subIsDisabled\"\r\n                @change=\"changeProperty(attr)\"\r\n              >\r\n                <el-radio v-for=\"(option, $index) in attr.editor.options.data\" :key=\"$index\" :label=\"option.value\">\r\n                  {{ option.text }}\r\n                </el-radio>\r\n              </el-radio-group>\r\n              <!---->\r\n              <el-checkbox-group\r\n                v-if=\"attr.editor && attr.editor.type === 'checkbox'\"\r\n                v-model=\"attr.value\"\r\n                :disabled=\"subIsDisabled\"\r\n                @change=\"changeProperty(attr)\"\r\n              >\r\n                <el-checkbox v-for=\"(option, $index) in attr.editor.options.data\" :key=\"$index\" :label=\"option.value\">\r\n                  {{ option.text }}\r\n                </el-checkbox>\r\n              </el-checkbox-group>\r\n              <!---->\r\n              <DsfButton v-if=\"attr.type === 'dialog'\" type=\"plain\" icon=\"shezhi\" :class=\"[attr.class]\" @click=\"doOpenDialog(attr)\">\r\n                {{ subIsDisabled ? \"\" : \"\" }}\r\n              </DsfButton>\r\n            </el-form-item>\r\n          </div>\r\n        </el-form>\r\n      </div>\r\n    </div>\r\n    <div v-show=\"status === 'advanced'\" class=\"advanced\">\r\n      <p class=\"title\">\r\n        <span></span>\r\n        <el-button class=\"el-button-base\" size=\"mini\" round @click=\"status = 'base'\">\r\n          <i class=\"el-icon-arrow-left\"></i>\r\n          <span></span>\r\n        </el-button>\r\n      </p>\r\n      <el-collapse v-model=\"activeNames\" accordion>\r\n        <el-collapse-item v-for=\"item in data\" :key=\"item.name\" :title=\"item.name\" :name=\"item.name\">\r\n          <el-form label-position=\"top\" label-width=\"80px\" class=\"colla-content\">\r\n            <div v-for=\"(attr, index) in item.attributes\" :key=\"index\" class=\"property-item\">\r\n              <el-form-item v-if=\"!attr.hide\">\r\n                <span slot=\"label\" class=\"property-item-name\">\r\n                  {{ attr.name }}\r\n                  <!-- <el-popover placement=\"bottom\" width=\"210\" trigger=\"click\" :content=\"attr.desc\">\r\n                    <i slot=\"reference\" class=\"el-icon-question\"></i>\r\n                  </el-popover>-->\r\n                  <DsfIcon v-if=\"attr.desc\" style=\"margin-left: 5px; cursor: pointer\" name=\"bangzhuzhongxin\" @click=\"showHelp(attr)\"></DsfIcon>\r\n                  <el-dialog :visible.sync=\"attr.showHeplerMark\" :title=\"attr.name\" :append-to-body=\"true\" :width=\"'500px'\">\r\n                    <div style=\"max-height: 500px; min-height: 300px; overflow: auto\">\r\n                      <span style=\"display: inline-block; line-height: 1.5em\" v-html=\"attr.desc\"></span>\r\n                    </div>\r\n                  </el-dialog>\r\n                </span>\r\n                <div v-if=\"attr.nodeType === 'flow' && attr.nodeName2 === 'Version'\" class=\"inline\">\r\n                  <el-input-number\r\n                    v-model=\"attr.value0\"\r\n                    controls-position=\"right\"\r\n                    :disabled=\"subIsDisabled\"\r\n                    :min=\"minValue(attr, 0)\"\r\n                    @input=\"changeVesion(attr, 0)\"\r\n                  ></el-input-number>\r\n                  <span>.</span>\r\n                  <el-input-number\r\n                    v-model=\"attr.value1\"\r\n                    controls-position=\"right\"\r\n                    :disabled=\"subIsDisabled\"\r\n                    :min=\"minValue(attr, 1)\"\r\n                    @input=\"changeVesion(attr, 1)\"\r\n                  ></el-input-number>\r\n                  <span>.</span>\r\n                  <el-input v-model=\"attr.value2\" disabled=\"disabled\"></el-input>\r\n                </div>\r\n                <div v-if=\"attr.unit\" class=\"inline\">\r\n                  <el-input-number\r\n                    v-model=\"attr.value\"\r\n                    controls-position=\"right\"\r\n                    :disabled=\"subIsDisabled\"\r\n                    :min=\"0\"\r\n                    :max=\"attr.max\"\r\n                    @input=\"changeProperty(attr)\"\r\n                  ></el-input-number>\r\n                  <span class=\"unit\">{{ attr.unit }}</span>\r\n                </div>\r\n                <el-input v-if=\"show(attr)\" v-model=\"attr.value\" :disabled=\"subIsDisabled || !attr.editor\" @input=\"changeProperty(attr)\"></el-input>\r\n                <el-input-number\r\n                  v-if=\"attr.editor === 'numberbox'\"\r\n                  v-model=\"attr.value\"\r\n                  controls-position=\"right\"\r\n                  :disabled=\"subIsDisabled\"\r\n                  :min=\"0\"\r\n                  @input=\"changeProperty(attr)\"\r\n                ></el-input-number>\r\n                <el-input\r\n                  v-if=\"attr.editor === 'textarea'\"\r\n                  v-model=\"attr.value\"\r\n                  :disabled=\"subIsDisabled\"\r\n                  type=\"textarea\"\r\n                  placeholder=\"\"\r\n                  @input=\"changeProperty(attr)\"\r\n                ></el-input>\r\n                <el-select\r\n                  v-if=\"attr.editor && attr.editor.type === 'combobox'\"\r\n                  v-model=\"attr.value\"\r\n                  :name=\"`${attr.nodeName1 + '_' + attr.nodeName2}`\"\r\n                  :disabled=\"subIsDisabled\"\r\n                  @change=\"changeProperty(attr)\"\r\n                >\r\n                  <el-option v-for=\"(option, i) in attr.editor.options.data\" :key=\"i\" :label=\"option.text\" :value=\"option.value\"></el-option>\r\n                </el-select>\r\n                <!---->\r\n                <el-radio-group\r\n                  v-if=\"attr.editor && attr.editor.type === 'radio'\"\r\n                  v-model=\"attr.value\"\r\n                  :disabled=\"subIsDisabled\"\r\n                  @change=\"changeProperty(attr)\"\r\n                >\r\n                  <el-radio v-for=\"(option, $index) in attr.editor.options.data\" :key=\"$index\" :label=\"option.value\">\r\n                    {{ option.text }}\r\n                  </el-radio>\r\n                </el-radio-group>\r\n                <!---->\r\n                <el-checkbox-group\r\n                  v-if=\"attr.editor && attr.editor.type === 'checkbox'\"\r\n                  v-model=\"attr.value\"\r\n                  :disabled=\"subIsDisabled\"\r\n                  @change=\"changeProperty(attr)\"\r\n                >\r\n                  <el-checkbox v-for=\"(option, $index) in attr.editor.options.data\" :key=\"$index\" :label=\"option.value\">\r\n                    {{ option.text }}\r\n                  </el-checkbox>\r\n                </el-checkbox-group>\r\n                <!---->\r\n                <DsfButton v-if=\"attr.type === 'dialog'\" type=\"plain\" icon=\"shezhi\" :class=\"attr.class\" @click=\"doOpenDialog(attr)\">\r\n                  {{ subIsDisabled ? \"\" : \"\" }}\r\n                </DsfButton>\r\n              </el-form-item>\r\n            </div>\r\n          </el-form>\r\n        </el-collapse-item>\r\n      </el-collapse>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { GetInlineTypeData, GetIsSelected } from \"./propertySource\";\r\nimport Line from \"./Line\";\r\nimport Lane from \"./Lane\";\r\nimport Node from \"./Node\";\r\nimport BoundaryEvent from \"./BoundaryEvent\";\r\nimport { getObjById, verifySub, getProperties } from \"./common\";\r\nimport { systematicNodeSize } from './tools';\r\nimport DsfDesignerDialog from \"_platform/designer/propertyEditor/dsfDesignerDialog\";\r\n\r\nexport default {\r\n  name: \"FlowInfo\",\r\n  components: {\r\n    DsfDesignerDialog,\r\n  },\r\n  props: {\r\n    checked: {\r\n      type: Object,\r\n      default() {\r\n        return {};\r\n      },\r\n    },\r\n    flowInfo: {\r\n      type: Object,\r\n      default() {\r\n        return {};\r\n      },\r\n    },\r\n    nodes: {\r\n      type: Array,\r\n      default() {\r\n        return [];\r\n      },\r\n    },\r\n    lines: {\r\n      type: Array,\r\n      default() {\r\n        return [];\r\n      },\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      activeNames: [\"1\"],\r\n      curSelectObj: null,\r\n      curNodeAttr: null,\r\n      curElement: null,\r\n      AppInfo: null,\r\n      data: [],\r\n      status: \"base\",\r\n      showHeplerMark: false,\r\n      subIsDisabled: false,\r\n    };\r\n  },\r\n  computed: {\r\n    minValue() {\r\n      return (attr, index) => {\r\n        if (index === 0) {\r\n          return Number(attr.oldValue.split(\".\")[0]);\r\n        }\r\n        if (attr.value0 > Number(attr.oldValue.split(\".\")[0]) && index === 1) {\r\n          return 0;\r\n        }\r\n        return Number(attr.oldValue.split(\".\")[1]);\r\n      };\r\n    },\r\n  },\r\n  watch: {\r\n    checked(ui) {\r\n      // this.loadPropertyWindow(ui);\r\n      // this.subIsDisabled = this.disabledSub();\r\n    },\r\n    \"checked.attributes\"(val) {\r\n      this.curNodeAttr = val;\r\n      if (val) {\r\n        this.loadPropertyWindow(this.checked);\r\n        this.subIsDisabled = this.disabledSub();\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$bus.$on(\"updateNodeName\", (ui, bool) => {\r\n      if (!bool) {\r\n        this.loadPropertyWindow(ui);\r\n      }\r\n    });\r\n  },\r\n  methods: {\r\n    disabledSub() {\r\n      if (this.curSelectObj && this.curSelectObj.parentNodeId) {\r\n        const parentNode = getObjById(this.nodes, this.curSelectObj.parentNodeId);\r\n        return verifySub(parentNode);\r\n      }\r\n      return false;\r\n    },\r\n    show(attr) {\r\n      return (!attr.nodeType && attr.nodeName2 !== \"Version\" && !attr.editor && attr.type !== \"dialog\") || (!attr.unit && attr.editor === \"text\");\r\n    },\r\n    async loadPropertyWindow(obj) {\r\n      if (Object.keys(obj).length === 0) {\r\n        return;\r\n      }\r\n      const properties = obj ? await this.setPropertyData(obj) : [];\r\n      this.curSelectObj = obj || null;\r\n      // this.curNodeAttr = !obj ? null : obj.attributes;\r\n      this.loadPropertyDom(properties);\r\n    },\r\n    showHelp(attr) {\r\n      this.$set(attr, \"showHeplerMark\", true);\r\n    },\r\n    async setPropertyData(obj) {\r\n      let pro = null;\r\n      let jsonFile;\r\n      if (obj instanceof Node) {\r\n        jsonFile = 'node' + obj.type;\r\n      } else if (obj instanceof Line) {\r\n        jsonFile = 'line';\r\n      } else if (obj instanceof Lane) {\r\n        jsonFile = 'lane';\r\n      } else if (obj instanceof BoundaryEvent) {\r\n        jsonFile = 'boundaryevent';\r\n      } else {\r\n        // \r\n        jsonFile = 'flow';\r\n      }\r\n      pro = await getProperties(jsonFile);\r\n      var attr = obj.attributes;\r\n      // \r\n      var group = null;\r\n      var groupIndex = -1;\r\n      let json = [];\r\n      for (let i = 0; i < pro.length; i++) {\r\n        if (pro[i].nodeLevel == 1) {\r\n          // \r\n          pro[i].value = attr[pro[i].nodeName];\r\n        } else if (pro[i].nodeLevel == 2) {\r\n          // -\r\n          if (attr[pro[i].nodeName1]) {\r\n            pro[i].value = attr[pro[i].nodeName1][pro[i].nodeName2];\r\n          } else {\r\n            pro[i].value = \"\";\r\n          }\r\n        } else if (pro[i].nodeLevel == 3) {\r\n          //  - \r\n          if (attr[pro[i].nodeName1] && attr[pro[i].nodeName1][pro[i].nodeName2]) {\r\n            pro[i].value = attr[pro[i].nodeName1][pro[i].nodeName2][pro[i].nodeName3];\r\n          } else {\r\n            pro[i].value = \"\";\r\n          }\r\n        }\r\n        if (pro[i].group != group) {\r\n          groupIndex++;\r\n          group = pro[i].group;\r\n          json[groupIndex] = {\r\n            name: group,\r\n            attributes: [],\r\n          };\r\n        }\r\n        json[groupIndex][\"attributes\"].push(pro[i]);\r\n      }\r\n      return json;\r\n    },\r\n    loadPropertyDom(data) {\r\n      let rows = [];\r\n      data.forEach((item) => {\r\n        item.attributes.forEach((attr) => {\r\n          if (attr.editor && attr.editor.type === \"checkbox\") {\r\n            attr.value = attr.value || [];\r\n          } else if (attr.editor && attr.editor.type !== \"checkbox\") {\r\n            let value = Number(attr.value);\r\n            value = Number.isNaN(value) ? attr.value : value;\r\n            attr.value = attr.editor?.options && attr?.value ? value : attr.value;\r\n          } else if (attr.nodeType === \"flow\" && attr.nodeName2 === \"Version\") {\r\n            // \r\n            attr.oldValue = attr.value;\r\n            attr.value0 = attr.value.split(\".\")[0];\r\n            attr.value1 = attr.value.split(\".\")[1];\r\n            attr.value2 = attr.value.split(\".\")[2];\r\n          } else {\r\n            attr.value = attr.value;\r\n          }\r\n\r\n          if (attr.showRob) {\r\n            rows.push(attr);\r\n          }\r\n        });\r\n      });\r\n      this.data = data;\r\n\r\n      //  /  \r\n      if (rows && rows.length > 0) {\r\n        rows.forEach((row) => {\r\n          this.showRob(row);\r\n        });\r\n      }\r\n      this.activeNames = [this.data[0].name];\r\n    },\r\n    changeVesion(attr, index) {\r\n      if (attr) {\r\n        if (index === 0) {\r\n          attr.value1 = 0;\r\n          attr.value2 = \"0001\";\r\n        }\r\n        attr.value = attr.value0 + \".\" + attr.value1 + \".\" + attr.value2;\r\n        this.changeProperty(attr);\r\n      }\r\n    },\r\n    changeProperty(rowData) {\r\n      if (rowData.nodeLevel == 1 && rowData.nodeName === \"Name\") {\r\n        this.curSelectObj.name = rowData.value;\r\n      } else if (rowData.nodeName2 && rowData.nodeName2 == \"Name\") {\r\n        if (this.curSelectObj instanceof Node) {\r\n          this.curSelectObj.name = rowData.value;\r\n          // this.$bus.$emit(\"updateName\", this.curSelectObj);\r\n          this.$bus.$emit(`updateNodeName${this.isSub ? this.parentNode.id : \"\"}`, this.curSelectObj, true);\r\n        }\r\n        if (this.curSelectObj instanceof Lane) {\r\n          this.curSelectObj.name = rowData.value;\r\n        }\r\n        if (this.curSelectObj instanceof Line) {\r\n          if(!this.curSelectObj?.edit?.name1) {\r\n            this.curSelectObj.name = rowData.value;\r\n          }\r\n        }\r\n      }\r\n      if (rowData.showRob && rowData.showRob == \"GatherRule\") {\r\n        //  \r\n        if (this.curSelectObj instanceof Line) {\r\n          this.curSelectObj.type = rowData.value;\r\n        }\r\n      }\r\n      if (rowData.nodeName1 === \"InLine\" && rowData.nodeName2 === \"Type\") {\r\n        let name = GetInlineTypeData(rowData.value);\r\n        let RangeRule = [];\r\n        const Rule = this.curNodeAttr.InLine.RangeRule && this.curNodeAttr.InLine.RangeRule.Rule;\r\n        if (Rule && Rule.length > 0) {\r\n          Rule.forEach((item, index) => {\r\n            RangeRule.push(item.name + \"/\" + GetIsSelected(item.IsSelected));\r\n          });\r\n          this.curSelectObj.taskMsg = `${name}: ${RangeRule.join(\",\")}`;\r\n        }\r\n      }\r\n      if (\r\n        rowData.nodeName1 === \"InLine\" &&\r\n        rowData.nodeName2 === \"RangeRule\" &&\r\n        rowData.value &&\r\n        rowData.value.Rule &&\r\n        rowData.value.Rule.length > 0\r\n      ) {\r\n        let name = GetInlineTypeData(this.curNodeAttr.InLine.Type);\r\n        let RangeRule = [];\r\n        rowData.value.Rule.forEach((item, index) => {\r\n          RangeRule.push(item.name + \"/\" + GetIsSelected(item.IsSelected));\r\n        });\r\n\r\n        this.curSelectObj.taskMsg = `${name}: ${RangeRule.join(\",\")}`;\r\n      }\r\n      //  \r\n      this.showRob(rowData);\r\n      if (rowData.nodeLevel == 1) {\r\n        this.curNodeAttr[rowData.nodeName] = rowData.value;\r\n      } else if (rowData.nodeLevel == 2) {\r\n        this.curNodeAttr[rowData.nodeName1][rowData.nodeName2] = rowData.value;\r\n      } else if (rowData.nodeLevel == 3) {\r\n        this.curNodeAttr[rowData.nodeName1][rowData.nodeName2][rowData.nodeName3] = rowData.value;\r\n      }\r\n      // \r\n      if (this.curSelectObj instanceof Line && rowData.nodeName2 === \"LineShape\") {\r\n        this.$bus.$emit(`changeLineShape${this.isSub ? this.parentNode.id : \"\"}`, this.curSelectObj);\r\n      }\r\n      // \r\n      if (this.curSelectObj instanceof Line && rowData.nodeName2 === \"strokeDasharray\") {\r\n        this.curSelectObj.strokeDasharray = rowData.value;\r\n        this.curSelectObj.refresh();\r\n      }\r\n    },\r\n    showRob(rowData) {\r\n      if (rowData.showRob) {\r\n        this.data.forEach((item) => {\r\n          item.attributes.forEach((attr) => {\r\n            const showRob = rowData.showRob.split(\",\");\r\n            showRob.forEach((field) => {\r\n              if (attr.nodeName2 === field || attr.nodeName3 === field) {\r\n                if (field === \"RushInfo\") {\r\n                  if (rowData.value === 5) {\r\n                    //\r\n                    Object.assign(attr, {\r\n                      name: \"\",\r\n                      value: 1,\r\n                      max: 999999,\r\n                      unit: \"\",\r\n                      hide: false,\r\n                    });\r\n                  } else if (rowData.value === 6) {\r\n                    //\r\n                    Object.assign(attr, {\r\n                      name: \"\",\r\n                      value: 60,\r\n                      max: 100,\r\n                      unit: \"%\",\r\n                      hide: false,\r\n                    });\r\n                  } else {\r\n                    attr.hide = true;\r\n                  }\r\n                } else if (field === \"GatherRule\") {\r\n                  if (rowData.value === 1 || rowData.value === 2) {\r\n                    attr.hide = false;\r\n                  } else {\r\n                    attr.hide = true;\r\n                  }\r\n                } else if (field === \"Params\") {\r\n                  if (rowData.value === 0 || rowData.value === 1) {\r\n                    attr.hide = false;\r\n                  } else {\r\n                    attr.hide = true;\r\n                  }\r\n                } else if (field === \"Content\") {\r\n                  if (rowData.value === 2) {\r\n                    attr.hide = false;\r\n                  } else {\r\n                    attr.hide = true;\r\n                  }\r\n                } else if (field === \"Value\") {\r\n                  if (rowData.value !== 0) {\r\n                    attr.hide = false;\r\n                  } else {\r\n                    attr.hide = true;\r\n                  }\r\n                } else if (field === \"IsEnbled\") {\r\n                  if (rowData.value && this.curSelectObj.attributes.BaseInfo && this.curSelectObj.attributes.BaseInfo.Mode === 0) {\r\n                    attr.hide = false;\r\n                  } else {\r\n                    attr.hide = true;\r\n                  }\r\n                } else if (field === \"OpinionNodeID\") {\r\n                  const BaseInfo = this.curSelectObj.attributes.BaseInfo;\r\n                  setTimeout(() => {\r\n                    if (BaseInfo.Mode === 0 && BaseInfo.SubWFID && BaseInfo.Merge.IsEnbled === 1) {\r\n                      attr.hide = false;\r\n                    } else {\r\n                      attr.hide = true;\r\n                    }\r\n                  }, 0);\r\n                }\r\n              }\r\n            });\r\n          });\r\n        });\r\n      }\r\n    },\r\n    doOpenDialog(rowData) {\r\n      let data = rowData;\r\n      let params = {\r\n        code: (data.value && data.value.Expression) || \"\",\r\n        language: \"java\",\r\n        checked: this.checked,\r\n        value: data.value,\r\n      };\r\n      if (data.config && data.config.content) {\r\n        if (data.config.content === \"RangeRule\" || data.config.content === \"SumAllNode\") {\r\n          params.nodes = this.nodes;\r\n          params.value = data.value || {};\r\n        } else if (data.config.content === \"Summary\") {\r\n          params.lines = this.lines;\r\n          params.value = data.value || {};\r\n        } else if (data.config.content === \"SendCondition\") {\r\n          params.lines = this.lines;\r\n          params.value = data.value || {};\r\n        } else if (data.config.content === \"EventSetting\") {\r\n          params.isEvent = true;\r\n        } else if (data.config.content === \"SetSubFlow\") {\r\n          params.mode = this.curSelectObj.attributes.BaseInfo.Mode;\r\n        } else if (data.config.content === \"SetOpinionNode\") {\r\n          params.subNodes = this.curSelectObj.nodes;\r\n        } else if (data.config.content === \"SumStartNode\") {\r\n          params.nodes = this.nodes;\r\n          params.value = data.value || [];\r\n        }\r\n      }\r\n      dsf.layer.openDialog({\r\n        title: data.name,\r\n        width: data.config.width,\r\n        height: data.config.height,\r\n        overflow: \"auto\",\r\n        content: data.config.content,\r\n        params: params,\r\n        btns: [\r\n          {\r\n            class: this.subIsDisabled ? \"hide\" : \"\",\r\n            text: \"\",\r\n            handler: (component) => {\r\n              //  \r\n              if (data.config.content === \"SetSubFlow\") {\r\n                if (component.validate()) {\r\n                  const checked = component.yes();\r\n                  data.value = checked.SubWFID;\r\n                  this.curSelectObj.attributes.BaseInfo.Mode = checked.Mode;\r\n                  this.curSelectObj.attributes.BaseInfo.SubWFName = checked.SubWFName;\r\n                  this.curSelectObj.attributes.BaseInfo.OpinionNodeID = null;\r\n                  this.curSelectObj.attributes.BaseInfo.OpinionNodeName = null;\r\n                  if (!checked.SubWFID) {\r\n                    this.$bus.$emit(\"initSubNode\", this.curSelectObj, []);\r\n                    return true;\r\n                  }\r\n                  return this.$http\r\n                    .get(\"wfm/getWFDefinition\", {\r\n                      sID: checked.SubWFID,\r\n                    })\r\n                    .then((res) => {\r\n                      this.changeProperty(data);\r\n                      this.$bus.$emit(\"initSubNode\", this.curSelectObj, (res.data.data.WorkFlow && res.data.data.WorkFlow.ElementList) || []);\r\n                      return true;\r\n                    })\r\n                    .catch((error) => {});\r\n                }\r\n                return false;\r\n              } else if (data.config.content === \"SetOpinionNode\") {\r\n                const checked = component.yes();\r\n                data.value = checked.id;\r\n                this.curSelectObj.attributes.BaseInfo.OpinionNodeName = checked.name;\r\n                this.changeProperty(data);\r\n              } else if (data.config.content === \"SelectImg\") {\r\n                data.value = component.getContent();\r\n                Object.assign(this.curSelectObj, systematicNodeSize[data.value]);\r\n                this.curSelectObj.imgType = data.value;\r\n                console.log(this.curSelectObj);\r\n                this.$bus.$emit(\"nodeMove\", this.curSelectObj);\r\n                this.changeProperty(data);\r\n              } else {\r\n                data.value = component.getContent();\r\n                this.changeProperty(data);\r\n              }\r\n            },\r\n          },\r\n          {\r\n            text: \"\",\r\n          },\r\n        ],\r\n      });\r\n      if (data.config.content === \"SetSubFlow\" && !data.value) {\r\n        dsf.layer.message(\"\");\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.inline {\r\n  display: flex;\r\n  /deep/ .el-input__inner {\r\n    text-align: center;\r\n    padding: 0;\r\n  }\r\n  .el-input-number {\r\n    width: 300px;\r\n    /deep/ .el-input-number__decrease,\r\n    /deep/ .el-input-number__increase {\r\n      width: 20px;\r\n    }\r\n    /deep/ .el-input__inner {\r\n      padding-right: 16px;\r\n    }\r\n  }\r\n\r\n  .el-input-number.is-controls-right .el-input__inner {\r\n    padding-right: 34px;\r\n  }\r\n  .unit {\r\n    display: inline-block;\r\n    width: 42px;\r\n    text-align: center;\r\n  }\r\n}\r\n.title {\r\n  height: 50px;\r\n  line-height: 50px;\r\n  text-align: center;\r\n  position: relative;\r\n  .el-button {\r\n    position: absolute;\r\n    top: 12px;\r\n    padding: 7px 10px;\r\n    &.el-button-all {\r\n      right: 5px;\r\n    }\r\n    &.el-button-base {\r\n      left: 5px;\r\n    }\r\n  }\r\n}\r\n.el-select,\r\n.el-input-number {\r\n  width: 100%;\r\n}\r\n/deep/ .el-checkbox {\r\n  margin-right: 12px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./flowInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./flowInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./flowInfo.vue?vue&type=template&id=420525b2&scoped=true&\"\nimport script from \"./flowInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./flowInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./flowInfo.vue?vue&type=style&index=0&id=420525b2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"420525b2\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"I:\\\\web-project\\\\dream\\\\dsf-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('420525b2')) {\n      api.createRecord('420525b2', component.options)\n    } else {\n      api.reload('420525b2', component.options)\n    }\n    module.hot.accept(\"./flowInfo.vue?vue&type=template&id=420525b2&scoped=true&\", function () {\n      api.rerender('420525b2', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"designer/flow/flowInfo.vue\"\nexport default component.exports","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { ref: \"svgRoot\", staticClass: \"svgRoot\" },\n    [\n      _c(\"lines\", {\n        ref: \"lines\",\n        attrs: {\n          \"is-draw-line\": _vm.isDrawLine,\n          lines: _vm.lines,\n          nodes: _vm.nodes,\n          events: _vm.events,\n          checked: _vm.checked\n        }\n      }),\n      _c(\"nodes\", {\n        attrs: {\n          \"is-draw-line\": _vm.isDrawLine,\n          nodes: _vm.nodes,\n          checked: _vm.checked\n        }\n      }),\n      _c(\"events\", {\n        attrs: {\n          \"is-draw-line\": _vm.isDrawLine,\n          nodes: _vm.nodes,\n          events: _vm.events,\n          checked: _vm.checked\n        }\n      })\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<template>\r\n  <div ref=\"svgRoot\" class=\"svgRoot\">\r\n    <lines\r\n      ref=\"lines\"\r\n      :is-draw-line=\"isDrawLine\"\r\n      :lines=\"lines\"\r\n      :nodes=\"nodes\"\r\n      :events=\"events\"\r\n      :checked=\"checked\"\r\n    ></lines>\r\n    <nodes\r\n      :is-draw-line=\"isDrawLine\"\r\n      :nodes=\"nodes\"\r\n      :checked=\"checked\"\r\n    ></nodes>\r\n    <events\r\n      :is-draw-line=\"isDrawLine\"\r\n      :nodes=\"nodes\"\r\n      :events=\"events\"\r\n      :checked=\"checked\"\r\n    ></events>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Lines from \"./Lines\";\r\nimport Events from \"./Events\";\r\nimport subprocess from \"./Subprocess\";\r\nexport default {\r\n  name: \"FlowContent\",\r\n  components: {\r\n    Lines,\r\n    Events,\r\n    subprocess,\r\n  },\r\n  props: {\r\n    lines: {\r\n      type: Array,\r\n      default() {\r\n        return [];\r\n      },\r\n    },\r\n    nodes: {\r\n      type: Array,\r\n      default() {\r\n        return [];\r\n      },\r\n    },\r\n    events: {\r\n      type: Array,\r\n      default() {\r\n        return [];\r\n      },\r\n    },\r\n    isDrawLine: {\r\n      type: Boolean,\r\n      default() {\r\n        return false;\r\n      },\r\n    },\r\n    checked: {\r\n      type: Object,\r\n      default() {\r\n        return {};\r\n      },\r\n    },\r\n  },\r\n  data() {\r\n    return {};\r\n  },\r\n  created() {},\r\n  methods: {\r\n    // initFlow() {},\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./flowContent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./flowContent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./flowContent.vue?vue&type=template&id=05a26e10&\"\nimport script from \"./flowContent.vue?vue&type=script&lang=js&\"\nexport * from \"./flowContent.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"I:\\\\web-project\\\\dream\\\\dsf-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('05a26e10')) {\n      api.createRecord('05a26e10', component.options)\n    } else {\n      api.reload('05a26e10', component.options)\n    }\n    module.hot.accept(\"./flowContent.vue?vue&type=template&id=05a26e10&\", function () {\n      api.rerender('05a26e10', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"designer/flow/flowContent.vue\"\nexport default component.exports","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"lanes\" },\n    _vm._l(_vm.lanes, function(lane, index) {\n      return _c(\n        \"div\",\n        {\n          key: lane.id || index,\n          staticClass: \"lane\",\n          class: { selected: _vm.checked === lane },\n          style: {\n            left: _vm.toPx(lane.left),\n            top: _vm.toPx(lane.top),\n            width: lane.direction === \"vertical\" ? _vm.toPx(lane.size) : \"\",\n            height: lane.direction === \"horizontal\" ? _vm.toPx(lane.size) : \"\"\n          },\n          attrs: { index: index },\n          on: {\n            click: function($event) {\n              return _vm.selectLane($event, lane)\n            }\n          }\n        },\n        [\n          _c(\"div\", { staticClass: \"head\" }, [\n            _c(\n              \"div\",\n              { staticClass: \"title\" },\n              [\n                _c(\n                  \"el-popover\",\n                  {\n                    attrs: {\n                      placement:\n                        lane.direction === \"vertical\" ? \"bottom\" : \"right\",\n                      title: \"\",\n                      width: \"200\",\n                      trigger: \"manual\"\n                    },\n                    model: {\n                      value: lane.isEdit,\n                      callback: function($$v) {\n                        _vm.$set(lane, \"isEdit\", $$v)\n                      },\n                      expression: \"lane.isEdit\"\n                    }\n                  },\n                  [\n                    _c(\"div\", { staticClass: \"el-input\" }, [\n                      lane.isEdit\n                        ? _c(\"input\", {\n                            directives: [\n                              {\n                                name: \"model\",\n                                rawName: \"v-model\",\n                                value: lane.name,\n                                expression: \"lane.name\"\n                              },\n                              { name: \"focus\", rawName: \"v-focus\" }\n                            ],\n                            staticClass: \"el-input__inner\",\n                            attrs: {\n                              autofocus: \"\",\n                              type: \"text\",\n                              placeholder: \"\"\n                            },\n                            domProps: { value: lane.name },\n                            on: {\n                              change: function($event) {\n                                lane.attributes.Name = lane.name\n                                _vm.hideEdit()\n                              },\n                              input: function($event) {\n                                if ($event.target.composing) {\n                                  return\n                                }\n                                _vm.$set(lane, \"name\", $event.target.value)\n                              }\n                            }\n                          })\n                        : _vm._e()\n                    ]),\n                    _c(\n                      \"span\",\n                      {\n                        staticClass: \"textContent ellipsis\",\n                        style: {\n                          width: _vm.toPx(lane.size),\n                          transform:\n                            lane.direction === \"horizontal\"\n                              ? \"rotate(-90deg) translateX(-\" +\n                                lane.size +\n                                \"px)\"\n                              : \"\"\n                        },\n                        attrs: { slot: \"reference\" },\n                        on: {\n                          dblclick: function($event) {\n                            return _vm.edit(lane)\n                          }\n                        },\n                        slot: \"reference\"\n                      },\n                      [_vm._v(\" \" + _vm._s(lane.name) + \" \")]\n                    )\n                  ]\n                ),\n                _c(\"img\", {\n                  staticClass: \"plus left\",\n                  attrs: {\n                    src: require(\"_platform/assets/styles/themes/workFlow/addLane.png\")\n                  },\n                  on: {\n                    click: function($event) {\n                      return _vm.addLane(lane.direction, index)\n                    }\n                  }\n                }),\n                _c(\"img\", {\n                  staticClass: \"plus right\",\n                  attrs: {\n                    src: require(\"_platform/assets/styles/themes/workFlow/addLane.png\")\n                  },\n                  on: {\n                    click: function($event) {\n                      return _vm.addLane(lane.direction, index + 1)\n                    }\n                  }\n                }),\n                _c(\"span\", {\n                  staticClass: \"resizeLane\",\n                  on: {\n                    mousedown: function($event) {\n                      return _vm.dragLane($event, lane)\n                    }\n                  }\n                })\n              ],\n              1\n            )\n          ]),\n          _c(\"div\", { staticClass: \"bg/\" }),\n          _c(\"div\", { staticClass: \"laneSelected\" })\n        ]\n      )\n    }),\n    0\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"lanes\">\r\n    <div\r\n      v-for=\"(lane, index) in lanes\"\r\n      :key=\"lane.id || index\"\r\n      :index=\"index\"\r\n      :style=\"{\r\n        left: toPx(lane.left),\r\n        top: toPx(lane.top),\r\n        width: lane.direction === 'vertical' ? toPx(lane.size) : '',\r\n        height: lane.direction === 'horizontal' ? toPx(lane.size) : '',\r\n      }\"\r\n      :class=\"{ selected: checked === lane }\"\r\n      class=\"lane\"\r\n      @click=\"selectLane($event, lane)\"\r\n    >\r\n      <div class=\"head\">\r\n        <div class=\"title\">\r\n          <el-popover\r\n            v-model=\"lane.isEdit\"\r\n            :placement=\"lane.direction === 'vertical' ? 'bottom' : 'right'\"\r\n            title=\"\"\r\n            width=\"200\"\r\n            trigger=\"manual\"\r\n          >\r\n            <div class=\"el-input\">\r\n              <input\r\n                v-if=\"lane.isEdit\"\r\n                v-model=\"lane.name\"\r\n                v-focus\r\n                autofocus\r\n                class=\"el-input__inner\"\r\n                type=\"text\"\r\n                placeholder=\"\"\r\n                @change=\"\r\n                  lane.attributes.Name = lane.name;\r\n                  hideEdit();\r\n                \"\r\n              />\r\n            </div>\r\n            <span\r\n              slot=\"reference\"\r\n              class=\"textContent ellipsis\"\r\n              :style=\"{\r\n                width: toPx(lane.size),\r\n                transform: lane.direction === 'horizontal' ? `rotate(-90deg) translateX(-${lane.size}px)` : '',\r\n              }\"\r\n              @dblclick=\"edit(lane)\"\r\n            >\r\n              {{ lane.name }}\r\n            </span>\r\n          </el-popover>\r\n          <img class=\"plus left\" :src=\"require('_platform/assets/styles/themes/workFlow/addLane.png')\" @click=\"addLane(lane.direction, index)\" />\r\n          <img class=\"plus right\" :src=\"require('_platform/assets/styles/themes/workFlow/addLane.png')\" @click=\"addLane(lane.direction, index + 1)\" />\r\n          <span class=\"resizeLane\" @mousedown=\"dragLane($event, lane)\"></span>\r\n        </div>\r\n      </div>\r\n      <div class=\"bg/\"></div>\r\n      <div class=\"laneSelected\"></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n/* eslint-disable no-unused-vars */\r\nimport { LaneDirection } from \"./tools\";\r\n\r\nexport default {\r\n  name: \"Lanes\",\r\n  props: {\r\n    lanes: {\r\n      type: Array,\r\n      default() {\r\n        return [];\r\n      },\r\n    },\r\n    checked: {\r\n      type: Object,\r\n      default() {\r\n        return {};\r\n      },\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      current: null,\r\n      minSize: 100, // /\r\n    };\r\n  },\r\n  mounted() {\r\n    document.addEventListener(\"mousedown\", (e) => {\r\n      const target = e.target;\r\n      if (\r\n        target.getAttribute(\"role\") !== \"tooltip\" &&\r\n        target?.parentElement?.getAttribute(\"role\") !== \"tooltip\" &&\r\n        target?.parentElement?.parentElement.getAttribute(\"role\") !== \"tooltip\"\r\n      ) {\r\n        this.hideEdit();\r\n      }\r\n    });\r\n    document.addEventListener(\"mousemove\", (e) => {\r\n      this.moveLane(e);\r\n    });\r\n    document.addEventListener(\"mouseup\", (e) => {\r\n      this.dropLane(e);\r\n    });\r\n  },\r\n  methods: {\r\n    toPx(number) {\r\n      return `${number}px`;\r\n    },\r\n    selectLane(e, lane) {\r\n      this.$bus.$emit(\"update-checked\", lane);\r\n      e.stopPropagation();\r\n    },\r\n    addLane(direction, index) {\r\n      this.$emit(\"addLane\", direction, index);\r\n    },\r\n    dragLane(e, item) {\r\n      this.$bus.$emit(\"update-checked\", item);\r\n      this.current = { ...item };\r\n      this.$bus.$emit(\"update-baseLine\", {\r\n        show: this.current.direction,\r\n        top: 0,\r\n        left: 0,\r\n      });\r\n      // e.clientXe.clientY\r\n      // X1Y1\r\n    },\r\n    dropLane(e) {\r\n      if (!this.current) {\r\n        return;\r\n      }\r\n      const page = this.$store.state.flow.page;\r\n      const svgRoot = this.$store.state.flow.svgRoot;\r\n      const scale = this.$store.state.flow.page.scale;\r\n      if (this.current.direction === LaneDirection.vertical) {\r\n        this.current.size = (e.pageX - this.current.left - page.left + svgRoot.scrollLeft) / scale;\r\n      } else {\r\n        this.current.size = (e.pageY - this.current.top - page.top + svgRoot.scrollTop) / scale;\r\n      }\r\n      this.current.size = this.current.size > this.minSize ? this.current.size : this.minSize;\r\n      // \r\n      this.$bus.$emit(\"update-baseLine\", {\r\n        showV: false,\r\n        showH: false,\r\n        top: 0,\r\n        left: 0,\r\n      });\r\n      this.$store.commit(\"flow/changeLane\", this.current);\r\n      this.$bus.$emit(\"resize\");\r\n      this.current = null;\r\n    },\r\n    moveLane(e) {\r\n      if (!this.current) {\r\n        return false;\r\n      }\r\n      let resize;\r\n      const page = this.$store.state.flow.page;\r\n      const svgRoot = this.$store.state.flow.svgRoot;\r\n      const scale = this.$store.state.flow.page.scale;\r\n      if (this.current.direction === LaneDirection.vertical) {\r\n        const minLeft = this.current.left + this.minSize;\r\n        const current = e.pageX - page.left + svgRoot.scrollLeft;\r\n        resize = {\r\n          top: 10,\r\n          left: (current > minLeft * scale ? current : minLeft * scale) / scale,\r\n        };\r\n      } else {\r\n        const minTop = this.current.top + this.minSize;\r\n        const current = e.pageY - page.top + svgRoot.scrollTop;\r\n        resize = {\r\n          top: (current > minTop * scale ? current * scale : minTop) / scale,\r\n          left: 10,\r\n        };\r\n      }\r\n      const baseLine = Object.assign(resize, {\r\n        showV: this.current.direction === \"vertical\",\r\n        showH: this.current.direction === \"horizontal\",\r\n      });\r\n      this.$bus.$emit(\"update-baseLine\", baseLine);\r\n      this.$bus.$emit(\"autoScroll\", {\r\n        type: \"lane\",\r\n        data: this.current,\r\n        mouse: {\r\n          x: e.pageX,\r\n          y: e.pageY,\r\n        },\r\n      });\r\n    },\r\n    edit(lane) {\r\n      this.lanes.forEach((item) => {\r\n        if (lane === item) {\r\n          item.isEdit = true;\r\n        } else {\r\n          item.isEdit = false;\r\n        }\r\n      });\r\n    },\r\n    hideEdit() {\r\n      this.lanes.forEach((item) => {\r\n        item.isEdit = false;\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.lanes {\r\n  position: relative;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Lanes.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Lanes.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Lanes.vue?vue&type=template&id=11303e4c&scoped=true&\"\nimport script from \"./Lanes.vue?vue&type=script&lang=js&\"\nexport * from \"./Lanes.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Lanes.vue?vue&type=style&index=0&id=11303e4c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"11303e4c\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"I:\\\\web-project\\\\dream\\\\dsf-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('11303e4c')) {\n      api.createRecord('11303e4c', component.options)\n    } else {\n      api.reload('11303e4c', component.options)\n    }\n    module.hot.accept(\"./Lanes.vue?vue&type=template&id=11303e4c&scoped=true&\", function () {\n      api.rerender('11303e4c', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"designer/flow/Lanes.vue\"\nexport default component.exports","<template>\r\n  <div id=\"desginer\" class=\"ds_workflow ds-designer\" :class=\"flowModel\">\r\n    <!--  -->\r\n    <div class=\"designer-head\">\r\n      <div class=\"desginer_tools\">\r\n        <a class=\"ds-button--icon-text\" @click=\"doSave\">\r\n          <i class=\"iconfont icon-baocun\"></i>\r\n          <span></span>\r\n        </a>\r\n        <a class=\"ds-button--icon-text\" @click=\"printImage()\">\r\n          <i class=\"iconfont icon-baocun\"></i>\r\n          <span></span>\r\n        </a>\r\n        <!-- <a class=\"ds-button--icon-text\">\r\n          <i class=\"iconfont icon-baocun\"></i>\r\n          <span></span>\r\n        </a>\r\n        <a class=\"ds-button--icon-text\">\r\n          <i class=\"iconfont icon-iframetianjia\"></i>\r\n          <span>\r\n            \r\n            <i class=\"iconfont icon-xia1\"></i>\r\n          </span>\r\n          <dl class=\"layui-nav-child\">\r\n            <p class=\"label\">\r\n              <span></span>\r\n            </p>\r\n            <p>\r\n              <span>2.0.11 2020-4-10 1620 10</span>\r\n            </p>\r\n            <p class=\"label\">\r\n              <span></span>\r\n            </p>\r\n            <p>\r\n              <span>2.0.11 2020-4-10 1620 10</span>\r\n            </p>\r\n            <p>\r\n              <span>2.0.11 2020-4-10 1620 10</span>\r\n            </p>\r\n            <p>\r\n              <span>2.0.11 2020-4-10 1620 10</span>\r\n            </p>\r\n            <p>\r\n              <span>2.0.11 2020-4-10 1620 10</span>\r\n            </p>\r\n          </dl>\r\n        </a>\r\n        <a class=\"ds-button--icon-text\">\r\n          <i class=\"iconfont icon-shebeikaifa1\"></i>\r\n          <span></span>\r\n        </a>\r\n        <a class=\"ds-button--icon-text\">\r\n          <i class=\"iconfont icon-baocun\"></i>\r\n          <span></span>\r\n        </a> -->\r\n        <a\r\n          class=\"ds-button--icon-text\"\r\n          :class=\"{ selected: isDrawLine }\"\r\n          @click=\"drawLine\"\r\n        >\r\n          <i class=\"iconfont icon-liujisuan\"></i>\r\n          <span></span>\r\n        </a>\r\n        <a class=\"ds-button--icon-text\">\r\n          <i class=\"iconfont icon-iframetianjia\"></i>\r\n          <span>\r\n            \r\n            <i class=\"iconfont icon-xia1\"></i>\r\n          </span>\r\n          <dl class=\"layui-nav-child\">\r\n            <dd @click=\"addLane('vertical')\">\r\n              <span>()</span>\r\n            </dd>\r\n            <dd @click=\"addLane('horizontal')\">\r\n              <span>()</span>\r\n            </dd>\r\n          </dl>\r\n        </a>\r\n        <a class=\"ds-button--icon-text scale\">\r\n          <div class=\"scale-com\">\r\n            <i\r\n              class=\"el-icon-minus\"\r\n              :class=\"{ disabled: scale <= 0.4 }\"\r\n              @click=\"rootScale('down')\"\r\n            ></i>\r\n            <span class=\"percent\">{{ Math.round(scale * 100) }}%</span>\r\n            <i\r\n              class=\"el-icon-plus\"\r\n              :class=\"{ disabled: scale >= 2 }\"\r\n              @click=\"rootScale('up')\"\r\n            ></i>\r\n          </div>\r\n          <span></span>\r\n        </a>\r\n        <!-- <a class=\"ds-button--icon-text\">\r\n          <i class=\"iconfont icon-dakai\"></i>\r\n          <span>\r\n            \r\n            <i class=\"iconfont icon-xia1\"></i>\r\n          </span>\r\n          <dl class=\"layui-nav-child\">\r\n            <p @click=\"exportFlow()\">\r\n              <span></span>\r\n            </p>\r\n            <p class=\"label\" @click=\"saveAsFlow()\">\r\n              <span></span>\r\n            </p>\r\n            <p @click=\"openFlow()\">\r\n              <span></span>\r\n            </p>\r\n          </dl>\r\n        </a> -->\r\n        <a class=\"ds-button--icon-text\">\r\n          <i class=\"iconfont icon-lianjieliu\"></i>\r\n          <span>\r\n            \r\n            <i class=\"iconfont icon-xia1\"></i>\r\n          </span>\r\n          <dl class=\"layui-nav-child\">\r\n            <p class=\"title\">\r\n              <span></span>\r\n            </p>\r\n            <!-- <p class=\"child\">DFR</p>\r\n            <p class=\"child\">BPMN2.0</p> -->\r\n            <!-- <p class=\"child\" @click=\"exportXML()\">XML</p> -->\r\n            <p class=\"label child\" @click=\"exportFlowJson()\">JSON</p>\r\n            <p class=\"title\">\r\n              <span></span>\r\n            </p>\r\n            <!-- <p class=\"child\">DFR</p>\r\n            <p class=\"child\">BPMN2.0</p>\r\n            <p class=\"child\">XML</p> -->\r\n            <p class=\"label child\">\r\n              <el-upload\r\n                action=\"\"\r\n                accept=\".json\"\r\n                :show-file-list=\"false\"\r\n                :on-change=\"uploadJson\"\r\n                :auto-upload=\"false\">\r\n                <span slot=\"trigger\">JSON</span>\r\n              </el-upload>\r\n            </p>\r\n            <!-- <p class=\"label\" @click=\"startTestFlow()\">\r\n              <span></span>\r\n            </p>\r\n            <p @click=\"monitorFlow()\">\r\n              <span></span>\r\n            </p> -->\r\n          </dl>\r\n        </a>\r\n        <a\r\n          v-if=\"selectedList && selectedList.length > 1\"\r\n          class=\"ds-button--icon-text\"\r\n        >\r\n          <i class=\"iconfont icon-lianjieliu\"></i>\r\n          <span>\r\n            \r\n            <i class=\"iconfont icon-xia1\"></i>\r\n          </span>\r\n          <dl class=\"layui-nav-child\">\r\n            <dd @click=\"alignment('left')\">\r\n              <span>(L)</span>\r\n            </dd>\r\n            <dd @click=\"alignment('center')\">\r\n              <span>(C)</span>\r\n            </dd>\r\n            <dd @click=\"alignment('right')\">\r\n              <span>(R)</span>\r\n            </dd>\r\n            <dd @click=\"alignment('top')\">\r\n              <span>(T)</span>\r\n            </dd>\r\n            <dd @click=\"alignment('middle')\">\r\n              <span>(M)</span>\r\n            </dd>\r\n            <dd @click=\"alignment('bottom')\">\r\n              <span>(B)</span>\r\n            </dd>\r\n            <dd @click=\"alignment('horizontal')\">\r\n              <span>(H)</span>\r\n            </dd>\r\n            <dd @click=\"alignment('vertical')\">\r\n              <span>(V)</span>\r\n            </dd>\r\n          </dl>\r\n        </a>\r\n        <a class=\"ds-button--icon-text\">\r\n          <i class=\"iconfont icon-iframetianjia\"></i>\r\n          <span>\r\n            {{ flowModel === \"normal\" ? \"\" : \"\" }}\r\n            <i class=\"iconfont icon-xia1\"></i>\r\n          </span>\r\n          <dl class=\"layui-nav-child\">\r\n            <dd @click=\"setFlowModel('normal')\">\r\n              <span></span>\r\n            </dd>\r\n            <dd @click=\"setFlowModel('systematic')\">\r\n              <span></span>\r\n            </dd>\r\n          </dl>\r\n        </a>\r\n      </div>\r\n    </div>\r\n    <!--  -->\r\n    <div class=\"designer-content\">\r\n      <div class=\"designer-center\">\r\n        <div ref=\"ds_page\" class=\"ds_page design\" @scroll=\"onScroll($event)\">\r\n          <div\r\n            ref=\"container\"\r\n            class=\"flow\"\r\n            :class=\"{ 'is-print-image': isPrintImage }\"\r\n            :style=\"{\r\n              width: toPx(scale > 1 ? width * scale : width / scale),\r\n              height: toPx(scale > 1 ? height * scale : height / scale),\r\n              transform: `scale(${scale}) translateZ(0)`,\r\n              transformOrigin: 'left top',\r\n            }\"\r\n          >\r\n            <div\r\n              ref=\"root\"\r\n              :class=\"{\r\n                has_v_head: lanes && lanes.vertical.length > 0,\r\n                has_h_head: lanes && lanes.horizontal.length > 0,\r\n              }\"\r\n              :style=\"{\r\n                width: toPx(scale > 1 ? width * scale : width / scale),\r\n                height: toPx(scale > 1 ? height * scale : height / scale),\r\n              }\"\r\n              class=\"root\"\r\n            >\r\n              <span\r\n                v-if=\"baseLine.showV\"\r\n                :style=\"{ transform: `translate3d(${baseLine.left}px, 0, 0)` }\"\r\n                class=\"baseLine_v\"\r\n              ></span>\r\n              <span\r\n                v-if=\"baseLine.showH\"\r\n                :style=\"{ transform: `translate3d(0, ${baseLine.top}px, 0)` }\"\r\n                class=\"baseLine_h\"\r\n              ></span>\r\n              <flow-content\r\n                ref=\"flowContent\"\r\n                :is-draw-line=\"isDrawLine\"\r\n                :lines=\"lines\"\r\n                :nodes=\"nodes\"\r\n                :events=\"events\"\r\n                :checked=\"checked\"\r\n              ></flow-content>\r\n              <div ref=\"backLayout\" class=\"backgroundLayout\">\r\n                <div ref=\"v_lane\" class=\"v_lane\">\r\n                  <lanes\r\n                    :lanes=\"lanes && lanes.vertical\"\r\n                    :checked=\"checked\"\r\n                    @addLane=\"addLane\"\r\n                  ></lanes>\r\n                </div>\r\n                <div ref=\"h_lane\" class=\"h_lane\">\r\n                  <lanes\r\n                    :lanes=\"lanes && lanes.horizontal\"\r\n                    :checked=\"checked\"\r\n                    @addLane=\"addLane\"\r\n                  ></lanes>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"designer-left\" style=\"margin-top: 60px\">\r\n        <div class=\"designer-left-tools\">\r\n          <dsf-virtual-scroll>\r\n            <el-collapse v-model=\"activeNames\" accordion>\r\n              <el-collapse-item\r\n                v-for=\"(tool, index) in flowTools\"\r\n                :key=\"index\"\r\n                :title=\"tool.title\"\r\n                :name=\"index\"\r\n              >\r\n                <div class=\"layui-colla-content layui-show\">\r\n                  <div\r\n                    v-for=\"item in tool.data\"\r\n                    :key=\"item.type\"\r\n                    class=\"ds_tool_item nodeButton\"\r\n                    :title=\"item.name\"\r\n                    :sort=\"item.sort\"\r\n                    :nodetype=\"item.type\"\r\n                    draggable=\"true\"\r\n                    @dragstart=\"dragTool($event, item)\"\r\n                  >\r\n                    <img :src=\"item.img\" draggable=\"false\" />\r\n                    {{ item.name }}\r\n                  </div>\r\n                  <div style=\"clear: both\"></div>\r\n                </div>\r\n              </el-collapse-item>\r\n              <el-collapse-item title=\"\" name=\"5\">\r\n                <div class=\"layui-colla-content layui-show\">\r\n                  <div\r\n                    v-for=\"event in boundaryEvents\"\r\n                    :key=\"event.type\"\r\n                    class=\"nodeButton ds_tool_event\"\r\n                    :title=\"event.name\"\r\n                    :nodetype=\"event.type\"\r\n                  >\r\n                    <div\r\n                      class=\"tool_event_drag\"\r\n                      draggable=\"true\"\r\n                      @dragstart=\"dragBoundaryEvent($event, event)\"\r\n                    >\r\n                      <img\r\n                        :src=\"event.url\"\r\n                        draggable=\"false\"\r\n                        style=\"width: 32px; height: 32px\"\r\n                      />\r\n                    </div>\r\n                    <span class=\"event-name\">{{ event.name }}</span>\r\n                  </div>\r\n                </div>\r\n              </el-collapse-item>\r\n              <el-collapse-item title=\"\" name=\"6\">\r\n                <div class=\"layui-colla-content layui-show\">\r\n                  <div\r\n                    v-for=\"event in attached\"\r\n                    :key=\"event.type\"\r\n                    class=\"nodeButton ds_tool_event\"\r\n                    :title=\"event.name\"\r\n                    :nodetype=\"event.type\"\r\n                  >\r\n                    <div\r\n                      class=\"tool_event_drag\"\r\n                      draggable=\"true\"\r\n                      @dragstart=\"dragAttached($event, event)\"\r\n                    >\r\n                      <img\r\n                        :src=\"event.url\"\r\n                        draggable=\"false\"\r\n                        style=\"width: 32px; height: 32px\"\r\n                      />\r\n                    </div>\r\n                    <span class=\"event-name\">{{ event.name }}</span>\r\n                  </div>\r\n                </div>\r\n              </el-collapse-item>\r\n            </el-collapse>\r\n          </dsf-virtual-scroll>\r\n        </div>\r\n      </div>\r\n      <!-- <div v-show=\"flowModel === 'normal'\" class=\"designer-right\"> -->\r\n      <div class=\"designer-right\">\r\n        <dsf-virtual-scroll>\r\n          <flow-info\r\n            :checked=\"checked\"\r\n            :nodes=\"nodes\"\r\n            :lines=\"lines\"\r\n            :flow-info=\"flowInfo\"\r\n          ></flow-info>\r\n        </dsf-virtual-scroll>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n/* eslint-disable no-unused-vars */\r\n/* eslint-disable no-redeclare */\r\n// window.flow = null;\r\nimport { mapState } from \"vuex\";\r\nimport FlowFun from \"./flow.js\";\r\nimport Node from \"./Node\";\r\nimport Lane from \"./Lane\";\r\nimport Line from \"./Line\";\r\nimport BoundaryEvent from \"./BoundaryEvent\";\r\nimport FlowInfo from \"./flowInfo\";\r\nimport FlowContent from \"./flowContent\";\r\nimport {\r\n  getObjById,\r\n  getObjByTarget,\r\n  getObjByParentTarget,\r\n  getObjectByTarget,\r\n  getGridPoint,\r\n  deepClone,\r\n  toPx,\r\n  verifySub,\r\n  getAttributes,\r\n  getProperties\r\n} from \"./common\";\r\nimport { nodeSize, _LineType, LaneDirection, tools } from \"./tools\";\r\nimport Lanes from \"./Lanes\";\r\nimport { flowTools, boundaryEvents, attached } from \"./propertySource\";\r\nimport { getNodeLinkPoints } from \"./getPoints\";\r\nimport html2canvas from \"html2canvas\";\r\nexport default {\r\n  name: \"Flow\",\r\n  components: {\r\n    FlowInfo,\r\n    FlowContent,\r\n    Lanes,\r\n  },\r\n  data() {\r\n    return {\r\n      activeNames: [0],\r\n      isDrawLine: false,\r\n      dragNode: null,\r\n      dragEvent: null,\r\n      dragAttach: null,\r\n      endTarget: null,\r\n      width: 0,\r\n      height: 0,\r\n      maxWidth: 0,\r\n      maxHeight: 0,\r\n      flow: null,\r\n      flowInfo: null,\r\n      sID: this.$route.query && this.$route.query.id,\r\n      nodes: [],\r\n      lines: [],\r\n      events: [],\r\n      distance: 30, // \r\n      cloneObj: null,\r\n      crashNode: null,\r\n      dragSize: 20,\r\n      maxSizeOffset: 50,\r\n      flowTools: flowTools,\r\n      boundaryEvents: boundaryEvents,\r\n      attached: attached,\r\n      checked: null,\r\n      baseLine: {\r\n        show: \"\",\r\n        top: 0,\r\n        left: 0,\r\n      },\r\n      showLineV: false,\r\n      showLineH: false,\r\n      isGlobalPosMove: false,\r\n      globalPos: null,\r\n      globalMoveLastMouse: null,\r\n      globalRect: null,\r\n      isGlobalSelect: false,\r\n      selectGlobalPos: null,\r\n      selectGlobalPonits: {\r\n        start: { x: 0, y: 0 },\r\n        end: { x: 0, y: 0 },\r\n      },\r\n      globalSelect: null,\r\n      isCtrlKey: false,\r\n      ctrlCopyNodes: null,\r\n      isCopyNodes: false,\r\n      copyNodesPos: null,\r\n      copyNodes: [],\r\n      hasMoved: false,\r\n      isPrintImage: false,\r\n      printImageUrl: \"\",\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      page: (state) => {\r\n        return state.flow.page;\r\n      },\r\n      scale: (state) => {\r\n        return state.flow.page.scale;\r\n      },\r\n      lanes: (state) => {\r\n        return state.flow.lanes;\r\n      },\r\n      selectedList: (state) => {\r\n        return state.flow.selectedList;\r\n      },\r\n      flowModel: (state) => {\r\n        return state.flow.flowModel;\r\n      },\r\n    }),\r\n  },\r\n  created() {},\r\n  mounted() {\r\n    this.reset();\r\n    this.init();\r\n  },\r\n  methods: {\r\n    toPx,\r\n    verifySub,\r\n    reset() {\r\n      const ds_page = this.$refs.ds_page;\r\n      this.$store.commit(\"flow/setPage\", {\r\n        width: ds_page.clientWidth,\r\n        height: ds_page.clientHeight,\r\n      });\r\n    },\r\n    async init() {\r\n      await this.initData();\r\n      this.loadElement();\r\n      // \r\n      this.initEvent();\r\n    },\r\n    initData() {\r\n      // flow.json \r\n      let params = {\r\n        sID: this.sID,\r\n      };\r\n      Object.assign(params, this.$route.query);\r\n      return this.$http\r\n        .get(\"wfm/getWFDefinition\", params)\r\n        .then(async ({data}) => {\r\n          const defaultV = {\r\n            \"BaseInfo\":{\r\n              \"ID\":\"\",\r\n              // \"Name\": this.$route.query.sName,\r\n              \"Name\": \"\",\r\n              \"Version\":\"0.0.0001\",\r\n              \"TimeLimit\":{\"Type\":\"\",\"Value\":\"\"},\r\n              \"Desc\":\"\",\r\n              \"Event\":{\"onStart\":\"\",\"onClose\":\"\",\"onForceClose\":\"\",\"onExSend\":\"\",\"onDestory\":\"\"},\r\n              \"Vendor\":{\"ID\":\"\",\"Name\":\"\"}\r\n            },\r\n            \"NodeList\":[],\r\n            \"LineList\":[],\r\n            \"EventList\":[],\r\n            \"LaneList\":{\"horizontal\":[],\"vertical\":[]},\"ElementList\":[]\r\n          };\r\n          this.flowInfo = data?.data?.WorkFlow || defaultV;\r\n          // if (this.$route.query.sName) {\r\n          //   this.flowInfo.BaseInfo.Name = this.$route.query.sName;\r\n          // }\r\n          const properties = await this.getProperties('flow');\r\n          this.flow = {\r\n            attributes: Object.assign(\r\n              getAttributes(properties),\r\n              this.flowInfo\r\n            ),\r\n          };\r\n          // \r\n          await getProperties('line');\r\n          this.setFlowModel(data?.data?.flowModel || data?.data?.WorkFlow?.flowModel || \"normal\");\r\n        })\r\n        .catch((error) => {\r\n          this.flowInfo = {};\r\n        });\r\n    },\r\n    loadElement() {\r\n      const ElementList = (this.flowInfo && this.flowInfo.ElementList) || [];\r\n      if (ElementList && ElementList.length > 0) {\r\n        for (let i = 0; i < ElementList.length; i++) {\r\n          let element = ElementList[i];\r\n          //\r\n          if (element.nodeType == \"node\") {\r\n            let node = element;\r\n            node.in = node.in || [];\r\n            node.out = node.out || [];\r\n            node.point.x = parseFloat(node.point.x);\r\n            node.point.y = parseFloat(node.point.y);\r\n            node = Object.assign(\r\n              {\r\n                x: node.point.x,\r\n                y: node.point.y,\r\n              },\r\n              node\r\n            );\r\n            //  \r\n            flowTools.forEach((tool) => {\r\n              tool.data.forEach((item) => {\r\n                if (node.attributes.BaseInfo.Type == item.type) {\r\n                  node.attributes.BaseInfo.Type = item.name;\r\n                }\r\n              });\r\n            });\r\n            const newNode = this.addNode(node);\r\n            if (node.nodes) {\r\n              // \r\n              const subNodes = node.nodes;\r\n              newNode.nodes = [];\r\n              newNode.lines = [];\r\n              newNode.events = [];\r\n              subNodes.forEach((item) => {\r\n                item = Object.assign(\r\n                  {\r\n                    x: item.point.x,\r\n                    y: item.point.y,\r\n                  },\r\n                  item\r\n                );\r\n                newNode.nodes.push(this.addSubNode(item, newNode));\r\n              });\r\n            }\r\n            if (node.events) {\r\n              node.events.forEach((event) => {\r\n                let newEvent = new BoundaryEvent(event);\r\n                newEvent.parentNode = node;\r\n                newNode.events.push(newEvent);\r\n              });\r\n            }\r\n            if (node.lines) {\r\n              node.lines.forEach((line) => {\r\n                if (line.linkInfo) {\r\n                  line.linkInfo.fromOffset = parseFloat(\r\n                    line.linkInfo.fromOffset\r\n                  );\r\n                  line.linkInfo.toOffset = parseFloat(line.linkInfo.toOffset);\r\n                }\r\n                line.parentNodeId = node.id;\r\n                //  \r\n                setTimeout(() => {\r\n                  this.$bus.$emit(`addLine${node.id}`, line);\r\n                }, 0);\r\n              });\r\n            }\r\n            this.nodes.push(newNode);\r\n          }\r\n          //\r\n          else if (element.nodeType == \"line\") {\r\n            let line = element;\r\n            if (line.linkInfo) {\r\n              line.linkInfo.fromOffset = parseFloat(line.linkInfo.fromOffset);\r\n              line.linkInfo.toOffset = parseFloat(line.linkInfo.toOffset);\r\n            }\r\n            this.$bus.$emit(\"addLine\", line);\r\n          }\r\n          //\r\n          else if (element.nodeType == \"lane\") {\r\n            const lane = element;\r\n            this.createLane({\r\n              id: lane.id,\r\n              name: lane.name,\r\n              size: lane.size,\r\n              index: lane.index,\r\n              direction: lane.direction,\r\n              attributes: lane.attributes,\r\n            });\r\n          }\r\n          // \r\n          else if (element.nodeType == \"event\") {\r\n            this.events.push(new BoundaryEvent(element));\r\n          }\r\n        }\r\n      }\r\n      this.resize();\r\n    },\r\n    setFlowModel(model) {\r\n      this.$store.commit(\"flow/setFlowModel\", model);\r\n      this.nodes.forEach((item) => {\r\n        item.reset(model);\r\n        this.$bus.$emit(\"nodeMove\", item);\r\n      });\r\n    },\r\n    getSaveData() {\r\n      this.flow.attributes.BaseInfo.ID = this.sID;\r\n      let postData = {\r\n        WorkFlow: {\r\n          BaseInfo: this.flow.attributes.BaseInfo,\r\n          NodeList: [],\r\n          LineList: [],\r\n          EventList: [],\r\n          LaneList: {\r\n            horizontal: [],\r\n            vertical: [],\r\n          },\r\n          ElementList: [],\r\n          flowModel: this.flowModel\r\n        },\r\n      };\r\n      if (this.flowModel === \"systematic\") {\r\n        postData.sImgData = this.printImageUrl;\r\n      }\r\n      this.nodes.forEach((node) => {\r\n        if (node.lines) {\r\n          let nodeLines = dsf.mix(true, [], node.lines);\r\n          node.lines = nodeLines.map((line) => {\r\n            delete line.paper;\r\n            return line;\r\n          });\r\n        }\r\n        if (node.events) {\r\n          node.events = node.events.map((item) => {\r\n            item.parentNodeId = item.parentNode.id;\r\n            delete item.parentNode;\r\n            return { ...item };\r\n          });\r\n        }\r\n      });\r\n      const info = {\r\n        nodes: [...JSON.parse(JSON.stringify(this.nodes))],\r\n        lanes: { ...this.lanes },\r\n        lines: [...this.lines],\r\n        events: [...this.events],\r\n      };\r\n\r\n      //\r\n      let infoCopy = dsf.mix(true, {}, info);\r\n      const copyMap = this.getFlowAllObjectMap(infoCopy);\r\n\r\n      let temp = [],\r\n        deleteLines = [];\r\n      //\r\n      for (let i = 0; i < deleteLines.length; i++) {\r\n        for (let n = infoCopy.lines.length - 1; n >= 0; n--) {\r\n          if (infoCopy.lines[n].attributes.ID == deleteLines[i]) {\r\n            infoCopy.lines.splice(n, 1);\r\n          }\r\n        }\r\n      }\r\n      // \r\n      for (let i = 0; i < infoCopy.nodes.length; i++) {\r\n        let node = infoCopy.nodes[i];\r\n        if (node.nodes) {\r\n          node.nodes.forEach((child) => {\r\n            delete child.isRender;\r\n            delete child.edit;\r\n          });\r\n        }\r\n\r\n        flowTools.forEach((tool) => {\r\n          tool.data.forEach((item) => {\r\n            if (node.attributes.BaseInfo.Type == item.name) {\r\n              node.attributes.BaseInfo.Type = item.type;\r\n            }\r\n          });\r\n        });\r\n        const y = node.point.y;\r\n        let laneHeight = 0;\r\n        //\r\n        node.attributes.BaseInfo.StageID = \"\";\r\n        node.attributes.BaseInfo.CLaneID = \"\";\r\n        for (let j = 0; j < info.lanes.horizontal.length; j++) {\r\n          const lane = info.lanes.horizontal[j];\r\n          laneHeight += parseInt(lane.size);\r\n\r\n          if (y < laneHeight) {\r\n            node.attributes.BaseInfo.StageID = lane.id;\r\n            node.attributes.BaseInfo.CLaneID = lane.id;\r\n            break;\r\n          }\r\n        }\r\n        const x = node.point.x;\r\n        let laneWidth = 0;\r\n        node.attributes.BaseInfo.LLaneID = \"\";\r\n        for (let k = 0; k < info.lanes.vertical.length; k++) {\r\n          const lane = info.lanes.vertical[k];\r\n          laneWidth += parseInt(lane.size);\r\n\r\n          if (x < laneWidth) {\r\n            node.attributes.BaseInfo.LLaneID = lane.id;\r\n            break;\r\n          }\r\n        }\r\n        postData.WorkFlow.NodeList.push(node.attributes);\r\n        node.nodeType = \"node\";\r\n        postData.WorkFlow.ElementList.push(node);\r\n      }\r\n      for (let i = 0; i < infoCopy.lines.length; i++) {\r\n        let line = infoCopy.lines[i];\r\n        delete line.paper;\r\n        postData.WorkFlow.LineList.push(line.attributes);\r\n        //\r\n        delete line.arrowEnd;\r\n        delete line.isRender;\r\n        line.nodeType = \"line\";\r\n        postData.WorkFlow.ElementList.push(line);\r\n      }\r\n      for (let i = 0; i < infoCopy.events.length; i++) {\r\n        let event = infoCopy.events[i];\r\n        postData.WorkFlow.EventList.push(event.attributes);\r\n        //\r\n        event.nodeType = \"event\";\r\n        postData.WorkFlow.ElementList.push(event);\r\n      }\r\n\r\n      for (let i = 0; i < info.lanes.horizontal.length; i++) {\r\n        let lane = info.lanes.horizontal[i];\r\n        let n = deepClone(lane);\r\n        delete n.isRender;\r\n        postData.WorkFlow.LaneList.horizontal.push(lane.attributes);\r\n        n.nodeType = \"lane\";\r\n        postData.WorkFlow.ElementList.push(n);\r\n      }\r\n      for (let i = 0; i < info.lanes.vertical.length; i++) {\r\n        let lane = info.lanes.vertical[i];\r\n        let n = deepClone(lane);\r\n        delete n.isRender;\r\n        postData.WorkFlow.LaneList.vertical.push(lane.attributes);\r\n        n.nodeType = \"lane\";\r\n        postData.WorkFlow.ElementList.push(n);\r\n      }\r\n      return postData;\r\n    },\r\n    // \r\n    doSave() {\r\n      // if (this.flowModel === \"systematic\") {\r\n      //   this.printImage(true);\r\n      //   return;\r\n      // }\r\n      this.saveFlow();\r\n    },\r\n    saveFlow() {\r\n      const postData = this.getSaveData();\r\n      // oa\r\n      // const xmlString = this.getXMLStr();\r\n      const params = {\r\n        sData: JSON.stringify(postData),\r\n        // sXml: xmlString,\r\n      };\r\n      Object.assign(params, {sID: this.$route.query.id}, this.$route.query);\r\n      this.$http\r\n        .post(\"wfm/saveWFDefinition\", params)\r\n        .done((result) => {\r\n          if (result.success) {\r\n            dsf.layer.message(\"\", true);\r\n          } else {\r\n            dsf.layer.message(\"\", false);\r\n          }\r\n        })\r\n        .error(() => {\r\n          dsf.layer.message(\"\", false);\r\n        });\r\n    },\r\n    initEvent() {\r\n      document.addEventListener(\"dragover\", (e) => {\r\n        if (this.dragNode) {\r\n          this.hasMoved = true;\r\n          this.isCtrlKey = e.ctrlKey; // dragend ctrlKeyfalse \r\n          this.dragToolOver(e);\r\n        }\r\n        if (this.dragEvent) {\r\n          this.dragEventOver(e);\r\n        }\r\n        if (this.dragAttach) {\r\n          this.dragAttachedOver(e);\r\n        }\r\n      });\r\n      document.addEventListener(\"dragend\", (e) => {\r\n        if (!this.hasMoved && this.dragNode) {\r\n          this.dragNode && document.body.removeChild(this.dragNode);\r\n          this.dragNode = null;\r\n          this.$bus.$emit(\"isMoveNode\", false);\r\n          this.hasMoved = false;\r\n        }\r\n        if (this.dragNode) {\r\n          this.dragToolEnd(e);\r\n          this.hasMoved = false;\r\n        }\r\n        if (this.dragEvent) {\r\n          this.dragEventEnd(e);\r\n          this.dragEvent && document.body.removeChild(this.dragEvent);\r\n          this.dragEvent = null;\r\n          this.cloneObj = null;\r\n          this.crashNode = null;\r\n          this.$bus.$emit(\"endMoveEvent\", true);\r\n        }\r\n        if (this.dragAttach) {\r\n          this.dragAttachedEnd(e);\r\n          this.dragAttach && document.body.removeChild(this.dragAttach);\r\n          this.dragAttach = null;\r\n          this.cloneObj = null;\r\n          this.crashNode = null;\r\n          this.$bus.$emit(\"endMoveEvent\", true);\r\n        }\r\n      });\r\n      this.$bus.$on(\"update-baseLine\", (baseLine) => {\r\n        this.baseLine = baseLine;\r\n      });\r\n      this.$bus.$on(\"update-checked\", (checked) => {\r\n        this.checked = checked || this.flow;\r\n      });\r\n      this.$bus.$on(\"parentAutoScroll\", this.parentAutoScroll);\r\n      this.$bus.$on(\"autoScroll\", this.autoScroll);\r\n      this.$bus.$on(\"resize\", this.resize);\r\n      this.$bus.$on(\"dragCloneEvent\", this.dragCloneEvent);\r\n      this.$bus.$on(\"dragCloneAttached\", this.dragCloneAttached);\r\n      this.$bus.$on(\"dragNode\", this.dragTool);\r\n      // this.$bus.$on('showSubNode', this.showSubNode);\r\n      this.$bus.$on(\"startGlobalMove\", this.startGlobalMove);\r\n      this.$bus.$on(\"startCopyNodes\", this.startCopyNodes);\r\n      this.$bus.$on(\"deleteLine\", this.deleteLine);\r\n      this.$bus.$on(\"initSubNode\", this.initSubNode);\r\n      document.addEventListener(\"keydown\", this.keydown);\r\n      window.onresize = () => {\r\n        this.reset();\r\n        this.resize();\r\n      };\r\n      this.$refs.root.addEventListener(\"mousedown\", (e) => {\r\n        const selectedList = this.selectedList || null;\r\n        // if (e.ctrlKey && selectedList && selectedList.length > 1) {\r\n        //   // this.startGlobalMove(e);\r\n        //   //ctrl\r\n        // } else {\r\n        //  \r\n        if (\r\n          e?.target?.tagName === \"svg\" &&\r\n          e?.target?.parentNode?.parentElement?.className.indexOf(\r\n            \"subprocess\"\r\n          ) === -1\r\n        ) {\r\n          this.checked = this.flow;\r\n          this.lines.forEach((line) => {\r\n            line.edit.isEdit = false;\r\n            line.edit.editName = false;\r\n          });\r\n          this.$bus.$emit(\"selectGlobal\", null);\r\n          this.isGlobalSelect = true;\r\n          const offset = this.$store.getters[\"flow/getSvgOffset\"];\r\n          const mp = this.$store.getters[\"flow/getMousePointByCanvas\"]({\r\n            x: e.pageX,\r\n            y: e.pageY,\r\n          });\r\n          // flow div\r\n          this.selectGlobalPos = {\r\n            x: mp.x + offset.left,\r\n            y: mp.y + offset.top,\r\n          };\r\n        }\r\n        // }\r\n      });\r\n      //\r\n      // (rootrootroot)\r\n      this.$refs.root.addEventListener(\"mousemove\", (e) => {\r\n        if (this.readOnly) {\r\n          return;\r\n        }\r\n        this.setCursor(e);\r\n        if (this.isGlobalPosMove) {\r\n          this.globalMove(e);\r\n        }\r\n\r\n        if (this.isGlobalSelect) {\r\n          this.selectGlobalMove(e);\r\n        }\r\n\r\n        if (this.isCopyNodes) {\r\n          this.nodesMove(e);\r\n        }\r\n      });\r\n      document.addEventListener(\"mouseup\", (e) => {\r\n        if (this.isGlobalPosMove) {\r\n          this.isGlobalPosMove = false;\r\n          this.globalPos = null;\r\n          this.resize();\r\n          // \r\n          this.$store.commit(\"flow/clearPoints\");\r\n        }\r\n\r\n        if (this.isGlobalSelect) {\r\n          this.selectGlobalEnd(e);\r\n          this.resize();\r\n          // \r\n          this.$store.commit(\"flow/clearPoints\");\r\n        }\r\n\r\n        if (this.isCopyNodes) {\r\n          this.nodesMoveEnd(e);\r\n        }\r\n      });\r\n      // \r\n      this.$refs.ds_page.addEventListener(\"wheel\", this.scrollwheel, true);\r\n      // \r\n      document.addEventListener(\"copy\", (e) => {\r\n        if (this.selectedList.length > 0) {\r\n          this.documentCopy(e);\r\n        }\r\n      });\r\n      document.addEventListener(\"paste\", (e) => {\r\n        if (this.ctrlCopyNodes) {\r\n          this.pasteNode(e);\r\n        }\r\n      });\r\n    },\r\n    initSubNode(node, ElementList) {\r\n      node.open.show = true;\r\n      node.lines &&\r\n        node.lines.forEach((line) => {\r\n          line.remove();\r\n        });\r\n      this.$set(node, \"nodes\", []);\r\n      this.$set(node, \"lines\", []);\r\n      this.$set(node, \"events\", []);\r\n      ElementList.forEach((element) => {\r\n        //\r\n        if (element.nodeType == \"node\") {\r\n          // \r\n          Object.assign(element, {\r\n            x: element.point.x,\r\n            y: element.point.y,\r\n          });\r\n          node.nodes.push(this.addSubNode(element, node));\r\n        }\r\n        //\r\n        else if (element.nodeType == \"line\") {\r\n          let line = element;\r\n          if (line.linkInfo) {\r\n            line.linkInfo.fromOffset = parseFloat(line.linkInfo.fromOffset);\r\n            line.linkInfo.toOffset = parseFloat(line.linkInfo.toOffset);\r\n          }\r\n          //  \r\n          setTimeout(() => {\r\n            this.$bus.$emit(`addLine${node.id}`, {\r\n              id: line.id,\r\n              type: line.type,\r\n              name: line.name,\r\n              path: line.path,\r\n              from: line.from,\r\n              fromType: line.fromType,\r\n              to: line.to,\r\n              linkInfo: line.linkInfo,\r\n              attributes: line.attributes,\r\n              parentNodeId: node.id,\r\n            });\r\n          }, 0);\r\n        }\r\n        // \r\n        else if (element.nodeType == \"event\") {\r\n          let newEvent = new BoundaryEvent(element);\r\n          newEvent.parentNode = node;\r\n          newNode.events.push(newEvent);\r\n        }\r\n      });\r\n      this.nodeResize(node);\r\n    },\r\n    copyNewNode(ev, tool, offset, copy) {\r\n      ev?.dataTransfer?.setDragImage?.(new Image(), 0, 0); //  \r\n      const target = ev.target || ev;\r\n      let cloneNode = target.cloneNode(true);\r\n      cloneNode.setAttribute(\"draggable\", true);\r\n      cloneNode.offset = {\r\n        x: offset ? offset.x : 0,\r\n        y: offset ? offset.y : 0,\r\n      };\r\n      // \r\n      if (copy) {\r\n        cloneNode.copyNode = tool;\r\n      }\r\n      if (!copy && tool.type === 102) {\r\n        cloneNode.tool = tool;\r\n      }\r\n      cloneNode.className =\r\n        cloneNode.className + \" drag_nodeOuter \" + this.flowModel;\r\n      Object.assign(cloneNode.style, {\r\n        position: \"absolute\",\r\n        zIndex: 9999,\r\n        top: this.toPx(\r\n          ev.pageY - ((tool.padding || 0) + cloneNode.offset.y) * this.scale\r\n        ),\r\n        left: this.toPx(\r\n          ev.pageX - ((tool.padding || 0) + cloneNode.offset.x) * this.scale\r\n        ),\r\n        pointerEvents: \"none\",\r\n        cursor: \"move\",\r\n        transform: `scale(${this.scale}) translateZ(0px)`,\r\n        transformOrigin: \"left top\",\r\n      });\r\n      document.body.appendChild(cloneNode);\r\n      this.$bus.$emit(\"isMoveNode\", copy ? cloneNode.copyNode : cloneNode);\r\n      return cloneNode;\r\n    },\r\n    startCopyNodes(e) {\r\n      this.isCopyNodes = true;\r\n      this.copyNodesPos = {\r\n        x: e.pageX,\r\n        y: e.pageY,\r\n      };\r\n    },\r\n    createCopyNodes(e) {\r\n      //\r\n      const selectedList = this.selectedList || null;\r\n      if (selectedList && selectedList.length > 1) {\r\n        this.copyNodes = [];\r\n        selectedList.forEach((node) => {\r\n          const target = document.querySelector(\r\n            `.nodeOuter[data-id=\"${node.id}\"]`\r\n          );\r\n          const point = {\r\n            x: node.point.x * this.scale,\r\n            y: node.point.y * this.scale,\r\n          };\r\n          let getPoint = this.$store.getters[\"flow/getMousePointByPoint\"](\r\n            point\r\n          );\r\n          target.pageX = getPoint.x;\r\n          target.pageY = getPoint.y;\r\n          const copyNode = this.copyNewNode(target, node, null, true);\r\n          copyNode.point = getPoint;\r\n          this.copyNodes.push(copyNode);\r\n        });\r\n      }\r\n    },\r\n    dragTool(ev, tool, offset, copy) {\r\n      offset = offset ?? {\r\n        x:\r\n          ev.offsetX -\r\n          (this.page.left / 2 - nodeSize.width - (this.page.left / 2) * 0.05) /\r\n            2,\r\n        y: ev.offsetY - (this.page.left / 2) * 0.05,\r\n      };\r\n      this.dragNode = this.copyNewNode(ev, tool, offset, copy);\r\n    },\r\n    getDisplacement(e) {\r\n      const localMouse = {\r\n        x: e.pageX,\r\n        y: e.pageY,\r\n      };\r\n      const last_p = getGridPoint(this.copyNodesPos);\r\n      const move_p = getGridPoint(localMouse);\r\n      return {\r\n        x: move_p.x - last_p.x,\r\n        y: move_p.y - last_p.y,\r\n      }; // \r\n    },\r\n    nodesMove(e) {\r\n      const displacement = this.getDisplacement(e); // \r\n      if (\r\n        (!this.copyNodes || (this.copyNodes && this.copyNodes.length === 0)) &&\r\n        (Math.abs(displacement.x) > 5 || Math.abs(displacement.y) > 5)\r\n      ) {\r\n        // 5\r\n        this.createCopyNodes(e);\r\n      }\r\n      this.copyNodes.forEach((node) => {\r\n        const copyNode = node.copyNode;\r\n        const offset = node.offset;\r\n        const end = {\r\n          x: node.point.x + displacement.x - offset.x * this.scale,\r\n          y: node.point.y + displacement.y - offset.y * this.scale,\r\n        };\r\n        node.style.top = this.toPx(end.y);\r\n        node.style.left = this.toPx(end.x);\r\n      });\r\n      this.isCtrlKey = e.ctrlKey;\r\n    },\r\n    dragToolOver(e) {\r\n      const node = this.dragNode;\r\n      const offset = node.offset;\r\n      node.style.top = this.toPx(e.pageY - offset.y * this.scale);\r\n      node.style.left = this.toPx(e.pageX - offset.x * this.scale);\r\n      const copyNode = node.copyNode;\r\n      this.endTarget = this.getTargetIsNodes(e.target, copyNode || node.tool);\r\n      if (!this.endTarget) {\r\n        return;\r\n      }\r\n      const className = this.endTarget && this.endTarget.className;\r\n      if (className?.indexOf?.(\"nodes isSub\") > -1) {\r\n        const node = getObjByTarget(this.nodes, this.endTarget);\r\n        this.$bus.$emit(\"dragToSubNode\", copyNode !== node ? node : null);\r\n      } else {\r\n        this.$bus.$emit(\"dragToSubNode\", null);\r\n      }\r\n      if (copyNode) {\r\n        this.$bus.$emit(\r\n          `moveCopyNode${copyNode.parentNodeId || \"\"}`,\r\n          e,\r\n          copyNode\r\n        );\r\n      }\r\n    },\r\n    getTargetIsNodes(target, copyNode) {\r\n      const svgRoot = document.querySelector(\".svgRoot\");\r\n      if (!svgRoot.contains(target)) {\r\n        return null;\r\n      }\r\n      // \r\n      if (copyNode && copyNode.type == \"102\") {\r\n        if (target?.className?.indexOf?.(\"nodes isSub\") > -1) {\r\n          return this.getTargetIsNodes(target?.parentElement);\r\n        }\r\n      }\r\n      if (target?.className?.indexOf(\"nodes\") > -1) {\r\n        return target;\r\n      }\r\n      return this.getTargetIsNodes(target?.parentElement);\r\n    },\r\n    getBeforeCopyLine(nodes) {\r\n      // \r\n      let lineIds = [];\r\n      nodes.forEach((item) => {\r\n        lineIds = [...lineIds, ...item.out, ...item.in];\r\n      });\r\n      lineIds = [...new Set(lineIds)]; // \r\n\r\n      let fromNodeIds = [];\r\n      let toNodeIds = [];\r\n      let newLines = [];\r\n      lineIds.forEach((lineId) => {\r\n        let line = getObjById(this.lines, lineId);\r\n        if (!line) {\r\n          return;\r\n        }\r\n        let from;\r\n        if (line.fromType === \"event\") {\r\n          from = getObjById(this.events, line.from);\r\n        } else {\r\n          from = getObjById(nodes, line.from);\r\n        }\r\n        const to = getObjById(nodes, line.to);\r\n        if (from && to) {\r\n          // \r\n          const newLine = deepClone(line);\r\n          newLine.id = tools.uuid();\r\n          fromNodeIds.push({ line: newLine, nodeId: from.id });\r\n          toNodeIds.push({ line: newLine, nodeId: to.id });\r\n          newLines.push(newLine);\r\n        }\r\n      });\r\n      return {\r\n        fromNodeIds,\r\n        toNodeIds,\r\n        newLines,\r\n      };\r\n    },\r\n    resetLineFromAndTo(fromNodeIds, toNodeIds, newNode, copyNode) {\r\n      if (fromNodeIds.length > 0) {\r\n        fromNodeIds.forEach((item) => {\r\n          if (item.nodeId === copyNode.id) {\r\n            newNode.in.push(item.line.id);\r\n            item.line.from = newNode.id;\r\n          }\r\n        });\r\n      }\r\n      if (toNodeIds.length > 0) {\r\n        toNodeIds.forEach((item) => {\r\n          if (item.nodeId === copyNode.id) {\r\n            newNode.out.push(item.line.id);\r\n            item.line.to = newNode.id;\r\n          }\r\n        });\r\n      }\r\n    },\r\n    copyEventsLines(newLines) {\r\n      newLines.forEach((line) => {\r\n        if (line.fromType === \"event\") {\r\n          // \r\n          const event = getObjById(this.events, line.from, \"fromId\");\r\n          if (event) {\r\n            delete event.fromId;\r\n            line.from = event.id;\r\n          } else {\r\n            line.from = null;\r\n          }\r\n        }\r\n        if (line.from && line.to) {\r\n          this.$bus.$emit(\"addLine\", {\r\n            id: line.id,\r\n            type: line.type,\r\n            name: line.name,\r\n            from: line.from,\r\n            fromType: line.fromType,\r\n            to: line.to,\r\n            linkInfo: line.linkInfo,\r\n          });\r\n        }\r\n      });\r\n    },\r\n    nodesMoveEnd(e) {\r\n      if (this.copyNodes && this.copyNodes.length > 0) {\r\n        const nodes = this.copyNodes.map((item) => item.copyNode);\r\n        const { fromNodeIds, toNodeIds, newLines } = this.getBeforeCopyLine(\r\n          nodes\r\n        );\r\n        const displacement = this.getDisplacement(e);\r\n        const selectedList = [];\r\n        let isMove;\r\n        this.copyNodes.forEach((node) => {\r\n          const copyNode = node.copyNode;\r\n          const offset = node.offset;\r\n          const end = {\r\n            pageX: node.point.x + displacement.x,\r\n            pageY: node.point.y + displacement.y,\r\n          };\r\n          const newNode = this.nodeMoveEnd(end, node);\r\n          if (newNode.id === copyNode.id) {\r\n            isMove = true;\r\n          } else {\r\n            this.resetLineFromAndTo(fromNodeIds, toNodeIds, newNode, copyNode);\r\n          }\r\n          this.checked = newNode;\r\n          selectedList.push(newNode);\r\n        });\r\n        if (!isMove) {\r\n          this.copyEventsLines(newLines);\r\n        }\r\n        // \r\n        this.$store.commit(\"flow/setSelectedList\", selectedList);\r\n      }\r\n      this.isCopyNodes = false;\r\n      this.copyNodesPos = null;\r\n      this.copyNodes = [];\r\n      this.$bus.$emit(\"isMoveNode\", false);\r\n    },\r\n    nodeMoveEnd(e, node) {\r\n      let newNode, point, isMove, fromCopyId;\r\n      // \r\n      const copyNode = node && node.copyNode;\r\n      const offset = node.offset;\r\n      if (copyNode) {\r\n        // \r\n        if (copyNode.parentNodeId) {\r\n          // \r\n          this.deleteNode(copyNode);\r\n          delete copyNode.id;\r\n          delete copyNode.parentNodeId;\r\n          delete copyNode.point;\r\n          point = Object.assign(copyNode, {\r\n            x:\r\n              e.pageX - offset.x * this.scale > copyNode.padding\r\n                ? e.pageX - offset.x * this.scale\r\n                : copyNode.padding,\r\n            y:\r\n              e.pageY - offset.y * this.scale > copyNode.padding\r\n                ? e.pageY - offset.y * this.scale\r\n                : copyNode.padding,\r\n            mouseConvert: true,\r\n          });\r\n        } else {\r\n          // \r\n          const mp = this.$store.getters[\"flow/getMousePointByCanvas\"]({\r\n            x: e.pageX - offset.x * this.scale,\r\n            y: e.pageY - offset.y * this.scale,\r\n          });\r\n          // let p = getGridPoint(mp);\r\n          let p = mp;\r\n          p = {\r\n            x: p.x > copyNode.padding ? p.x : copyNode.padding,\r\n            y: p.y > copyNode.padding ? p.y : copyNode.padding,\r\n          };\r\n          // ctrl \r\n          if (this.isCtrlKey) {\r\n            // \r\n            fromCopyId = copyNode.id;\r\n            const id = tools.uuid();\r\n            const newNode = JSON.parse(JSON.stringify(copyNode));\r\n            point = Object.assign({}, newNode, {\r\n              id: id,\r\n              out: [],\r\n              in: [],\r\n              x: p.x,\r\n              y: p.y,\r\n            });\r\n            point.attributes.BaseInfo.ID = id;\r\n          } else {\r\n            // \r\n            p = {\r\n              x: p.x / this.scale,\r\n              y: p.y / this.scale,\r\n            };\r\n            // \r\n            p = getGridPoint(p);\r\n            copyNode.point.x = p.x;\r\n            copyNode.point.y = p.y;\r\n            this.$bus.$emit(\"nodeMove\", copyNode);\r\n            isMove = true;\r\n          }\r\n        }\r\n      }\r\n      if (!isMove) {\r\n        // \r\n        const type = e.target && e.target.getAttribute(\"nodetype\");\r\n        const sort = e.target && e.target.getAttribute(\"sort\");\r\n        point = point || {\r\n          type: type,\r\n          sort: sort,\r\n          x: e.pageX - offset.x * this.scale,\r\n          y: e.pageY - offset.y * this.scale,\r\n          mouseConvert: true,\r\n        };\r\n        newNode = this.copyNodeNext(point, fromCopyId, copyNode);\r\n      }\r\n      document.body.removeChild(node);\r\n      this.resize();\r\n      return isMove ? copyNode : newNode;\r\n    },\r\n    copyNodeNext(point, fromCopyId, copyNode) {\r\n      const node = this.addNode(point);\r\n      this.nodes.push(node);\r\n      if (fromCopyId) {\r\n        //  \r\n        this.copyNodeEvent(fromCopyId, node);\r\n      }\r\n      //  \r\n      if (copyNode && copyNode.nodes && copyNode.nodes.length > 0) {\r\n        node.nodes = [];\r\n        copyNode.nodes.forEach((item) => {\r\n          const subNode = deepClone(item);\r\n          const subPoint = Object.assign(\r\n            {\r\n              x: subNode.point.x,\r\n              y: subNode.point.y,\r\n            },\r\n            subNode\r\n          );\r\n          node.nodes.push(this.addSubNode(subPoint, node));\r\n        });\r\n      }\r\n      return node;\r\n    },\r\n    dragToolEnd(e) {\r\n      if (this.endTarget) {\r\n        const className = this.endTarget && this.endTarget.className;\r\n        const node = getObjByTarget(this.nodes, this.endTarget);\r\n        if (className?.indexOf?.(\"nodes isSub\") > -1 && !this.verifySub(node)) {\r\n          if (node) {\r\n            let point, isMove;\r\n            // \r\n            if (this.dragNode && this.dragNode.copyNode) {\r\n              const copyNode = this.dragNode.copyNode;\r\n              const offset = this.dragNode.offset;\r\n              //  \r\n              if (\r\n                !copyNode.parentNodeId ||\r\n                (copyNode.parentNodeId && copyNode.parentNodeId !== node.id)\r\n              ) {\r\n                point = Object.assign(copyNode, {\r\n                  x:\r\n                    e.pageX - offset.x * this.scale > copyNode.padding\r\n                      ? e.pageX - offset.x * this.scale\r\n                      : copyNode.padding,\r\n                  y:\r\n                    e.pageY - offset.y * this.scale > copyNode.padding\r\n                      ? e.pageY - offset.y * this.scale\r\n                      : copyNode.padding,\r\n                  mouseConvert: true,\r\n                });\r\n                this.deleteNode(copyNode);\r\n                delete copyNode.id;\r\n              } else {\r\n                //  \r\n                point = {\r\n                  x: e.pageX - offset.x * this.scale,\r\n                  y: e.pageY - offset.y * this.scale,\r\n                  mouseConvert: true,\r\n                };\r\n                const options = this.getOptions(point);\r\n                copyNode.point.x = options.x - node.point.x;\r\n                // \r\n                copyNode.point.y =\r\n                  options.y - node.point.y - node.imgHeight - node.padding * 2;\r\n                this.$bus.$emit(`nodeMove${copyNode.parentNodeId}`, copyNode);\r\n                this.$bus.$emit(`cutOffLine${copyNode.parentNodeId}`, copyNode);\r\n                isMove = true;\r\n              }\r\n            }\r\n            if (!isMove) {\r\n              // \r\n              const type = e.target && e.target.getAttribute(\"nodetype\");\r\n              const sort = e.target && e.target.getAttribute(\"sort\");\r\n              point = point || {\r\n                type: type,\r\n                sort: sort,\r\n                x: e.pageX,\r\n                y: e.pageY,\r\n                mouseConvert: true,\r\n              };\r\n              const subNode = this.addSubNode(point, node);\r\n              node.nodes\r\n                ? node.nodes.push(subNode)\r\n                : this.$set(node, \"nodes\", [subNode]);\r\n              this.$set(node, \"lines\", node.lines || []);\r\n              this.$set(node, \"events\", node.events || []);\r\n              this.nodeResize(node);\r\n              this.$bus.$emit(`cutOffLine${subNode.parentNodeId}`, subNode);\r\n            }\r\n          }\r\n          document.body.removeChild(this.dragNode);\r\n        } else if (\r\n          className?.indexOf(\"nodes\") > -1 ||\r\n          (className?.indexOf?.(\"nodes isSub\") > -1 && this.verifySub(node))\r\n        ) {\r\n          this.checked = this.nodeMoveEnd(e, this.dragNode);\r\n          this.$bus.$emit(\"cutOffLine\", this.checked);\r\n          this.$store.commit(\"flow/setSelectedList\", [this.checked]);\r\n        }\r\n      } else {\r\n        document.body.removeChild(this.dragNode);\r\n      }\r\n      this.dragNode = null;\r\n      this.$bus.$emit(\"isMoveNode\", false);\r\n    },\r\n    createDragNode(ev, event) {\r\n      // this.checked = this.flow;\r\n      ev?.dataTransfer?.setDragImage?.(new Image(), 0, 0); //  \r\n      let dragNode = ev.target.cloneNode(true);\r\n      dragNode.className = \"ds_tool_event_drag\";\r\n      dragNode.setAttribute(\"draggable\", false);\r\n      dragNode.offset = {\r\n        x: ev.offsetX,\r\n        y: ev.offsetY,\r\n      };\r\n      const cloneTool = deepClone(event);\r\n      this.cloneObj = new BoundaryEvent(cloneTool, ev);\r\n      Object.assign(dragNode.style, {\r\n        position: \"absolute\",\r\n        zIndex: 9999,\r\n        width: this.toPx(this.cloneObj.width),\r\n        height: this.toPx(this.cloneObj.height),\r\n        top: this.toPx(ev.pageY - ev.offsetY),\r\n        left: this.toPx(ev.pageX - ev.offsetX),\r\n        pointerEvents: \"none\",\r\n        transform: `scale(${this.scale}) translateZ(0px)`,\r\n        transformOrigin: \"left top\",\r\n      });\r\n      document.body.appendChild(dragNode);\r\n      return dragNode;\r\n    },\r\n    commonDragOver(e, dragNode) {\r\n      e.dataTransfer.dropEffect = \"copy\";\r\n      if (dragNode) {\r\n        const offset = dragNode.offset;\r\n        // \r\n        const comp = this.computedPoint(e, dragNode);\r\n        if (\r\n          Array.from(e?.target?.classList)?.indexOf(\"task-node\") > -1 ||\r\n          Array.from(e?.target?.parentElement)?.indexOf(\"node\")\r\n        ) {\r\n          const parentAndSub = getObjByParentTarget(\r\n            this.nodes,\r\n            \"nodes\",\r\n            e.target\r\n          );\r\n          if (parentAndSub && !this.verifySub(parentAndSub.parent)) {\r\n            const parentNode = parentAndSub.parent;\r\n            const subNode = parentAndSub.sub;\r\n            this.crashNode = subNode;\r\n            let points;\r\n            if (\r\n              this.cloneObj.sort === \"boundaryEvent\" &&\r\n              subNode.sort !== \"task\"\r\n            ) {\r\n              points = [];\r\n            } else {\r\n              points = this.$store.getters[\"flow/getPoints\"](subNode.id);\r\n            }\r\n            if (!points) {\r\n              this.$store.commit(\"flow/setPointsByNode\", {\r\n                node: subNode,\r\n                obj: this.cloneObj,\r\n              });\r\n              points = this.$store.getters[\"flow/getPoints\"](subNode.id);\r\n            }\r\n            const subComp = {\r\n              point: {\r\n                x: comp.point.x - parentNode.point.x * this.scale,\r\n                y:\r\n                  comp.point.y -\r\n                  (parentNode.point.y +\r\n                    parentNode.padding +\r\n                    parentNode.imgHeight +\r\n                    parentNode.padding * 2) *\r\n                    this.scale,\r\n              },\r\n            };\r\n            const point = this.getPoint(subComp, points, this.distance);\r\n            if (point) {\r\n              this.cloneObj = Object.assign(this.cloneObj, point, {\r\n                parentNode,\r\n              });\r\n              let getPoint = this.$store.getters[\"flow/getMousePointByPoint\"](\r\n                point.point\r\n              );\r\n              getPoint.x = getPoint.x + parentNode.point.x * this.scale;\r\n              getPoint.y =\r\n                getPoint.y +\r\n                (parentNode.point.y +\r\n                  parentNode.imgHeight +\r\n                  parentNode.padding * 2) *\r\n                  this.scale;\r\n              dragNode.style.top = this.toPx(getPoint.y);\r\n              dragNode.style.left = this.toPx(getPoint.x);\r\n              return;\r\n            }\r\n          }\r\n          const node = getObjByTarget(this.nodes, e.target);\r\n          // \r\n          if (node) {\r\n            this.crashNode = node;\r\n            let points;\r\n            if (\r\n              this.cloneObj.sort === \"boundaryEvent\" &&\r\n              node.sort !== \"task\"\r\n            ) {\r\n              points = [];\r\n            } else {\r\n              points = this.$store.getters[\"flow/getPoints\"](node.id);\r\n            }\r\n            if (!points) {\r\n              this.$store.commit(\"flow/setPointsByNode\", {\r\n                node,\r\n                obj: this.cloneObj,\r\n              });\r\n              points = this.$store.getters[\"flow/getPoints\"](node.id);\r\n            }\r\n            const point = this.getPoint(comp, points, this.distance);\r\n            if (point) {\r\n              this.cloneObj = Object.assign(this.cloneObj, point);\r\n              const getPoint = this.$store.getters[\"flow/getMousePointByPoint\"](\r\n                point.point\r\n              );\r\n              dragNode.style.top = this.toPx(getPoint.y);\r\n              dragNode.style.left = this.toPx(getPoint.x);\r\n              return;\r\n            }\r\n          }\r\n        }\r\n        this.crashNode = null;\r\n        dragNode.style.top = this.toPx(e.pageY - offset.x * this.scale);\r\n        dragNode.style.left = this.toPx(e.pageX - offset.x * this.scale);\r\n      }\r\n    },\r\n    commonDragEnd(e) {\r\n      if (e.type === \"drop\") {\r\n        e = event ? event : e;\r\n        e.preventDefault();\r\n      } else {\r\n        if (event.touches) {\r\n          e = event.touches[0] ? event.touches[0] : event;\r\n        }\r\n      }\r\n      if (!this.crashNode) {\r\n        return;\r\n      }\r\n      const points =\r\n        this.$store.getters[\"flow/getPoints\"](this.crashNode.id) ?? [];\r\n      let obj = this.computedPoint(e, this.cloneObj);\r\n      if (this.cloneObj.parentNode) {\r\n        const parentNode = this.cloneObj.parentNode;\r\n        obj = {\r\n          point: {\r\n            x: obj.point.x - parentNode.point.x * this.scale,\r\n            y:\r\n              obj.point.y -\r\n              (parentNode.point.y +\r\n                parentNode.padding +\r\n                parentNode.imgHeight +\r\n                parentNode.padding * 2) *\r\n                this.scale,\r\n          },\r\n        };\r\n      }\r\n      const point = this.getPoint(obj, points, this.distance);\r\n      if (point) {\r\n        // \r\n        points.splice(points?.indexOf(point), 1);\r\n        // node\r\n        if (this.cloneObj.from) {\r\n          const events = this.cloneObj.parentNode\r\n            ? this.cloneObj.parentNode.events\r\n            : this.events;\r\n          events.forEach((item) => {\r\n            if (item.id === this.cloneObj.from) {\r\n              // \r\n              this.$store.commit(\"flow/addPoint\", {\r\n                id: this.cloneObj.nodeId,\r\n                obj: {\r\n                  point: {\r\n                    x: item.point.x,\r\n                    y: item.point.y,\r\n                  },\r\n                  index: item.index,\r\n                  direction: item.direction,\r\n                },\r\n              });\r\n            }\r\n          });\r\n          this.deleteEvent(this.cloneObj.from, events);\r\n          this.cloneObj.id = this.cloneObj.from;\r\n          delete this.cloneObj.from;\r\n        }\r\n        // \r\n        this.cloneObj = Object.assign(this.cloneObj, point);\r\n        this.cloneObj.point.x = this.cloneObj.point.x / this.scale;\r\n        this.cloneObj.point.y = this.cloneObj.point.y / this.scale;\r\n        this.cloneObj.nodeId = this.crashNode.id;\r\n        this.checked = this.cloneObj;\r\n        if (this.cloneObj.out && this.cloneObj.out.length > 0) {\r\n          this.$bus.$emit(\r\n            `eventMove${\r\n              this.cloneObj.parentNode ? this.cloneObj.parentNode.id : \"\"\r\n            }`,\r\n            this.cloneObj\r\n          );\r\n        }\r\n      }\r\n    },\r\n    dragBoundaryEvent(ev, event) {\r\n      this.dragEvent = this.createDragNode(ev, event);\r\n      this.$bus.$emit(\"startMoveEvent\", this.dragEvent);\r\n    },\r\n    dragEventOver(e) {\r\n      this.commonDragOver(e, this.dragEvent);\r\n    },\r\n    dragEventEnd(e) {\r\n      this.commonDragEnd(e);\r\n      if (this.crashNode) {\r\n        this.addNewEvent(this.cloneObj);\r\n      }\r\n    },\r\n    addNewEvent(cloneObj) {\r\n      if (cloneObj.parentNode) {\r\n        this.nodes.forEach((node) => {\r\n          if (cloneObj.parentNode && cloneObj.parentNode.id === node.id) {\r\n            node.events.push(cloneObj);\r\n          }\r\n        });\r\n      } else {\r\n        this.events.push(cloneObj);\r\n      }\r\n    },\r\n    dragAttached(ev, event) {\r\n      let newEvent = deepClone(event);\r\n      newEvent.name = event.type === \"mark\" ? \"A\" : 1;\r\n      this.dragAttach = this.createDragNode(ev, newEvent);\r\n      this.$bus.$emit(\"startMoveEvent\", this.cloneObj);\r\n    },\r\n    dragAttachedOver(e) {\r\n      this.commonDragOver(e, this.dragAttach);\r\n    },\r\n    dragAttachedEnd(e) {\r\n      this.commonDragEnd(e);\r\n      if (this.crashNode) {\r\n        this.addNewEvent(this.cloneObj);\r\n      }\r\n    },\r\n    dragCloneEvent(e, event) {\r\n      const copyEvent = deepClone(event);\r\n      copyEvent.from = event.id;\r\n      copyEvent.id = tools.uuid();\r\n      this.dragBoundaryEvent(e, copyEvent);\r\n    },\r\n    dragLineProperty(e, event) {\r\n      const copyEvent = deepClone(event);\r\n      copyEvent.from = event.id;\r\n      copyEvent.id = tools.uuid();\r\n      this.dragBoundaryEvent(e, copyEvent);\r\n    },\r\n    //  \r\n    copyNodeEvent(fromCopyId, node) {\r\n      let copyEvents = [];\r\n      this.events.forEach((ev) => {\r\n        if (ev.nodeId === fromCopyId) {\r\n          copyEvents.push(deepClone(ev));\r\n        }\r\n      });\r\n      if (copyEvents.length === 0) {\r\n        return;\r\n      }\r\n      // \r\n      this.$store.commit(\"flow/setPointsByNode\", { node, obj: copyEvents[0] });\r\n      const points = this.$store.getters[\"flow/getPoints\"](node.id);\r\n      points.forEach((item) => {\r\n        copyEvents.forEach((ev) => {\r\n          if (ev.direction === item.direction && ev.index === item.index) {\r\n            ev.fromId = ev.id; // \r\n            ev.id = tools.uuid();\r\n            ev.point = item.point;\r\n            ev.nodeId = node.id;\r\n            this.addNewEvent(ev);\r\n          }\r\n        });\r\n      });\r\n    },\r\n    getPoint(obj, all, distance) {\r\n      let point;\r\n      let min = 0;\r\n      all.forEach((item) => {\r\n        let realDistance = this.getDistance(item, obj);\r\n        if (realDistance <= distance) {\r\n          if (min < realDistance) {\r\n            min = realDistance;\r\n            point = item;\r\n          }\r\n        }\r\n      });\r\n      return point;\r\n    },\r\n    getDistance(p1, p2) {\r\n      const dis = Math.sqrt(\r\n        Math.pow(p1.point.x - p2.point.x, 2) +\r\n          Math.pow(p1.point.y - p2.point.y, 2)\r\n      );\r\n      return dis;\r\n    },\r\n    computedPoint(e, moveObj) {\r\n      const mp = this.$store.getters[\"flow/getMousePointByCanvas\"]({\r\n        x: e.pageX,\r\n        y: e.pageY,\r\n      });\r\n      return { point: getGridPoint(mp) };\r\n    },\r\n    getOptions(opts) {\r\n      const options = Object.assign(\r\n        {\r\n          id: tools.uuid(),\r\n          type: 1,\r\n        },\r\n        opts\r\n      );\r\n      let p = {\r\n        x: options.x || 0,\r\n        y: options.y || 0,\r\n      };\r\n      if (options.mouseConvert == true) {\r\n        const mp = this.$store.getters[\"flow/getMousePointByCanvas\"]({\r\n          x: options.x,\r\n          y: options.y,\r\n        });\r\n        p.x = mp.x;\r\n        p.y = mp.y;\r\n      }\r\n      p = getGridPoint(p);\r\n      options.x = p.x / this.scale;\r\n      options.y = p.y / this.scale;\r\n      return options;\r\n    },\r\n    // \r\n    addNode(opts) {\r\n      const options = this.getOptions(opts);\r\n      const type = options.type;\r\n      if (!options.name && type != 102) {\r\n        options.order = this.nodes.length + 1;\r\n      }\r\n      options.name =\r\n        options.name ||\r\n        (type === \"201\" ? \"\" : type === \"299\" ? \"\" : \"\") ||\r\n        \"\" + this.nodes.length;\r\n      const node = new Node(options);\r\n      node.reset(this.flowModel);\r\n      return node;\r\n    },\r\n    // \r\n    addSubNode(opts, node) {\r\n      const options = this.getOptions(opts);\r\n      options.name =\r\n        options.name || \"\" + ((node.nodes && node.nodes.length) || 0);\r\n      if (options.mouseConvert == true) {\r\n        options.x = options.x - node.point.x;\r\n        // \r\n        options.y =\r\n          options.y - node.point.y - node.imgHeight - node.padding * 2;\r\n      }\r\n      let children = new Node(options);\r\n      children.parentNodeId = node.id; // \r\n      return children;\r\n    },\r\n    showSubNode(node) {},\r\n    // \r\n    keydown(e) {\r\n      if (this.checked && this.checked.readOnly) {\r\n        return;\r\n      }\r\n      if (e.keyCode == 46) {\r\n        const selectedList = this.selectedList || null;\r\n        // \r\n        if (selectedList && selectedList.length > 1) {\r\n          selectedList.forEach((node) => {\r\n            setTimeout(() => {\r\n              this.deleteNode(node);\r\n            }, 0);\r\n          });\r\n        } else if (this.checked instanceof Node) {\r\n          // \r\n          this.deleteNode(this.checked, true);\r\n        } else if (this.checked instanceof Lane) {\r\n          this.$store.commit(\"flow/deleteLane\", this.checked);\r\n          this.resize();\r\n        } else if (this.checked instanceof Line) {\r\n          this.deleteLine(this.checked, true);\r\n        } else if (this.checked instanceof BoundaryEvent) {\r\n          const checked = this.checked;\r\n          if (checked.type === \"risk\" || checked.type === \"mark\") {\r\n            dsf.layer\r\n              .confirm({\r\n                title: \"\",\r\n                message: \"\",\r\n              })\r\n              .then(() => {\r\n                this.deleteEventAndLines(checked);\r\n              })\r\n              .catch(() => {});\r\n          } else {\r\n            this.deleteEventAndLines(checked);\r\n          }\r\n        }\r\n        this.checked = {};\r\n      }\r\n    },\r\n    deleteEventAndLines(checked) {\r\n      for (let i = checked[\"out\"].length - 1; i >= 0; i--) {\r\n        const l = getObjById(this.lines, checked[\"out\"][i]);\r\n        if (l) {\r\n          this.deleteLine(l);\r\n        }\r\n      }\r\n      const events = checked.parentNode\r\n        ? checked.parentNode.events\r\n        : this.events;\r\n      // \r\n      this.deleteEvent(checked.id, events, true);\r\n    },\r\n    deleteNode(node, isDel) {\r\n      // \r\n      let parentNode;\r\n      if (node.parentNodeId) {\r\n        parentNode = this.nodes.find((item) => node.parentNodeId === item.id);\r\n        if (isDel && this.verifySub(parentNode)) {\r\n          return;\r\n        }\r\n      }\r\n      const nodes = node.parentNodeId ? parentNode.nodes : this.nodes;\r\n      const lines = node.parentNodeId ? parentNode.lines : this.lines;\r\n      const events = node.parentNodeId ? parentNode.events : this.events;\r\n      const index = nodes?.indexOf(node);\r\n      if (index > -1) {\r\n        const obj = node;\r\n        // \r\n        if (obj.in.length > 0 && obj.out.length > 0) {\r\n          obj.in.forEach((lineIn) => {\r\n            const getIn = getObjById(lines, lineIn);\r\n            if (getIn) {\r\n              const fromNode = getObjById(nodes, getIn.from);\r\n              obj.out.forEach((lineOut) => {\r\n                const getOut = getObjById(lines, lineOut);\r\n                if (getOut) {\r\n                  const toNode = getObjById(nodes, getOut.to);\r\n                  if (fromNode === toNode) {\r\n                    return;\r\n                  }\r\n                  // \r\n                  const id = tools.uuid();\r\n                  const currentLineInfo = {\r\n                    endPoint: getOut.path[getOut.path.length - 1],\r\n                    fromDirection: getIn.linkInfo.fromDirection,\r\n                    fromNode: fromNode,\r\n                    startPoint: getIn.path[0],\r\n                    targetDirection: getOut.linkInfo.toDirection,\r\n                    targetNode: toNode,\r\n                  };\r\n                  const points = getNodeLinkPoints(currentLineInfo);\r\n                  // getOut.path.splice(0, 1);\r\n                  // getIn.path.splice(getIn.path.length - 1, 1, ...getOut.path);\r\n                  let newLineParam = {\r\n                    id: id,\r\n                    type: getIn.type,\r\n                    name: fromNode.name + \"\" + toNode.name,\r\n                    path: points,\r\n                    from: getIn.from,\r\n                    fromType: getIn.fromType,\r\n                    isHide: getIn.isHide,\r\n                    to: getOut.to,\r\n                    linkInfo: {\r\n                      fromDirection: getIn.linkInfo.fromDirection,\r\n                      fromOffset: getIn.linkInfo.fromOffset,\r\n                      toDirection: getOut.linkInfo.toDirection,\r\n                      toOffset: getOut.linkInfo.toOffset,\r\n                    },\r\n                    attributes: Object.assign(getIn.attributes, {\r\n                      BaseInfo: {\r\n                        EndNodeID: getOut.to,\r\n                        ID: id,\r\n                        Name: fromNode.name + \"\" + toNode.name,\r\n                        StartNodeID: getIn.from,\r\n                      },\r\n                    }),\r\n                  };\r\n                  if (node.parentNodeId) {\r\n                    newLineParam.parentNodeId = node.parentNodeId;\r\n                  }\r\n                  this.$bus.$emit(\r\n                    `addLine${node.parentNodeId || \"\"}`,\r\n                    newLineParam\r\n                  );\r\n                }\r\n              });\r\n            }\r\n          });\r\n        }\r\n        // \r\n        for (let i = obj.out.length - 1; i >= 0; i--) {\r\n          const l = getObjById(lines, obj.out[i]);\r\n          if (l) {\r\n            this.deleteLine(l);\r\n          }\r\n        }\r\n        for (let i = obj.in.length - 1; i >= 0; i--) {\r\n          const l = getObjById(lines, obj.in[i]);\r\n          if (l) {\r\n            this.deleteLine(l);\r\n          }\r\n        }\r\n\r\n        // \r\n        for (let i = 0; i < events.length; i++) {\r\n          let nodeId = events[i].nodeId;\r\n          if (nodeId === obj.id) {\r\n            let event = events[i];\r\n            // \r\n            for (let j = event.out.length - 1; j >= 0; j--) {\r\n              const line = getObjById(this.lines, event.out[j]);\r\n              if (line) {\r\n                this.deleteLine(line);\r\n              }\r\n            }\r\n            events.splice(i, 1);\r\n            i--;\r\n          }\r\n        }\r\n        // \r\n        nodes.splice(index, 1);\r\n      }\r\n    },\r\n    deleteLine(line, isDel) {\r\n      // \r\n      let parentNode;\r\n      if (line.parentNodeId) {\r\n        parentNode = this.nodes.find((item) => line.parentNodeId === item.id);\r\n        if (isDel && this.verifySub(parentNode)) {\r\n          return;\r\n        }\r\n      }\r\n      line.remove();\r\n      const nodes = line.parentNodeId ? parentNode.nodes : this.nodes;\r\n      const lines = line.parentNodeId ? parentNode.lines : this.lines;\r\n      const index = lines?.indexOf(line);\r\n      if (index > -1) {\r\n        this.deleteFromOrOut(nodes, lines, line, index);\r\n      }\r\n    },\r\n    deleteFromOrOut(nodes, lines, line, index) {\r\n      const from = getObjById(nodes, line.from);\r\n      const to = getObjById(nodes, line.to);\r\n      if (from) {\r\n        const f_index = from[\"out\"]?.indexOf(line.id);\r\n        if (f_index >= 0) {\r\n          from[\"out\"].splice(f_index, 1);\r\n        }\r\n      }\r\n      if (to) {\r\n        const t_index = to[\"in\"]?.indexOf(line.id);\r\n        if (t_index >= 0) {\r\n          to[\"in\"].splice(t_index, 1);\r\n        }\r\n      }\r\n      lines.splice(index, 1);\r\n      this.$bus.$emit(\"updateIntersection\");\r\n    },\r\n    deleteEvent(id, events, isDel) {\r\n      const index = (events ? events : this.events).findIndex(\r\n        (ev) => ev.id === id\r\n      );\r\n      index > -1 && (events ? events : this.events).splice(index, 1);\r\n      // \r\n      this.$store.commit(\"flow/addPoint\", {\r\n        id: this.checked.nodeId,\r\n        obj: {\r\n          point: {\r\n            x: this.checked.point.x,\r\n            y: this.checked.point.y,\r\n          },\r\n          index: this.checked.index,\r\n          direction: this.checked.direction,\r\n        },\r\n      });\r\n      // this.dragEvent && document.body.removeChild(this.dragEvent);\r\n    },\r\n    // \r\n    addLane(direction, index) {\r\n      this.createLane({\r\n        direction: direction,\r\n        index: index,\r\n      });\r\n    },\r\n    createLane(options) {\r\n      const direction = options.direction;\r\n      options.name =\r\n        options.name || \"\" + (this.lanes[direction].length + 1);\r\n      options.id = options.id || tools.uuid();\r\n      const lane = new Lane(options);\r\n      const before = this.lanes[direction][\r\n        (options.index || this.lanes[direction].length) - 1\r\n      ];\r\n      if (direction == LaneDirection.vertical) {\r\n        // \r\n        lane.left = before ? before.size + before.left : 0;\r\n      } else {\r\n        // \r\n        lane.top = before ? before.size + before.top : 0;\r\n      }\r\n      this.$store.commit(\"flow/addLane\", {\r\n        direction,\r\n        lane,\r\n        index: options.index,\r\n      });\r\n      this.resize();\r\n    },\r\n    onScroll(e) {\r\n      const target = e.target;\r\n      this.$store.commit(\"flow/setSvgRoot\", {\r\n        scrollTop: target.scrollTop,\r\n        scrollLeft: target.scrollLeft,\r\n      });\r\n    },\r\n    //\r\n    getFromNodes(node) {\r\n      if (!node[\"in\"] || node[\"in\"].length <= 0) {\r\n        return null;\r\n      }\r\n      var arr = [];\r\n      for (let i = 0; i < node[\"in\"].length; i++) {\r\n        var lineId = node[\"in\"][i];\r\n        var line = getObjById(this.lines, lineId);\r\n        if (line) {\r\n          var fn = getObjById(this.nodes, line.from);\r\n          arr.push(fn);\r\n        }\r\n      }\r\n      return arr;\r\n    },\r\n    //\r\n    getToNodes(node) {\r\n      if (!node[\"out\"] || node[\"out\"].length <= 0) {\r\n        return null;\r\n      }\r\n      var arr = [];\r\n      for (let i = 0; i < node[\"out\"].length; i++) {\r\n        var lineId = node[\"out\"][i];\r\n        var line = getObjById(this.lines, lineId);\r\n        if (line) {\r\n          var fn = getObjById(this.nodes, line.to);\r\n          arr.push(fn);\r\n        }\r\n      }\r\n      return arr;\r\n    },\r\n    getFlowAllObjectMap(info) {\r\n      var dm = {};\r\n      for (let i = 0; i < info.nodes.length; i++) {\r\n        var node = info.nodes[i];\r\n        dm[node.id] = node;\r\n      }\r\n      for (let i = 0; i < info.lines.length; i++) {\r\n        var line = info.lines[i];\r\n        dm[line.id] = line;\r\n      }\r\n      for (let i = 0; i < info.lanes.horizontal.length; i++) {\r\n        var lane = info.lanes.horizontal[i];\r\n        dm[lane.id] = lane;\r\n      }\r\n      for (let i = 0; i < info.lanes.vertical.length; i++) {\r\n        var lane = info.lanes.vertical[i];\r\n        dm[lane.id] = lane;\r\n      }\r\n      return dm;\r\n    },\r\n    drawLine() {\r\n      this.isDrawLine = !this.isDrawLine;\r\n    },\r\n    resize() {\r\n      const minWidth = this.page.width;\r\n      const minHeight = this.page.height;\r\n      const width = minWidth || 0;\r\n      const height = minHeight || 0;\r\n\r\n      const lastV = this.lanes.vertical[this.lanes.vertical.length - 1];\r\n      // \r\n      const horizontalWidth = this.$store.getters[\"flow/lanesWidth\"];\r\n      // \r\n      if (lastV && lastV.size + lastV.left + horizontalWidth > width) {\r\n        this.width = lastV.size + lastV.left + horizontalWidth;\r\n      } else {\r\n        this.width = minWidth;\r\n      }\r\n\r\n      const lastH = this.lanes.horizontal[this.lanes.horizontal.length - 1];\r\n      // \r\n      const verticalHeight = this.$store.getters[\"flow/lanesHeight\"];\r\n      // \r\n      if (lastH && lastH.size + lastH.top + verticalHeight > height) {\r\n        this.height = lastH.size + lastH.top + verticalHeight;\r\n      } else {\r\n        this.height = minHeight;\r\n      }\r\n\r\n      // \r\n      let maxWidth = 0;\r\n      let maxHeigth = 0;\r\n      this.nodes.forEach((node) => {\r\n        if (node.width + node.point.x + node.padding * 2 > maxWidth) {\r\n          maxWidth = node.width + node.point.x + node.padding * 2;\r\n        }\r\n        if (node.height + node.point.y + node.padding * 2 + 20 > maxHeigth) {\r\n          maxHeigth = node.height + node.point.y + node.padding * 2 + 20;\r\n        }\r\n      });\r\n      this.width = this.width > maxWidth ? this.width : maxWidth;\r\n      this.height = this.height > maxHeigth ? this.height : maxHeigth;\r\n    },\r\n    nodeResize(node) {\r\n      // \r\n      let maxWidth = 0;\r\n      let maxHeigth = 0;\r\n      node.nodes.forEach((item) => {\r\n        if (item.width + item.point.x + item.padding * 2 > maxWidth) {\r\n          maxWidth = item.width + item.point.x + item.padding * 2;\r\n        }\r\n        if (\r\n          item.height +\r\n            item.point.y +\r\n            item.padding * 2 +\r\n            20 +\r\n            node.imgHeight +\r\n            node.padding * 2 >\r\n          maxHeigth\r\n        ) {\r\n          //  +  + padding +  + \r\n          maxHeigth =\r\n            item.height +\r\n            item.point.y +\r\n            item.padding * 2 +\r\n            20 +\r\n            node.imgHeight +\r\n            node.padding * 2;\r\n        }\r\n      });\r\n      node.width = node.width > maxWidth ? node.width : maxWidth;\r\n      node.height = node.height > maxHeigth ? node.height : maxHeigth;\r\n      this.$bus.$emit(\"nodeMove\", node);\r\n    },\r\n    autoScroll(arg) {\r\n      let point = null;\r\n      const type = arg.type;\r\n      if (type == \"node\") {\r\n        point = arg.point;\r\n        if (arg.mouse.x > this.width / 2) {\r\n          point.x = point.x + arg.data.width + this.maxSizeOffset;\r\n        } else {\r\n          point.x = point.x;\r\n        }\r\n        if (arg.mouse.y > this.height / 2) {\r\n          point.y = point.y + arg.data.height + this.maxSizeOffset;\r\n        } else {\r\n          point.y = point.y;\r\n        }\r\n      } else if (type == \"line\") {\r\n        point = this.$store.getters[\"flow/getMousePointByCanvas\"]({\r\n          x: arg.mouse.x,\r\n          y: arg.mouse.y,\r\n        });\r\n        if (arg.mouse.x > this.width / 2) {\r\n          point.x = point.x + this.maxSizeOffset;\r\n        } else {\r\n          point.x = point.x - this.maxSizeOffset;\r\n        }\r\n        if (arg.mouse.y > this.height / 2) {\r\n          point.y = point.y + this.maxSizeOffset;\r\n        } else {\r\n          point.y = point.y - this.maxSizeOffset;\r\n        }\r\n      } else if (type == \"lane\") {\r\n        point = this.$store.getters[\"flow/getMousePointByCanvas\"]({\r\n          x: arg.mouse.x,\r\n          y: arg.mouse.y,\r\n        });\r\n        if (arg.mouse.x > this.width / 2) {\r\n          point.x = point.x + this.maxSizeOffset;\r\n        } else {\r\n          point.x = point.x;\r\n        }\r\n        if (arg.mouse.y > this.height / 2) {\r\n          point.y = point.y + this.maxSizeOffset;\r\n        } else {\r\n          point.y = point.y;\r\n        }\r\n      }\r\n      //\r\n      let parentElement = this.$refs.ds_page;\r\n      if (!parentElement) {\r\n        return;\r\n      }\r\n      let size, scrollLeft, scrollTop;\r\n      if (point.x < parentElement.scrollLeft) {\r\n        size = Math.abs(parentElement.scrollLeft - point.x);\r\n        scrollLeft = parentElement.scrollLeft;\r\n        parentElement.scrollLeft = scrollLeft - size / 3;\r\n      }\r\n      if (point.y < parentElement.scrollTop) {\r\n        size = Math.abs(parentElement.scrollTop - point.y);\r\n        scrollTop = parentElement.scrollTop;\r\n        parentElement.scrollTop = scrollTop - size / 3;\r\n      }\r\n      if (point.h < parentElement.scrollTop) {\r\n        size = Math.abs(parentElement.scrollLeft - point.x);\r\n        scrollLeft = parentElement.scrollLeft;\r\n        parentElement.scrollLeft = scrollLeft - size / 3;\r\n      }\r\n      //\r\n      if (point.x > parentElement.clientWidth + parentElement.scrollLeft) {\r\n        this.width = point.x;\r\n        size = Math.abs(\r\n          parentElement.clientWidth + parentElement.scrollLeft - point.x\r\n        );\r\n        scrollLeft = parentElement.scrollLeft;\r\n        parentElement.scrollLeft = scrollLeft + size / 3;\r\n      }\r\n      if (point.y > parentElement.clientHeight + parentElement.scrollTop) {\r\n        this.height = point.y;\r\n        size = Math.abs(\r\n          parentElement.clientHeight + parentElement.scrollTop - point.y\r\n        );\r\n        scrollTop = parentElement.scrollTop;\r\n        parentElement.scrollTop = scrollTop + size / 3;\r\n      }\r\n    },\r\n    parentAutoScroll(arg) {\r\n      //  \r\n      let mouse = arg.mouse;\r\n      let point = arg.point;\r\n      let parent = arg.parent;\r\n      let node = arg.node;\r\n      if (point.x > parent.width + parent.point.x) {\r\n        point.x = point.x + node.width + this.maxSizeOffset;\r\n      } else {\r\n        point.x = point.x;\r\n      }\r\n      if (point.y > parent.height + parent.point.y) {\r\n        point.y = point.y + node.height + this.maxSizeOffset;\r\n      } else {\r\n        point.y = point.y;\r\n      }\r\n      //\r\n      if (point.x > parent.width + 0) {\r\n        parent.width = point.x;\r\n      }\r\n      if (point.y > parent.height + 0) {\r\n        parent.height = point.y;\r\n      }\r\n      this.$bus.$emit(\"nodeMove\", parent);\r\n      this.autoScroll({\r\n        type: \"node\",\r\n        data: parent,\r\n        mouse: {\r\n          x: mouse.x,\r\n          y: mouse.y,\r\n        },\r\n        point: {\r\n          x: point.x,\r\n          y: point.y,\r\n        },\r\n      });\r\n    },\r\n    setCursor(evt) {\r\n      if (evt.target.tagName != \"svg\") {\r\n        var className = evt.target.className || \"\";\r\n        if (evt.target.tagName == \"path\") {\r\n          var segmen = getObjectByTarget(evt.target);\r\n          if (segmen) {\r\n            var mp = this.$store.getters[\"flow/getMousePointByCanvas\"]({\r\n              x: evt.pageX,\r\n              y: evt.pageY,\r\n            });\r\n            if (segmen.type == _LineType.horizontal) {\r\n              if (\r\n                segmen.index == 0 &&\r\n                Math.abs(segmen.sp.x - mp.x) <= this.dragSize\r\n              ) {\r\n                this.setRootCursor(\"move\");\r\n              } else if (\r\n                segmen.isLast &&\r\n                Math.abs(segmen.ep.x - mp.x) <= this.dragSize\r\n              ) {\r\n                this.setRootCursor(\"move\");\r\n              } else {\r\n                this.setRootCursor(\"ns-resize\");\r\n              }\r\n            } else {\r\n              if (\r\n                segmen.index == 0 &&\r\n                Math.abs(segmen.sp.y - mp.y) <= this.dragSize\r\n              ) {\r\n                this.setRootCursor(\"move\");\r\n              } else if (\r\n                segmen.isLast &&\r\n                Math.abs(segmen.ep.y - mp.y) <= this.dragSize\r\n              ) {\r\n                this.setRootCursor(\"move\");\r\n              } else {\r\n                this.setRootCursor(\"ew-resize\");\r\n              }\r\n            }\r\n          }\r\n        }\r\n      } else {\r\n        this.setRootCursor(\"default\");\r\n      }\r\n    },\r\n    setRootCursor(type) {\r\n      this.$refs.root.style.cursor = type;\r\n    },\r\n    startGlobalMove(e) {\r\n      //shift\r\n      this.isGlobalPosMove = true;\r\n      this.globalPos = this.$store.getters[\"flow/getMousePointByCanvas\"]({\r\n        x: e.pageX,\r\n        y: e.pageY,\r\n      });\r\n      this.globalMoveLastMouse = {\r\n        x: e.pageX,\r\n        y: e.pageY,\r\n      };\r\n      this.globalRect = this.getRect();\r\n    },\r\n    globalMove(evt) {\r\n      if (this.isGlobalPosMove) {\r\n        const localMouse = {\r\n          x: evt.pageX,\r\n          y: evt.pageY,\r\n        };\r\n        const last_p = getGridPoint(this.globalMoveLastMouse);\r\n        const move_p = getGridPoint(localMouse);\r\n        const current_p = {\r\n          x: move_p.x - last_p.x,\r\n          y: move_p.y - last_p.y,\r\n        };\r\n        const maxWidth = Number.MIN_VALUE,\r\n          maxHeight = Number.MIN_VALUE;\r\n        if (current_p.x == 0 && current_p.y == 0) {\r\n          return false;\r\n        }\r\n        let x_move = false,\r\n          y_move = false;\r\n        if (this.globalRect.x + current_p.x > 0) {\r\n          this.globalRect.x += current_p.x;\r\n          x_move = true;\r\n        }\r\n        if (this.globalRect.y + current_p.y >= 0) {\r\n          this.globalRect.y += current_p.y;\r\n          y_move = true;\r\n        }\r\n        this.$bus.$emit(\"globalMove\", current_p, x_move, y_move, evt);\r\n        this.globalMoveLastMouse = move_p;\r\n        return;\r\n      }\r\n    },\r\n    getRect() {\r\n      let x = Number.MAX_VALUE,\r\n        y = Number.MAX_VALUE,\r\n        width = Number.MIN_VALUE,\r\n        height = Number.MIN_VALUE;\r\n      for (let i = 0; i < this.nodes.length; i++) {\r\n        let node = this.nodes[i];\r\n        if (node.point.x < x) {\r\n          x = node.point.x;\r\n        }\r\n        if (node.point.x + node.width > width) {\r\n          width = node.point.x + node.width;\r\n        }\r\n        if (node.point.y < y) {\r\n          y = node.point.y;\r\n        }\r\n        if (node.point.y + node.height > height) {\r\n          height = node.point.y + node.height;\r\n        }\r\n      }\r\n      for (let i = 0; i < this.lines.length; i++) {\r\n        let line = this.lines[i];\r\n        for (let n = 0; n < line.path.length; n++) {\r\n          if (line.path[n].x < x) {\r\n            x = line.path[n].x;\r\n          }\r\n          if (line.path[n].x > width) {\r\n            width = line.path[n].x;\r\n          }\r\n          if (line.path[n].y < y) {\r\n            y = line.path[n].y;\r\n          }\r\n          if (line.path[n].y > height) {\r\n            height = line.path[n].y;\r\n          }\r\n        }\r\n      }\r\n      return {\r\n        x: x,\r\n        y: y,\r\n        width: width,\r\n        height: height,\r\n      };\r\n    },\r\n    getWheelDirect(e) {\r\n      e = e || window.event;\r\n      let direction;\r\n      if (e.wheelDelta) {\r\n        //IE\r\n        if (e.wheelDelta > 0) {\r\n          //\r\n          direction = \"up\";\r\n        }\r\n        if (e.wheelDelta < 0) {\r\n          //\r\n          direction = \"down\";\r\n        }\r\n      } else if (e.detail) {\r\n        //Firefox\r\n        if (e.detail > 0) {\r\n          //\r\n          direction = \"up\";\r\n        }\r\n        if (e.detail < 0) {\r\n          //\r\n          direction = \"down\";\r\n        }\r\n      }\r\n      return direction;\r\n    },\r\n    scrollwheel(e) {\r\n      e = e || window.event;\r\n      // if(e.preventDefault && e.ctrlKey) e.preventDefault();\r\n      // if(e.ctrlKey) e.returnValue = false;\r\n      if (e.wheelDelta && e.ctrlKey) {\r\n        e.preventDefault();\r\n        const direction = this.getWheelDirect(e);\r\n        this.rootScale(direction);\r\n      }\r\n    },\r\n    rootScale(direction) {\r\n      let scale = 1;\r\n      if (direction === \"up\") {\r\n        scale = Number(\r\n          (this.scale + 0.05 < 2 ? this.scale + 0.05 : 2).toFixed(2)\r\n        );\r\n      } else {\r\n        scale = Number((this.scale > 0.4 ? this.scale - 0.05 : 0.4).toFixed(2));\r\n      }\r\n      this.$store.commit(\"flow/setPage\", {\r\n        scale: scale,\r\n      });\r\n      this.$store.commit(\"flow/clearPoints\");\r\n    },\r\n    selectGlobalMove(e) {\r\n      if (!this.globalSelect) {\r\n        this.globalSelect = document.createElement(\"div\");\r\n        this.globalSelect.className = \"select-nodes\";\r\n        Object.assign(this.globalSelect.style, {\r\n          zIndex: 9999,\r\n          transform: `translate3d(${this.selectGlobalPos.x / this.scale}px, ${\r\n            this.selectGlobalPos.y / this.scale\r\n          }px, 0)`,\r\n          pointerEvents: \"none\",\r\n        });\r\n        this.$refs.root.appendChild(this.globalSelect);\r\n      }\r\n      if (this.selectGlobalPos) {\r\n        const start = this.selectGlobalPos;\r\n        const offset = this.$store.getters[\"flow/getSvgOffset\"];\r\n        const mp = this.$store.getters[\"flow/getMousePointByCanvas\"]({\r\n          x: e.pageX,\r\n          y: e.pageY,\r\n        });\r\n        // flow div\r\n        const end = {\r\n          x: mp.x + offset.left,\r\n          y: mp.y + offset.top,\r\n        };\r\n        let top, left, width, height;\r\n        if (end.x > start.x) {\r\n          left = start.x;\r\n          width = end.x - start.x;\r\n        } else {\r\n          left = end.x;\r\n          width = start.x - end.x;\r\n        }\r\n        if (end.y > start.y) {\r\n          top = start.y;\r\n          height = end.y - start.y;\r\n        } else {\r\n          top = end.y;\r\n          height = start.y - end.y;\r\n        }\r\n        this.selectGlobalPonits.start.x = left / this.scale;\r\n        this.selectGlobalPonits.start.y = top / this.scale;\r\n        this.selectGlobalPonits.end.x = (left + width) / this.scale;\r\n        this.selectGlobalPonits.end.y = (top + height) / this.scale;\r\n        Object.assign(this.globalSelect.style, {\r\n          transform: `translate3d(${left / this.scale}px, ${\r\n            top / this.scale\r\n          }px, 0)`,\r\n          width: this.toPx(width / this.scale),\r\n          height: this.toPx(height / this.scale),\r\n        });\r\n      }\r\n    },\r\n    selectGlobalEnd(e) {\r\n      this.isGlobalSelect = false;\r\n      if (this.globalSelect) {\r\n        const end = this.$store.getters[\"flow/getMousePointByCanvas\"]({\r\n          x: e.pageX,\r\n          y: e.pageY,\r\n        });\r\n        this.$bus.$emit(\r\n          \"selectGlobal\",\r\n          this.selectGlobalPonits.start,\r\n          this.selectGlobalPonits.end\r\n        );\r\n        this.$refs.root.removeChild(this.globalSelect);\r\n        this.globalSelect = null;\r\n      }\r\n    },\r\n    documentCopy(e) {\r\n      const selectedList = this.selectedList;\r\n      if (selectedList && selectedList.length > 1) {\r\n        this.ctrlCopyNodes = [...selectedList];\r\n      } else {\r\n        this.ctrlCopyNodes = [this.checked];\r\n      }\r\n    },\r\n    pasteNode(e) {\r\n      if (!this.ctrlCopyNodes) {\r\n        return false;\r\n      }\r\n      let copyNodes = [];\r\n      const { fromNodeIds, toNodeIds, newLines } = this.getBeforeCopyLine(\r\n        this.ctrlCopyNodes\r\n      );\r\n      this.ctrlCopyNodes.forEach((item) => {\r\n        const copyNode = item;\r\n        // \r\n        const fromCopyId = copyNode.id;\r\n        const id = tools.uuid();\r\n        const newcopyNode = JSON.parse(JSON.stringify(copyNode));\r\n        const point = Object.assign({}, newcopyNode, {\r\n          id: tools.uuid(),\r\n          out: [],\r\n          in: [],\r\n          x: copyNode.point.x + 10,\r\n          y: copyNode.point.y + 10,\r\n        });\r\n        point.attributes.BaseInfo.ID = id;\r\n        const newNode = this.copyNodeNext(point, fromCopyId, copyNode);\r\n        this.resetLineFromAndTo(fromNodeIds, toNodeIds, newNode, copyNode);\r\n        copyNodes.push(newNode);\r\n        this.checked = newNode;\r\n      });\r\n      this.copyEventsLines(newLines);\r\n      this.ctrlCopyNodes = copyNodes;\r\n      this.$store.commit(\"flow/setSelectedList\", copyNodes);\r\n    },\r\n    async toPrintImage(isSave, ids) {\r\n      const imgUrl = await this.html2canvas();\r\n      // \r\n      if (isSave) {\r\n        this.printImageUrl = imgUrl;\r\n      } else {\r\n        // \r\n        var link = document.createElement(\"a\");\r\n        link.download = this.flowInfo.BaseInfo.Name + \".png\";\r\n        link.href = imgUrl;\r\n        this.$nextTick(() => {\r\n          link.click();\r\n        });\r\n      }\r\n      setTimeout(() => {\r\n        if (ids) {\r\n          this.hideNodes(ids, false);\r\n        }\r\n        if (isSave) {\r\n          // \r\n          this.$nextTick(() => {\r\n            this.saveFlow();\r\n          });\r\n        }\r\n        this.isPrintImage = false;\r\n      }, 300);\r\n    },\r\n    html2canvas() {\r\n      const page = this.page;\r\n      const width =\r\n        this.scale > 1 ? this.width * this.scale : this.width / this.scale;\r\n      const height =\r\n        this.scale > 1 ? this.height * this.scale : this.height / this.scale;\r\n      return html2canvas(this.$refs.container, {\r\n        useCORS: true,\r\n        x: page.left,\r\n        y: page.top,\r\n        width: width,\r\n        height: height,\r\n      }).then((canvas) => {\r\n        var imgUrl = canvas.toDataURL(\"image/png\", 1); // 0-1\r\n        return imgUrl;\r\n      });\r\n    },\r\n    printImage(isSave) {\r\n      if (this.nodes.length === 0) {\r\n        this.toPrintImage(isSave);\r\n        return;\r\n      }\r\n      this.isPrintImage = true;\r\n      let params = {\r\n        nodes: this.nodes,\r\n        value: [],\r\n      };\r\n      dsf.layer.openDialog({\r\n        title: \"\",\r\n        width: \"400px\",\r\n        height: \"266px\",\r\n        overflow: \"auto\",\r\n        content: \"SumStartNode\",\r\n        params: params,\r\n        btns: [\r\n          {\r\n            text: \"\",\r\n            handler: async (component) => {\r\n              const ids = component.getContent();\r\n              if (ids.length > 0) {\r\n                this.hideNodes(ids, true);\r\n                this.toPrintImage(isSave, ids);\r\n                return;\r\n              }\r\n              this.toPrintImage(isSave);\r\n            },\r\n          },\r\n          {\r\n            text: \"\",\r\n          },\r\n        ],\r\n      });\r\n    },\r\n    hideNodes(ids, isHide) {\r\n      let lines = [];\r\n      ids.forEach((id) => {\r\n        // \r\n        this.nodes.forEach((item) => {\r\n          if (item.id === id) {\r\n            item.isHide = isHide;\r\n            lines = [...item.in, ...item.out];\r\n          }\r\n        });\r\n        // \r\n        this.events.forEach((ev) => {\r\n          if (ev.nodeId === id) {\r\n            ev.isHide = isHide;\r\n            lines = [...lines, ...ev.out];\r\n          }\r\n        });\r\n      });\r\n      if (lines.length > 0) {\r\n        this.$bus.$emit(\"hideLines\", lines, isHide);\r\n      }\r\n    },\r\n    ...FlowFun,\r\n    getProperties\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\n@import \"_platform/assets/styles/designer/workFlow.scss\";\r\nbody {\r\n  overflow: hidden;\r\n}\r\n.ds_page {\r\n  overflow: auto;\r\n  .flow {\r\n    position: relative;\r\n    width: 100%;\r\n    height: 100%;\r\n    //  \r\n    &.is-print-image {\r\n      .lane,\r\n      .nodeOuter,\r\n      .nodename,\r\n      .tool_event {\r\n        animation: none !important;\r\n      }\r\n      //  ellipsis -webkit-box \r\n      .nodename,\r\n      .task-msg {\r\n        text-overflow: clip;\r\n        display: inline-block;\r\n      }\r\n    }\r\n\r\n    .root {\r\n      position: relative;\r\n      min-width: 100%;\r\n      min-height: 100%;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./flow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./flow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./flow.vue?vue&type=template&id=51c433d9&\"\nimport script from \"./flow.vue?vue&type=script&lang=js&\"\nexport * from \"./flow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./flow.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"I:\\\\web-project\\\\dream\\\\dsf-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('51c433d9')) {\n      api.createRecord('51c433d9', component.options)\n    } else {\n      api.reload('51c433d9', component.options)\n    }\n    module.hot.accept(\"./flow.vue?vue&type=template&id=51c433d9&\", function () {\n      api.rerender('51c433d9', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"designer/flow/flow.vue\"\nexport default component.exports"],"sourceRoot":""}