/*!
 * Name: @dsf/cli-platform
 * Version: 0.2.46-alpha.11
 * Description: 平台基础包
 * BuildTime: 2021/7/14 下午4:42:57
 */
(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e(require("Vue"),require("Vuex")):"function"===typeof define&&define.amd?define("platform",["Vue","Vuex"],e):"object"===typeof exports?exports["platform"]=e(require("Vue"),require("Vuex")):t["platform"]=e(t["Vue"],t["Vuex"])})("undefined"!==typeof self?self:this,(function(__WEBPACK_EXTERNAL_MODULE__183__,__WEBPACK_EXTERNAL_MODULE__266__){return function(t){function e(e){for(var n,i,o=e[0],a=e[1],s=0,l=[];s<o.length;s++)i=o[s],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&l.push(r[i][0]),r[i]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);u&&u(e);while(l.length)l.shift()()}var n={},i={5:0},r={5:0};function o(t){return a.p+"modules/platform/js/dsf-platform."+({0:"vendors~Flow~printingDesign~seatView",2:"Flow",3:"TodoTemp",8:"printingDesign",9:"seatDesign",10:"seatView",11:"vendors~Flow"}[t]||t)+".js"}function a(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.e=function(t){var e=[],n={2:1,8:1,9:1,10:1};i[t]?e.push(i[t]):0!==i[t]&&n[t]&&e.push(i[t]=new Promise((function(e,n){for(var r="modules/platform/css/dsf-platform."+({0:"vendors~Flow~printingDesign~seatView",2:"Flow",3:"TodoTemp",8:"printingDesign",9:"seatDesign",10:"seatView",11:"vendors~Flow"}[t]||t)+".css",o=a.p+r,s=document.getElementsByTagName("link"),l=0;l<s.length;l++){var c=s[l],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===r||u===o))return e()}var f=document.getElementsByTagName("style");for(l=0;l<f.length;l++){c=f[l],u=c.getAttribute("data-href");if(u===r||u===o)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css";var h=function(r){if(d.onerror=d.onload=null,"load"===r.type)e();else{var a=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.href||o,l=new Error("Loading CSS chunk "+t+" failed.\n("+s+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=a,l.request=s,delete i[t],d.parentNode.removeChild(d),n(l)}};d.onerror=d.onload=h,d.href=o,document.head.appendChild(d)})).then((function(){i[t]=0})));var s=r[t];if(0!==s)if(s)e.push(s[2]);else{var l=new Promise((function(e,n){s=r[t]=[e,n]}));e.push(s[2]=l);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,a.nc&&u.setAttribute("nonce",a.nc),u.src=o(t);var f=new Error;c=function(e){u.onerror=u.onload=null,clearTimeout(d);var n=r[t];if(0!==n){if(n){var i=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;f.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",f.name="ChunkLoadError",f.type=i,f.request=o,n[1](f)}r[t]=void 0}};var d=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(e)},a.m=t,a.c=n,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a.oe=function(t){throw console.error(t),t};var s=("undefined"!==typeof self?self:this)["webpackJsonpplatform"]=("undefined"!==typeof self?self:this)["webpackJsonpplatform"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;return a(a.s=695)}([function(t,e,n){"use strict";function i(t,e,n,i,r,o,a,s){var l,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),i&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),a?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=l):r&&(l=s?function(){r.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var f=c.beforeCreate;c.beforeCreate=f?[].concat(f,l):[l]}return{exports:t,options:c}}n.d(e,"a",(function(){return i}))},function(t,e,n){var i=n(11),r=n(27),o=n(44),a=n(41),s=n(54),l="prototype",c=function(t,e,n){var u,f,d,h,p=t&c.F,m=t&c.G,g=t&c.S,v=t&c.P,y=t&c.B,b=m?i:g?i[e]||(i[e]={}):(i[e]||{})[l],_=m?r:r[e]||(r[e]={}),x=_[l]||(_[l]={});for(u in m&&(n=e),n)f=!p&&b&&void 0!==b[u],d=(f?b:n)[u],h=y&&f?s(d,i):v&&"function"==typeof d?s(Function.call,d):d,b&&a(b,u,d,t&c.U),_[u]!=d&&o(_,u,h),v&&x[u]!=d&&(x[u]=d)};i.core=r,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"d",(function(){return s})),n.d(e,"b",(function(){return l})),n.d(e,"f",(function(){return c})),n.d(e,"g",(function(){return u})),n.d(e,"e",(function(){return f})),n.d(e,"h",(function(){return h})),n.d(e,"j",(function(){return p})),n.d(e,"i",(function(){return m}));n(10),n(36),n(26),n(140);var i=n(496),r=n.n(i),o={vertical:"vertical",horizontal:"horizontal"},a={Left:"left",Right:"right",Top:"top",Bottom:"bottom",LeftTop:"leftTop",LeftBottom:"leftBottom",RightTop:"rightTop",RightBottom:"rightBottom"},s={vertical:"vertical",horizontal:"horizontal"},l={Left:"left",Right:"right",Top:"top",Bottom:"bottom"},c={width:40,height:44},u={width:200,height:124},f={width:500,height:304},d={width:110,height:50,nameWidth:80,imgWidth:110,imgHeight:50},h={101:d,102:d,103:d,104:d,105:d,106:d,107:d,108:d,109:d,201:{width:110,height:50,nameWidth:80,imgWidth:110,imgHeight:50},299:{width:110,height:50,nameWidth:80,imgWidth:110,imgHeight:50},301:{width:150,height:80,nameWidth:78,imgWidth:150,imgHeight:80},302:{width:150,height:80,nameWidth:78,imgWidth:150,imgHeight:80}},p=7,m={uuid:function(t,e){var n,i,r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),o=r,a=[];if(t=t||32,e=e||o.length,t)for(n=0;n<t;n++)a[n]=o[0|Math.random()*e];else for(a[8]=a[13]=a[18]=a[23]="",a[14]="4",n=0;n<36;n++)a[n]||(i=0|16*Math.random(),a[n]=o[19==n?3&i|8:i]);return a.join("")},laneTextRotate:function(t){t.css("transform","rotate(-90deg) translateX(-"+t.outerWidth()+"px)")},getNodeCenter:function(t){var e=t.point.x,n=t.point.y;return e+=t.width/2,n+=t.height/2,{x:e,y:n}},getNodeArriswiseAngle:function(t){var e={x:t.point.x,y:t.point.y},n={x:t.point.x+t.width,y:t.point.y+t.height},i=this.getAngle(e,n);return i},getNodeDirection:function(t,e){var n="",i=this.getNodeArriswiseAngle(t),r=this.getNodeCenter(t),o=e,a=this.getAngle({x:r.x,y:r.y},{x:o.x,y:o.y}),s=i;return n=0==a||a>=360-s||a<=s?l.Right:90==a||a>s&&a<=180-s?l.Bottom:270==a||a>180+s&&a<360-s?l.Top:l.Left,n},getDirection:function(t,e){var n="",i=this.getAngle({x:parseFloat(t.x),y:parseFloat(t.y)},{x:parseFloat(e.x),y:parseFloat(e.y)});return 0==i||360==i?n=a.Right:i>0&&i<90?n=a.RightBottom:90==i?n=a.Bottom:i>90&&i<180?n=a.LeftBottom:180==i?n=a.Left:i>180&&i<270?n=a.LeftTop:270==i?n=a.Top:i>270&&i<360&&(n=a.RightTop),n},getRadina:function(t,e,n){var i=Math.atan((e.y-t.y)/(e.x-t.x));return 0!=n&&(e.y-t.y>0&&e.x-t.x<0||e.y-t.y<0&&e.x-t.x<0?i+=Math.PI:e.y-t.y<0&&e.x-t.x>0&&(i+=2*Math.PI),e.x<t.x&&e.y==t.y?i=Math.PI:e.x==t.x&&e.y<t.y&&(i=1.5*Math.PI)),i},getAngle:function(t,e){var n=this.getRadina(t,e),i=180/(Math.PI/n);return i},angleToRadina:function(t){return t*Math.PI/180},getLineLength:function(t,e){var n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(Math.pow(n,2)+Math.pow(i,2));return r},getNodeJoinPoint:function(t){var e=this.getNodeCenter(t),n={top:{x:e.x,y:e.y-t.height/2},bottom:{x:e.x,y:e.y+t.height/2},left:{x:e.x-t.width/2,y:e.y},right:{x:e.x+t.width/2,y:e.y}};return n},convertSegmentByPoint:function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n],r=t[n+1];if(i&&r){var o=Math.sqrt(Math.pow(i.x-r.x,2)+Math.pow(i.y-r.y,2));e.push({sp:i,ep:r,lineLength:o})}}return e},getLineType:function(t){return t.sp.y==t.ep.y?s.horizontal:t.sp.x==t.ep.x?s.vertical:void 0},segmentsIntr:function(t,e,n,i){var r=e.y-t.y,o=t.x-e.x,a=i.y-n.y,s=n.x-i.x,l=r*s-o*a;if(0==l)return!1;var c=a*n.x+s*n.y,u=a*t.x+s*t.y-c,f=a*e.x+s*e.y-c;if(u*f>=0)return!1;var d=r*t.x+o*t.y,h=r*n.x+o*n.y-d,p=r*i.x+o*i.y-d;if(h*p>=0)return!1;var m=u/l,g=m*o,v=-m*r;return{x:t.x+g,y:t.y+v}},drawArrow:function(t){var e=8,n=t.ep.x,i=t.ep.y,o=m.getAngle(t.sp,t.ep),a=r.a.rad(o-25),s=r.a.rad(o+25),l=n-Math.cos(a)*e,c=i-Math.sin(a)*e,u=n-Math.cos(s)*e,f=i-Math.sin(s)*e,d=["M",n,i,"L",l,c,"L",u,f,"Z"];return d}}},function(t,e,n){t.exports=n(478)},function(t,e,n){"use strict";function i(t){this.content=t}n.r(e),n.d(e,"ContentMatch",(function(){return F})),n.d(e,"DOMParser",(function(){return ht})),n.d(e,"DOMSerializer",(function(){return Nt})),n.d(e,"Fragment",(function(){return l})),n.d(e,"Mark",(function(){return h})),n.d(e,"MarkType",(function(){return ut})),n.d(e,"Node",(function(){return L})),n.d(e,"NodeRange",(function(){return P})),n.d(e,"NodeType",(function(){return at})),n.d(e,"ReplaceError",(function(){return p})),n.d(e,"ResolvedPos",(function(){return T})),n.d(e,"Schema",(function(){return ft})),n.d(e,"Slice",(function(){return m})),i.prototype={constructor:i,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return-1==e?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,o=r.find(t),a=r.content.slice();return-1==o?a.push(n||t,e):(a[o+1]=e,n&&(a[o]=n)),new i(a)},remove:function(t){var e=this.find(t);if(-1==e)return this;var n=this.content.slice();return n.splice(e,2),new i(n)},addToStart:function(t,e){return new i([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new i(n)},addBefore:function(t,e,n){var r=this.remove(e),o=r.content.slice(),a=r.find(t);return o.splice(-1==a?o.length:a,0,e,n),new i(o)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=i.from(t),t.size?new i(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=i.from(t),t.size?new i(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=i.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},get size(){return this.content.length>>1}},i.from=function(t){if(t instanceof i)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new i(e)};var r=i,o=r;function a(t,e,n){for(var i=0;;i++){if(i==t.childCount||i==e.childCount)return t.childCount==e.childCount?null:n;var r=t.child(i),o=e.child(i);if(r!=o){if(!r.sameMarkup(o))return n;if(r.isText&&r.text!=o.text){for(var s=0;r.text[s]==o.text[s];s++)n++;return n}if(r.content.size||o.content.size){var l=a(r.content,o.content,n+1);if(null!=l)return l}n+=r.nodeSize}else n+=r.nodeSize}}function s(t,e,n,i){for(var r=t.childCount,o=e.childCount;;){if(0==r||0==o)return r==o?null:{a:n,b:i};var a=t.child(--r),l=e.child(--o),c=a.nodeSize;if(a!=l){if(!a.sameMarkup(l))return{a:n,b:i};if(a.isText&&a.text!=l.text){var u=0,f=Math.min(a.text.length,l.text.length);while(u<f&&a.text[a.text.length-u-1]==l.text[l.text.length-u-1])u++,n--,i--;return{a:n,b:i}}if(a.content.size||l.content.size){var d=s(a.content,l.content,n-1,i-1);if(d)return d}n-=c,i-=c}else n-=c,i-=c}}var l=function(t,e){if(this.content=t,this.size=e||0,null==e)for(var n=0;n<t.length;n++)this.size+=t[n].nodeSize},c={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};l.prototype.nodesBetween=function(t,e,n,i,r){void 0===i&&(i=0);for(var o=0,a=0;a<e;o++){var s=this.content[o],l=a+s.nodeSize;if(l>t&&!1!==n(s,i+a,r,o)&&s.content.size){var c=a+1;s.nodesBetween(Math.max(0,t-c),Math.min(s.content.size,e-c),n,i+c)}a=l}},l.prototype.descendants=function(t){this.nodesBetween(0,this.size,t)},l.prototype.textBetween=function(t,e,n,i){var r="",o=!0;return this.nodesBetween(t,e,(function(a,s){a.isText?(r+=a.text.slice(Math.max(t,s)-s,e-s),o=!n):a.isLeaf&&i?(r+=i,o=!n):!o&&a.isBlock&&(r+=n,o=!0)}),0),r},l.prototype.append=function(t){if(!t.size)return this;if(!this.size)return t;var e=this.lastChild,n=t.firstChild,i=this.content.slice(),r=0;for(e.isText&&e.sameMarkup(n)&&(i[i.length-1]=e.withText(e.text+n.text),r=1);r<t.content.length;r++)i.push(t.content[r]);return new l(i,this.size+t.size)},l.prototype.cut=function(t,e){if(null==e&&(e=this.size),0==t&&e==this.size)return this;var n=[],i=0;if(e>t)for(var r=0,o=0;o<e;r++){var a=this.content[r],s=o+a.nodeSize;s>t&&((o<t||s>e)&&(a=a.isText?a.cut(Math.max(0,t-o),Math.min(a.text.length,e-o)):a.cut(Math.max(0,t-o-1),Math.min(a.content.size,e-o-1))),n.push(a),i+=a.nodeSize),o=s}return new l(n,i)},l.prototype.cutByIndex=function(t,e){return t==e?l.empty:0==t&&e==this.content.length?this:new l(this.content.slice(t,e))},l.prototype.replaceChild=function(t,e){var n=this.content[t];if(n==e)return this;var i=this.content.slice(),r=this.size+e.nodeSize-n.nodeSize;return i[t]=e,new l(i,r)},l.prototype.addToStart=function(t){return new l([t].concat(this.content),this.size+t.nodeSize)},l.prototype.addToEnd=function(t){return new l(this.content.concat(t),this.size+t.nodeSize)},l.prototype.eq=function(t){if(this.content.length!=t.content.length)return!1;for(var e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0},c.firstChild.get=function(){return this.content.length?this.content[0]:null},c.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null},c.childCount.get=function(){return this.content.length},l.prototype.child=function(t){var e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e},l.prototype.maybeChild=function(t){return this.content[t]},l.prototype.forEach=function(t){for(var e=0,n=0;e<this.content.length;e++){var i=this.content[e];t(i,n,e),n+=i.nodeSize}},l.prototype.findDiffStart=function(t,e){return void 0===e&&(e=0),a(this,t,e)},l.prototype.findDiffEnd=function(t,e,n){return void 0===e&&(e=this.size),void 0===n&&(n=t.size),s(this,t,e,n)},l.prototype.findIndex=function(t,e){if(void 0===e&&(e=-1),0==t)return f(0,t);if(t==this.size)return f(this.content.length,t);if(t>this.size||t<0)throw new RangeError("Position "+t+" outside of fragment ("+this+")");for(var n=0,i=0;;n++){var r=this.child(n),o=i+r.nodeSize;if(o>=t)return o==t||e>0?f(n+1,o):f(n,i);i=o}},l.prototype.toString=function(){return"<"+this.toStringInner()+">"},l.prototype.toStringInner=function(){return this.content.join(", ")},l.prototype.toJSON=function(){return this.content.length?this.content.map((function(t){return t.toJSON()})):null},l.fromJSON=function(t,e){if(!e)return l.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new l(e.map(t.nodeFromJSON))},l.fromArray=function(t){if(!t.length)return l.empty;for(var e,n=0,i=0;i<t.length;i++){var r=t[i];n+=r.nodeSize,i&&r.isText&&t[i-1].sameMarkup(r)?(e||(e=t.slice(0,i)),e[e.length-1]=r.withText(e[e.length-1].text+r.text)):e&&e.push(r)}return new l(e||t,n)},l.from=function(t){if(!t)return l.empty;if(t instanceof l)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new l([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))},Object.defineProperties(l.prototype,c);var u={index:0,offset:0};function f(t,e){return u.index=t,u.offset=e,u}function d(t,e){if(t===e)return!0;if(!t||"object"!=typeof t||!e||"object"!=typeof e)return!1;var n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(var i=0;i<t.length;i++)if(!d(t[i],e[i]))return!1}else{for(var r in t)if(!(r in e)||!d(t[r],e[r]))return!1;for(var o in e)if(!(o in t))return!1}return!0}l.empty=new l([],0);var h=function(t,e){this.type=t,this.attrs=e};function p(t){var e=Error.call(this,t);return e.__proto__=p.prototype,e}h.prototype.addToSet=function(t){for(var e,n=!1,i=0;i<t.length;i++){var r=t[i];if(this.eq(r))return t;if(this.type.excludes(r.type))e||(e=t.slice(0,i));else{if(r.type.excludes(this.type))return t;!n&&r.type.rank>this.type.rank&&(e||(e=t.slice(0,i)),e.push(this),n=!0),e&&e.push(r)}}return e||(e=t.slice()),n||e.push(this),e},h.prototype.removeFromSet=function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return t.slice(0,e).concat(t.slice(e+1));return t},h.prototype.isInSet=function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return!0;return!1},h.prototype.eq=function(t){return this==t||this.type==t.type&&d(this.attrs,t.attrs)},h.prototype.toJSON=function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return t},h.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Mark.fromJSON");var n=t.marks[e.type];if(!n)throw new RangeError("There is no mark type "+e.type+" in this schema");return n.create(e.attrs)},h.sameSet=function(t,e){if(t==e)return!0;if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].eq(e[n]))return!1;return!0},h.setFrom=function(t){if(!t||0==t.length)return h.none;if(t instanceof h)return[t];var e=t.slice();return e.sort((function(t,e){return t.type.rank-e.type.rank})),e},h.none=[],p.prototype=Object.create(Error.prototype),p.prototype.constructor=p,p.prototype.name="ReplaceError";var m=function(t,e,n){this.content=t,this.openStart=e,this.openEnd=n},g={size:{configurable:!0}};function v(t,e,n){var i=t.findIndex(e),r=i.index,o=i.offset,a=t.maybeChild(r),s=t.findIndex(n),l=s.index,c=s.offset;if(o==e||a.isText){if(c!=n&&!t.child(l).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=l)throw new RangeError("Removing non-flat range");return t.replaceChild(r,a.copy(v(a.content,e-o-1,n-o-1)))}function y(t,e,n,i){var r=t.findIndex(e),o=r.index,a=r.offset,s=t.maybeChild(o);if(a==e||s.isText)return i&&!i.canReplace(o,o,n)?null:t.cut(0,e).append(n).append(t.cut(e));var l=y(s.content,e-a-1,n);return l&&t.replaceChild(o,s.copy(l))}function b(t,e,n){if(n.openStart>t.depth)throw new p("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new p("Inconsistent open depths");return _(t,e,n,0)}function _(t,e,n,i){var r=t.index(i),o=t.node(i);if(r==e.index(i)&&i<t.depth-n.openStart){var a=_(t,e,n,i+1);return o.copy(o.content.replaceChild(r,a))}if(n.content.size){if(n.openStart||n.openEnd||t.depth!=i||e.depth!=i){var s=D(n,t),l=s.start,c=s.end;return O(o,C(t,l,c,e,i))}var u=t.parent,f=u.content;return O(u,f.cut(0,t.parentOffset).append(n.content).append(f.cut(e.parentOffset)))}return O(o,E(t,e,i))}function x(t,e){if(!e.type.compatibleContent(t.type))throw new p("Cannot join "+e.type.name+" onto "+t.type.name)}function w(t,e,n){var i=t.node(n);return x(i,e.node(n)),i}function k(t,e){var n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function S(t,e,n,i){var r=(e||t).node(n),o=0,a=e?e.index(n):r.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(k(t.nodeAfter,i),o++));for(var s=o;s<a;s++)k(r.child(s),i);e&&e.depth==n&&e.textOffset&&k(e.nodeBefore,i)}function O(t,e){if(!t.type.validContent(e))throw new p("Invalid content for node "+t.type.name);return t.copy(e)}function C(t,e,n,i,r){var o=t.depth>r&&w(t,e,r+1),a=i.depth>r&&w(n,i,r+1),s=[];return S(null,t,r,s),o&&a&&e.index(r)==n.index(r)?(x(o,a),k(O(o,C(t,e,n,i,r+1)),s)):(o&&k(O(o,E(t,e,r+1)),s),S(e,n,r,s),a&&k(O(a,E(n,i,r+1)),s)),S(i,null,r,s),new l(s)}function E(t,e,n){var i=[];if(S(null,t,n,i),t.depth>n){var r=w(t,e,n+1);k(O(r,E(t,e,n+1)),i)}return S(e,null,n,i),new l(i)}function D(t,e){for(var n=e.depth-t.openStart,i=e.node(n),r=i.copy(t.content),o=n-1;o>=0;o--)r=e.node(o).copy(l.from(r));return{start:r.resolveNoCache(t.openStart+n),end:r.resolveNoCache(r.content.size-t.openEnd-n)}}g.size.get=function(){return this.content.size-this.openStart-this.openEnd},m.prototype.insertAt=function(t,e){var n=y(this.content,t+this.openStart,e,null);return n&&new m(n,this.openStart,this.openEnd)},m.prototype.removeBetween=function(t,e){return new m(v(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)},m.prototype.eq=function(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd},m.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"},m.prototype.toJSON=function(){if(!this.content.size)return null;var t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t},m.fromJSON=function(t,e){if(!e)return m.empty;var n=e.openStart||0,i=e.openEnd||0;if("number"!=typeof n||"number"!=typeof i)throw new RangeError("Invalid input for Slice.fromJSON");return new m(l.fromJSON(t,e.content),n,i)},m.maxOpen=function(t,e){void 0===e&&(e=!0);for(var n=0,i=0,r=t.firstChild;r&&!r.isLeaf&&(e||!r.type.spec.isolating);r=r.firstChild)n++;for(var o=t.lastChild;o&&!o.isLeaf&&(e||!o.type.spec.isolating);o=o.lastChild)i++;return new m(t,n,i)},Object.defineProperties(m.prototype,g),m.empty=new m(l.empty,0,0);var T=function(t,e,n){this.pos=t,this.path=e,this.depth=e.length/3-1,this.parentOffset=n},N={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};T.prototype.resolveDepth=function(t){return null==t?this.depth:t<0?this.depth+t:t},N.parent.get=function(){return this.node(this.depth)},N.doc.get=function(){return this.node(0)},T.prototype.node=function(t){return this.path[3*this.resolveDepth(t)]},T.prototype.index=function(t){return this.path[3*this.resolveDepth(t)+1]},T.prototype.indexAfter=function(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0)},T.prototype.start=function(t){return t=this.resolveDepth(t),0==t?0:this.path[3*t-1]+1},T.prototype.end=function(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size},T.prototype.before=function(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]},T.prototype.after=function(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize},N.textOffset.get=function(){return this.pos-this.path[this.path.length-1]},N.nodeAfter.get=function(){var t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;var n=this.pos-this.path[this.path.length-1],i=t.child(e);return n?t.child(e).cut(n):i},N.nodeBefore.get=function(){var t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):0==t?null:this.parent.child(t-1)},T.prototype.posAtIndex=function(t,e){e=this.resolveDepth(e);for(var n=this.path[3*e],i=0==e?0:this.path[3*e-1]+1,r=0;r<t;r++)i+=n.child(r).nodeSize;return i},T.prototype.marks=function(){var t=this.parent,e=this.index();if(0==t.content.size)return h.none;if(this.textOffset)return t.child(e).marks;var n=t.maybeChild(e-1),i=t.maybeChild(e);if(!n){var r=n;n=i,i=r}for(var o=n.marks,a=0;a<o.length;a++)!1!==o[a].type.spec.inclusive||i&&o[a].isInSet(i.marks)||(o=o[a--].removeFromSet(o));return o},T.prototype.marksAcross=function(t){var e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;for(var n=e.marks,i=t.parent.maybeChild(t.index()),r=0;r<n.length;r++)!1!==n[r].type.spec.inclusive||i&&n[r].isInSet(i.marks)||(n=n[r--].removeFromSet(n));return n},T.prototype.sharedDepth=function(t){for(var e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0},T.prototype.blockRange=function(t,e){if(void 0===t&&(t=this),t.pos<this.pos)return t.blockRange(this);for(var n=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);n>=0;n--)if(t.pos<=this.end(n)&&(!e||e(this.node(n))))return new P(this,t,n)},T.prototype.sameParent=function(t){return this.pos-this.parentOffset==t.pos-t.parentOffset},T.prototype.max=function(t){return t.pos>this.pos?t:this},T.prototype.min=function(t){return t.pos<this.pos?t:this},T.prototype.toString=function(){for(var t="",e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset},T.resolve=function(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");for(var n=[],i=0,r=e,o=t;;){var a=o.content.findIndex(r),s=a.index,l=a.offset,c=r-l;if(n.push(o,s,i+l),!c)break;if(o=o.child(s),o.isText)break;r=c-1,i+=l+1}return new T(e,n,r)},T.resolveCached=function(t,e){for(var n=0;n<M.length;n++){var i=M[n];if(i.pos==e&&i.doc==t)return i}var r=M[A]=T.resolve(t,e);return A=(A+1)%j,r},Object.defineProperties(T.prototype,N);var M=[],A=0,j=12,P=function(t,e,n){this.$from=t,this.$to=e,this.depth=n},$={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};$.start.get=function(){return this.$from.before(this.depth+1)},$.end.get=function(){return this.$to.after(this.depth+1)},$.parent.get=function(){return this.$from.node(this.depth)},$.startIndex.get=function(){return this.$from.index(this.depth)},$.endIndex.get=function(){return this.$to.indexAfter(this.depth)},Object.defineProperties(P.prototype,$);var I=Object.create(null),L=function(t,e,n,i){this.type=t,this.attrs=e,this.content=n||l.empty,this.marks=i||h.none},R={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};R.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size},R.childCount.get=function(){return this.content.childCount},L.prototype.child=function(t){return this.content.child(t)},L.prototype.maybeChild=function(t){return this.content.maybeChild(t)},L.prototype.forEach=function(t){this.content.forEach(t)},L.prototype.nodesBetween=function(t,e,n,i){void 0===i&&(i=0),this.content.nodesBetween(t,e,n,i,this)},L.prototype.descendants=function(t){this.nodesBetween(0,this.content.size,t)},R.textContent.get=function(){return this.textBetween(0,this.content.size,"")},L.prototype.textBetween=function(t,e,n,i){return this.content.textBetween(t,e,n,i)},R.firstChild.get=function(){return this.content.firstChild},R.lastChild.get=function(){return this.content.lastChild},L.prototype.eq=function(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)},L.prototype.sameMarkup=function(t){return this.hasMarkup(t.type,t.attrs,t.marks)},L.prototype.hasMarkup=function(t,e,n){return this.type==t&&d(this.attrs,e||t.defaultAttrs||I)&&h.sameSet(this.marks,n||h.none)},L.prototype.copy=function(t){return void 0===t&&(t=null),t==this.content?this:new this.constructor(this.type,this.attrs,t,this.marks)},L.prototype.mark=function(t){return t==this.marks?this:new this.constructor(this.type,this.attrs,this.content,t)},L.prototype.cut=function(t,e){return 0==t&&e==this.content.size?this:this.copy(this.content.cut(t,e))},L.prototype.slice=function(t,e,n){if(void 0===e&&(e=this.content.size),void 0===n&&(n=!1),t==e)return m.empty;var i=this.resolve(t),r=this.resolve(e),o=n?0:i.sharedDepth(e),a=i.start(o),s=i.node(o),l=s.content.cut(i.pos-a,r.pos-a);return new m(l,i.depth-o,r.depth-o)},L.prototype.replace=function(t,e,n){return b(this.resolve(t),this.resolve(e),n)},L.prototype.nodeAt=function(t){for(var e=this;;){var n=e.content.findIndex(t),i=n.index,r=n.offset;if(e=e.maybeChild(i),!e)return null;if(r==t||e.isText)return e;t-=r+1}},L.prototype.childAfter=function(t){var e=this.content.findIndex(t),n=e.index,i=e.offset;return{node:this.content.maybeChild(n),index:n,offset:i}},L.prototype.childBefore=function(t){if(0==t)return{node:null,index:0,offset:0};var e=this.content.findIndex(t),n=e.index,i=e.offset;if(i<t)return{node:this.content.child(n),index:n,offset:i};var r=this.content.child(n-1);return{node:r,index:n-1,offset:i-r.nodeSize}},L.prototype.resolve=function(t){return T.resolveCached(this,t)},L.prototype.resolveNoCache=function(t){return T.resolve(this,t)},L.prototype.rangeHasMark=function(t,e,n){var i=!1;return e>t&&this.nodesBetween(t,e,(function(t){return n.isInSet(t.marks)&&(i=!0),!i})),i},R.isBlock.get=function(){return this.type.isBlock},R.isTextblock.get=function(){return this.type.isTextblock},R.inlineContent.get=function(){return this.type.inlineContent},R.isInline.get=function(){return this.type.isInline},R.isText.get=function(){return this.type.isText},R.isLeaf.get=function(){return this.type.isLeaf},R.isAtom.get=function(){return this.type.isAtom},L.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),q(this.marks,t)},L.prototype.contentMatchAt=function(t){var e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e},L.prototype.canReplace=function(t,e,n,i,r){void 0===n&&(n=l.empty),void 0===i&&(i=0),void 0===r&&(r=n.childCount);var o=this.contentMatchAt(t).matchFragment(n,i,r),a=o&&o.matchFragment(this.content,e);if(!a||!a.validEnd)return!1;for(var s=i;s<r;s++)if(!this.type.allowsMarks(n.child(s).marks))return!1;return!0},L.prototype.canReplaceWith=function(t,e,n,i){if(i&&!this.type.allowsMarks(i))return!1;var r=this.contentMatchAt(t).matchType(n),o=r&&r.matchFragment(this.content,e);return!!o&&o.validEnd},L.prototype.canAppend=function(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)},L.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));for(var t=h.none,e=0;e<this.marks.length;e++)t=this.marks[e].addToSet(t);if(!h.sameSet(t,this.marks))throw new RangeError("Invalid collection of marks for node "+this.type.name+": "+this.marks.map((function(t){return t.type.name})));this.content.forEach((function(t){return t.check()}))},L.prototype.toJSON=function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map((function(t){return t.toJSON()}))),t},L.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");var n=null;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=e.marks.map(t.markFromJSON)}if("text"==e.type){if("string"!=typeof e.text)throw new RangeError("Invalid text node in JSON");return t.text(e.text,n)}var i=l.fromJSON(t,e.content);return t.nodeType(e.type).create(e.attrs,i,n)},Object.defineProperties(L.prototype,R);var B=function(t){function e(e,n,i,r){if(t.call(this,e,n,null,r),!i)throw new RangeError("Empty text nodes are not allowed");this.text=i}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={textContent:{configurable:!0},nodeSize:{configurable:!0}};return e.prototype.toString=function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):q(this.marks,JSON.stringify(this.text))},n.textContent.get=function(){return this.text},e.prototype.textBetween=function(t,e){return this.text.slice(t,e)},n.nodeSize.get=function(){return this.text.length},e.prototype.mark=function(t){return t==this.marks?this:new e(this.type,this.attrs,this.text,t)},e.prototype.withText=function(t){return t==this.text?this:new e(this.type,this.attrs,t,this.marks)},e.prototype.cut=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.text.length),0==t&&e==this.text.length?this:this.withText(this.text.slice(t,e))},e.prototype.eq=function(t){return this.sameMarkup(t)&&this.text==t.text},e.prototype.toJSON=function(){var e=t.prototype.toJSON.call(this);return e.text=this.text,e},Object.defineProperties(e.prototype,n),e}(L);function q(t,e){for(var n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}var F=function(t){this.validEnd=t,this.next=[],this.wrapCache=[]},z={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};F.parse=function(t,e){var n=new V(t,e);if(null==n.next)return F.empty;var i=K(n);n.next&&n.err("Unexpected trailing text");var r=et(Z(i));return nt(r,n),r},F.prototype.matchType=function(t){for(var e=0;e<this.next.length;e+=2)if(this.next[e]==t)return this.next[e+1];return null},F.prototype.matchFragment=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.childCount);for(var i=this,r=e;i&&r<n;r++)i=i.matchType(t.child(r).type);return i},z.inlineContent.get=function(){var t=this.next[0];return!!t&&t.isInline},z.defaultType.get=function(){for(var t=0;t<this.next.length;t+=2){var e=this.next[t];if(!e.isText&&!e.hasRequiredAttrs())return e}},F.prototype.compatible=function(t){for(var e=0;e<this.next.length;e+=2)for(var n=0;n<t.next.length;n+=2)if(this.next[e]==t.next[n])return!0;return!1},F.prototype.fillBefore=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=0);var i=[this];function r(o,a){var s=o.matchFragment(t,n);if(s&&(!e||s.validEnd))return l.from(a.map((function(t){return t.createAndFill()})));for(var c=0;c<o.next.length;c+=2){var u=o.next[c],f=o.next[c+1];if(!u.isText&&!u.hasRequiredAttrs()&&-1==i.indexOf(f)){i.push(f);var d=r(f,a.concat(u));if(d)return d}}}return r(this,[])},F.prototype.findWrapping=function(t){for(var e=0;e<this.wrapCache.length;e+=2)if(this.wrapCache[e]==t)return this.wrapCache[e+1];var n=this.computeWrapping(t);return this.wrapCache.push(t,n),n},F.prototype.computeWrapping=function(t){var e=Object.create(null),n=[{match:this,type:null,via:null}];while(n.length){var i=n.shift(),r=i.match;if(r.matchType(t)){for(var o=[],a=i;a.type;a=a.via)o.push(a.type);return o.reverse()}for(var s=0;s<r.next.length;s+=2){var l=r.next[s];l.isLeaf||l.hasRequiredAttrs()||l.name in e||i.type&&!r.next[s+1].validEnd||(n.push({match:l.contentMatch,type:l,via:i}),e[l.name]=!0)}}},z.edgeCount.get=function(){return this.next.length>>1},F.prototype.edge=function(t){var e=t<<1;if(e>=this.next.length)throw new RangeError("There's no "+t+"th edge in this content match");return{type:this.next[e],next:this.next[e+1]}},F.prototype.toString=function(){var t=[];function e(n){t.push(n);for(var i=1;i<n.next.length;i+=2)-1==t.indexOf(n.next[i])&&e(n.next[i])}return e(this),t.map((function(e,n){for(var i=n+(e.validEnd?"*":" ")+" ",r=0;r<e.next.length;r+=2)i+=(r?", ":"")+e.next[r].name+"->"+t.indexOf(e.next[r+1]);return i})).join("\n")},Object.defineProperties(F.prototype,z),F.empty=new F(!0);var V=function(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()},U={next:{configurable:!0}};function K(t){var e=[];do{e.push(H(t))}while(t.eat("|"));return 1==e.length?e[0]:{type:"choice",exprs:e}}function H(t){var e=[];do{e.push(W(t))}while(t.next&&")"!=t.next&&"|"!=t.next);return 1==e.length?e[0]:{type:"seq",exprs:e}}function W(t){for(var e=X(t);;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else{if(!t.eat("{"))break;e=J(t,e)}return e}function G(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");var e=Number(t.next);return t.pos++,e}function J(t,e){var n=G(t),i=n;return t.eat(",")&&(i="}"!=t.next?G(t):-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:i,expr:e}}function Y(t,e){var n=t.nodeTypes,i=n[e];if(i)return[i];var r=[];for(var o in n){var a=n[o];a.groups.indexOf(e)>-1&&r.push(a)}return 0==r.length&&t.err("No node type or group '"+e+"' found"),r}function X(t){if(t.eat("(")){var e=K(t);return t.eat(")")||t.err("Missing closing paren"),e}if(!/\W/.test(t.next)){var n=Y(t,t.next).map((function(e){return null==t.inline?t.inline=e.isInline:t.inline!=e.isInline&&t.err("Mixing inline and block content"),{type:"name",value:e}}));return t.pos++,1==n.length?n[0]:{type:"choice",exprs:n}}t.err("Unexpected token '"+t.next+"'")}function Z(t){var e=[[]];return r(o(t,0),n()),e;function n(){return e.push([])-1}function i(t,n,i){var r={term:i,to:n};return e[t].push(r),r}function r(t,e){t.forEach((function(t){return t.to=e}))}function o(t,e){if("choice"==t.type)return t.exprs.reduce((function(t,n){return t.concat(o(n,e))}),[]);if("seq"==t.type)for(var a=0;;a++){var s=o(t.exprs[a],e);if(a==t.exprs.length-1)return s;r(s,e=n())}else{if("star"==t.type){var l=n();return i(e,l),r(o(t.expr,l),l),[i(l)]}if("plus"==t.type){var c=n();return r(o(t.expr,e),c),r(o(t.expr,c),c),[i(c)]}if("opt"==t.type)return[i(e)].concat(o(t.expr,e));if("range"==t.type){for(var u=e,f=0;f<t.min;f++){var d=n();r(o(t.expr,u),d),u=d}if(-1==t.max)r(o(t.expr,u),u);else for(var h=t.min;h<t.max;h++){var p=n();i(u,p),r(o(t.expr,u),p),u=p}return[i(u)]}if("name"==t.type)return[i(e,null,t.value)]}}}function Q(t,e){return e-t}function tt(t,e){var n=[];return i(e),n.sort(Q);function i(e){var r=t[e];if(1==r.length&&!r[0].term)return i(r[0].to);n.push(e);for(var o=0;o<r.length;o++){var a=r[o],s=a.term,l=a.to;s||-1!=n.indexOf(l)||i(l)}}}function et(t){var e=Object.create(null);return n(tt(t,0));function n(i){var r=[];i.forEach((function(e){t[e].forEach((function(e){var n=e.term,i=e.to;if(n){var o=r.indexOf(n),a=o>-1&&r[o+1];tt(t,i).forEach((function(t){a||r.push(n,a=[]),-1==a.indexOf(t)&&a.push(t)}))}}))}));for(var o=e[i.join(",")]=new F(i.indexOf(t.length-1)>-1),a=0;a<r.length;a+=2){var s=r[a+1].sort(Q);o.next.push(r[a],e[s.join(",")]||n(s))}return o}}function nt(t,e){for(var n=0,i=[t];n<i.length;n++){for(var r=i[n],o=!r.validEnd,a=[],s=0;s<r.next.length;s+=2){var l=r.next[s],c=r.next[s+1];a.push(l.name),!o||l.isText||l.hasRequiredAttrs()||(o=!1),-1==i.indexOf(c)&&i.push(c)}o&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function it(t){var e=Object.create(null);for(var n in t){var i=t[n];if(!i.hasDefault)return null;e[n]=i.default}return e}function rt(t,e){var n=Object.create(null);for(var i in t){var r=e&&e[i];if(void 0===r){var o=t[i];if(!o.hasDefault)throw new RangeError("No value supplied for attribute "+i);r=o.default}n[i]=r}return n}function ot(t){var e=Object.create(null);if(t)for(var n in t)e[n]=new lt(t[n]);return e}U.next.get=function(){return this.tokens[this.pos]},V.prototype.eat=function(t){return this.next==t&&(this.pos++||!0)},V.prototype.err=function(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")},Object.defineProperties(V.prototype,U);var at=function(t,e,n){this.name=t,this.schema=e,this.spec=n,this.groups=n.group?n.group.split(" "):[],this.attrs=ot(n.attrs),this.defaultAttrs=it(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==t),this.isText="text"==t},st={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};st.isInline.get=function(){return!this.isBlock},st.isTextblock.get=function(){return this.isBlock&&this.inlineContent},st.isLeaf.get=function(){return this.contentMatch==F.empty},st.isAtom.get=function(){return this.isLeaf||this.spec.atom},at.prototype.hasRequiredAttrs=function(){for(var t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1},at.prototype.compatibleContent=function(t){return this==t||this.contentMatch.compatible(t.contentMatch)},at.prototype.computeAttrs=function(t){return!t&&this.defaultAttrs?this.defaultAttrs:rt(this.attrs,t)},at.prototype.create=function(t,e,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new L(this,this.computeAttrs(t),l.from(e),h.setFrom(n))},at.prototype.createChecked=function(t,e,n){if(e=l.from(e),!this.validContent(e))throw new RangeError("Invalid content for node "+this.name);return new L(this,this.computeAttrs(t),e,h.setFrom(n))},at.prototype.createAndFill=function(t,e,n){if(t=this.computeAttrs(t),e=l.from(e),e.size){var i=this.contentMatch.fillBefore(e);if(!i)return null;e=i.append(e)}var r=this.contentMatch.matchFragment(e).fillBefore(l.empty,!0);return r?new L(this,t,e.append(r),h.setFrom(n)):null},at.prototype.validContent=function(t){var e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(var n=0;n<t.childCount;n++)if(!this.allowsMarks(t.child(n).marks))return!1;return!0},at.prototype.allowsMarkType=function(t){return null==this.markSet||this.markSet.indexOf(t)>-1},at.prototype.allowsMarks=function(t){if(null==this.markSet)return!0;for(var e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1;return!0},at.prototype.allowedMarks=function(t){if(null==this.markSet)return t;for(var e,n=0;n<t.length;n++)this.allowsMarkType(t[n].type)?e&&e.push(t[n]):e||(e=t.slice(0,n));return e?e.length?e:h.empty:t},at.compile=function(t,e){var n=Object.create(null);t.forEach((function(t,i){return n[t]=new at(t,e,i)}));var i=e.spec.topNode||"doc";if(!n[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(var r in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n},Object.defineProperties(at.prototype,st);var lt=function(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default},ct={isRequired:{configurable:!0}};ct.isRequired.get=function(){return!this.hasDefault},Object.defineProperties(lt.prototype,ct);var ut=function(t,e,n,i){this.name=t,this.schema=n,this.spec=i,this.attrs=ot(i.attrs),this.rank=e,this.excluded=null;var r=it(this.attrs);this.instance=r&&new h(this,r)};ut.prototype.create=function(t){return!t&&this.instance?this.instance:new h(this,rt(this.attrs,t))},ut.compile=function(t,e){var n=Object.create(null),i=0;return t.forEach((function(t,r){return n[t]=new ut(t,i++,e,r)})),n},ut.prototype.removeFromSet=function(t){for(var e=0;e<t.length;e++)t[e].type==this&&(t=t.slice(0,e).concat(t.slice(e+1)),e--);return t},ut.prototype.isInSet=function(t){for(var e=0;e<t.length;e++)if(t[e].type==this)return t[e]},ut.prototype.excludes=function(t){return this.excluded.indexOf(t)>-1};var ft=function(t){for(var e in this.spec={},t)this.spec[e]=t[e];this.spec.nodes=o.from(t.nodes),this.spec.marks=o.from(t.marks),this.nodes=at.compile(this.spec.nodes,this),this.marks=ut.compile(this.spec.marks,this);var n=Object.create(null);for(var i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");var r=this.nodes[i],a=r.spec.content||"",s=r.spec.marks;r.contentMatch=n[a]||(n[a]=F.parse(a,this.nodes)),r.inlineContent=r.contentMatch.inlineContent,r.markSet="_"==s?null:s?dt(this,s.split(" ")):""!=s&&r.inlineContent?null:[]}for(var l in this.marks){var c=this.marks[l],u=c.spec.excludes;c.excluded=null==u?[c]:""==u?[]:dt(this,u.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached=Object.create(null),this.cached.wrappings=Object.create(null)};function dt(t,e){for(var n=[],i=0;i<e.length;i++){var r=e[i],o=t.marks[r],a=o;if(o)n.push(o);else for(var s in t.marks){var l=t.marks[s];("_"==r||l.spec.group&&l.spec.group.split(" ").indexOf(r)>-1)&&n.push(a=l)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[i]+"'")}return n}ft.prototype.node=function(t,e,n,i){if("string"==typeof t)t=this.nodeType(t);else{if(!(t instanceof at))throw new RangeError("Invalid node type: "+t);if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}return t.createChecked(e,n,i)},ft.prototype.text=function(t,e){var n=this.nodes.text;return new B(n,n.defaultAttrs,t,h.setFrom(e))},ft.prototype.mark=function(t,e){return"string"==typeof t&&(t=this.marks[t]),t.create(e)},ft.prototype.nodeFromJSON=function(t){return L.fromJSON(this,t)},ft.prototype.markFromJSON=function(t){return h.fromJSON(this,t)},ft.prototype.nodeType=function(t){var e=this.nodes[t];if(!e)throw new RangeError("Unknown node type: "+t);return e};var ht=function(t,e){var n=this;this.schema=t,this.rules=e,this.tags=[],this.styles=[],e.forEach((function(t){t.tag?n.tags.push(t):t.style&&n.styles.push(t)})),this.normalizeLists=!this.tags.some((function(e){if(!/^(ul|ol)\b/.test(e.tag)||!e.node)return!1;var n=t.nodes[e.node];return n.contentMatch.matchType(n)}))};ht.prototype.parse=function(t,e){void 0===e&&(e={});var n=new wt(this,e,!1);return n.addAll(t,null,e.from,e.to),n.finish()},ht.prototype.parseSlice=function(t,e){void 0===e&&(e={});var n=new wt(this,e,!0);return n.addAll(t,null,e.from,e.to),m.maxOpen(n.finish())},ht.prototype.matchTag=function(t,e,n){for(var i=n?this.tags.indexOf(n)+1:0;i<this.tags.length;i++){var r=this.tags[i];if(Ot(t,r.tag)&&(void 0===r.namespace||t.namespaceURI==r.namespace)&&(!r.context||e.matchesContext(r.context))){if(r.getAttrs){var o=r.getAttrs(t);if(!1===o)continue;r.attrs=o}return r}}},ht.prototype.matchStyle=function(t,e,n,i){for(var r=i?this.styles.indexOf(i)+1:0;r<this.styles.length;r++){var o=this.styles[r];if(!(0!=o.style.indexOf(t)||o.context&&!n.matchesContext(o.context)||o.style.length>t.length&&(61!=o.style.charCodeAt(t.length)||o.style.slice(t.length+1)!=e))){if(o.getAttrs){var a=o.getAttrs(e);if(!1===a)continue;o.attrs=a}return o}}},ht.schemaRules=function(t){var e=[];function n(t){for(var n=null==t.priority?50:t.priority,i=0;i<e.length;i++){var r=e[i],o=null==r.priority?50:r.priority;if(o<n)break}e.splice(i,0,t)}var i=function(e){var i=t.marks[e].spec.parseDOM;i&&i.forEach((function(t){n(t=Et(t)),t.mark=e}))};for(var r in t.marks)i(r);var o=function(e){var i=t.nodes[a].spec.parseDOM;i&&i.forEach((function(t){n(t=Et(t)),t.node=a}))};for(var a in t.nodes)o();return e},ht.fromSchema=function(t){return t.cached.domParser||(t.cached.domParser=new ht(t,ht.schemaRules(t)))};var pt={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},mt={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},gt={ol:!0,ul:!0},vt=1,yt=2,bt=4;function _t(t){return(t?vt:0)|("full"===t?yt:0)}var xt=function(t,e,n,i,r,o,a){this.type=t,this.attrs=e,this.solid=r,this.match=o||(a&bt?null:t.contentMatch),this.options=a,this.content=[],this.marks=n,this.activeMarks=h.none,this.pendingMarks=i,this.stashMarks=[]};xt.prototype.findWrapping=function(t){if(!this.match){if(!this.type)return[];var e=this.type.contentMatch.fillBefore(l.from(t));if(!e){var n,i=this.type.contentMatch;return(n=i.findWrapping(t.type))?(this.match=i,n):null}this.match=this.type.contentMatch.matchFragment(e)}return this.match.findWrapping(t.type)},xt.prototype.finish=function(t){if(!(this.options&vt)){var e,n=this.content[this.content.length-1];n&&n.isText&&(e=/[ \t\r\n\u000c]+$/.exec(n.text))&&(n.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-e[0].length)))}var i=l.from(this.content);return!t&&this.match&&(i=i.append(this.match.fillBefore(l.empty,!0))),this.type?this.type.create(this.attrs,i,this.marks):i},xt.prototype.popFromStashMark=function(t){for(var e=this.stashMarks.length-1;e>=0;e--)if(t.eq(this.stashMarks[e]))return this.stashMarks.splice(e,1)[0]},xt.prototype.applyPending=function(t){for(var e=0,n=this.pendingMarks;e<n.length;e++){var i=n[e];(this.type?this.type.allowsMarkType(i.type):Dt(i.type,t))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}},xt.prototype.inlineContext=function(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!pt.hasOwnProperty(t.parentNode.nodeName.toLowerCase())};var wt=function(t,e,n){this.parser=t,this.options=e,this.isOpen=n;var i,r=e.topNode,o=_t(e.preserveWhitespace)|(n?bt:0);i=r?new xt(r.type,r.attrs,h.none,h.none,!0,e.topMatch||r.type.contentMatch,o):new xt(n?null:t.schema.topNodeType,null,h.none,h.none,!0,null,o),this.nodes=[i],this.open=0,this.find=e.findPositions,this.needsBlock=!1},kt={top:{configurable:!0},currentPos:{configurable:!0}};function St(t){for(var e=t.firstChild,n=null;e;e=e.nextSibling){var i=1==e.nodeType?e.nodeName.toLowerCase():null;i&&gt.hasOwnProperty(i)&&n?(n.appendChild(e),e=n):"li"==i?n=e:i&&(n=null)}}function Ot(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function Ct(t){var e,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,i=[];while(e=n.exec(t))i.push(e[1],e[2].trim());return i}function Et(t){var e={};for(var n in t)e[n]=t[n];return e}function Dt(t,e){var n=e.schema.nodes,i=function(i){var r=n[i];if(r.allowsMarkType(t)){var o=[],a=function(t){o.push(t);for(var n=0;n<t.edgeCount;n++){var i=t.edge(n),r=i.type,s=i.next;if(r==e)return!0;if(o.indexOf(s)<0&&a(s))return!0}};return a(r.contentMatch)?{v:!0}:void 0}};for(var r in n){var o=i(r);if(o)return o.v}}function Tt(t,e){for(var n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}kt.top.get=function(){return this.nodes[this.open]},wt.prototype.addDOM=function(t){if(3==t.nodeType)this.addTextNode(t);else if(1==t.nodeType){var e=t.getAttribute("style"),n=e?this.readStyles(Ct(e)):null,i=this.top;if(null!=n)for(var r=0;r<n.length;r++)this.addPendingMark(n[r]);if(this.addElement(t),null!=n)for(var o=0;o<n.length;o++)this.removePendingMark(n[o],i)}},wt.prototype.addTextNode=function(t){var e=t.nodeValue,n=this.top;if(n.options&yt||n.inlineContext(t)||/[^ \t\r\n\u000c]/.test(e)){if(n.options&vt)e=n.options&yt?e.replace(/\r\n?/g,"\n"):e.replace(/\r?\n|\r/g," ");else if(e=e.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(e)&&this.open==this.nodes.length-1){var i=n.content[n.content.length-1],r=t.previousSibling;(!i||r&&"BR"==r.nodeName||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(e=e.slice(1))}e&&this.insertNode(this.parser.schema.text(e)),this.findInText(t)}else this.findInside(t)},wt.prototype.addElement=function(t,e){var n,i=t.nodeName.toLowerCase();gt.hasOwnProperty(i)&&this.parser.normalizeLists&&St(t);var r=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(n=this.parser.matchTag(t,this,e));if(r?r.ignore:mt.hasOwnProperty(i))this.findInside(t),this.ignoreFallback(t);else if(!r||r.skip||r.closeParent){r&&r.closeParent?this.open=Math.max(0,this.open-1):r&&r.skip.nodeType&&(t=r.skip);var o,a=this.top,s=this.needsBlock;if(pt.hasOwnProperty(i))o=!0,a.type||(this.needsBlock=!0);else if(!t.firstChild)return void this.leafFallback(t);this.addAll(t),o&&this.sync(a),this.needsBlock=s}else this.addElementByRule(t,r,!1===r.consuming?n:null)},wt.prototype.leafFallback=function(t){"BR"==t.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode("\n"))},wt.prototype.ignoreFallback=function(t){"BR"!=t.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))},wt.prototype.readStyles=function(t){var e=h.none;t:for(var n=0;n<t.length;n+=2)for(var i=null;;){var r=this.parser.matchStyle(t[n],t[n+1],this,i);if(!r)continue t;if(r.ignore)return null;if(e=this.parser.schema.marks[r.mark].create(r.attrs).addToSet(e),!1!==r.consuming)break;i=r}return e},wt.prototype.addElementByRule=function(t,e,n){var i,r,o,a,s=this;e.node?(r=this.parser.schema.nodes[e.node],r.isLeaf?this.insertNode(r.create(e.attrs))||this.leafFallback(t):i=this.enter(r,e.attrs,e.preserveWhitespace)):(o=this.parser.schema.marks[e.mark],a=o.create(e.attrs),this.addPendingMark(a));var l=this.top;if(r&&r.isLeaf)this.findInside(t);else if(n)this.addElement(t,n);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach((function(t){return s.insertNode(t)}));else{var c=e.contentElement;"string"==typeof c?c=t.querySelector(c):"function"==typeof c&&(c=c(t)),c||(c=t),this.findAround(t,c,!0),this.addAll(c,i)}i&&(this.sync(l),this.open--),a&&this.removePendingMark(a,l)},wt.prototype.addAll=function(t,e,n,i){for(var r=n||0,o=n?t.childNodes[n]:t.firstChild,a=null==i?null:t.childNodes[i];o!=a;o=o.nextSibling,++r)this.findAtPoint(t,r),this.addDOM(o),e&&pt.hasOwnProperty(o.nodeName.toLowerCase())&&this.sync(e);this.findAtPoint(t,r)},wt.prototype.findPlace=function(t){for(var e,n,i=this.open;i>=0;i--){var r=this.nodes[i],o=r.findWrapping(t);if(o&&(!e||e.length>o.length)&&(e=o,n=r,!o.length))break;if(r.solid)break}if(!e)return!1;this.sync(n);for(var a=0;a<e.length;a++)this.enterInner(e[a],null,!1);return!0},wt.prototype.insertNode=function(t){if(t.isInline&&this.needsBlock&&!this.top.type){var e=this.textblockFromContext();e&&this.enterInner(e)}if(this.findPlace(t)){this.closeExtra();var n=this.top;n.applyPending(t.type),n.match&&(n.match=n.match.matchType(t.type));for(var i=n.activeMarks,r=0;r<t.marks.length;r++)n.type&&!n.type.allowsMarkType(t.marks[r].type)||(i=t.marks[r].addToSet(i));return n.content.push(t.mark(i)),!0}return!1},wt.prototype.enter=function(t,e,n){var i=this.findPlace(t.create(e));return i&&this.enterInner(t,e,!0,n),i},wt.prototype.enterInner=function(t,e,n,i){this.closeExtra();var r=this.top;r.applyPending(t),r.match=r.match&&r.match.matchType(t,e);var o=null==i?r.options&~bt:_t(i);r.options&bt&&0==r.content.length&&(o|=bt),this.nodes.push(new xt(t,e,r.activeMarks,r.pendingMarks,n,null,o)),this.open++},wt.prototype.closeExtra=function(t){var e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}},wt.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)},wt.prototype.sync=function(t){for(var e=this.open;e>=0;e--)if(this.nodes[e]==t)return void(this.open=e)},kt.currentPos.get=function(){this.closeExtra();for(var t=0,e=this.open;e>=0;e--){for(var n=this.nodes[e].content,i=n.length-1;i>=0;i--)t+=n[i].nodeSize;e&&t++}return t},wt.prototype.findAtPoint=function(t,e){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==t&&this.find[n].offset==e&&(this.find[n].pos=this.currentPos)},wt.prototype.findInside=function(t){if(this.find)for(var e=0;e<this.find.length;e++)null==this.find[e].pos&&1==t.nodeType&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)},wt.prototype.findAround=function(t,e,n){if(t!=e&&this.find)for(var i=0;i<this.find.length;i++)if(null==this.find[i].pos&&1==t.nodeType&&t.contains(this.find[i].node)){var r=e.compareDocumentPosition(this.find[i].node);r&(n?2:4)&&(this.find[i].pos=this.currentPos)}},wt.prototype.findInText=function(t){if(this.find)for(var e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))},wt.prototype.matchesContext=function(t){var e=this;if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);var n=t.split("/"),i=this.options.context,r=!this.isOpen&&(!i||i.parent.type==this.nodes[0].type),o=-(i?i.depth+1:0)+(r?0:1),a=function(t,s){for(;t>=0;t--){var l=n[t];if(""==l){if(t==n.length-1||0==t)continue;for(;s>=o;s--)if(a(t-1,s))return!0;return!1}var c=s>0||0==s&&r?e.nodes[s].type:i&&s>=o?i.node(s-o).type:null;if(!c||c.name!=l&&-1==c.groups.indexOf(l))return!1;s--}return!0};return a(n.length-1,this.open)},wt.prototype.textblockFromContext=function(){var t=this.options.context;if(t)for(var e=t.depth;e>=0;e--){var n=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(var i in this.parser.schema.nodes){var r=this.parser.schema.nodes[i];if(r.isTextblock&&r.defaultAttrs)return r}},wt.prototype.addPendingMark=function(t){var e=Tt(t,this.top.pendingMarks);e&&this.top.stashMarks.push(e),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)},wt.prototype.removePendingMark=function(t,e){for(var n=this.open;n>=0;n--){var i=this.nodes[n],r=i.pendingMarks.lastIndexOf(t);if(r>-1)i.pendingMarks=t.removeFromSet(i.pendingMarks);else{i.activeMarks=t.removeFromSet(i.activeMarks);var o=i.popFromStashMark(t);o&&i.type&&i.type.allowsMarkType(o.type)&&(i.activeMarks=o.addToSet(i.activeMarks))}if(i==e)break}},Object.defineProperties(wt.prototype,kt);var Nt=function(t,e){this.nodes=t||{},this.marks=e||{}};function Mt(t){var e={};for(var n in t){var i=t[n].spec.toDOM;i&&(e[n]=i)}return e}function At(t){return t.document||window.document}Nt.prototype.serializeFragment=function(t,e,n){var i=this;void 0===e&&(e={}),n||(n=At(e).createDocumentFragment());var r=n,o=null;return t.forEach((function(t){if(o||t.marks.length){o||(o=[]);var n=0,a=0;while(n<o.length&&a<t.marks.length){var s=t.marks[a];if(i.marks[s.type.name]){if(!s.eq(o[n])||!1===s.type.spec.spanning)break;n+=2,a++}else a++}while(n<o.length)r=o.pop(),o.pop();while(a<t.marks.length){var l=t.marks[a++],c=i.serializeMark(l,t.isInline,e);c&&(o.push(l,r),r.appendChild(c.dom),r=c.contentDOM||c.dom)}}r.appendChild(i.serializeNode(t,e))})),n},Nt.prototype.serializeNode=function(t,e){void 0===e&&(e={});var n=Nt.renderSpec(At(e),this.nodes[t.type.name](t)),i=n.dom,r=n.contentDOM;if(r){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");e.onContent?e.onContent(t,r,e):this.serializeFragment(t.content,e,r)}return i},Nt.prototype.serializeNodeAndMarks=function(t,e){void 0===e&&(e={});for(var n=this.serializeNode(t,e),i=t.marks.length-1;i>=0;i--){var r=this.serializeMark(t.marks[i],t.isInline,e);r&&((r.contentDOM||r.dom).appendChild(n),n=r.dom)}return n},Nt.prototype.serializeMark=function(t,e,n){void 0===n&&(n={});var i=this.marks[t.type.name];return i&&Nt.renderSpec(At(n),i(t,e))},Nt.renderSpec=function(t,e,n){if(void 0===n&&(n=null),"string"==typeof e)return{dom:t.createTextNode(e)};if(null!=e.nodeType)return{dom:e};if(e.dom&&null!=e.dom.nodeType)return e;var i=e[0],r=i.indexOf(" ");r>0&&(n=i.slice(0,r),i=i.slice(r+1));var o=null,a=n?t.createElementNS(n,i):t.createElement(i),s=e[1],l=1;if(s&&"object"==typeof s&&null==s.nodeType&&!Array.isArray(s))for(var c in l=2,s)if(null!=s[c]){var u=c.indexOf(" ");u>0?a.setAttributeNS(c.slice(0,u),c.slice(u+1),s[c]):a.setAttribute(c,s[c])}for(var f=l;f<e.length;f++){var d=e[f];if(0===d){if(f<e.length-1||f>l)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}var h=Nt.renderSpec(t,d,n),p=h.dom,m=h.contentDOM;if(a.appendChild(p),m){if(o)throw new RangeError("Multiple content holes");o=m}}return{dom:a,contentDOM:o}},Nt.fromSchema=function(t){return t.cached.domSerializer||(t.cached.domSerializer=new Nt(this.nodesFromSchema(t),this.marksFromSchema(t)))},Nt.nodesFromSchema=function(t){var e=Mt(t.nodes);return e.text||(e.text=function(t){return t.text}),e},Nt.marksFromSchema=function(t){return Mt(t.marks)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n(102);function r(t){if(Array.isArray(t))return Object(i["a"])(t)}var o=n(184),a=n(110);function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t){return r(t)||Object(o["a"])(t)||Object(a["a"])(t)||s()}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n(18);function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){Object(i["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},function(t,e,n){"use strict";n.r(e),n.d(e,"AllSelection",(function(){return h})),n.d(e,"EditorState",(function(){return O})),n.d(e,"NodeSelection",(function(){return f})),n.d(e,"Plugin",(function(){return T})),n.d(e,"PluginKey",(function(){return A})),n.d(e,"Selection",(function(){return a})),n.d(e,"SelectionRange",(function(){return l})),n.d(e,"TextSelection",(function(){return c})),n.d(e,"Transaction",(function(){return _}));var i=n(4),r=n(51),o=Object.create(null),a=function(t,e,n){this.ranges=n||[new l(t.min(e),t.max(e))],this.$anchor=t,this.$head=e},s={anchor:{configurable:!0},head:{configurable:!0},from:{configurable:!0},to:{configurable:!0},$from:{configurable:!0},$to:{configurable:!0},empty:{configurable:!0}};s.anchor.get=function(){return this.$anchor.pos},s.head.get=function(){return this.$head.pos},s.from.get=function(){return this.$from.pos},s.to.get=function(){return this.$to.pos},s.$from.get=function(){return this.ranges[0].$from},s.$to.get=function(){return this.ranges[0].$to},s.empty.get=function(){for(var t=this.ranges,e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0},a.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)},a.prototype.replace=function(t,e){void 0===e&&(e=i["Slice"].empty);for(var n=e.content.lastChild,r=null,o=0;o<e.openEnd;o++)r=n,n=n.lastChild;for(var a=t.steps.length,s=this.ranges,l=0;l<s.length;l++){var c=s[l],u=c.$from,f=c.$to,d=t.mapping.slice(a);t.replaceRange(d.map(u.pos),d.map(f.pos),l?i["Slice"].empty:e),0==l&&g(t,a,(n?n.isInline:r&&r.isTextblock)?-1:1)}},a.prototype.replaceWith=function(t,e){for(var n=t.steps.length,i=this.ranges,r=0;r<i.length;r++){var o=i[r],a=o.$from,s=o.$to,l=t.mapping.slice(n),c=l.map(a.pos),u=l.map(s.pos);r?t.deleteRange(c,u):(t.replaceRangeWith(c,u,e),g(t,n,e.isInline?-1:1))}},a.findFrom=function(t,e,n){var i=t.parent.inlineContent?new c(t):m(t.node(0),t.parent,t.pos,t.index(),e,n);if(i)return i;for(var r=t.depth-1;r>=0;r--){var o=e<0?m(t.node(0),t.node(r),t.before(r+1),t.index(r),e,n):m(t.node(0),t.node(r),t.after(r+1),t.index(r)+1,e,n);if(o)return o}},a.near=function(t,e){return void 0===e&&(e=1),this.findFrom(t,e)||this.findFrom(t,-e)||new h(t.node(0))},a.atStart=function(t){return m(t,t,0,0,1)||new h(t)},a.atEnd=function(t){return m(t,t,t.content.size,t.childCount,-1)||new h(t)},a.fromJSON=function(t,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");var n=o[e.type];if(!n)throw new RangeError("No selection type "+e.type+" defined");return n.fromJSON(t,e)},a.jsonID=function(t,e){if(t in o)throw new RangeError("Duplicate use of selection JSON ID "+t);return o[t]=e,e.prototype.jsonID=t,e},a.prototype.getBookmark=function(){return c.between(this.$anchor,this.$head).getBookmark()},Object.defineProperties(a.prototype,s),a.prototype.visible=!0;var l=function(t,e){this.$from=t,this.$to=e},c=function(t){function e(e,n){void 0===n&&(n=e),t.call(this,e,n)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={$cursor:{configurable:!0}};return n.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},e.prototype.map=function(n,i){var r=n.resolve(i.map(this.head));if(!r.parent.inlineContent)return t.near(r);var o=n.resolve(i.map(this.anchor));return new e(o.parent.inlineContent?o:r,r)},e.prototype.replace=function(e,n){if(void 0===n&&(n=i["Slice"].empty),t.prototype.replace.call(this,e,n),n==i["Slice"].empty){var r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}},e.prototype.eq=function(t){return t instanceof e&&t.anchor==this.anchor&&t.head==this.head},e.prototype.getBookmark=function(){return new u(this.anchor,this.head)},e.prototype.toJSON=function(){return{type:"text",anchor:this.anchor,head:this.head}},e.fromJSON=function(t,n){if("number"!=typeof n.anchor||"number"!=typeof n.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new e(t.resolve(n.anchor),t.resolve(n.head))},e.create=function(t,e,n){void 0===n&&(n=e);var i=t.resolve(e);return new this(i,n==e?i:t.resolve(n))},e.between=function(n,i,r){var o=n.pos-i.pos;if(r&&!o||(r=o>=0?1:-1),!i.parent.inlineContent){var a=t.findFrom(i,r,!0)||t.findFrom(i,-r,!0);if(!a)return t.near(i,r);i=a.$head}return n.parent.inlineContent||(0==o?n=i:(n=(t.findFrom(n,-r,!0)||t.findFrom(n,r,!0)).$anchor,n.pos<i.pos!=o<0&&(n=i))),new e(n,i)},Object.defineProperties(e.prototype,n),e}(a);a.jsonID("text",c);var u=function(t,e){this.anchor=t,this.head=e};u.prototype.map=function(t){return new u(t.map(this.anchor),t.map(this.head))},u.prototype.resolve=function(t){return c.between(t.resolve(this.anchor),t.resolve(this.head))};var f=function(t){function e(e){var n=e.nodeAfter,i=e.node(0).resolve(e.pos+n.nodeSize);t.call(this,e,i),this.node=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(n,i){var r=i.mapResult(this.anchor),o=r.deleted,a=r.pos,s=n.resolve(a);return o?t.near(s):new e(s)},e.prototype.content=function(){return new i["Slice"](i["Fragment"].from(this.node),0,0)},e.prototype.eq=function(t){return t instanceof e&&t.anchor==this.anchor},e.prototype.toJSON=function(){return{type:"node",anchor:this.anchor}},e.prototype.getBookmark=function(){return new d(this.anchor)},e.fromJSON=function(t,n){if("number"!=typeof n.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new e(t.resolve(n.anchor))},e.create=function(t,e){return new this(t.resolve(e))},e.isSelectable=function(t){return!t.isText&&!1!==t.type.spec.selectable},e}(a);f.prototype.visible=!1,a.jsonID("node",f);var d=function(t){this.anchor=t};d.prototype.map=function(t){var e=t.mapResult(this.anchor),n=e.deleted,i=e.pos;return n?new u(i,i):new d(i)},d.prototype.resolve=function(t){var e=t.resolve(this.anchor),n=e.nodeAfter;return n&&f.isSelectable(n)?new f(e):a.near(e)};var h=function(t){function e(e){t.call(this,e.resolve(0),e.resolve(e.content.size))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.replace=function(e,n){if(void 0===n&&(n=i["Slice"].empty),n==i["Slice"].empty){e.delete(0,e.doc.content.size);var r=t.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else t.prototype.replace.call(this,e,n)},e.prototype.toJSON=function(){return{type:"all"}},e.fromJSON=function(t){return new e(t)},e.prototype.map=function(t){return new e(t)},e.prototype.eq=function(t){return t instanceof e},e.prototype.getBookmark=function(){return p},e}(a);a.jsonID("all",h);var p={map:function(){return this},resolve:function(t){return new h(t)}};function m(t,e,n,i,r,o){if(e.inlineContent)return c.create(t,n);for(var a=i-(r>0?0:1);r>0?a<e.childCount:a>=0;a+=r){var s=e.child(a);if(s.isAtom){if(!o&&f.isSelectable(s))return f.create(t,n-(r<0?s.nodeSize:0))}else{var l=m(t,s,n+r,r<0?s.childCount:0,r,o);if(l)return l}n+=s.nodeSize*r}}function g(t,e,n){var i=t.steps.length-1;if(!(i<e)){var o=t.steps[i];if(o instanceof r["c"]||o instanceof r["b"]){var s,l=t.mapping.maps[i];l.forEach((function(t,e,n,i){null==s&&(s=i)})),t.setSelection(a.near(t.doc.resolve(s),n))}}}var v=1,y=2,b=4,_=function(t){function e(e){t.call(this,e.doc),this.time=Date.now(),this.curSelection=e.selection,this.curSelectionFor=0,this.storedMarks=e.storedMarks,this.updated=0,this.meta=Object.create(null)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={selection:{configurable:!0},selectionSet:{configurable:!0},storedMarksSet:{configurable:!0},isGeneric:{configurable:!0},scrolledIntoView:{configurable:!0}};return n.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},e.prototype.setSelection=function(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|v)&~y,this.storedMarks=null,this},n.selectionSet.get=function(){return(this.updated&v)>0},e.prototype.setStoredMarks=function(t){return this.storedMarks=t,this.updated|=y,this},e.prototype.ensureMarks=function(t){return i["Mark"].sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this},e.prototype.addStoredMark=function(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))},e.prototype.removeStoredMark=function(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))},n.storedMarksSet.get=function(){return(this.updated&y)>0},e.prototype.addStep=function(e,n){t.prototype.addStep.call(this,e,n),this.updated=this.updated&~y,this.storedMarks=null},e.prototype.setTime=function(t){return this.time=t,this},e.prototype.replaceSelection=function(t){return this.selection.replace(this,t),this},e.prototype.replaceSelectionWith=function(t,e){var n=this.selection;return!1!==e&&(t=t.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||i["Mark"].none))),n.replaceWith(this,t),this},e.prototype.deleteSelection=function(){return this.selection.replace(this),this},e.prototype.insertText=function(t,e,n){void 0===n&&(n=e);var i=this.doc.type.schema;if(null==e)return t?this.replaceSelectionWith(i.text(t),!0):this.deleteSelection();if(!t)return this.deleteRange(e,n);var r=this.storedMarks;if(!r){var o=this.doc.resolve(e);r=n==e?o.marks():o.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(e,n,i.text(t,r)),this.selection.empty||this.setSelection(a.near(this.selection.$to)),this},e.prototype.setMeta=function(t,e){return this.meta["string"==typeof t?t:t.key]=e,this},e.prototype.getMeta=function(t){return this.meta["string"==typeof t?t:t.key]},n.isGeneric.get=function(){for(var t in this.meta)return!1;return!0},e.prototype.scrollIntoView=function(){return this.updated|=b,this},n.scrolledIntoView.get=function(){return(this.updated&b)>0},Object.defineProperties(e.prototype,n),e}(r["e"]);function x(t,e){return e&&t?t.bind(e):t}var w=function(t,e,n){this.name=t,this.init=x(e.init,n),this.apply=x(e.apply,n)},k=[new w("doc",{init:function(t){return t.doc||t.schema.topNodeType.createAndFill()},apply:function(t){return t.doc}}),new w("selection",{init:function(t,e){return t.selection||a.atStart(e.doc)},apply:function(t){return t.selection}}),new w("storedMarks",{init:function(t){return t.storedMarks||null},apply:function(t,e,n,i){return i.selection.$cursor?t.storedMarks:null}}),new w("scrollToSelection",{init:function(){return 0},apply:function(t,e){return t.scrolledIntoView?e+1:e}})],S=function(t,e){var n=this;this.schema=t,this.fields=k.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),e&&e.forEach((function(t){if(n.pluginsByKey[t.key])throw new RangeError("Adding different instances of a keyed plugin ("+t.key+")");n.plugins.push(t),n.pluginsByKey[t.key]=t,t.spec.state&&n.fields.push(new w(t.key,t.spec.state,t))}))},O=function(t){this.config=t},C={schema:{configurable:!0},plugins:{configurable:!0},tr:{configurable:!0}};C.schema.get=function(){return this.config.schema},C.plugins.get=function(){return this.config.plugins},O.prototype.apply=function(t){return this.applyTransaction(t).state},O.prototype.filterTransaction=function(t,e){void 0===e&&(e=-1);for(var n=0;n<this.config.plugins.length;n++)if(n!=e){var i=this.config.plugins[n];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,t,this))return!1}return!0},O.prototype.applyTransaction=function(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};for(var e=[t],n=this.applyInner(t),i=null;;){for(var r=!1,o=0;o<this.config.plugins.length;o++){var a=this.config.plugins[o];if(a.spec.appendTransaction){var s=i?i[o].n:0,l=i?i[o].state:this,c=s<e.length&&a.spec.appendTransaction.call(a,s?e.slice(s):e,l,n);if(c&&n.filterTransaction(c,o)){if(c.setMeta("appendedTransaction",t),!i){i=[];for(var u=0;u<this.config.plugins.length;u++)i.push(u<o?{state:n,n:e.length}:{state:this,n:0})}e.push(c),n=n.applyInner(c),r=!0}i&&(i[o]={state:n,n:e.length})}}if(!r)return{state:n,transactions:e}}},O.prototype.applyInner=function(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var e=new O(this.config),n=this.config.fields,i=0;i<n.length;i++){var r=n[i];e[r.name]=r.apply(t,this[r.name],this,e)}for(var o=0;o<E.length;o++)E[o](this,t,e);return e},C.tr.get=function(){return new _(this)},O.create=function(t){for(var e=new S(t.doc?t.doc.type.schema:t.schema,t.plugins),n=new O(e),i=0;i<e.fields.length;i++)n[e.fields[i].name]=e.fields[i].init(t,n);return n},O.prototype.reconfigure=function(t){for(var e=new S(this.schema,t.plugins),n=e.fields,i=new O(e),r=0;r<n.length;r++){var o=n[r].name;i[o]=this.hasOwnProperty(o)?this[o]:n[r].init(t,i)}return i},O.prototype.toJSON=function(t){var e={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(e.storedMarks=this.storedMarks.map((function(t){return t.toJSON()}))),t&&"object"==typeof t)for(var n in t){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");var i=t[n],r=i.spec.state;r&&r.toJSON&&(e[n]=r.toJSON.call(i,this[i.key]))}return e},O.fromJSON=function(t,e,n){if(!e)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");var r=new S(t.schema,t.plugins),o=new O(r);return r.fields.forEach((function(r){if("doc"==r.name)o.doc=i["Node"].fromJSON(t.schema,e.doc);else if("selection"==r.name)o.selection=a.fromJSON(o.doc,e.selection);else if("storedMarks"==r.name)e.storedMarks&&(o.storedMarks=e.storedMarks.map(t.schema.markFromJSON));else{if(n)for(var s in n){var l=n[s],c=l.spec.state;if(l.key==r.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(e,s))return void(o[r.name]=c.fromJSON.call(l,t,e[s],o))}o[r.name]=r.init(t,o)}})),o},O.addApplyListener=function(t){E.push(t)},O.removeApplyListener=function(t){var e=E.indexOf(t);e>-1&&E.splice(e,1)},Object.defineProperties(O.prototype,C);var E=[];function D(t,e,n){for(var i in t){var r=t[i];r instanceof Function?r=r.bind(e):"handleDOMEvents"==i&&(r=D(r,e,{})),n[i]=r}return n}var T=function(t){this.props={},t.props&&D(t.props,this,this.props),this.spec=t,this.key=t.key?t.key.key:M("plugin")};T.prototype.getState=function(t){return t[this.key]};var N=Object.create(null);function M(t){return t in N?t+"$"+ ++N[t]:(N[t]=0,t+"$")}var A=function(t){void 0===t&&(t="key"),this.key=M(t)};A.prototype.get=function(t){return t.config.pluginsByKey[this.key]},A.prototype.getState=function(t){return t[this.key]}},function(t,e,n){"use strict";var i=n(66),r=n(32),o=n(189),a=n(88),s=n(53),l=n(86),c=n(268),u=n(126),f=n(21),d=n(132),h=n(186).f,p=n(125).f,m=n(71).f,g=n(135).trim,v="Number",y=r[v],b=y.prototype,_=l(d(b))==v,x=function(t){var e,n,i,r,o,a,s,l,c=u(t,!1);if("string"==typeof c&&c.length>2)if(c=g(c),e=c.charCodeAt(0),43===e||45===e){if(n=c.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+c}for(o=c.slice(2),a=o.length,s=0;s<a;s++)if(l=o.charCodeAt(s),l<48||l>r)return NaN;return parseInt(o,i)}return+c};if(o(v,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var w,k=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof k&&(_?f((function(){b.valueOf.call(n)})):l(n)!=v)?c(new y(x(e)),n,k):x(e)},S=i?h(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),O=0;S.length>O;O++)s(y,w=S[O])&&!s(k,w)&&m(k,w,p(y,w));k.prototype=b,b.constructor=k,a(r,v,k)}},function(t,e,n){"use strict";function i(t,e,n,i,r,o,a){try{var s=t[o](a),l=s.value}catch(c){return void n(c)}s.done?e(l):Promise.resolve(l).then(i,r)}function r(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function s(t){i(a,r,o,s,l,"next",t)}function l(t){i(a,r,o,s,l,"throw",t)}s(void 0)}))}}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";var i=n(17),r=n(130);i({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e,n){var i=n(14);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},function(t,e,n){var i=n(66),r=n(71).f,o=Function.prototype,a=o.toString,s=/^\s*function ([^ (]*)/,l="name";i&&!(l in o)&&r(o,l,{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(t){return""}}})},function(t,e,n){"use strict";var i=n(17),r=n(96).map,o=n(109),a=o("map");i({target:"Array",proto:!0,forced:!a},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var i=n(32),r=n(125).f,o=n(70),a=n(88),s=n(167),l=n(443),c=n(189);t.exports=function(t,e){var n,u,f,d,h,p,m=t.target,g=t.global,v=t.stat;if(u=g?i:v?i[m]||s(m,{}):(i[m]||{}).prototype,u)for(f in e){if(h=e[f],t.noTargetGet?(p=r(u,f),d=p&&p.value):d=u[f],n=c(g?f:m+(v?".":"#")+f,t.forced),!n&&void 0!==d){if(typeof h===typeof d)continue;l(h,d)}(t.sham||d&&d.sham)&&o(h,"sham",!0),a(u,f,h,t)}}},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return i}))},function(t,e,n){var i=n(113)("wks"),r=n(76),o=n(11).Symbol,a="function"==typeof o,s=t.exports=function(t){return i[t]||(i[t]=a&&o[t]||(a?o:r)("Symbol."+t))};s.store=i},function(t,e,n){"use strict";var i=n(17),r=n(21),o=n(173),a=n(65),s=n(61),l=n(49),c=n(139),u=n(172),f=n(109),d=n(34),h=n(127),p=d("isConcatSpreadable"),m=9007199254740991,g="Maximum allowed index exceeded",v=h>=51||!r((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),y=f("concat"),b=function(t){if(!a(t))return!1;var e=t[p];return void 0!==e?!!e:o(t)},_=!v||!y;i({target:"Array",proto:!0,forced:_},{concat:function(t){var e,n,i,r,o,a=s(this),f=u(a,0),d=0;for(e=-1,i=arguments.length;e<i;e++)if(o=-1===e?a:arguments[e],b(o)){if(r=l(o.length),d+r>m)throw TypeError(g);for(n=0;n<r;n++,d++)n in o&&c(f,d,o[n])}else{if(d>=m)throw TypeError(g);c(f,d++,o)}return f.length=d,f}})},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e,n){var i=n(56),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},function(t,e,n){"use strict";var i=n(17),r=n(179).indexOf,o=n(95),a=[].indexOf,s=!!a&&1/[1].indexOf(1,-0)<0,l=o("indexOf");i({target:"Array",proto:!0,forced:s||!l},{indexOf:function(t){return s?a.apply(this,arguments)||0:r(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var i=n(17),r=n(242);i({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},function(t,e,n){var i=n(32),r=n(251),o=n(242),a=n(70);for(var s in r){var l=i[s],c=l&&l.prototype;if(c&&c.forEach!==o)try{a(c,"forEach",o)}catch(u){c.forEach=o}}},function(t,e,n){"use strict";var i=n(17),r=n(133),o=n(87),a=n(95),s=[].join,l=r!=Object,c=a("join",",");i({target:"Array",proto:!0,forced:l||!c},{join:function(t){return s.call(o(this),void 0===t?",":t)}})},function(t,e){var n=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=n)},function(t,e,n){"use strict";var i=n(17),r=n(96).filter,o=n(109),a=o("filter");i({target:"Array",proto:!0,forced:!a},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){t.exports=!n(12)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e,n){var i=n(13),r=n(203),o=n(72),a=Object.defineProperty;e.f=n(29)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return a(t,e,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){"use strict";n.d(e,"d",(function(){return r})),n.d(e,"f",(function(){return o})),n.d(e,"e",(function(){return a})),n.d(e,"g",(function(){return s})),n.d(e,"c",(function(){return c})),n.d(e,"a",(function(){return u})),n.d(e,"i",(function(){return f})),n.d(e,"b",(function(){return d})),n.d(e,"j",(function(){return h})),n.d(e,"h",(function(){return m}));var i=n(5),r=(n(48),n(24),n(25),n(843),function(t,e,n){return t.find((function(t){return(n?t[n]:t.id)===e}))}),o=function(t,e){var n;return e.dataset&&e.dataset.id&&t.forEach((function(t){t.id===e.dataset.id&&(n=t)})),n},a=function(t,e,n){var i,r;return n.dataset&&n.dataset.parentId&&t.forEach((function(t){t.id===n.dataset.parentId&&(r=t,t[e].forEach((function(t){t.id===n.dataset.id&&(i=t)})))})),r&&i?{parent:r,sub:i}:void 0},s=function(t){return $(t).data("object")},l=10,c=function(t){var e={x:void 0==t.x?0:t.x,y:void 0==t.y?0:t.y};if(0!=e.x){var n=e.x%l;0!=n&&(e.x=n>l/2?e.x-n+l:e.x-n)}if(0!=e.y){var i=e.y%l;0!=i&&(e.y=i>l/2?e.y-i+l:e.y-i)}return e},u=function(t){var e=Object.getPrototypeOf(t);return Array.isArray(t)?Object.assign([],Object.create(e),t):Object.assign({},Object.create(e),t)},f=function(t){return"".concat(t,"px")},d=function(t){for(var e={},n=0;n<t.length;n++){var i=t[n];if(1==i.nodeLevel)e[i.nodeName]=i.value;else for(var r=e,o=0;o<i.nodeLevel;o++){var a=o+1,s=i["nodeName"+a];o<i.nodeLevel-1?(void 0===r[s]&&(r[s]={}),r=r[s]):void 0===r[s]&&(r[s]=i.value)}}return e},h=function(t){var e=t&&t.attributes.BaseInfo;return!(!e||0!==e.Mode||!e.SubWFID)},p={},m=function(t){var e=p[t];return e||(p[t]=[],dsf.http.get("$/pd_attributes/flow/".concat(t,".json")).done((function(e){var n;return(n=p[t]).push.apply(n,Object(i["a"])(e)),p[t]})))}},function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||function(){return this}()||Function("return this")()}).call(this,n(250))},function(t,e,n){"use strict";var i=n(17),r=n(134),o=n(85),a=n(49),s=n(61),l=n(172),c=n(139),u=n(109),f=u("splice"),d=Math.max,h=Math.min,p=9007199254740991,m="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!f},{splice:function(t,e){var n,i,u,f,g,v,y=s(this),b=a(y.length),_=r(t,b),x=arguments.length;if(0===x?n=i=0:1===x?(n=0,i=b-_):(n=x-2,i=h(d(o(e),0),b-_)),b+n-i>p)throw TypeError(m);for(u=l(y,i),f=0;f<i;f++)g=_+f,g in y&&c(u,f,y[g]);if(u.length=i,n<i){for(f=_;f<b-i;f++)g=f+i,v=f+n,g in y?y[v]=y[g]:delete y[v];for(f=b;f>b-i+n;f--)delete y[f-1]}else if(n>i)for(f=b-i;f>_;f--)g=f+i-1,v=f+n-1,g in y?y[v]=y[g]:delete y[v];for(f=0;f<n;f++)y[f+_]=arguments[f+2];return y.length=b-i+n,u}})},function(t,e,n){var i=n(32),r=n(169),o=n(53),a=n(200),s=n(239),l=n(446),c=r("wks"),u=i.Symbol,f=l?u:u&&u.withoutSetter||a;t.exports=function(t){return o(c,t)&&(s||"string"==typeof c[t])||(s&&o(u,t)?c[t]=u[t]:c[t]=f("Symbol."+t)),c[t]}},function(t,e,n){"use strict";var i=n(181),r=n(21),o=n(47),a=n(49),s=n(85),l=n(60),c=n(241),u=n(448),f=n(182),d=n(34),h=d("replace"),p=Math.max,m=Math.min,g=function(t){return void 0===t?t:String(t)},v=function(){return"$0"==="a".replace(/./,"$0")}(),y=function(){return!!/./[h]&&""===/./[h]("a","$0")}(),b=!r((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}));i("replace",(function(t,e,n){var i=y?"$":"$0";return[function(t,n){var i=l(this),r=void 0==t?void 0:t[h];return void 0!==r?r.call(t,i,n):e.call(String(i),t,n)},function(t,r){if("string"===typeof r&&-1===r.indexOf(i)&&-1===r.indexOf("$<")){var l=n(e,this,t,r);if(l.done)return l.value}var d=o(this),h=String(t),v="function"===typeof r;v||(r=String(r));var y=d.global;if(y){var b=d.unicode;d.lastIndex=0}var _=[];while(1){var x=f(d,h);if(null===x)break;if(_.push(x),!y)break;var w=String(x[0]);""===w&&(d.lastIndex=c(h,a(d.lastIndex),b))}for(var k="",S=0,O=0;O<_.length;O++){x=_[O];for(var C=String(x[0]),E=p(m(s(x.index),h.length),0),D=[],T=1;T<x.length;T++)D.push(g(x[T]));var N=x.groups;if(v){var M=[C].concat(D,E,h);void 0!==N&&M.push(N);var A=String(r.apply(void 0,M))}else A=u(C,h,E,D,N,r);E>=S&&(k+=h.slice(S,E)+A,S=E+C.length)}return k+h.slice(S)}]}),!b||!v||y)},function(t,e,n){"use strict";var i=n(181),r=n(190),o=n(47),a=n(60),s=n(479),l=n(241),c=n(49),u=n(182),f=n(130),d=n(192),h=n(21),p=d.UNSUPPORTED_Y,m=[].push,g=Math.min,v=4294967295,y=!h((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));i("split",(function(t,e,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var i=String(a(this)),o=void 0===n?v:n>>>0;if(0===o)return[];if(void 0===t)return[i];if(!r(t))return e.call(i,t,o);var s,l,c,u=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,p=new RegExp(t.source,d+"g");while(s=f.call(p,i)){if(l=p.lastIndex,l>h&&(u.push(i.slice(h,s.index)),s.length>1&&s.index<i.length&&m.apply(u,s.slice(1)),c=s[0].length,h=l,u.length>=o))break;p.lastIndex===s.index&&p.lastIndex++}return h===i.length?!c&&p.test("")||u.push(""):u.push(i.slice(h)),u.length>o?u.slice(0,o):u}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var r=a(this),o=void 0==e?void 0:e[t];return void 0!==o?o.call(e,r,n):i.call(String(r),e,n)},function(t,r){var a=n(i,this,t,r,i!==e);if(a.done)return a.value;var f=o(this),d=String(t),h=s(f,RegExp),m=f.unicode,y=(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.unicode?"u":"")+(p?"g":"y"),b=new h(p?"^(?:"+f.source+")":f,y),_=void 0===r?v:r>>>0;if(0===_)return[];if(0===d.length)return null===u(b,d)?[d]:[];var x=0,w=0,k=[];while(w<d.length){b.lastIndex=p?0:w;var S,O=u(b,p?d.slice(w):d);if(null===O||(S=g(c(b.lastIndex+(p?w:0)),d.length))===x)w=l(d,w,m);else{if(k.push(d.slice(x,w)),k.length===_)return k;for(var C=1;C<=O.length-1;C++)if(k.push(O[C]),k.length===_)return k;w=x=S}}return k.push(d.slice(x)),k}]}),!y,p)},function(t,e,n){var i=n(68);t.exports=function(t){return Object(i(t))}},function(t,e,n){var i=n(174),r=n(88),o=n(453);i||r(Object.prototype,"toString",o,{unsafe:!0})},function(t,e,n){"use strict";n.r(e),n.d(e,"insertText",(function(){return c})),n.d(e,"markInputRule",(function(){return f})),n.d(e,"markPasteRule",(function(){return p})),n.d(e,"nodeInputRule",(function(){return d})),n.d(e,"pasteRule",(function(){return h})),n.d(e,"removeMark",(function(){return m})),n.d(e,"replaceText",(function(){return g})),n.d(e,"setInlineBlockType",(function(){return v})),n.d(e,"splitToDefaultListItem",(function(){return b})),n.d(e,"toggleBlockType",(function(){return _})),n.d(e,"toggleList",(function(){return w})),n.d(e,"toggleWrap",(function(){return k})),n.d(e,"updateMark",(function(){return S}));var i=n(74);n.d(e,"autoJoin",(function(){return i["autoJoin"]})),n.d(e,"baseKeymap",(function(){return i["baseKeymap"]})),n.d(e,"chainCommands",(function(){return i["chainCommands"]})),n.d(e,"createParagraphNear",(function(){return i["createParagraphNear"]})),n.d(e,"deleteSelection",(function(){return i["deleteSelection"]})),n.d(e,"exitCode",(function(){return i["exitCode"]})),n.d(e,"joinBackward",(function(){return i["joinBackward"]})),n.d(e,"joinDown",(function(){return i["joinDown"]})),n.d(e,"joinForward",(function(){return i["joinForward"]})),n.d(e,"joinUp",(function(){return i["joinUp"]})),n.d(e,"lift",(function(){return i["lift"]})),n.d(e,"liftEmptyBlock",(function(){return i["liftEmptyBlock"]})),n.d(e,"macBaseKeymap",(function(){return i["macBaseKeymap"]})),n.d(e,"newlineInCode",(function(){return i["newlineInCode"]})),n.d(e,"pcBaseKeymap",(function(){return i["pcBaseKeymap"]})),n.d(e,"selectAll",(function(){return i["selectAll"]})),n.d(e,"selectNodeBackward",(function(){return i["selectNodeBackward"]})),n.d(e,"selectNodeForward",(function(){return i["selectNodeForward"]})),n.d(e,"selectParentNode",(function(){return i["selectParentNode"]})),n.d(e,"setBlockType",(function(){return i["setBlockType"]})),n.d(e,"splitBlock",(function(){return i["splitBlock"]})),n.d(e,"splitBlockKeepMarks",(function(){return i["splitBlockKeepMarks"]})),n.d(e,"toggleMark",(function(){return i["toggleMark"]})),n.d(e,"wrapIn",(function(){return i["wrapIn"]}));var r=n(252);n.d(e,"addListNodes",(function(){return r["addListNodes"]})),n.d(e,"liftListItem",(function(){return r["liftListItem"]})),n.d(e,"sinkListItem",(function(){return r["sinkListItem"]})),n.d(e,"splitListItem",(function(){return r["splitListItem"]})),n.d(e,"wrapInList",(function(){return r["wrapInList"]}));var o=n(245);n.d(e,"textblockTypeInputRule",(function(){return o["textblockTypeInputRule"]})),n.d(e,"wrappingInputRule",(function(){return o["wrappingInputRule"]}));var a=n(7),s=n(4),l=n(106);
/*!
    * tiptap-commands v1.17.0
    * (c) 2021 überdosis GbR (limited liability)
    * @license MIT
    */
function c(t=""){return(e,n)=>{const{$from:i}=e.selection,{pos:r}=i.pos;return n(e.tr.insertText(t,r)),!0}}function u(t,e,n){let i=[];return n.doc.nodesBetween(t,e,(t,e)=>{i=[...i,...t.marks.map(n=>({start:e,end:e+t.nodeSize,mark:n}))]}),i}function f(t,e,n){return new o["InputRule"](t,(t,i,r,o)=>{const a=n instanceof Function?n(i):n,{tr:s}=t,l=i.length-1;let c=o,f=r;if(i[l]){const n=r+i[0].indexOf(i[l-1]),a=n+i[l-1].length-1,d=n+i[l-1].lastIndexOf(i[l]),h=d+i[l].length,p=u(r,o,t).filter(t=>{const{excluded:n}=t.mark.type;return n.find(t=>t.name===e.name)}).filter(t=>t.end>n);if(p.length)return!1;h<a&&s.delete(h,a),d>n&&s.delete(n,d),f=n,c=f+i[l].length}return s.addMark(f,c,e.create(a)),s.removeStoredMark(e),s})}function d(t,e,n){return new o["InputRule"](t,(t,i,r,o)=>{const a=n instanceof Function?n(i):n,{tr:s}=t;return i[0]&&s.replaceWith(r-1,o,e.create(a)),s})}function h(t,e,n){const i=r=>{const o=[];return r.forEach(r=>{if(r.isText){const{text:i}=r;let a,s=0;do{if(a=t.exec(i),a){const t=a.index,i=t+a[0].length,l=n instanceof Function?n(a[0]):n;t>0&&o.push(r.cut(s,t)),o.push(r.cut(t,i).mark(e.create(l).addToSet(r.marks))),s=i}}while(a);s<i.length&&o.push(r.cut(s))}else o.push(r.copy(i(r.content)))}),s["Fragment"].fromArray(o)};return new a["Plugin"]({props:{transformPasted:t=>new s["Slice"](i(t.content),t.openStart,t.openEnd)}})}function p(t,e,n){const i=(r,o)=>{const a=[];return r.forEach(r=>{if(r.isText){const{text:i,marks:s}=r;let l,c=0;const u=!!s.filter(t=>"link"===t.type.name)[0];while(!u&&null!==(l=t.exec(i)))if(o&&o.type.allowsMarkType(e)&&l[1]){const t=l.index,i=t+l[0].length,o=t+l[0].indexOf(l[1]),s=o+l[1].length,u=n instanceof Function?n(l):n;t>0&&a.push(r.cut(c,t)),a.push(r.cut(o,s).mark(e.create(u).addToSet(r.marks))),c=i}c<i.length&&a.push(r.cut(c))}else a.push(r.copy(i(r.content,r)))}),s["Fragment"].fromArray(a)};return new a["Plugin"]({props:{transformPasted:t=>new s["Slice"](i(t.content),t.openStart,t.openEnd)}})}function m(t){return(e,n)=>{const{tr:i,selection:r}=e;let{from:o,to:a}=r;const{$from:s,empty:c}=r;if(c){const e=Object(l["getMarkRange"])(s,t);o=e.from,a=e.to}return i.removeMark(o,a,t),n(i)}}function g(t=null,e,n={},i=s["Fragment"].empty){return(r,o)=>{const{$from:a,$to:s}=r.selection,l=a.index(),c=t?t.from:a.pos,u=t?t.to:s.pos;return!!a.parent.canReplaceWith(l,l,e)&&(o&&o(r.tr.replaceWith(c,u,e.create(n,i))),!0)}}function v(t,e={}){return(n,i)=>{const{$from:r}=n.selection,o=r.index();return!!r.parent.canReplaceWith(o,o,t)&&(i&&i(n.tr.replaceSelectionWith(t.create(e))),!0)}}function y(t,e,n=1,i){const r=t.resolve(e),o=r.depth-n,a=i&&i[i.length-1]||r.parent;if(o<0||r.parent.type.spec.isolating||!r.parent.canReplace(r.index(),r.parent.childCount)||!a.type.validContent(r.parent.content.cutByIndex(r.index(),r.parent.childCount)))return!1;for(let c=r.depth-1,u=n-2;c>o;c--,u--){const t=r.node(c),e=r.index(c);if(t.type.spec.isolating)return!1;let n=t.content.cutByIndex(e,t.childCount);const o=i&&i[u]||t;if(o!=t&&(n=n.replaceChild(0,o.type.create(o.attrs))),!t.canReplace(e+1,t.childCount))return!1}const s=r.indexAfter(o),l=i&&i[0];return r.node(o).canReplaceWith(s,s,l?l.type:r.node(o+1).type)}function b(t){return function(e,n){const{$from:i,$to:r,node:o}=e.selection;if(o&&o.isBlock||i.depth<2||!i.sameParent(r))return!1;const a=i.node(-1);if(a.type!=t)return!1;if(0==i.parent.content.size){if(2==i.depth||i.node(-3).type!=t||i.index(-2)!=i.node(-2).childCount-1)return!1;if(n){let r=s["Fragment"].empty;const o=i.index(-1)>0;for(let t=i.depth-(o?1:2);t>=i.depth-3;t--)r=s["Fragment"].from(i.node(t).copy(r));r=r.append(s["Fragment"].from(t.createAndFill()));const a=e.tr.replace(i.before(o?null:-1),i.after(-3),new s["Slice"](r,o?3:2,2));a.setSelection(e.selection.constructor.near(a.doc.resolve(i.pos+(o?3:2)))),n(a.scrollIntoView())}return!0}const l=r.pos==i.end()?a.contentMatchAt(i.indexAfter(-1)).defaultType:null,c=e.tr.delete(i.pos,r.pos);let u=l&&[{type:t},{type:l}];return u||(u=[{type:t},null]),!!y(c.doc,i.pos,2,u)&&(n&&n(c.split(i.pos,2,u).scrollIntoView()),!0)}}function _(t,e,n={}){return(r,o,a)=>{const s=Object(l["nodeIsActive"])(r,t,n);return s?Object(i["setBlockType"])(e)(r,o,a):Object(i["setBlockType"])(t,n)(r,o,a)}}function x(t,e){return t.type===e.nodes.bullet_list||t.type===e.nodes.ordered_list||t.type===e.nodes.todo_list}function w(t,e){return(n,i,o)=>{const{schema:a,selection:s}=n,{$from:c,$to:u}=s,f=c.blockRange(u);if(!f)return!1;const d=Object(l["findParentNode"])(t=>x(t,a))(s);if(f.depth>=1&&d&&f.depth-d.depth<=1){if(d.node.type===t)return Object(r["liftListItem"])(e)(n,i,o);if(x(d.node,a)&&t.validContent(d.node.content)){const{tr:e}=n;return e.setNodeMarkup(d.pos,t),i&&i(e),!1}}return Object(r["wrapInList"])(t)(n,i,o)}}function k(t,e={}){return(n,r,o)=>{const a=Object(l["nodeIsActive"])(n,t,e);return a?Object(i["lift"])(n,r):Object(i["wrapIn"])(t,e)(n,r,o)}}function S(t,e){return(n,i)=>{const{tr:r,selection:o,doc:a}=n,{ranges:s,empty:c}=o;if(c){const{from:n,to:i}=Object(l["getMarkRange"])(o.$from,t);a.rangeHasMark(n,i,t)&&r.removeMark(n,i,t),r.addMark(n,i,t.create(e))}else s.forEach(n=>{const{$to:i,$from:o}=n;a.rangeHasMark(o.pos,i.pos,t)&&r.removeMark(o.pos,i.pos,t),r.addMark(o.pos,i.pos,t.create(e))});return i(r)}}},function(t,e,n){"use strict";function i(t,e){for(var n=[],i={},r=0;r<e.length;r++){var o=e[r],a=o[0],s=o[1],l=o[2],c=o[3],u={id:t+":"+r,css:s,media:l,sourceMap:c};i[a]?i[a].parts.push(u):n.push(i[a]={id:a,parts:[u]})}return n}n.r(e),n.d(e,"default",(function(){return p}));var r="undefined"!==typeof document;if("undefined"!==typeof DEBUG&&DEBUG&&!r)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var o={},a=r&&(document.head||document.getElementsByTagName("head")[0]),s=null,l=0,c=!1,u=function(){},f=null,d="data-vue-ssr-id",h="undefined"!==typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(t,e,n,r){c=n,f=r||{};var a=i(t,e);return m(a),function(e){for(var n=[],r=0;r<a.length;r++){var s=a[r],l=o[s.id];l.refs--,n.push(l)}e?(a=i(t,e),m(a)):a=[];for(r=0;r<n.length;r++){l=n[r];if(0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete o[l.id]}}}}function m(t){for(var e=0;e<t.length;e++){var n=t[e],i=o[n.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](n.parts[r]);for(;r<n.parts.length;r++)i.parts.push(v(n.parts[r]));i.parts.length>n.parts.length&&(i.parts.length=n.parts.length)}else{var a=[];for(r=0;r<n.parts.length;r++)a.push(v(n.parts[r]));o[n.id]={id:n.id,refs:1,parts:a}}}}function g(){var t=document.createElement("style");return t.type="text/css",a.appendChild(t),t}function v(t){var e,n,i=document.querySelector("style["+d+'~="'+t.id+'"]');if(i){if(c)return u;i.parentNode.removeChild(i)}if(h){var r=l++;i=s||(s=g()),e=b.bind(null,i,r,!1),n=b.bind(null,i,r,!0)}else i=g(),e=_.bind(null,i),n=function(){i.parentNode.removeChild(i)};return e(t),function(i){if(i){if(i.css===t.css&&i.media===t.media&&i.sourceMap===t.sourceMap)return;e(t=i)}else n()}}var y=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}();function b(t,e,n,i){var r=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=y(e,r);else{var o=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function _(t,e){var n=e.css,i=e.media,r=e.sourceMap;if(i&&t.setAttribute("media",i),f.ssrId&&t.setAttribute(d,e.id),r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{while(t.firstChild)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}},function(t,e,n){var i=n(11),r=n(44),o=n(43),a=n(76)("src"),s=n(273),l="toString",c=(""+s).split(l);n(27).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,n,s){var l="function"==typeof n;l&&(o(n,"name")||r(n,"name",e)),t[e]!==n&&(l&&(o(n,a)||r(n,a,t[e]?""+t[e]:c.join(String(e)))),t===i?t[e]=n:s?t[e]?t[e]=n:r(t,e,n):(delete t[e],r(t,e,n)))})(Function.prototype,l,(function(){return"function"==typeof this&&this[a]||s.call(this)}))},function(t,e,n){var i=n(1),r=n(12),o=n(68),a=/"/g,s=function(t,e,n,i){var r=String(o(t)),s="<"+e;return""!==n&&(s+=" "+n+'="'+String(i).replace(a,"&quot;")+'"'),s+">"+r+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(s),i(i.P+i.F*r((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})),"String",n)}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var i=n(30),r=n(75);t.exports=n(29)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var i=n(98),r=n(68);t.exports=function(t){return i(r(t))}},function(t,e,n){"use strict";var i=n(17),r=n(65),o=n(173),a=n(134),s=n(49),l=n(87),c=n(139),u=n(34),f=n(109),d=f("slice"),h=u("species"),p=[].slice,m=Math.max;i({target:"Array",proto:!0,forced:!d},{slice:function(t,e){var n,i,u,f=l(this),d=s(f.length),g=a(t,d),v=a(void 0===e?d:e,d);if(o(f)&&(n=f.constructor,"function"!=typeof n||n!==Array&&!o(n.prototype)?r(n)&&(n=n[h],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return p.call(f,g,v);for(i=new(void 0===n?Array:n)(m(v-g,0)),u=0;g<v;g++,u++)g in f&&c(i,u,f[g]);return i.length=u,i}})},function(t,e,n){var i=n(65);t.exports=function(t){if(!i(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e,n){"use strict";var i=n(17),r=n(96).find,o=n(136),a="find",s=!0;a in[]&&Array(1)[a]((function(){s=!1})),i({target:"Array",proto:!0,forced:s},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),o(a)},function(t,e,n){var i=n(85),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},function(t,e,n){"use strict";var i=n(12);t.exports=function(t,e){return!!t&&i((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},function(t,e,n){"use strict";n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return _})),n.d(e,"c",(function(){return b})),n.d(e,"d",(function(){return v})),n.d(e,"e",(function(){return h})),n.d(e,"f",(function(){return N})),n.d(e,"g",(function(){return T})),n.d(e,"h",(function(){return P})),n.d(e,"i",(function(){return S})),n.d(e,"j",(function(){return A})),n.d(e,"k",(function(){return k}));var i=n(4),r=65535,o=Math.pow(2,16);function a(t,e){return t+e*o}function s(t){return t&r}function l(t){return(t-(t&r))/o}var c=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=null),this.pos=t,this.deleted=e,this.recover=n},u=function(t,e){void 0===e&&(e=!1),this.ranges=t,this.inverted=e};u.prototype.recover=function(t){var e=0,n=s(t);if(!this.inverted)for(var i=0;i<n;i++)e+=this.ranges[3*i+2]-this.ranges[3*i+1];return this.ranges[3*n]+e+l(t)},u.prototype.mapResult=function(t,e){return void 0===e&&(e=1),this._map(t,e,!1)},u.prototype.map=function(t,e){return void 0===e&&(e=1),this._map(t,e,!0)},u.prototype._map=function(t,e,n){for(var i=0,r=this.inverted?2:1,o=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var l=this.ranges[s]-(this.inverted?i:0);if(l>t)break;var u=this.ranges[s+r],f=this.ranges[s+o],d=l+u;if(t<=d){var h=u?t==l?-1:t==d?1:e:e,p=l+i+(h<0?0:f);if(n)return p;var m=t==(e<0?l:d)?null:a(s/3,t-l);return new c(p,e<0?t!=l:t!=d,m)}i+=f-u}return n?t+i:new c(t+i)},u.prototype.touches=function(t,e){for(var n=0,i=s(e),r=this.inverted?2:1,o=this.inverted?1:2,a=0;a<this.ranges.length;a+=3){var l=this.ranges[a]-(this.inverted?n:0);if(l>t)break;var c=this.ranges[a+r],u=l+c;if(t<=u&&a==3*i)return!0;n+=this.ranges[a+o]-c}return!1},u.prototype.forEach=function(t){for(var e=this.inverted?2:1,n=this.inverted?1:2,i=0,r=0;i<this.ranges.length;i+=3){var o=this.ranges[i],a=o-(this.inverted?r:0),s=o+(this.inverted?0:r),l=this.ranges[i+e],c=this.ranges[i+n];t(a,a+l,s,s+c),r+=c-l}},u.prototype.invert=function(){return new u(this.ranges,!this.inverted)},u.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)},u.offset=function(t){return 0==t?u.empty:new u(t<0?[0,-t,0]:[0,0,t])},u.empty=new u([]);var f=function(t,e,n,i){this.maps=t||[],this.from=n||0,this.to=null==i?this.maps.length:i,this.mirror=e};function d(t){var e=Error.call(this,t);return e.__proto__=d.prototype,e}f.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.maps.length),new f(this.maps,this.mirror,t,e)},f.prototype.copy=function(){return new f(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)},f.prototype.appendMap=function(t,e){this.to=this.maps.push(t),null!=e&&this.setMirror(this.maps.length-1,e)},f.prototype.appendMapping=function(t){for(var e=0,n=this.maps.length;e<t.maps.length;e++){var i=t.getMirror(e);this.appendMap(t.maps[e],null!=i&&i<e?n+i:null)}},f.prototype.getMirror=function(t){if(this.mirror)for(var e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]},f.prototype.setMirror=function(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)},f.prototype.appendMappingInverted=function(t){for(var e=t.maps.length-1,n=this.maps.length+t.maps.length;e>=0;e--){var i=t.getMirror(e);this.appendMap(t.maps[e].invert(),null!=i&&i>e?n-i-1:null)}},f.prototype.invert=function(){var t=new f;return t.appendMappingInverted(this),t},f.prototype.map=function(t,e){if(void 0===e&&(e=1),this.mirror)return this._map(t,e,!0);for(var n=this.from;n<this.to;n++)t=this.maps[n].map(t,e);return t},f.prototype.mapResult=function(t,e){return void 0===e&&(e=1),this._map(t,e,!1)},f.prototype._map=function(t,e,n){for(var i=!1,r=this.from;r<this.to;r++){var o=this.maps[r],a=o.mapResult(t,e);if(null!=a.recover){var s=this.getMirror(r);if(null!=s&&s>r&&s<this.to){r=s,t=this.maps[s].recover(a.recover);continue}}a.deleted&&(i=!0),t=a.pos}return n?t:new c(t,i)},d.prototype=Object.create(Error.prototype),d.prototype.constructor=d,d.prototype.name="TransformError";var h=function(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new f},p={before:{configurable:!0},docChanged:{configurable:!0}};function m(){throw new Error("Override me")}p.before.get=function(){return this.docs.length?this.docs[0]:this.doc},h.prototype.step=function(t){var e=this.maybeStep(t);if(e.failed)throw new d(e.failed);return this},h.prototype.maybeStep=function(t){var e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e},p.docChanged.get=function(){return this.steps.length>0},h.prototype.addStep=function(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e},Object.defineProperties(h.prototype,p);var g=Object.create(null),v=function(){};v.prototype.apply=function(t){return m()},v.prototype.getMap=function(){return u.empty},v.prototype.invert=function(t){return m()},v.prototype.map=function(t){return m()},v.prototype.merge=function(t){return null},v.prototype.toJSON=function(){return m()},v.fromJSON=function(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=g[e.stepType];if(!n)throw new RangeError("No step type "+e.stepType+" defined");return n.fromJSON(t,e)},v.jsonID=function(t,e){if(t in g)throw new RangeError("Duplicate use of step JSON ID "+t);return g[t]=e,e.prototype.jsonID=t,e};var y=function(t,e){this.doc=t,this.failed=e};y.ok=function(t){return new y(t,null)},y.fail=function(t){return new y(null,t)},y.fromReplace=function(t,e,n,r){try{return y.ok(t.replace(e,n,r))}catch(o){if(o instanceof i["ReplaceError"])return y.fail(o.message);throw o}};var b=function(t){function e(e,n,i,r){t.call(this),this.from=e,this.to=n,this.slice=i,this.structure=!!r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){return this.structure&&x(t,this.from,this.to)?y.fail("Structure replace would overwrite content"):y.fromReplace(t,this.from,this.to,this.slice)},e.prototype.getMap=function(){return new u([this.from,this.to-this.from,this.slice.size])},e.prototype.invert=function(t){return new e(this.from,this.from+this.slice.size,t.slice(this.from,this.to))},e.prototype.map=function(t){var n=t.mapResult(this.from,1),i=t.mapResult(this.to,-1);return n.deleted&&i.deleted?null:new e(n.pos,Math.max(n.pos,i.pos),this.slice)},e.prototype.merge=function(t){if(!(t instanceof e)||t.structure||this.structure)return null;if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart){if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null;var n=this.slice.size+t.slice.size==0?i["Slice"].empty:new i["Slice"](t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new e(t.from,this.to,n,this.structure)}var r=this.slice.size+t.slice.size==0?i["Slice"].empty:new i["Slice"](this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new e(this.from,this.to+(t.to-t.from),r,this.structure)},e.prototype.toJSON=function(){var t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new e(n.from,n.to,i["Slice"].fromJSON(t,n.slice),!!n.structure)},e}(v);v.jsonID("replace",b);var _=function(t){function e(e,n,i,r,o,a,s){t.call(this),this.from=e,this.to=n,this.gapFrom=i,this.gapTo=r,this.slice=o,this.insert=a,this.structure=!!s}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){if(this.structure&&(x(t,this.from,this.gapFrom)||x(t,this.gapTo,this.to)))return y.fail("Structure gap-replace would overwrite content");var e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return y.fail("Gap is not a flat range");var n=this.slice.insertAt(this.insert,e.content);return n?y.fromReplace(t,this.from,this.to,n):y.fail("Content does not fit in gap")},e.prototype.getMap=function(){return new u([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},e.prototype.invert=function(t){var n=this.gapTo-this.gapFrom;return new e(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),i=t.mapResult(this.to,-1),r=t.map(this.gapFrom,-1),o=t.map(this.gapTo,1);return n.deleted&&i.deleted||r<n.pos||o>i.pos?null:new e(n.pos,i.pos,r,o,this.slice,this.insert,this.structure)},e.prototype.toJSON=function(){var t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to||"number"!=typeof n.gapFrom||"number"!=typeof n.gapTo||"number"!=typeof n.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new e(n.from,n.to,n.gapFrom,n.gapTo,i["Slice"].fromJSON(t,n.slice),n.insert,!!n.structure)},e}(v);function x(t,e,n){var i=t.resolve(e),r=n-e,o=i.depth;while(r>0&&o>0&&i.indexAfter(o)==i.node(o).childCount)o--,r--;if(r>0){var a=i.node(o).maybeChild(i.indexAfter(o));while(r>0){if(!a||a.isLeaf)return!0;a=a.firstChild,r--}}return!1}function w(t,e,n){return(0==e||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function k(t){for(var e=t.parent,n=e.content.cutByIndex(t.startIndex,t.endIndex),i=t.depth;;--i){var r=t.$from.node(i),o=t.$from.index(i),a=t.$to.indexAfter(i);if(i<t.depth&&r.canReplace(o,a,n))return i;if(0==i||r.type.spec.isolating||!w(r,o,a))break}}function S(t,e,n,i){void 0===i&&(i=t);var r=C(t,e),o=r&&E(i,e);return o?r.map(O).concat({type:e,attrs:n}).concat(o.map(O)):null}function O(t){return{type:t,attrs:null}}function C(t,e){var n=t.parent,i=t.startIndex,r=t.endIndex,o=n.contentMatchAt(i).findWrapping(e);if(!o)return null;var a=o.length?o[0]:e;return n.canReplaceWith(i,r,a)?o:null}function E(t,e){var n=t.parent,i=t.startIndex,r=t.endIndex,o=n.child(i),a=e.contentMatch.findWrapping(o.type);if(!a)return null;for(var s=a.length?a[a.length-1]:e,l=s.contentMatch,c=i;l&&c<r;c++)l=l.matchType(n.child(c).type);return l&&l.validEnd?a:null}function D(t,e,n){var i=t.resolve(e),r=i.index();return i.parent.canReplaceWith(r,r+1,n)}function T(t,e,n,i){void 0===n&&(n=1);var r=t.resolve(e),o=r.depth-n,a=i&&i[i.length-1]||r.parent;if(o<0||r.parent.type.spec.isolating||!r.parent.canReplace(r.index(),r.parent.childCount)||!a.type.validContent(r.parent.content.cutByIndex(r.index(),r.parent.childCount)))return!1;for(var s=r.depth-1,l=n-2;s>o;s--,l--){var c=r.node(s),u=r.index(s);if(c.type.spec.isolating)return!1;var f=c.content.cutByIndex(u,c.childCount),d=i&&i[l]||c;if(d!=c&&(f=f.replaceChild(0,d.type.create(d.attrs))),!c.canReplace(u+1,c.childCount)||!d.type.validContent(f))return!1}var h=r.indexAfter(o),p=i&&i[0];return r.node(o).canReplaceWith(h,h,p?p.type:r.node(o+1).type)}function N(t,e){var n=t.resolve(e),i=n.index();return M(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(i,i+1)}function M(t,e){return t&&e&&!t.isLeaf&&t.canAppend(e)}function A(t,e,n){void 0===n&&(n=-1);for(var i=t.resolve(e),r=i.depth;;r--){var o=void 0,a=void 0,s=i.index(r);if(r==i.depth?(o=i.nodeBefore,a=i.nodeAfter):n>0?(o=i.node(r+1),s++,a=i.node(r).maybeChild(s)):(o=i.node(r).maybeChild(s-1),a=i.node(r+1)),o&&!o.isTextblock&&M(o,a)&&i.node(r).canReplace(s,s+1))return e;if(0==r)break;e=n<0?i.before(r):i.after(r)}}function j(t,e,n){var i=t.resolve(e);if(i.parent.canReplaceWith(i.index(),i.index(),n))return e;if(0==i.parentOffset)for(var r=i.depth-1;r>=0;r--){var o=i.index(r);if(i.node(r).canReplaceWith(o,o,n))return i.before(r+1);if(o>0)return null}if(i.parentOffset==i.parent.content.size)for(var a=i.depth-1;a>=0;a--){var s=i.indexAfter(a);if(i.node(a).canReplaceWith(s,s,n))return i.after(a+1);if(s<i.node(a).childCount)return null}}function P(t,e,n){var i=t.resolve(e);if(!n.content.size)return e;for(var r=n.content,o=0;o<n.openStart;o++)r=r.firstChild.content;for(var a=1;a<=(0==n.openStart&&n.size?2:1);a++)for(var s=i.depth;s>=0;s--){var l=s==i.depth?0:i.pos<=(i.start(s+1)+i.end(s+1))/2?-1:1,c=i.index(s)+(l>0?1:0),u=i.node(s),f=!1;if(1==a)f=u.canReplace(c,c,r);else{var d=u.contentMatchAt(c).findWrapping(r.firstChild.type);f=d&&u.canReplaceWith(c,c,d[0])}if(f)return 0==l?i.pos:l<0?i.before(s+1):i.after(s+1)}return null}function $(t,e,n){for(var r=[],o=0;o<t.childCount;o++){var a=t.child(o);a.content.size&&(a=a.copy($(a.content,e,a))),a.isInline&&(a=e(a,n,o)),r.push(a)}return i["Fragment"].fromArray(r)}v.jsonID("replaceAround",_),h.prototype.lift=function(t,e){for(var n=t.$from,r=t.$to,o=t.depth,a=n.before(o+1),s=r.after(o+1),l=a,c=s,u=i["Fragment"].empty,f=0,d=o,h=!1;d>e;d--)h||n.index(d)>0?(h=!0,u=i["Fragment"].from(n.node(d).copy(u)),f++):l--;for(var p=i["Fragment"].empty,m=0,g=o,v=!1;g>e;g--)v||r.after(g+1)<r.end(g)?(v=!0,p=i["Fragment"].from(r.node(g).copy(p)),m++):c++;return this.step(new _(l,c,a,s,new i["Slice"](u.append(p),f,m),u.size-f,!0))},h.prototype.wrap=function(t,e){for(var n=i["Fragment"].empty,r=e.length-1;r>=0;r--)n=i["Fragment"].from(e[r].type.create(e[r].attrs,n));var o=t.start,a=t.end;return this.step(new _(o,a,o,a,new i["Slice"](n,0,0),e.length,!0))},h.prototype.setBlockType=function(t,e,n,r){var o=this;if(void 0===e&&(e=t),!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var a=this.steps.length;return this.doc.nodesBetween(t,e,(function(t,e){if(t.isTextblock&&!t.hasMarkup(n,r)&&D(o.doc,o.mapping.slice(a).map(e),n)){o.clearIncompatible(o.mapping.slice(a).map(e,1),n);var s=o.mapping.slice(a),l=s.map(e,1),c=s.map(e+t.nodeSize,1);return o.step(new _(l,c,l+1,c-1,new i["Slice"](i["Fragment"].from(n.create(r,null,t.marks)),0,0),1,!0)),!1}})),this},h.prototype.setNodeMarkup=function(t,e,n,r){var o=this.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");e||(e=o.type);var a=e.create(n,null,r||o.marks);if(o.isLeaf)return this.replaceWith(t,t+o.nodeSize,a);if(!e.validContent(o.content))throw new RangeError("Invalid content for node type "+e.name);return this.step(new _(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new i["Slice"](i["Fragment"].from(a),0,0),1,!0))},h.prototype.split=function(t,e,n){void 0===e&&(e=1);for(var r=this.doc.resolve(t),o=i["Fragment"].empty,a=i["Fragment"].empty,s=r.depth,l=r.depth-e,c=e-1;s>l;s--,c--){o=i["Fragment"].from(r.node(s).copy(o));var u=n&&n[c];a=i["Fragment"].from(u?u.type.create(u.attrs,a):r.node(s).copy(a))}return this.step(new b(t,t,new i["Slice"](o.append(a),e,e),!0))},h.prototype.join=function(t,e){void 0===e&&(e=1);var n=new b(t-e,t+e,i["Slice"].empty,!0);return this.step(n)};var I=function(t){function e(e,n,i){t.call(this),this.from=e,this.to=n,this.mark=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){var e=this,n=t.slice(this.from,this.to),r=t.resolve(this.from),o=r.node(r.sharedDepth(this.to)),a=new i["Slice"]($(n.content,(function(t,n){return t.isAtom&&n.type.allowsMarkType(e.mark.type)?t.mark(e.mark.addToSet(t.marks)):t}),o),n.openStart,n.openEnd);return y.fromReplace(t,this.from,this.to,a)},e.prototype.invert=function(){return new L(this.from,this.to,this.mark)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),i=t.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new e(n.pos,i.pos,this.mark)},e.prototype.merge=function(t){if(t instanceof e&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new e(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new e(n.from,n.to,t.markFromJSON(n.mark))},e}(v);v.jsonID("addMark",I);var L=function(t){function e(e,n,i){t.call(this),this.from=e,this.to=n,this.mark=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){var e=this,n=t.slice(this.from,this.to),r=new i["Slice"]($(n.content,(function(t){return t.mark(e.mark.removeFromSet(t.marks))})),n.openStart,n.openEnd);return y.fromReplace(t,this.from,this.to,r)},e.prototype.invert=function(){return new I(this.from,this.to,this.mark)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),i=t.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new e(n.pos,i.pos,this.mark)},e.prototype.merge=function(t){if(t instanceof e&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new e(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new e(n.from,n.to,t.markFromJSON(n.mark))},e}(v);function R(t,e,n,r){if(void 0===n&&(n=e),void 0===r&&(r=i["Slice"].empty),e==n&&!r.size)return null;var o=t.resolve(e),a=t.resolve(n);return B(o,a,r)?new b(e,n,r):new q(o,a,r).fit()}function B(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}v.jsonID("removeMark",L),h.prototype.addMark=function(t,e,n){var i=this,r=[],o=[],a=null,s=null;return this.doc.nodesBetween(t,e,(function(i,l,c){if(i.isInline){var u=i.marks;if(!n.isInSet(u)&&c.type.allowsMarkType(n.type)){for(var f=Math.max(l,t),d=Math.min(l+i.nodeSize,e),h=n.addToSet(u),p=0;p<u.length;p++)u[p].isInSet(h)||(a&&a.to==f&&a.mark.eq(u[p])?a.to=d:r.push(a=new L(f,d,u[p])));s&&s.to==f?s.to=d:o.push(s=new I(f,d,n))}}})),r.forEach((function(t){return i.step(t)})),o.forEach((function(t){return i.step(t)})),this},h.prototype.removeMark=function(t,e,n){var r=this;void 0===n&&(n=null);var o=[],a=0;return this.doc.nodesBetween(t,e,(function(r,s){if(r.isInline){a++;var l=null;if(n instanceof i["MarkType"]){var c,u=r.marks;while(c=n.isInSet(u))(l||(l=[])).push(c),u=c.removeFromSet(u)}else n?n.isInSet(r.marks)&&(l=[n]):l=r.marks;if(l&&l.length)for(var f=Math.min(s+r.nodeSize,e),d=0;d<l.length;d++){for(var h=l[d],p=void 0,m=0;m<o.length;m++){var g=o[m];g.step==a-1&&h.eq(o[m].style)&&(p=g)}p?(p.to=f,p.step=a):o.push({style:h,from:Math.max(s,t),to:f,step:a})}}})),o.forEach((function(t){return r.step(new L(t.from,t.to,t.style))})),this},h.prototype.clearIncompatible=function(t,e,n){void 0===n&&(n=e.contentMatch);for(var r=this.doc.nodeAt(t),o=[],a=t+1,s=0;s<r.childCount;s++){var l=r.child(s),c=a+l.nodeSize,u=n.matchType(l.type,l.attrs);if(u){n=u;for(var f=0;f<l.marks.length;f++)e.allowsMarkType(l.marks[f].type)||this.step(new L(a,c,l.marks[f]))}else o.push(new b(a,c,i["Slice"].empty));a=c}if(!n.validEnd){var d=n.fillBefore(i["Fragment"].empty,!0);this.replace(a,a,new i["Slice"](d,0,0))}for(var h=o.length-1;h>=0;h--)this.step(o[h]);return this},h.prototype.replace=function(t,e,n){void 0===e&&(e=t),void 0===n&&(n=i["Slice"].empty);var r=R(this.doc,t,e,n);return r&&this.step(r),this},h.prototype.replaceWith=function(t,e,n){return this.replace(t,e,new i["Slice"](i["Fragment"].from(n),0,0))},h.prototype.delete=function(t,e){return this.replace(t,e,i["Slice"].empty)},h.prototype.insert=function(t,e){return this.replaceWith(t,t,e)};var q=function(t,e,n){this.$to=e,this.$from=t,this.unplaced=n,this.frontier=[];for(var r=0;r<=t.depth;r++){var o=t.node(r);this.frontier.push({type:o.type,match:o.contentMatchAt(t.indexAfter(r))})}this.placed=i["Fragment"].empty;for(var a=t.depth;a>0;a--)this.placed=i["Fragment"].from(t.node(a).copy(this.placed))},F={depth:{configurable:!0}};function z(t,e,n){return 0==e?t.cutByIndex(n):t.replaceChild(0,t.firstChild.copy(z(t.firstChild.content,e-1,n)))}function V(t,e,n){return 0==e?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(V(t.lastChild.content,e-1,n)))}function U(t,e){for(var n=0;n<e;n++)t=t.firstChild.content;return t}function K(t,e,n){if(e<=0)return t;var r=t.content;return e>1&&(r=r.replaceChild(0,K(r.firstChild,e-1,1==r.childCount?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(i["Fragment"].empty,!0)))),t.copy(r)}function H(t,e,n,i,r){var o=t.node(e),a=r?t.indexAfter(e):t.index(e);if(a==o.childCount&&!n.compatibleContent(o.type))return null;var s=i.fillBefore(o.content,!0,a);return s&&!W(n,o.content,a)?s:null}function W(t,e,n){for(var i=n;i<e.childCount;i++)if(!t.allowsMarks(e.child(i).marks))return!0;return!1}function G(t,e,n,r,o){if(e<n){var a=t.firstChild;t=t.replaceChild(0,a.copy(G(a.content,e+1,n,r,a)))}if(e>r){var s=o.contentMatchAt(0),l=s.fillBefore(t).append(t);t=l.append(s.matchFragment(l).fillBefore(i["Fragment"].empty,!0))}return t}function J(t,e){for(var n=[],i=Math.min(t.depth,e.depth),r=i;r>=0;r--){var o=t.start(r);if(o<t.pos-(t.depth-r)||e.end(r)>e.pos+(e.depth-r)||t.node(r).type.spec.isolating||e.node(r).type.spec.isolating)break;o==e.start(r)&&n.push(r)}return n}F.depth.get=function(){return this.frontier.length-1},q.prototype.fit=function(){while(this.unplaced.size){var t=this.findFittable();t?this.placeNodes(t):this.openMore()||this.dropNode()}var e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(e<0?this.$to:r.doc.resolve(e));if(!o)return null;var a=this.placed,s=r.depth,l=o.depth;while(s&&l&&1==a.childCount)a=a.firstChild.content,s--,l--;var c=new i["Slice"](a,s,l);return e>-1?new _(r.pos,e,this.$to.pos,this.$to.end(),c,n):c.size||r.pos!=this.$to.pos?new b(r.pos,o.pos,c):void 0},q.prototype.findFittable=function(){for(var t=1;t<=2;t++)for(var e=this.unplaced.openStart;e>=0;e--){var n=void 0,r=void 0;e?(r=U(this.unplaced.content,e-1).firstChild,n=r.content):n=this.unplaced.content;for(var o=n.firstChild,a=this.depth;a>=0;a--){var s=this.frontier[a],l=s.type,c=s.match,u=void 0,f=void 0;if(1==t&&(o?c.matchType(o.type)||(f=c.fillBefore(i["Fragment"].from(o),!1)):l.compatibleContent(r.type)))return{sliceDepth:e,frontierDepth:a,parent:r,inject:f};if(2==t&&o&&(u=c.findWrapping(o.type)))return{sliceDepth:e,frontierDepth:a,parent:r,wrap:u};if(r&&c.matchType(r.type))break}}},q.prototype.openMore=function(){var t=this.unplaced,e=t.content,n=t.openStart,r=t.openEnd,o=U(e,n);return!(!o.childCount||o.firstChild.isLeaf)&&(this.unplaced=new i["Slice"](e,n+1,Math.max(r,o.size+n>=e.size-r?n+1:0)),!0)},q.prototype.dropNode=function(){var t=this.unplaced,e=t.content,n=t.openStart,r=t.openEnd,o=U(e,n);if(o.childCount<=1&&n>0){var a=e.size-n<=n+o.size;this.unplaced=new i["Slice"](z(e,n-1,1),n-1,a?n-1:r)}else this.unplaced=new i["Slice"](z(e,n,1),n,r)},q.prototype.placeNodes=function(t){var e=t.sliceDepth,n=t.frontierDepth,r=t.parent,o=t.inject,a=t.wrap;while(this.depth>n)this.closeFrontierNode();if(a)for(var s=0;s<a.length;s++)this.openFrontierNode(a[s]);var l=this.unplaced,c=r?r.content:l.content,u=l.openStart-e,f=0,d=[],h=this.frontier[n],p=h.match,m=h.type;if(o){for(var g=0;g<o.childCount;g++)d.push(o.child(g));p=p.matchFragment(o)}var v=c.size+e-(l.content.size-l.openEnd);while(f<c.childCount){var y=c.child(f),b=p.matchType(y.type);if(!b)break;f++,(f>1||0==u||y.content.size)&&(p=b,d.push(K(y.mark(m.allowedMarks(y.marks)),1==f?u:0,f==c.childCount?v:-1)))}var _=f==c.childCount;_||(v=-1),this.placed=V(this.placed,n,i["Fragment"].from(d)),this.frontier[n].match=p,_&&v<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var x=0,w=c;x<v;x++){var k=w.lastChild;this.frontier.push({type:k.type,match:k.contentMatchAt(k.childCount)}),w=k.content}this.unplaced=_?0==e?i["Slice"].empty:new i["Slice"](z(l.content,e-1,1),e-1,v<0?l.openEnd:e-1):new i["Slice"](z(l.content,e,f),l.openStart,l.openEnd)},q.prototype.mustMoveInline=function(){if(!this.$to.parent.isTextblock||this.$to.end()==this.$to.pos)return-1;var t,e=this.frontier[this.depth];if(!e.type.isTextblock||!H(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;var n=this.$to,i=n.depth,r=this.$to.after(i);while(i>1&&r==this.$to.end(--i))++r;return r},q.prototype.findCloseLevel=function(t){t:for(var e=Math.min(this.depth,t.depth);e>=0;e--){var n=this.frontier[e],i=n.match,r=n.type,o=e<t.depth&&t.end(e+1)==t.pos+(t.depth-(e+1)),a=H(t,e,r,i,o);if(a){for(var s=e-1;s>=0;s--){var l=this.frontier[s],c=l.match,u=l.type,f=H(t,s,u,c,!0);if(!f||f.childCount)continue t}return{depth:e,fit:a,move:o?t.doc.resolve(t.after(e+1)):t}}}},q.prototype.close=function(t){var e=this.findCloseLevel(t);if(!e)return null;while(this.depth>e.depth)this.closeFrontierNode();e.fit.childCount&&(this.placed=V(this.placed,e.depth,e.fit)),t=e.move;for(var n=e.depth+1;n<=t.depth;n++){var i=t.node(n),r=i.type.contentMatch.fillBefore(i.content,!0,t.index(n));this.openFrontierNode(i.type,i.attrs,r)}return t},q.prototype.openFrontierNode=function(t,e,n){var r=this.frontier[this.depth];r.match=r.match.matchType(t),this.placed=V(this.placed,this.depth,i["Fragment"].from(t.create(e,n))),this.frontier.push({type:t,match:t.contentMatch})},q.prototype.closeFrontierNode=function(){var t=this.frontier.pop(),e=t.match.fillBefore(i["Fragment"].empty,!0);e.childCount&&(this.placed=V(this.placed,this.frontier.length,e))},Object.defineProperties(q.prototype,F),h.prototype.replaceRange=function(t,e,n){if(!n.size)return this.deleteRange(t,e);var r=this.doc.resolve(t),o=this.doc.resolve(e);if(B(r,o,n))return this.step(new b(t,e,n));var a=J(r,this.doc.resolve(e));0==a[a.length-1]&&a.pop();var s=-(r.depth+1);a.unshift(s);for(var l=r.depth,c=r.pos-1;l>0;l--,c--){var u=r.node(l).type.spec;if(u.defining||u.isolating)break;a.indexOf(l)>-1?s=l:r.before(l)==c&&a.splice(1,0,-l)}for(var f=a.indexOf(s),d=[],h=n.openStart,p=n.content,m=0;;m++){var g=p.firstChild;if(d.push(g),m==n.openStart)break;p=g.content}h>0&&d[h-1].type.spec.defining&&r.node(f).type!=d[h-1].type?h-=1:h>=2&&d[h-1].isTextblock&&d[h-2].type.spec.defining&&r.node(f).type!=d[h-2].type&&(h-=2);for(var v=n.openStart;v>=0;v--){var y=(v+h+1)%(n.openStart+1),_=d[y];if(_)for(var x=0;x<a.length;x++){var w=a[(x+f)%a.length],k=!0;w<0&&(k=!1,w=-w);var S=r.node(w-1),O=r.index(w-1);if(S.canReplaceWith(O,O,_.type,_.marks))return this.replace(r.before(w),k?o.after(w):e,new i["Slice"](G(n.content,0,n.openStart,y),y,n.openEnd))}}for(var C=this.steps.length,E=a.length-1;E>=0;E--){if(this.replace(t,e,n),this.steps.length>C)break;var D=a[E];D<0||(t=r.before(D),e=o.after(D))}return this},h.prototype.replaceRangeWith=function(t,e,n){if(!n.isInline&&t==e&&this.doc.resolve(t).parent.content.size){var r=j(this.doc,t,n.type);null!=r&&(t=e=r)}return this.replaceRange(t,e,new i["Slice"](i["Fragment"].from(n),0,0))},h.prototype.deleteRange=function(t,e){for(var n=this.doc.resolve(t),i=this.doc.resolve(e),r=J(n,i),o=0;o<r.length;o++){var a=r[o],s=o==r.length-1;if(s&&0==a||n.node(a).type.contentMatch.validEnd)return this.delete(n.start(a),i.end(a));if(a>0&&(s||n.node(a-1).canReplace(n.index(a-1),i.indexAfter(a-1))))return this.delete(n.before(a),i.after(a))}for(var l=1;l<=n.depth&&l<=i.depth;l++)if(t-n.start(l)==n.depth-l&&e>n.end(l)&&i.end(l)-e!=i.depth-l)return this.delete(n.before(l),e);return this.delete(t,e)}},function(t,e,n){"use strict";var i=n(17),r=n(96).findIndex,o=n(136),a="findIndex",s=!0;a in[]&&Array(1)[a]((function(){s=!1})),i({target:"Array",proto:!0,forced:s},{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),o(a)},function(t,e,n){var i=n(61),r={}.hasOwnProperty;t.exports=Object.hasOwn||function(t,e){return r.call(i(t),e)}},function(t,e,n){var i=n(55);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e,n){var i=n(99),r=n(75),o=n(45),a=n(72),s=n(43),l=n(203),c=Object.getOwnPropertyDescriptor;e.f=n(29)?c:function(t,e){if(t=o(t),e=a(e,!0),l)try{return c(t,e)}catch(n){}if(s(t,e))return r(!i.f.call(t,e),t[e])}},function(t,e,n){var i=n(1),r=n(27),o=n(12);t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],a={};a[t]=e(n),i(i.S+i.F*o((function(){n(1)})),"Object",a)}},function(t,e,n){var i=n(54),r=n(98),o=n(37),a=n(22),s=n(219);t.exports=function(t,e){var n=1==t,l=2==t,c=3==t,u=4==t,f=6==t,d=5==t||f,h=e||s;return function(e,s,p){for(var m,g,v=o(e),y=r(v),b=i(s,p,3),_=a(y.length),x=0,w=n?h(e,_):l?h(e,0):void 0;_>x;x++)if((d||x in y)&&(m=y[x],g=b(m,x,v),t))if(n)w[x]=g;else if(g)switch(t){case 3:return!0;case 5:return m;case 6:return x;case 2:w.push(m)}else if(u)return!1;return f?-1:c||u?u:w}}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,n){var i=n(60);t.exports=function(t){return Object(i(t))}},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n(253);function r(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done);i=!0)if(n.push(a.value),e&&n.length===e)break}catch(err){r=!0,o=err}finally{try{i||null==s["return"]||s["return"]()}finally{if(r)throw o}}return n}}var o=n(110),a=n(254);function s(t,e){return Object(i["a"])(t)||r(t,e)||Object(o["a"])(t,e)||Object(a["a"])()}},function(t,e,n){var i=n(17),r=n(32),o=n(105),a=[].slice,s=/MSIE .\./.test(o),l=function(t){return function(e,n){var i=arguments.length>2,r=i?a.call(arguments,2):void 0;return t(i?function(){("function"==typeof e?e:Function(e)).apply(this,r)}:e,n)}};i({global:!0,bind:!0,forced:s},{setTimeout:l(r.setTimeout),setInterval:l(r.setInterval)})},function(t,e,n){var i=n(17),r=n(454);i({global:!0,forced:parseInt!=r},{parseInt:r})},function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},function(t,e,n){var i=n(21);t.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){"use strict";if(n(29)){var i=n(77),r=n(11),o=n(12),a=n(1),s=n(124),l=n(166),c=n(54),u=n(93),f=n(75),d=n(44),h=n(94),p=n(56),m=n(22),g=n(230),v=n(79),y=n(72),b=n(43),_=n(100),x=n(14),w=n(37),k=n(158),S=n(80),O=n(82),C=n(81).f,E=n(160),D=n(76),T=n(19),N=n(59),M=n(114),A=n(101),j=n(162),P=n(91),$=n(117),I=n(92),L=n(161),R=n(221),B=n(30),q=n(57),F=B.f,z=q.f,V=r.RangeError,U=r.TypeError,K=r.Uint8Array,H="ArrayBuffer",W="Shared"+H,G="BYTES_PER_ELEMENT",J="prototype",Y=Array[J],X=l.ArrayBuffer,Z=l.DataView,Q=N(0),tt=N(2),et=N(3),nt=N(4),it=N(5),rt=N(6),ot=M(!0),at=M(!1),st=j.values,lt=j.keys,ct=j.entries,ut=Y.lastIndexOf,ft=Y.reduce,dt=Y.reduceRight,ht=Y.join,pt=Y.sort,mt=Y.slice,gt=Y.toString,vt=Y.toLocaleString,yt=T("iterator"),bt=T("toStringTag"),_t=D("typed_constructor"),xt=D("def_constructor"),wt=s.CONSTR,kt=s.TYPED,St=s.VIEW,Ot="Wrong length!",Ct=N(1,(function(t,e){return Mt(A(t,t[xt]),e)})),Et=o((function(){return 1===new K(new Uint16Array([1]).buffer)[0]})),Dt=!!K&&!!K[J].set&&o((function(){new K(1).set({})})),Tt=function(t,e){var n=p(t);if(n<0||n%e)throw V("Wrong offset!");return n},Nt=function(t){if(x(t)&&kt in t)return t;throw U(t+" is not a typed array!")},Mt=function(t,e){if(!x(t)||!(_t in t))throw U("It is not a typed array constructor!");return new t(e)},At=function(t,e){return jt(A(t,t[xt]),e)},jt=function(t,e){var n=0,i=e.length,r=Mt(t,i);while(i>n)r[n]=e[n++];return r},Pt=function(t,e,n){F(t,e,{get:function(){return this._d[n]}})},$t=function(t){var e,n,i,r,o,a,s=w(t),l=arguments.length,u=l>1?arguments[1]:void 0,f=void 0!==u,d=E(s);if(void 0!=d&&!k(d)){for(a=d.call(s),i=[],e=0;!(o=a.next()).done;e++)i.push(o.value);s=i}for(f&&l>2&&(u=c(u,arguments[2],2)),e=0,n=m(s.length),r=Mt(this,n);n>e;e++)r[e]=f?u(s[e],e):s[e];return r},It=function(){var t=0,e=arguments.length,n=Mt(this,e);while(e>t)n[t]=arguments[t++];return n},Lt=!!K&&o((function(){vt.call(new K(1))})),Rt=function(){return vt.apply(Lt?mt.call(Nt(this)):Nt(this),arguments)},Bt={copyWithin:function(t,e){return R.call(Nt(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return nt(Nt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return L.apply(Nt(this),arguments)},filter:function(t){return At(this,tt(Nt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return it(Nt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return rt(Nt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){Q(Nt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return at(Nt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return ot(Nt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return ht.apply(Nt(this),arguments)},lastIndexOf:function(t){return ut.apply(Nt(this),arguments)},map:function(t){return Ct(Nt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return ft.apply(Nt(this),arguments)},reduceRight:function(t){return dt.apply(Nt(this),arguments)},reverse:function(){var t,e=this,n=Nt(e).length,i=Math.floor(n/2),r=0;while(r<i)t=e[r],e[r++]=e[--n],e[n]=t;return e},some:function(t){return et(Nt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return pt.call(Nt(this),t)},subarray:function(t,e){var n=Nt(this),i=n.length,r=v(t,i);return new(A(n,n[xt]))(n.buffer,n.byteOffset+r*n.BYTES_PER_ELEMENT,m((void 0===e?i:v(e,i))-r))}},qt=function(t,e){return At(this,mt.call(Nt(this),t,e))},Ft=function(t){Nt(this);var e=Tt(arguments[1],1),n=this.length,i=w(t),r=m(i.length),o=0;if(r+e>n)throw V(Ot);while(o<r)this[e+o]=i[o++]},zt={entries:function(){return ct.call(Nt(this))},keys:function(){return lt.call(Nt(this))},values:function(){return st.call(Nt(this))}},Vt=function(t,e){return x(t)&&t[kt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Ut=function(t,e){return Vt(t,e=y(e,!0))?f(2,t[e]):z(t,e)},Kt=function(t,e,n){return!(Vt(t,e=y(e,!0))&&x(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?F(t,e,n):(t[e]=n.value,t)};wt||(q.f=Ut,B.f=Kt),a(a.S+a.F*!wt,"Object",{getOwnPropertyDescriptor:Ut,defineProperty:Kt}),o((function(){gt.call({})}))&&(gt=vt=function(){return ht.call(this)});var Ht=h({},Bt);h(Ht,zt),d(Ht,yt,zt.values),h(Ht,{slice:qt,set:Ft,constructor:function(){},toString:gt,toLocaleString:Rt}),Pt(Ht,"buffer","b"),Pt(Ht,"byteOffset","o"),Pt(Ht,"byteLength","l"),Pt(Ht,"length","e"),F(Ht,bt,{get:function(){return this[kt]}}),t.exports=function(t,e,n,l){l=!!l;var c=t+(l?"Clamped":"")+"Array",f="get"+t,h="set"+t,p=r[c],v=p||{},y=p&&O(p),b=!p||!s.ABV,w={},k=p&&p[J],E=function(t,n){var i=t._d;return i.v[f](n*e+i.o,Et)},D=function(t,n,i){var r=t._d;l&&(i=(i=Math.round(i))<0?0:i>255?255:255&i),r.v[h](n*e+r.o,i,Et)},T=function(t,e){F(t,e,{get:function(){return E(this,e)},set:function(t){return D(this,e,t)},enumerable:!0})};b?(p=n((function(t,n,i,r){u(t,p,c,"_d");var o,a,s,l,f=0,h=0;if(x(n)){if(!(n instanceof X||(l=_(n))==H||l==W))return kt in n?jt(p,n):$t.call(p,n);o=n,h=Tt(i,e);var v=n.byteLength;if(void 0===r){if(v%e)throw V(Ot);if(a=v-h,a<0)throw V(Ot)}else if(a=m(r)*e,a+h>v)throw V(Ot);s=a/e}else s=g(n),a=s*e,o=new X(a);d(t,"_d",{b:o,o:h,l:a,e:s,v:new Z(o)});while(f<s)T(t,f++)})),k=p[J]=S(Ht),d(k,"constructor",p)):o((function(){p(1)}))&&o((function(){new p(-1)}))&&$((function(t){new p,new p(null),new p(1.5),new p(t)}),!0)||(p=n((function(t,n,i,r){var o;return u(t,p,c),x(n)?n instanceof X||(o=_(n))==H||o==W?void 0!==r?new v(n,Tt(i,e),r):void 0!==i?new v(n,Tt(i,e)):new v(n):kt in n?jt(p,n):$t.call(p,n):new v(g(n))})),Q(y!==Function.prototype?C(v).concat(C(y)):C(v),(function(t){t in p||d(p,t,v[t])})),p[J]=k,i||(k.constructor=p));var N=k[yt],M=!!N&&("values"==N.name||void 0==N.name),A=zt.values;d(p,_t,!0),d(k,kt,c),d(k,St,!0),d(k,xt,p),(l?new p(1)[bt]==c:bt in k)||F(k,bt,{get:function(){return c}}),w[c]=p,a(a.G+a.W+a.F*(p!=v),w),a(a.S,c,{BYTES_PER_ELEMENT:e}),a(a.S+a.F*o((function(){v.of.call(p,1)})),c,{from:$t,of:It}),G in k||d(k,G,e),a(a.P,c,Bt),I(c),a(a.P+a.F*Dt,c,{set:Ft}),a(a.P+a.F*!M,c,zt),i||k.toString==gt||(k.toString=gt),a(a.P+a.F*o((function(){new p(1).slice()})),c,{slice:qt}),a(a.P+a.F*(o((function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()}))||!o((function(){k.toLocaleString.call([1,2])}))),c,{toLocaleString:Rt}),P[c]=M?N:A,i||M||d(k,yt,A)}}else t.exports=function(){}},function(t,e,n){var i=n(66),r=n(71),o=n(111);t.exports=i?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var i=n(66),r=n(234),o=n(47),a=n(126),s=Object.defineProperty;e.f=i?s:function(t,e,n){if(o(t),e=a(e,!0),o(n),r)try{return s(t,e,n)}catch(i){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var i=n(14);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var i=n(76)("meta"),r=n(14),o=n(43),a=n(30).f,s=0,l=Object.isExtensible||function(){return!0},c=!n(12)((function(){return l(Object.preventExtensions({}))})),u=function(t){a(t,i,{value:{i:"O"+ ++s,w:{}}})},f=function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,i)){if(!l(t))return"F";if(!e)return"E";u(t)}return t[i].i},d=function(t,e){if(!o(t,i)){if(!l(t))return!0;if(!e)return!1;u(t)}return t[i].w},h=function(t){return c&&p.NEED&&l(t)&&!o(t,i)&&u(t),t},p=t.exports={KEY:i,NEED:!1,fastKey:f,getWeak:d,onFreeze:h}},function(t,e,n){"use strict";n.r(e),n.d(e,"autoJoin",(function(){return j})),n.d(e,"baseKeymap",(function(){return F})),n.d(e,"chainCommands",(function(){return P})),n.d(e,"createParagraphNear",(function(){return _})),n.d(e,"deleteSelection",(function(){return a})),n.d(e,"exitCode",(function(){return b})),n.d(e,"joinBackward",(function(){return s})),n.d(e,"joinDown",(function(){return m})),n.d(e,"joinForward",(function(){return f})),n.d(e,"joinUp",(function(){return p})),n.d(e,"lift",(function(){return g})),n.d(e,"liftEmptyBlock",(function(){return x})),n.d(e,"macBaseKeymap",(function(){return R})),n.d(e,"newlineInCode",(function(){return v})),n.d(e,"pcBaseKeymap",(function(){return L})),n.d(e,"selectAll",(function(){return O})),n.d(e,"selectNodeBackward",(function(){return c})),n.d(e,"selectNodeForward",(function(){return d})),n.d(e,"selectParentNode",(function(){return S})),n.d(e,"setBlockType",(function(){return T})),n.d(e,"splitBlock",(function(){return w})),n.d(e,"splitBlockKeepMarks",(function(){return k})),n.d(e,"toggleMark",(function(){return M})),n.d(e,"wrapIn",(function(){return D}));var i=n(51),r=n(4),o=n(7);function a(t,e){return!t.selection.empty&&(e&&e(t.tr.deleteSelection().scrollIntoView()),!0)}function s(t,e,n){var r=t.selection,a=r.$cursor;if(!a||(n?!n.endOfTextblock("backward",t):a.parentOffset>0))return!1;var s=u(a);if(!s){var c=a.blockRange(),f=c&&Object(i["k"])(c);return null!=f&&(e&&e(t.tr.lift(c,f).scrollIntoView()),!0)}var d=s.nodeBefore;if(!d.type.spec.isolating&&E(t,s,e))return!0;if(0==a.parent.content.size&&(l(d,"end")||o["NodeSelection"].isSelectable(d))){if(e){var h=t.tr.deleteRange(a.before(),a.after());h.setSelection(l(d,"end")?o["Selection"].findFrom(h.doc.resolve(h.mapping.map(s.pos,-1)),-1):o["NodeSelection"].create(h.doc,s.pos-d.nodeSize)),e(h.scrollIntoView())}return!0}return!(!d.isAtom||s.depth!=a.depth-1)&&(e&&e(t.tr.delete(s.pos-d.nodeSize,s.pos).scrollIntoView()),!0)}function l(t,e){for(;t;t="start"==e?t.firstChild:t.lastChild)if(t.isTextblock)return!0;return!1}function c(t,e,n){var i=t.selection,r=i.$head,a=i.empty,s=r;if(!a)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;s=u(r)}var l=s&&s.nodeBefore;return!(!l||!o["NodeSelection"].isSelectable(l))&&(e&&e(t.tr.setSelection(o["NodeSelection"].create(t.doc,s.pos-l.nodeSize)).scrollIntoView()),!0)}function u(t){if(!t.parent.type.spec.isolating)for(var e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function f(t,e,n){var i=t.selection,r=i.$cursor;if(!r||(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size))return!1;var a=h(r);if(!a)return!1;var s=a.nodeAfter;if(E(t,a,e))return!0;if(0==r.parent.content.size&&(l(s,"start")||o["NodeSelection"].isSelectable(s))){if(e){var c=t.tr.deleteRange(r.before(),r.after());c.setSelection(l(s,"start")?o["Selection"].findFrom(c.doc.resolve(c.mapping.map(a.pos)),1):o["NodeSelection"].create(c.doc,c.mapping.map(a.pos))),e(c.scrollIntoView())}return!0}return!(!s.isAtom||a.depth!=r.depth-1)&&(e&&e(t.tr.delete(a.pos,a.pos+s.nodeSize).scrollIntoView()),!0)}function d(t,e,n){var i=t.selection,r=i.$head,a=i.empty,s=r;if(!a)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;s=h(r)}var l=s&&s.nodeAfter;return!(!l||!o["NodeSelection"].isSelectable(l))&&(e&&e(t.tr.setSelection(o["NodeSelection"].create(t.doc,s.pos)).scrollIntoView()),!0)}function h(t){if(!t.parent.type.spec.isolating)for(var e=t.depth-1;e>=0;e--){var n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}function p(t,e){var n,r=t.selection,a=r instanceof o["NodeSelection"];if(a){if(r.node.isTextblock||!Object(i["f"])(t.doc,r.from))return!1;n=r.from}else if(n=Object(i["j"])(t.doc,r.from,-1),null==n)return!1;if(e){var s=t.tr.join(n);a&&s.setSelection(o["NodeSelection"].create(s.doc,n-t.doc.resolve(n).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0}function m(t,e){var n,r=t.selection;if(r instanceof o["NodeSelection"]){if(r.node.isTextblock||!Object(i["f"])(t.doc,r.to))return!1;n=r.to}else if(n=Object(i["j"])(t.doc,r.to,1),null==n)return!1;return e&&e(t.tr.join(n).scrollIntoView()),!0}function g(t,e){var n=t.selection,r=n.$from,o=n.$to,a=r.blockRange(o),s=a&&Object(i["k"])(a);return null!=s&&(e&&e(t.tr.lift(a,s).scrollIntoView()),!0)}function v(t,e){var n=t.selection,i=n.$head,r=n.$anchor;return!(!i.parent.type.spec.code||!i.sameParent(r))&&(e&&e(t.tr.insertText("\n").scrollIntoView()),!0)}function y(t){for(var e=0;e<t.edgeCount;e++){var n=t.edge(e),i=n.type;if(i.isTextblock&&!i.hasRequiredAttrs())return i}return null}function b(t,e){var n=t.selection,i=n.$head,r=n.$anchor;if(!i.parent.type.spec.code||!i.sameParent(r))return!1;var a=i.node(-1),s=i.indexAfter(-1),l=y(a.contentMatchAt(s));if(!a.canReplaceWith(s,s,l))return!1;if(e){var c=i.after(),u=t.tr.replaceWith(c,c,l.createAndFill());u.setSelection(o["Selection"].near(u.doc.resolve(c),1)),e(u.scrollIntoView())}return!0}function _(t,e){var n=t.selection,i=n.$from,r=n.$to;if(n instanceof o["AllSelection"]||i.parent.inlineContent||r.parent.inlineContent)return!1;var a=y(r.parent.contentMatchAt(r.indexAfter()));if(!a||!a.isTextblock)return!1;if(e){var s=(!i.parentOffset&&r.index()<r.parent.childCount?i:r).pos,l=t.tr.insert(s,a.createAndFill());l.setSelection(o["TextSelection"].create(l.doc,s+1)),e(l.scrollIntoView())}return!0}function x(t,e){var n=t.selection,r=n.$cursor;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){var o=r.before();if(Object(i["g"])(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}var a=r.blockRange(),s=a&&Object(i["k"])(a);return null!=s&&(e&&e(t.tr.lift(a,s).scrollIntoView()),!0)}function w(t,e){var n=t.selection,r=n.$from,a=n.$to;if(t.selection instanceof o["NodeSelection"]&&t.selection.node.isBlock)return!(!r.parentOffset||!Object(i["g"])(t.doc,r.pos))&&(e&&e(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;if(e){var s=a.parentOffset==a.parent.content.size,l=t.tr;(t.selection instanceof o["TextSelection"]||t.selection instanceof o["AllSelection"])&&l.deleteSelection();var c=0==r.depth?null:y(r.node(-1).contentMatchAt(r.indexAfter(-1))),u=s&&c?[{type:c}]:null,f=Object(i["g"])(l.doc,l.mapping.map(r.pos),1,u);if(u||f||!Object(i["g"])(l.doc,l.mapping.map(r.pos),1,c&&[{type:c}])||(u=[{type:c}],f=!0),f&&(l.split(l.mapping.map(r.pos),1,u),!s&&!r.parentOffset&&r.parent.type!=c)){var d=l.mapping.map(r.before()),h=l.doc.resolve(d);r.node(-1).canReplaceWith(h.index(),h.index()+1,c)&&l.setNodeMarkup(l.mapping.map(r.before()),c)}e(l.scrollIntoView())}return!0}function k(t,e){return w(t,e&&function(n){var i=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();i&&n.ensureMarks(i),e(n)})}function S(t,e){var n,i=t.selection,r=i.$from,a=i.to,s=r.sharedDepth(a);return 0!=s&&(n=r.before(s),e&&e(t.tr.setSelection(o["NodeSelection"].create(t.doc,n))),!0)}function O(t,e){return e&&e(t.tr.setSelection(new o["AllSelection"](t.doc))),!0}function C(t,e,n){var r=e.nodeBefore,o=e.nodeAfter,a=e.index();return!!(r&&o&&r.type.compatibleContent(o.type))&&(!r.content.size&&e.parent.canReplace(a-1,a)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!(!e.parent.canReplace(a,a+1)||!o.isTextblock&&!Object(i["f"])(t.doc,e.pos))&&(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),!0))}function E(t,e,n){var a,s,c=e.nodeBefore,u=e.nodeAfter;if(c.type.spec.isolating||u.type.spec.isolating)return!1;if(C(t,e,n))return!0;var f=e.parent.canReplace(e.index(),e.index()+1);if(f&&(a=(s=c.contentMatchAt(c.childCount)).findWrapping(u.type))&&s.matchType(a[0]||u.type).validEnd){if(n){for(var d=e.pos+u.nodeSize,h=r["Fragment"].empty,p=a.length-1;p>=0;p--)h=r["Fragment"].from(a[p].create(null,h));h=r["Fragment"].from(c.copy(h));var m=t.tr.step(new i["b"](e.pos-1,d,e.pos,d,new r["Slice"](h,1,0),a.length,!0)),g=d+2*a.length;Object(i["f"])(m.doc,g)&&m.join(g),n(m.scrollIntoView())}return!0}var v=o["Selection"].findFrom(e,1),y=v&&v.$from.blockRange(v.$to),b=y&&Object(i["k"])(y);if(null!=b&&b>=e.depth)return n&&n(t.tr.lift(y,b).scrollIntoView()),!0;if(f&&u.isTextblock&&l(c,"end")){for(var _=c,x=[];;){if(x.push(_),_.isTextblock)break;_=_.lastChild}if(_.canReplace(_.childCount,_.childCount,u.content)){if(n){for(var w=r["Fragment"].empty,k=x.length-1;k>=0;k--)w=r["Fragment"].from(x[k].copy(w));var S=t.tr.step(new i["b"](e.pos-x.length,e.pos+u.nodeSize,e.pos+1,e.pos+u.nodeSize-1,new r["Slice"](w,x.length,0),0,!0));n(S.scrollIntoView())}return!0}}return!1}function D(t,e){return function(n,r){var o=n.selection,a=o.$from,s=o.$to,l=a.blockRange(s),c=l&&Object(i["i"])(l,t,e);return!!c&&(r&&r(n.tr.wrap(l,c).scrollIntoView()),!0)}}function T(t,e){return function(n,i){var r=n.selection,o=r.from,a=r.to,s=!1;return n.doc.nodesBetween(o,a,(function(i,r){if(s)return!1;if(i.isTextblock&&!i.hasMarkup(t,e))if(i.type==t)s=!0;else{var o=n.doc.resolve(r),a=o.index();s=o.parent.canReplaceWith(a,a+1,t)}})),!!s&&(i&&i(n.tr.setBlockType(o,a,t,e).scrollIntoView()),!0)}}function N(t,e,n){for(var i=function(i){var r=e[i],o=r.$from,a=r.$to,s=0==o.depth&&t.type.allowsMarkType(n);if(t.nodesBetween(o.pos,a.pos,(function(t){if(s)return!1;s=t.inlineContent&&t.type.allowsMarkType(n)})),s)return{v:!0}},r=0;r<e.length;r++){var o=i(r);if(o)return o.v}return!1}function M(t,e){return function(n,i){var r=n.selection,o=r.empty,a=r.$cursor,s=r.ranges;if(o&&!a||!N(n.doc,s,t))return!1;if(i)if(a)t.isInSet(n.storedMarks||a.marks())?i(n.tr.removeStoredMark(t)):i(n.tr.addStoredMark(t.create(e)));else{for(var l=!1,c=n.tr,u=0;!l&&u<s.length;u++){var f=s[u],d=f.$from,h=f.$to;l=n.doc.rangeHasMark(d.pos,h.pos,t)}for(var p=0;p<s.length;p++){var m=s[p],g=m.$from,v=m.$to;if(l)c.removeMark(g.pos,v.pos,t);else{var y=g.pos,b=v.pos,_=g.nodeAfter,x=v.nodeBefore,w=_&&_.isText?/^\s*/.exec(_.text)[0].length:0,k=x&&x.isText?/\s*$/.exec(x.text)[0].length:0;y+w<b&&(y+=w,b-=k),c.addMark(y,b,t.create(e))}}i(c.scrollIntoView())}return!0}}function A(t,e){return function(n){if(!n.isGeneric)return t(n);for(var r=[],o=0;o<n.mapping.maps.length;o++){for(var a=n.mapping.maps[o],s=0;s<r.length;s++)r[s]=a.map(r[s]);a.forEach((function(t,e,n,i){return r.push(n,i)}))}for(var l=[],c=0;c<r.length;c+=2)for(var u=r[c],f=r[c+1],d=n.doc.resolve(u),h=d.sharedDepth(f),p=d.node(h),m=d.indexAfter(h),g=d.after(h+1);g<=f;++m){var v=p.maybeChild(m);if(!v)break;if(m&&-1==l.indexOf(g)){var y=p.child(m-1);y.type==v.type&&e(y,v)&&l.push(g)}g+=v.nodeSize}l.sort((function(t,e){return t-e}));for(var b=l.length-1;b>=0;b--)Object(i["f"])(n.doc,l[b])&&n.join(l[b]);t(n)}}function j(t,e){if(Array.isArray(e)){var n=e;e=function(t){return n.indexOf(t.type.name)>-1}}return function(n,i){return t(n,i&&A(i,e))}}function P(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];return function(e,n,i){for(var r=0;r<t.length;r++)if(t[r](e,n,i))return!0;return!1}}var $=P(a,s,c),I=P(a,f,d),L={Enter:P(v,_,x,w),"Mod-Enter":b,Backspace:$,"Mod-Backspace":$,Delete:I,"Mod-Delete":I,"Mod-a":O},R={"Ctrl-h":L["Backspace"],"Alt-Backspace":L["Mod-Backspace"],"Ctrl-d":L["Delete"],"Ctrl-Alt-Backspace":L["Mod-Delete"],"Alt-Delete":L["Mod-Delete"],"Alt-d":L["Mod-Delete"]};for(var B in L)R[B]=L[B];var q="undefined"!=typeof navigator?/Mac/.test(navigator.platform):"undefined"!=typeof os&&"darwin"==os.platform(),F=q?R:L},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e){t.exports=!1},function(t,e,n){var i=n(205),r=n(145);t.exports=Object.keys||function(t){return i(t,r)}},function(t,e,n){var i=n(56),r=Math.max,o=Math.min;t.exports=function(t,e){return t=i(t),t<0?r(t+e,0):o(t,e)}},function(t,e,n){var i=n(13),r=n(206),o=n(145),a=n(144)("IE_PROTO"),s=function(){},l="prototype",c=function(){var t,e=n(142)("iframe"),i=o.length,r="<",a=">";e.style.display="none",n(146).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(r+"script"+a+"document.F=Object"+r+"/script"+a),t.close(),c=t.F;while(i--)delete c[l][o[i]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(s[l]=i(t),n=new s,s[l]=null,n[a]=t):n=c(),void 0===e?n:r(n,e)}},function(t,e,n){var i=n(205),r=n(145).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},function(t,e,n){var i=n(43),r=n(37),o=n(144)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var i=n(19)("unscopables"),r=Array.prototype;void 0==r[i]&&n(44)(r,i,{}),t.exports=function(t){r[i][t]=!0}},function(t,e,n){var i=n(14);t.exports=function(t,e){if(!i(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var i=n(133),r=n(60);t.exports=function(t){return i(r(t))}},function(t,e,n){var i=n(32),r=n(70),o=n(53),a=n(167),s=n(236),l=n(107),c=l.get,u=l.enforce,f=String(String).split("String");(t.exports=function(t,e,n,s){var l,c=!!s&&!!s.unsafe,d=!!s&&!!s.enumerable,h=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof e||o(n,"name")||r(n,"name",e),l=u(n),l.source||(l.source=f.join("string"==typeof e?e:""))),t!==i?(c?!h&&t[e]&&(d=!0):delete t[e],d?t[e]=n:r(t,e,n)):d?t[e]=n:a(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||s(this)}))},function(t,e,n){var i=n(30).f,r=n(43),o=n(19)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},function(t,e,n){var i=n(1),r=n(68),o=n(12),a=n(148),s="["+a+"]",l="​",c=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),f=function(t,e,n){var r={},s=o((function(){return!!a[t]()||l[t]()!=l})),c=r[t]=s?e(d):a[t];n&&(r[n]=c),i(i.P+i.F*s,"String",r)},d=f.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(u,"")),t};t.exports=f},function(t,e){t.exports={}},function(t,e,n){"use strict";var i=n(11),r=n(30),o=n(29),a=n(19)("species");t.exports=function(t){var e=i[t];o&&e&&!e[a]&&r.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var i=n(41);t.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},function(t,e,n){"use strict";var i=n(21);t.exports=function(t,e){var n=[][t];return!!n&&i((function(){n.call(null,e||function(){throw 1},1)}))}},function(t,e,n){var i=n(197),r=n(133),o=n(61),a=n(49),s=n(172),l=[].push,c=function(t){var e=1==t,n=2==t,c=3==t,u=4==t,f=6==t,d=7==t,h=5==t||f;return function(p,m,g,v){for(var y,b,_=o(p),x=r(_),w=i(m,g,3),k=a(x.length),S=0,O=v||s,C=e?O(p,k):n||d?O(p,0):void 0;k>S;S++)if((h||S in x)&&(y=x[S],b=w(y,S,_),t))if(e)C[S]=b;else if(b)switch(t){case 3:return!0;case 5:return y;case 6:return S;case 2:l.call(C,y)}else switch(t){case 4:return!1;case 7:l.call(C,y)}return f?-1:c||u?u:C}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterOut:c(7)}},function(t,e,n){"use strict";var i=n(17),r=n(135).trim,o=n(480);i({target:"String",proto:!0,forced:o("trim")},{trim:function(){return r(this)}})},function(t,e,n){var i=n(67);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var i=n(67),r=n(19)("toStringTag"),o="Arguments"==i(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(n){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=a(e=Object(t),r))?n:o?i(e):"Object"==(s=i(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){var i=n(13),r=n(55),o=n(19)("species");t.exports=function(t,e){var n,a=i(t).constructor;return void 0===a||void 0==(n=i(a)[o])?e:r(n)}},function(t,e,n){"use strict";function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";n.r(e),n.d(e,"Decoration",(function(){return kn})),n.d(e,"DecorationSet",(function(){return En})),n.d(e,"EditorView",(function(){return qn})),n.d(e,"__endComposition",(function(){return un})),n.d(e,"__parseFromClipboard",(function(){return be})),n.d(e,"__serializeForClipboard",(function(){return ye}));var i=n(7),r=n(4),o=n(51),a={};if("undefined"!=typeof navigator&&"undefined"!=typeof document){var s=/Edge\/(\d+)/.exec(navigator.userAgent),l=/MSIE \d/.test(navigator.userAgent),c=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);a.mac=/Mac/.test(navigator.platform);var u=a.ie=!!(l||c||s);a.ie_version=l?document.documentMode||6:c?+c[1]:s?+s[1]:null,a.gecko=!u&&/gecko\/(\d+)/i.test(navigator.userAgent),a.gecko_version=a.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var f=!u&&/Chrome\/(\d+)/.exec(navigator.userAgent);a.chrome=!!f,a.chrome_version=f&&+f[1],a.safari=!u&&/Apple Computer/.test(navigator.vendor),a.ios=a.safari&&(/Mobile\/\w+/.test(navigator.userAgent)||navigator.maxTouchPoints>2),a.android=/Android \d/.test(navigator.userAgent),a.webkit="webkitFontSmoothing"in document.documentElement.style,a.webkit_version=a.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var d=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},h=function(t){var e=t.assignedSlot||t.parentNode;return e&&11==e.nodeType?e.host:e},p=null,m=function(t,e,n){var i=p||(p=document.createRange());return i.setEnd(t,null==n?t.nodeValue.length:n),i.setStart(t,e||0),i},g=function(t,e,n,i){return n&&(y(t,e,n,i,-1)||y(t,e,n,i,1))},v=/^(img|br|input|textarea|hr)$/i;function y(t,e,n,i,r){for(;;){if(t==n&&e==i)return!0;if(e==(r<0?0:b(t))){var o=t.parentNode;if(1!=o.nodeType||w(t)||v.test(t.nodeName)||"false"==t.contentEditable)return!1;e=d(t)+(r<0?0:1),t=o}else{if(1!=t.nodeType)return!1;if(t=t.childNodes[e+(r<0?-1:0)],"false"==t.contentEditable)return!1;e=r<0?b(t):0}}}function b(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function x(t,e,n){for(var i=0==e,r=e==b(t);i||r;){if(t==n)return!0;var o=d(t);if(t=t.parentNode,!t)return!1;i=i&&0==o,r=r&&o==b(t)}}function w(t){for(var e,n=t;n;n=n.parentNode)if(e=n.pmViewDesc)break;return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}var k=function(t){var e=t.isCollapsed;return e&&a.chrome&&t.rangeCount&&!t.getRangeAt(0).collapsed&&(e=!1),e};function S(t,e){var n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function O(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function C(t,e){return"number"==typeof t?t:t[e]}function E(t){var e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,i=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*i}}function D(t,e,n){for(var i=t.someProp("scrollThreshold")||0,r=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument,a=n||t.dom;;a=h(a)){if(!a)break;if(1==a.nodeType){var s=a==o.body||1!=a.nodeType,l=s?O(o):E(a),c=0,u=0;if(e.top<l.top+C(i,"top")?u=-(l.top-e.top+C(r,"top")):e.bottom>l.bottom-C(i,"bottom")&&(u=e.bottom-l.bottom+C(r,"bottom")),e.left<l.left+C(i,"left")?c=-(l.left-e.left+C(r,"left")):e.right>l.right-C(i,"right")&&(c=e.right-l.right+C(r,"right")),c||u)if(s)o.defaultView.scrollBy(c,u);else{var f=a.scrollLeft,d=a.scrollTop;u&&(a.scrollTop+=u),c&&(a.scrollLeft+=c);var p=a.scrollLeft-f,m=a.scrollTop-d;e={left:e.left-p,top:e.top-m,right:e.right-p,bottom:e.bottom-m}}if(s)break}}}function T(t){for(var e,n,i=t.dom.getBoundingClientRect(),r=Math.max(0,i.top),o=(i.left+i.right)/2,a=r+1;a<Math.min(innerHeight,i.bottom);a+=5){var s=t.root.elementFromPoint(o,a);if(s!=t.dom&&t.dom.contains(s)){var l=s.getBoundingClientRect();if(l.top>=r-20){e=s,n=l.top;break}}}return{refDOM:e,refTop:n,stack:N(t.dom)}}function N(t){for(var e=[],n=t.ownerDocument;t;t=h(t))if(e.push({dom:t,top:t.scrollTop,left:t.scrollLeft}),t==n)break;return e}function M(t){var e=t.refDOM,n=t.refTop,i=t.stack,r=e?e.getBoundingClientRect().top:0;A(i,0==r?0:r-n)}function A(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=i.dom,o=i.top,a=i.left;r.scrollTop!=o+e&&(r.scrollTop=o+e),r.scrollLeft!=a&&(r.scrollLeft=a)}}var j=null;function P(t){if(t.setActive)return t.setActive();if(j)return t.focus(j);var e=N(t);t.focus(null==j?{get preventScroll(){return j={preventScroll:!0},!0}}:void 0),j||(j=!1,A(e,0))}function $(t,e){for(var n,i,r=2e8,o=0,a=e.top,s=e.top,l=t.firstChild,c=0;l;l=l.nextSibling,c++){var u=void 0;if(1==l.nodeType)u=l.getClientRects();else{if(3!=l.nodeType)continue;u=m(l).getClientRects()}for(var f=0;f<u.length;f++){var d=u[f];if(d.top<=a&&d.bottom>=s){a=Math.max(d.bottom,a),s=Math.min(d.top,s);var h=d.left>e.left?d.left-e.left:d.right<e.left?e.left-d.right:0;if(h<r){n=l,r=h,i=h&&3==n.nodeType?{left:d.right<e.left?d.right:d.left,top:e.top}:e,1==l.nodeType&&h&&(o=c+(e.left>=(d.left+d.right)/2?1:0));continue}}!n&&(e.left>=d.right&&e.top>=d.top||e.left>=d.left&&e.top>=d.bottom)&&(o=c+1)}}return n&&3==n.nodeType?I(n,i):!n||r&&1==n.nodeType?{node:t,offset:o}:$(n,i)}function I(t,e){for(var n=t.nodeValue.length,i=document.createRange(),r=0;r<n;r++){i.setEnd(t,r+1),i.setStart(t,r);var o=V(i,1);if(o.top!=o.bottom&&L(e,o))return{node:t,offset:r+(e.left>=(o.left+o.right)/2?1:0)}}return{node:t,offset:0}}function L(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function R(t,e){var n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function B(t,e,n){var i=$(e,n),r=i.node,o=i.offset,a=-1;if(1==r.nodeType&&!r.firstChild){var s=r.getBoundingClientRect();a=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return t.docView.posFromDOM(r,o,a)}function q(t,e,n,i){for(var r=-1,o=e;;){if(o==t.dom)break;var a=t.docView.nearestDesc(o,!0);if(!a)return null;if(a.node.isBlock&&a.parent){var s=a.dom.getBoundingClientRect();if(s.left>i.left||s.top>i.top)r=a.posBefore;else{if(!(s.right<i.left||s.bottom<i.top))break;r=a.posAfter}}o=a.dom.parentNode}return r>-1?r:t.docView.posFromDOM(e,n)}function F(t,e,n){var i=t.childNodes.length;if(i&&n.top<n.bottom)for(var r=Math.max(0,Math.min(i-1,Math.floor(i*(e.top-n.top)/(n.bottom-n.top))-2)),o=r;;){var a=t.childNodes[o];if(1==a.nodeType)for(var s=a.getClientRects(),l=0;l<s.length;l++){var c=s[l];if(L(e,c))return F(a,e,c)}if((o=(o+1)%i)==r)break}return t}function z(t,e){var n,i,r,o,s=t.root;if(s.caretPositionFromPoint)try{var l=s.caretPositionFromPoint(e.left,e.top);l&&(n=l,r=n.offsetNode,o=n.offset)}catch(_){}if(!r&&s.caretRangeFromPoint){var c=s.caretRangeFromPoint(e.left,e.top);c&&(i=c,r=i.startContainer,o=i.startOffset)}var u,f=s.elementFromPoint(e.left,e.top+1);if(!f||!t.dom.contains(1!=f.nodeType?f.parentNode:f)){var d=t.dom.getBoundingClientRect();if(!L(e,d))return null;if(f=F(t.dom,e,d),!f)return null}if(a.safari)for(var p=f;r&&p;p=h(p))p.draggable&&(r=o=null);if(f=R(f,e),r){if(a.gecko&&1==r.nodeType&&(o=Math.min(o,r.childNodes.length),o<r.childNodes.length)){var m,g=r.childNodes[o];"IMG"==g.nodeName&&(m=g.getBoundingClientRect()).right<=e.left&&m.bottom>e.top&&o++}r==t.dom&&o==r.childNodes.length-1&&1==r.lastChild.nodeType&&e.top>r.lastChild.getBoundingClientRect().bottom?u=t.state.doc.content.size:0!=o&&1==r.nodeType&&"BR"==r.childNodes[o-1].nodeName||(u=q(t,r,o,e))}null==u&&(u=B(t,f,e));var v=t.docView.nearestDesc(f,!0);return{pos:u,inside:v?v.posAtStart-v.border:-1}}function V(t,e){var n=t.getClientRects();return n.length?n[e<0?0:n.length-1]:t.getBoundingClientRect()}var U=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function K(t,e,n){var i=t.docView.domFromPos(e,n<0?-1:1),r=i.node,o=i.offset,s=a.webkit||a.gecko;if(3==r.nodeType){if(!s||!U.test(r.nodeValue)&&(n<0?o:o!=r.nodeValue.length)){var l=o,c=o,u=n<0?1:-1;return n<0&&!o?(c++,u=-1):n>=0&&o==r.nodeValue.length?(l--,u=1):n<0?l--:c++,H(V(m(r,l,c),u),u<0)}var f=V(m(r,o,o),n);if(a.gecko&&o&&/\s/.test(r.nodeValue[o-1])&&o<r.nodeValue.length){var d=V(m(r,o-1,o-1),-1);if(d.top==f.top){var h=V(m(r,o,o+1),-1);if(h.top!=f.top)return H(h,h.left<d.left)}}return f}if(!t.state.doc.resolve(e).parent.inlineContent){if(o&&(n<0||o==b(r))){var p=r.childNodes[o-1];if(1==p.nodeType)return W(p.getBoundingClientRect(),!1)}if(o<b(r)){var g=r.childNodes[o];if(1==g.nodeType)return W(g.getBoundingClientRect(),!0)}return W(r.getBoundingClientRect(),n>=0)}if(o&&(n<0||o==b(r))){var v=r.childNodes[o-1],y=3==v.nodeType?m(v,b(v)-(s?0:1)):1!=v.nodeType||"BR"==v.nodeName&&v.nextSibling?null:v;if(y)return H(V(y,1),!1)}if(o<b(r)){var _=r.childNodes[o],x=3==_.nodeType?m(_,0,s?0:1):1==_.nodeType?_:null;if(x)return H(V(x,-1),!0)}return H(V(3==r.nodeType?m(r):r,-n),n>=0)}function H(t,e){if(0==t.width)return t;var n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function W(t,e){if(0==t.height)return t;var n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function G(t,e,n){var i=t.state,r=t.root.activeElement;i!=e&&t.updateState(e),r!=t.dom&&t.focus();try{return n()}finally{i!=e&&t.updateState(i),r!=t.dom&&r&&r.focus()}}function J(t,e,n){var i=e.selection,r="up"==n?i.$from:i.$to;return G(t,e,(function(){for(var e=t.docView.domFromPos(r.pos,"up"==n?-1:1),i=e.node;;){var o=t.docView.nearestDesc(i,!0);if(!o)break;if(o.node.isBlock){i=o.dom;break}i=o.dom.parentNode}for(var a=K(t,r.pos,1),s=i.firstChild;s;s=s.nextSibling){var l=void 0;if(1==s.nodeType)l=s.getClientRects();else{if(3!=s.nodeType)continue;l=m(s,0,s.nodeValue.length).getClientRects()}for(var c=0;c<l.length;c++){var u=l[c];if(u.bottom>u.top&&("up"==n?u.bottom<a.top+1:u.top>a.bottom-1))return!1}}return!0}))}var Y=/[\u0590-\u08ac]/;function X(t,e,n){var i=e.selection,r=i.$head;if(!r.parent.isTextblock)return!1;var o=r.parentOffset,a=!o,s=o==r.parent.content.size,l=getSelection();return Y.test(r.parent.textContent)&&l.modify?G(t,e,(function(){var e=l.getRangeAt(0),i=l.focusNode,o=l.focusOffset,a=l.caretBidiLevel;l.modify("move",n,"character");var s=r.depth?t.docView.domAfterPos(r.before()):t.dom,c=!s.contains(1==l.focusNode.nodeType?l.focusNode:l.focusNode.parentNode)||i==l.focusNode&&o==l.focusOffset;return l.removeAllRanges(),l.addRange(e),null!=a&&(l.caretBidiLevel=a),c})):"left"==n||"backward"==n?a:s}var Z=null,Q=null,tt=!1;function et(t,e,n){return Z==e&&Q==n?tt:(Z=e,Q=n,tt="up"==n||"down"==n?J(t,e,n):X(t,e,n))}var nt=0,it=1,rt=2,ot=3,at=function(t,e,n,i){this.parent=t,this.children=e,this.dom=n,n.pmViewDesc=this,this.contentDOM=i,this.dirty=nt},st={beforePosition:{configurable:!0},size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0},domAtom:{configurable:!0}};at.prototype.matchesWidget=function(){return!1},at.prototype.matchesMark=function(){return!1},at.prototype.matchesNode=function(){return!1},at.prototype.matchesHack=function(){return!1},st.beforePosition.get=function(){return!1},at.prototype.parseRule=function(){return null},at.prototype.stopEvent=function(){return!1},st.size.get=function(){for(var t=0,e=0;e<this.children.length;e++)t+=this.children[e].size;return t},st.border.get=function(){return 0},at.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var t=0;t<this.children.length;t++)this.children[t].destroy()},at.prototype.posBeforeChild=function(t){for(var e=0,n=this.posAtStart;e<this.children.length;e++){var i=this.children[e];if(i==t)return n;n+=i.size}},st.posBefore.get=function(){return this.parent.posBeforeChild(this)},st.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0},st.posAfter.get=function(){return this.posBefore+this.size},st.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border},at.prototype.localPosFromDOM=function(t,e,n){if(this.contentDOM&&this.contentDOM.contains(1==t.nodeType?t:t.parentNode)){if(n<0){var i,r;if(t==this.contentDOM)i=t.childNodes[e-1];else{while(t.parentNode!=this.contentDOM)t=t.parentNode;i=t.previousSibling}while(i&&(!(r=i.pmViewDesc)||r.parent!=this))i=i.previousSibling;return i?this.posBeforeChild(r)+r.size:this.posAtStart}var o,a;if(t==this.contentDOM)o=t.childNodes[e];else{while(t.parentNode!=this.contentDOM)t=t.parentNode;o=t.nextSibling}while(o&&(!(a=o.pmViewDesc)||a.parent!=this))o=o.nextSibling;return o?this.posBeforeChild(a):this.posAtEnd}var s;if(t==this.dom&&this.contentDOM)s=e>d(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=2&t.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==e)for(var l=t;;l=l.parentNode){if(l==this.dom){s=!1;break}if(l.parentNode.firstChild!=l)break}if(null==s&&e==t.childNodes.length)for(var c=t;;c=c.parentNode){if(c==this.dom){s=!0;break}if(c.parentNode.lastChild!=c)break}}return(null==s?n>0:s)?this.posAtEnd:this.posAtStart},at.prototype.nearestDesc=function(t,e){for(var n=!0,i=t;i;i=i.parentNode){var r=this.getDesc(i);if(r&&(!e||r.node)){if(!n||!r.nodeDOM||(1==r.nodeDOM.nodeType?r.nodeDOM.contains(1==t.nodeType?t:t.parentNode):r.nodeDOM==t))return r;n=!1}}},at.prototype.getDesc=function(t){for(var e=t.pmViewDesc,n=e;n;n=n.parent)if(n==this)return e},at.prototype.posFromDOM=function(t,e,n){for(var i=t;i;i=i.parentNode){var r=this.getDesc(i);if(r)return r.localPosFromDOM(t,e,n)}return-1},at.prototype.descAt=function(t){for(var e=0,n=0;e<this.children.length;e++){var i=this.children[e],r=n+i.size;if(n==t&&r!=n){while(!i.border&&i.children.length)i=i.children[0];return i}if(t<r)return i.descAt(t-n-i.border);n=r}},at.prototype.domFromPos=function(t,e){if(!this.contentDOM)return{node:this.dom,offset:0};for(var n=0,i=0,r=!0;;i++,r=!1){while(i<this.children.length&&(this.children[i].beforePosition||this.children[i].dom.parentNode!=this.contentDOM))n+=this.children[i++].size;var o=i==this.children.length?null:this.children[i];if(n==t&&(0==e||!o||!o.size||o.border||e<0&&r)||o&&o.domAtom&&t<n+o.size)return{node:this.contentDOM,offset:o?d(o.dom):this.contentDOM.childNodes.length};if(!o)throw new Error("Invalid position "+t);var a=n+o.size;if(!o.domAtom&&(e<0&&!o.border?a>=t:a>t)&&(a>t||i+1>=this.children.length||!this.children[i+1].beforePosition))return o.domFromPos(t-n-o.border,e);n=a}},at.prototype.parseRange=function(t,e,n){if(void 0===n&&(n=0),0==this.children.length)return{node:this.contentDOM,from:t,to:e,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var i=-1,r=-1,o=n,a=0;;a++){var s=this.children[a],l=o+s.size;if(-1==i&&t<=l){var c=o+s.border;if(t>=c&&e<=l-s.border&&s.node&&s.contentDOM&&this.contentDOM.contains(s.contentDOM))return s.parseRange(t,e,c);t=o;for(var u=a;u>0;u--){var f=this.children[u-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){i=d(f.dom)+1;break}t-=f.size}-1==i&&(i=0)}if(i>-1&&(l>e||a==this.children.length-1)){e=l;for(var h=a+1;h<this.children.length;h++){var p=this.children[h];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(-1)){r=d(p.dom);break}e+=p.size}-1==r&&(r=this.contentDOM.childNodes.length);break}o=l}return{node:this.contentDOM,from:t,to:e,fromOffset:i,toOffset:r}},at.prototype.emptyChildAt=function(t){if(this.border||!this.contentDOM||!this.children.length)return!1;var e=this.children[t<0?0:this.children.length-1];return 0==e.size||e.emptyChildAt(t)},at.prototype.domAfterPos=function(t){var e=this.domFromPos(t,0),n=e.node,i=e.offset;if(1!=n.nodeType||i==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[i]},at.prototype.setSelection=function(t,e,n,i){for(var r=Math.min(t,e),o=Math.max(t,e),s=0,l=0;s<this.children.length;s++){var c=this.children[s],u=l+c.size;if(r>l&&o<u)return c.setSelection(t-l-c.border,e-l-c.border,n,i);l=u}var f=this.domFromPos(t,t?-1:1),h=e==t?f:this.domFromPos(e,e?-1:1),p=n.getSelection(),m=!1;if((a.gecko||a.safari)&&t==e){var v=f.node,y=f.offset;if(3==v.nodeType)m=y&&"\n"==v.nodeValue[y-1],m&&y==v.nodeValue.length&&v.nextSibling&&"BR"==v.nextSibling.nodeName&&(f=h={node:v.parentNode,offset:d(v)+1});else{var b=v.childNodes[y-1];m=b&&("BR"==b.nodeName||"false"==b.contentEditable)}}if(a.gecko&&p.focusNode&&p.focusNode!=h.node&&1==p.focusNode.nodeType){var _=p.focusNode.childNodes[p.focusOffset];_&&"false"==_.contentEditable&&(i=!0)}if(i||m&&a.safari||!g(f.node,f.offset,p.anchorNode,p.anchorOffset)||!g(h.node,h.offset,p.focusNode,p.focusOffset)){var x=!1;if((p.extend||t==e)&&!m){p.collapse(f.node,f.offset);try{t!=e&&p.extend(h.node,h.offset),x=!0}catch(err){if(!(err instanceof DOMException))throw err}}if(!x){if(t>e){var w=f;f=h,h=w}var k=document.createRange();k.setEnd(h.node,h.offset),k.setStart(f.node,f.offset),p.removeAllRanges(),p.addRange(k)}}},at.prototype.ignoreMutation=function(t){return!this.contentDOM&&"selection"!=t.type},st.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)},at.prototype.markDirty=function(t,e){for(var n=0,i=0;i<this.children.length;i++){var r=this.children[i],o=n+r.size;if(n==o?t<=o&&e>=n:t<o&&e>n){var a=n+r.border,s=o-r.border;if(t>=a&&e<=s)return this.dirty=t==n||e==o?rt:it,void(t!=a||e!=s||!r.contentLost&&r.dom.parentNode==this.contentDOM?r.markDirty(t-a,e-a):r.dirty=ot);r.dirty=ot}n=o}this.dirty=rt},at.prototype.markParentsDirty=function(){for(var t=1,e=this.parent;e;e=e.parent,t++){var n=1==t?rt:it;e.dirty<n&&(e.dirty=n)}},st.domAtom.get=function(){return!1},Object.defineProperties(at.prototype,st);var lt=[],ct=function(t){function e(e,n,i,r){var o,a=n.type.toDOM;if("function"==typeof a&&(a=a(i,(function(){return o?o.parent?o.parent.posBeforeChild(o):void 0:r}))),!n.type.spec.raw){if(1!=a.nodeType){var s=document.createElement("span");s.appendChild(a),a=s}a.contentEditable=!1,a.classList.add("ProseMirror-widget")}t.call(this,e,lt,a,null),this.widget=n,o=this}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={beforePosition:{configurable:!0},domAtom:{configurable:!0}};return n.beforePosition.get=function(){return this.widget.type.side<0},e.prototype.matchesWidget=function(t){return this.dirty==nt&&t.type.eq(this.widget.type)},e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.stopEvent=function(t){var e=this.widget.spec.stopEvent;return!!e&&e(t)},e.prototype.ignoreMutation=function(t){return"selection"!=t.type||this.widget.spec.ignoreSelection},n.domAtom.get=function(){return!0},Object.defineProperties(e.prototype,n),e}(at),ut=function(t){function e(e,n,i,r){t.call(this,e,lt,n,null),this.textDOM=i,this.text=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={size:{configurable:!0}};return n.size.get=function(){return this.text.length},e.prototype.localPosFromDOM=function(t,e){return t!=this.textDOM?this.posAtStart+(e?this.size:0):this.posAtStart+e},e.prototype.domFromPos=function(t){return{node:this.textDOM,offset:t}},e.prototype.ignoreMutation=function(t){return"characterData"===t.type&&t.target.nodeValue==t.oldValue},Object.defineProperties(e.prototype,n),e}(at),ft=function(t){function e(e,n,i,r){t.call(this,e,[],i,r),this.mark=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.create=function(t,n,i,o){var a=o.nodeViews[n.type.name],s=a&&a(n,o,i);return s&&s.dom||(s=r["DOMSerializer"].renderSpec(document,n.type.spec.toDOM(n,i))),new e(t,n,s.dom,s.contentDOM||s.dom)},e.prototype.parseRule=function(){return{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},e.prototype.matchesMark=function(t){return this.dirty!=ot&&this.mark.eq(t)},e.prototype.markDirty=function(e,n){if(t.prototype.markDirty.call(this,e,n),this.dirty!=nt){var i=this.parent;while(!i.node)i=i.parent;i.dirty<this.dirty&&(i.dirty=this.dirty),this.dirty=nt}},e.prototype.slice=function(t,n,i){var r=e.create(this.parent,this.mark,!0,i),o=this.children,a=this.size;n<a&&(o=jt(o,n,a,i)),t>0&&(o=jt(o,0,t,i));for(var s=0;s<o.length;s++)o[s].parent=r;return r.children=o,r},e}(at),dt=function(t){function e(e,n,i,r,o,a,s,l,c){t.call(this,e,n.isLeaf?lt:[],o,a),this.nodeDOM=s,this.node=n,this.outerDeco=i,this.innerDeco=r,a&&this.updateChildren(l,c)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={size:{configurable:!0},border:{configurable:!0},domAtom:{configurable:!0}};return e.create=function(t,n,i,o,a,s){var l,c,u=a.nodeViews[n.type.name],f=u&&u(n,a,(function(){return c?c.parent?c.parent.posBeforeChild(c):void 0:s}),i,o),d=f&&f.dom,h=f&&f.contentDOM;if(n.isText)if(d){if(3!=d.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else d=document.createTextNode(n.text);else d||(l=r["DOMSerializer"].renderSpec(document,n.type.spec.toDOM(n)),d=l.dom,h=l.contentDOM);h||n.isText||"BR"==d.nodeName||(d.hasAttribute("contenteditable")||(d.contentEditable=!1),n.type.spec.draggable&&(d.draggable=!0));var p=d;return d=kt(d,i,n),f?c=new gt(t,n,i,o,d,h,p,f,a,s+1):n.isText?new pt(t,n,i,o,d,p,a):new e(t,n,i,o,d,h,p,a,s+1)},e.prototype.parseRule=function(){var t=this;if(this.node.type.spec.reparseInView)return null;var e={node:this.node.type.name,attrs:this.node.attrs};return this.node.type.spec.code&&(e.preserveWhitespace="full"),this.contentDOM&&!this.contentLost?e.contentElement=this.contentDOM:e.getContent=function(){return t.contentDOM?r["Fragment"].empty:t.node.content},e},e.prototype.matchesNode=function(t,e,n){return this.dirty==nt&&t.eq(this.node)&&St(e,this.outerDeco)&&n.eq(this.innerDeco)},n.size.get=function(){return this.node.nodeSize},n.border.get=function(){return this.node.isLeaf?0:1},e.prototype.updateChildren=function(t,e){var n=this,i=this.node.inlineContent,o=e,s=i&&t.composing&&this.localCompositionNode(t,e),l=new Ct(this,s&&s.node);Tt(this.node,this.innerDeco,(function(e,a,s){e.spec.marks?l.syncToMarks(e.spec.marks,i,t):e.type.side>=0&&!s&&l.syncToMarks(a==n.node.childCount?r["Mark"].none:n.node.child(a).marks,i,t),l.placeWidget(e,t,o)}),(function(e,n,r,a){l.syncToMarks(e.marks,i,t),l.findNodeMatch(e,n,r,a)||l.updateNextNode(e,n,r,t,a)||l.addNode(e,n,r,t,o),o+=e.nodeSize})),l.syncToMarks(lt,i,t),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==rt)&&(s&&this.protectLocalComposition(t,s),vt(this.contentDOM,this.children,t),a.ios&&Nt(this.dom))},e.prototype.localCompositionNode=function(t,e){var n=t.state.selection,r=n.from,o=n.to;if(!(!(t.state.selection instanceof i["TextSelection"])||r<e||o>e+this.node.content.size)){var a=t.root.getSelection(),s=Mt(a.focusNode,a.focusOffset);if(s&&this.dom.contains(s.parentNode)){var l=s.nodeValue,c=At(this.node.content,l,r-e,o-e);return c<0?null:{node:s,pos:c,text:l}}}},e.prototype.protectLocalComposition=function(t,e){var n=e.node,i=e.pos,r=e.text;if(!this.getDesc(n)){for(var o=n;;o=o.parentNode){if(o.parentNode==this.contentDOM)break;while(o.previousSibling)o.parentNode.removeChild(o.previousSibling);while(o.nextSibling)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=null)}var a=new ut(this,o,n,r);t.compositionNodes.push(a),this.children=jt(this.children,i,i+r.length,t,a)}},e.prototype.update=function(t,e,n,i){return!(this.dirty==ot||!t.sameMarkup(this.node))&&(this.updateInner(t,e,n,i),!0)},e.prototype.updateInner=function(t,e,n,i){this.updateOuterDeco(e),this.node=t,this.innerDeco=n,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=nt},e.prototype.updateOuterDeco=function(t){if(!St(t,this.outerDeco)){var e=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=xt(this.dom,this.nodeDOM,_t(this.outerDeco,this.node,e),_t(t,this.node,e)),this.dom!=n&&(n.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=t}},e.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)},e.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")},n.domAtom.get=function(){return this.node.isAtom},Object.defineProperties(e.prototype,n),e}(at);function ht(t,e,n,i,r){return kt(i,e,t),new dt(null,t,e,n,i,i,i,r,0)}var pt=function(t){function e(e,n,i,r,o,a,s){t.call(this,e,n,i,r,o,null,a,s)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={domAtom:{configurable:!0}};return e.prototype.parseRule=function(){var t=this.nodeDOM.parentNode;while(t&&t!=this.dom&&!t.pmIsDeco)t=t.parentNode;return{skip:t||!0}},e.prototype.update=function(t,e,n,i){return!(this.dirty==ot||this.dirty!=nt&&!this.inParent()||!t.sameMarkup(this.node))&&(this.updateOuterDeco(e),this.dirty==nt&&t.text==this.node.text||t.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=t.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=t,this.dirty=nt,!0)},e.prototype.inParent=function(){for(var t=this.parent.contentDOM,e=this.nodeDOM;e;e=e.parentNode)if(e==t)return!0;return!1},e.prototype.domFromPos=function(t){return{node:this.nodeDOM,offset:t}},e.prototype.localPosFromDOM=function(e,n,i){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):t.prototype.localPosFromDOM.call(this,e,n,i)},e.prototype.ignoreMutation=function(t){return"characterData"!=t.type&&"selection"!=t.type},e.prototype.slice=function(t,n,i){var r=this.node.cut(t,n),o=document.createTextNode(r.text);return new e(this.parent,r,this.outerDeco,this.innerDeco,o,o,i)},n.domAtom.get=function(){return!1},Object.defineProperties(e.prototype,n),e}(dt),mt=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={domAtom:{configurable:!0}};return e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.matchesHack=function(){return this.dirty==nt},n.domAtom.get=function(){return!0},Object.defineProperties(e.prototype,n),e}(at),gt=function(t){function e(e,n,i,r,o,a,s,l,c,u){t.call(this,e,n,i,r,o,a,s,c,u),this.spec=l}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.update=function(e,n,i,r){if(this.dirty==ot)return!1;if(this.spec.update){var o=this.spec.update(e,n,i);return o&&this.updateInner(e,n,i,r),o}return!(!this.contentDOM&&!e.isLeaf)&&t.prototype.update.call(this,e,n,i,r)},e.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():t.prototype.selectNode.call(this)},e.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():t.prototype.deselectNode.call(this)},e.prototype.setSelection=function(e,n,i,r){this.spec.setSelection?this.spec.setSelection(e,n,i):t.prototype.setSelection.call(this,e,n,i,r)},e.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),t.prototype.destroy.call(this)},e.prototype.stopEvent=function(t){return!!this.spec.stopEvent&&this.spec.stopEvent(t)},e.prototype.ignoreMutation=function(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):t.prototype.ignoreMutation.call(this,e)},e}(dt);function vt(t,e,n){for(var i=t.firstChild,r=!1,o=0;o<e.length;o++){var a=e[o],s=a.dom;if(s.parentNode==t){while(s!=i)i=Ot(i),r=!0;i=i.nextSibling}else r=!0,t.insertBefore(s,i);if(a instanceof ft){var l=i?i.previousSibling:t.lastChild;vt(a.contentDOM,a.children,n),i=l?l.nextSibling:t.firstChild}}while(i)i=Ot(i),r=!0;r&&n.trackWrites==t&&(n.trackWrites=null)}function yt(t){t&&(this.nodeName=t)}yt.prototype=Object.create(null);var bt=[new yt];function _t(t,e,n){if(0==t.length)return bt;for(var i=n?bt[0]:new yt,r=[i],o=0;o<t.length;o++){var a=t[o].type.attrs;if(a)for(var s in a.nodeName&&r.push(i=new yt(a.nodeName)),a){var l=a[s];null!=l&&(n&&1==r.length&&r.push(i=new yt(e.isInline?"span":"div")),"class"==s?i.class=(i.class?i.class+" ":"")+l:"style"==s?i.style=(i.style?i.style+";":"")+l:"nodeName"!=s&&(i[s]=l))}}return r}function xt(t,e,n,i){if(n==bt&&i==bt)return e;for(var r=e,o=0;o<i.length;o++){var a=i[o],s=n[o];if(o){var l=void 0;s&&s.nodeName==a.nodeName&&r!=t&&(l=r.parentNode)&&l.tagName.toLowerCase()==a.nodeName||(l=document.createElement(a.nodeName),l.pmIsDeco=!0,l.appendChild(r),s=bt[0]),r=l}wt(r,s||bt[0],a)}return r}function wt(t,e,n){for(var i in e)"class"==i||"style"==i||"nodeName"==i||i in n||t.removeAttribute(i);for(var r in n)"class"!=r&&"style"!=r&&"nodeName"!=r&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){for(var o=e.class?e.class.split(" ").filter(Boolean):lt,a=n.class?n.class.split(" ").filter(Boolean):lt,s=0;s<o.length;s++)-1==a.indexOf(o[s])&&t.classList.remove(o[s]);for(var l=0;l<a.length;l++)-1==o.indexOf(a[l])&&t.classList.add(a[l])}if(e.style!=n.style){if(e.style){var c,u=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;while(c=u.exec(e.style))t.style.removeProperty(c[1])}n.style&&(t.style.cssText+=n.style)}}function kt(t,e,n){return xt(t,t,bt,_t(e,n,1!=t.nodeType))}function St(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function Ot(t){var e=t.nextSibling;return t.parentNode.removeChild(t),e}var Ct=function(t,e){this.top=t,this.lock=e,this.index=0,this.stack=[],this.changed=!1,this.preMatch=Et(t.node.content,t.children)};function Et(t,e){for(var n=t.childCount,i=e.length,r=new Map;n>0&&i>0;i--){var o=e[i-1],a=o.node;if(a){if(a!=t.child(n-1))break;--n,r.set(o,n)}}return{index:n,matched:r}}function Dt(t,e){return t.type.side-e.type.side}function Tt(t,e,n,i){var r=e.locals(t),o=0;if(0!=r.length)for(var a=0,s=[],l=null,c=0;;){if(a<r.length&&r[a].to==o){var u=r[a++],f=void 0;while(a<r.length&&r[a].to==o)(f||(f=[u])).push(r[a++]);if(f){f.sort(Dt);for(var d=0;d<f.length;d++)n(f[d],c,!!l)}else n(u,c,!!l)}var h=void 0,p=void 0;if(l)p=-1,h=l,l=null;else{if(!(c<t.childCount))break;p=c,h=t.child(c++)}for(var m=0;m<s.length;m++)s[m].to<=o&&s.splice(m--,1);while(a<r.length&&r[a].from<=o&&r[a].to>o)s.push(r[a++]);var g=o+h.nodeSize;if(h.isText){var v=g;a<r.length&&r[a].from<v&&(v=r[a].from);for(var y=0;y<s.length;y++)s[y].to<v&&(v=s[y].to);v<g&&(l=h.cut(v-o),h=h.cut(0,v-o),g=v,p=-1)}var b=s.length?h.isInline&&!h.isLeaf?s.filter((function(t){return!t.inline})):s.slice():lt;i(h,b,e.forChild(o,h),p),o=g}else for(var _=0;_<t.childCount;_++){var x=t.child(_);i(x,r,e.forChild(o,x),_),o+=x.nodeSize}}function Nt(t){if("UL"==t.nodeName||"OL"==t.nodeName){var e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function Mt(t,e){for(;;){if(3==t.nodeType)return t;if(1==t.nodeType&&e>0){if(t.childNodes.length>e&&3==t.childNodes[e].nodeType)return t.childNodes[e];t=t.childNodes[e-1],e=b(t)}else{if(!(1==t.nodeType&&e<t.childNodes.length))return null;t=t.childNodes[e],e=0}}}function At(t,e,n,i){for(var r=0,o=0;r<t.childCount&&o<=i;){var a=t.child(r++),s=o;if(o+=a.nodeSize,a.isText){var l=a.text;while(r<t.childCount){var c=t.child(r++);if(o+=c.nodeSize,!c.isText)break;l+=c.text}if(o>=n){var u=l.lastIndexOf(e,i-s);if(u>=0&&u+e.length+s>=n)return s+u}}}return-1}function jt(t,e,n,i,r){for(var o=[],a=0,s=0;a<t.length;a++){var l=t[a],c=s,u=s+=l.size;c>=n||u<=e?o.push(l):(c<e&&o.push(l.slice(0,e-c,i)),r&&(o.push(r),r=null),u>n&&o.push(l.slice(n-c,l.size,i)))}return o}function Pt(t,e){var n=t.root.getSelection(),r=t.state.doc;if(!n.focusNode)return null;var o=t.docView.nearestDesc(n.focusNode),a=o&&0==o.size,s=t.docView.posFromDOM(n.focusNode,n.focusOffset);if(s<0)return null;var l,c,u=r.resolve(s);if(k(n)){l=u;while(o&&!o.node)o=o.parent;if(o&&o.node.isAtom&&i["NodeSelection"].isSelectable(o.node)&&o.parent&&(!o.node.isInline||!x(n.focusNode,n.focusOffset,o.dom))){var f=o.posBefore;c=new i["NodeSelection"](s==f?u:r.resolve(f))}}else{var d=t.docView.posFromDOM(n.anchorNode,n.anchorOffset);if(d<0)return null;l=r.resolve(d)}if(!c){var h="pointer"==e||t.state.selection.head<u.pos&&!a?1:-1;c=Kt(t,l,u,h)}return c}function $t(t){return t.editable?t.hasFocus():Wt(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function It(t,e){var n=t.state.selection;if(Vt(t,n),$t(t)){if(t.domObserver.disconnectSelection(),t.cursorWrapper)zt(t);else{var r,o,a=n.anchor,s=n.head;!Lt||n instanceof i["TextSelection"]||(n.$from.parent.inlineContent||(r=Rt(t,n.from)),n.empty||n.$from.parent.inlineContent||(o=Rt(t,n.to))),t.docView.setSelection(a,s,t.root,e),Lt&&(r&&qt(r),o&&qt(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Ft(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}Ct.prototype.destroyBetween=function(t,e){if(t!=e){for(var n=t;n<e;n++)this.top.children[n].destroy();this.top.children.splice(t,e-t),this.changed=!0}},Ct.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)},Ct.prototype.syncToMarks=function(t,e,n){var i=0,r=this.stack.length>>1,o=Math.min(r,t.length);while(i<o&&(i==r-1?this.top:this.stack[i+1<<1]).matchesMark(t[i])&&!1!==t[i].type.spec.spanning)i++;while(i<r)this.destroyRest(),this.top.dirty=nt,this.index=this.stack.pop(),this.top=this.stack.pop(),r--;while(r<t.length){this.stack.push(this.top,this.index+1);for(var a=-1,s=this.index;s<Math.min(this.index+3,this.top.children.length);s++)if(this.top.children[s].matchesMark(t[r])){a=s;break}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{var l=ft.create(this.top,t[r],e,n);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,r++}},Ct.prototype.findNodeMatch=function(t,e,n,i){var r=this.top.children,o=-1;if(i>=this.preMatch.index){for(var a=this.index;a<r.length;a++)if(r[a].matchesNode(t,e,n)){o=a;break}}else for(var s=this.index,l=Math.min(r.length,s+1);s<l;s++){var c=r[s];if(c.matchesNode(t,e,n)&&!this.preMatch.matched.has(c)){o=s;break}}return!(o<0)&&(this.destroyBetween(this.index,o),this.index++,!0)},Ct.prototype.updateNextNode=function(t,e,n,i,r){for(var o=this.index;o<this.top.children.length;o++){var a=this.top.children[o];if(a instanceof dt){var s=this.preMatch.matched.get(a);if(null!=s&&s!=r)return!1;var l=a.dom,c=this.lock&&(l==this.lock||1==l.nodeType&&l.contains(this.lock.parentNode))&&!(t.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==t.text&&a.dirty!=ot&&St(e,a.outerDeco));if(!c&&a.update(t,e,n,i))return this.destroyBetween(this.index,o),a.dom!=l&&(this.changed=!0),this.index++,!0;break}}return!1},Ct.prototype.addNode=function(t,e,n,i,r){this.top.children.splice(this.index++,0,dt.create(this.top,t,e,n,i,r)),this.changed=!0},Ct.prototype.placeWidget=function(t,e,n){var i=this.index<this.top.children.length?this.top.children[this.index]:null;if(!i||!i.matchesWidget(t)||t!=i.widget&&i.widget.type.toDOM.parentNode){var r=new ct(this.top,t,e,n);this.top.children.splice(this.index++,0,r),this.changed=!0}else this.index++},Ct.prototype.addTextblockHacks=function(){var t=this.top.children[this.index-1];while(t instanceof ft)t=t.children[t.children.length-1];if(!t||!(t instanceof pt)||/\n$/.test(t.node.text))if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack())this.index++;else{var e=document.createElement("br");this.top.children.splice(this.index++,0,new mt(this.top,lt,e,null)),this.changed=!0}};var Lt=a.safari||a.chrome&&a.chrome_version<63;function Rt(t,e){var n=t.docView.domFromPos(e,0),i=n.node,r=n.offset,o=r<i.childNodes.length?i.childNodes[r]:null,s=r?i.childNodes[r-1]:null;if(a.safari&&o&&"false"==o.contentEditable)return Bt(o);if((!o||"false"==o.contentEditable)&&(!s||"false"==s.contentEditable)){if(o)return Bt(o);if(s)return Bt(s)}}function Bt(t){return t.contentEditable="true",a.safari&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function qt(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function Ft(t){var e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.hideSelectionGuard);var n=t.root.getSelection(),i=n.anchorNode,r=n.anchorOffset;e.addEventListener("selectionchange",t.hideSelectionGuard=function(){n.anchorNode==i&&n.anchorOffset==r||(e.removeEventListener("selectionchange",t.hideSelectionGuard),setTimeout((function(){$t(t)&&!t.state.selection.visible||t.dom.classList.remove("ProseMirror-hideselection")}),20))})}function zt(t){var e=t.root.getSelection(),n=document.createRange(),i=t.cursorWrapper.dom,r="IMG"==i.nodeName;r?n.setEnd(i.parentNode,d(i)+1):n.setEnd(i,0),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!r&&!t.state.selection.visible&&a.ie&&a.ie_version<=11&&(i.disabled=!0,i.disabled=!1)}function Vt(t,e){if(e instanceof i["NodeSelection"]){var n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(Ut(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else Ut(t)}function Ut(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=null)}function Kt(t,e,n,r){return t.someProp("createSelectionBetween",(function(i){return i(t,e,n)}))||i["TextSelection"].between(e,n,r)}function Ht(t){return(!t.editable||t.root.activeElement==t.dom)&&Wt(t)}function Wt(t){var e=t.root.getSelection();if(!e.anchorNode)return!1;try{return t.dom.contains(3==e.anchorNode.nodeType?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(3==e.focusNode.nodeType?e.focusNode.parentNode:e.focusNode))}catch(_){return!1}}function Gt(t){var e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.root.getSelection();return g(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Jt(t,e){var n=t.selection,r=n.$anchor,o=n.$head,a=e>0?r.max(o):r.min(o),s=a.parent.inlineContent?a.depth?t.doc.resolve(e>0?a.after():a.before()):null:a;return s&&i["Selection"].findFrom(s,e)}function Yt(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function Xt(t,e,n){var r=t.state.selection;if(!(r instanceof i["TextSelection"])){if(r instanceof i["NodeSelection"]&&r.node.isInline)return Yt(t,new i["TextSelection"](e>0?r.$to:r.$from));var o=Jt(t.state,e);return!!o&&Yt(t,o)}if(!r.empty||n.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"right":"left")){var s=Jt(t.state,e);return!!(s&&s instanceof i["NodeSelection"])&&Yt(t,s)}if(!(a.mac&&n.indexOf("m")>-1)){var l,c=r.$head,u=c.textOffset?null:e<0?c.nodeBefore:c.nodeAfter;if(!u||u.isText)return!1;var f=e<0?c.pos-u.nodeSize:c.pos;return!!(u.isAtom||(l=t.docView.descAt(f))&&!l.contentDOM)&&(i["NodeSelection"].isSelectable(u)?Yt(t,new i["NodeSelection"](e<0?t.state.doc.resolve(c.pos-u.nodeSize):c)):!!a.webkit&&Yt(t,new i["TextSelection"](t.state.doc.resolve(e<0?f:f+u.nodeSize))))}}function Zt(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function Qt(t){var e=t.pmViewDesc;return e&&0==e.size&&(t.nextSibling||"BR"!=t.nodeName)}function te(t){var e=t.root.getSelection(),n=e.focusNode,i=e.focusOffset;if(n){var r,o,s=!1;for(a.gecko&&1==n.nodeType&&i<Zt(n)&&Qt(n.childNodes[i])&&(s=!0);;)if(i>0){if(1!=n.nodeType)break;var l=n.childNodes[i-1];if(Qt(l))r=n,o=--i;else{if(3!=l.nodeType)break;n=l,i=n.nodeValue.length}}else{if(ne(n))break;var c=n.previousSibling;while(c&&Qt(c))r=n.parentNode,o=d(c),c=c.previousSibling;if(c)n=c,i=Zt(n);else{if(n=n.parentNode,n==t.dom)break;i=0}}s?ie(t,e,n,i):r&&ie(t,e,r,o)}}function ee(t){var e=t.root.getSelection(),n=e.focusNode,i=e.focusOffset;if(n){for(var r,o,a=Zt(n);;)if(i<a){if(1!=n.nodeType)break;var s=n.childNodes[i];if(!Qt(s))break;r=n,o=++i}else{if(ne(n))break;var l=n.nextSibling;while(l&&Qt(l))r=l.parentNode,o=d(l)+1,l=l.nextSibling;if(l)n=l,i=0,a=Zt(n);else{if(n=n.parentNode,n==t.dom)break;i=a=0}}r&&ie(t,e,r,o)}}function ne(t){var e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function ie(t,e,n,i){if(k(e)){var r=document.createRange();r.setEnd(n,i),r.setStart(n,i),e.removeAllRanges(),e.addRange(r)}else e.extend&&e.extend(n,i);t.domObserver.setCurSelection();var o=t.state;setTimeout((function(){t.state==o&&It(t)}),50)}function re(t,e,n){var r=t.state.selection;if(r instanceof i["TextSelection"]&&!r.empty||n.indexOf("s")>-1)return!1;if(a.mac&&n.indexOf("m")>-1)return!1;var o=r.$from,s=r.$to;if(!o.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){var l=Jt(t.state,e);if(l&&l instanceof i["NodeSelection"])return Yt(t,l)}if(!o.parent.inlineContent){var c=e<0?o:s,u=r instanceof i["AllSelection"]?i["Selection"].near(c,e):i["Selection"].findFrom(c,e);return!!u&&Yt(t,u)}return!1}function oe(t,e){if(!(t.state.selection instanceof i["TextSelection"]))return!0;var n=t.state.selection,r=n.$head,o=n.$anchor,a=n.empty;if(!r.sameParent(o))return!0;if(!a)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;var s=!r.textOffset&&(e<0?r.nodeBefore:r.nodeAfter);if(s&&!s.isText){var l=t.state.tr;return e<0?l.delete(r.pos-s.nodeSize,r.pos):l.delete(r.pos,r.pos+s.nodeSize),t.dispatch(l),!0}return!1}function ae(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function se(t){if(a.safari&&!(t.state.selection.$head.parentOffset>0)){var e=t.root.getSelection(),n=e.focusNode,i=e.focusOffset;if(n&&1==n.nodeType&&0==i&&n.firstChild&&"false"==n.firstChild.contentEditable){var r=n.firstChild;ae(t,r,!0),setTimeout((function(){return ae(t,r,!1)}),20)}}}function le(t){var e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function ce(t,e){var n=e.keyCode,i=le(e);return 8==n||a.mac&&72==n&&"c"==i?oe(t,-1)||te(t):46==n||a.mac&&68==n&&"c"==i?oe(t,1)||ee(t):13==n||27==n||(37==n?Xt(t,-1,i)||te(t):39==n?Xt(t,1,i)||ee(t):38==n?re(t,-1,i)||te(t):40==n?se(t)||re(t,1,i)||ee(t):i==(a.mac?"m":"c")&&(66==n||73==n||89==n||90==n))}function ue(t,e,n){var i=t.docView.parseRange(e,n),o=i.node,s=i.fromOffset,l=i.toOffset,c=i.from,u=i.to,f=t.root.getSelection(),d=null,h=f.anchorNode;if(h&&t.dom.contains(1==h.nodeType?h:h.parentNode)&&(d=[{node:h,offset:f.anchorOffset}],k(f)||d.push({node:f.focusNode,offset:f.focusOffset})),a.chrome&&8===t.lastKeyCode)for(var p=l;p>s;p--){var m=o.childNodes[p-1],g=m.pmViewDesc;if("BR"==m.nodeName&&!g){l=p;break}if(!g||g.size)break}var v=t.state.doc,y=t.someProp("domParser")||r["DOMParser"].fromSchema(t.state.schema),b=v.resolve(c),_=null,x=y.parse(o,{topNode:b.parent,topMatch:b.parent.contentMatchAt(b.index()),topOpen:!0,from:s,to:l,preserveWhitespace:!b.parent.type.spec.code||"full",editableContent:!0,findPositions:d,ruleFromNode:fe,context:b});if(d&&null!=d[0].pos){var w=d[0].pos,S=d[1]&&d[1].pos;null==S&&(S=w),_={anchor:w+c,head:S+c}}return{doc:x,sel:_,from:c,to:u}}function fe(t){var e=t.pmViewDesc;if(e)return e.parseRule();if("BR"==t.nodeName&&t.parentNode){if(a.safari&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){var n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}if(t.parentNode.lastChild==t||a.safari&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if("IMG"==t.nodeName&&t.getAttribute("mark-placeholder"))return{ignore:!0}}function de(t,e,n,r,o){if(e<0){var s=t.lastSelectionTime>Date.now()-50?t.lastSelectionOrigin:null,l=Pt(t,s);if(l&&!t.state.selection.eq(l)){var c=t.state.tr.setSelection(l);"pointer"==s?c.setMeta("pointer",!0):"key"==s&&c.scrollIntoView(),t.dispatch(c)}}else{var u=t.state.doc.resolve(e),f=u.sharedDepth(n);e=u.before(f+1),n=t.state.doc.resolve(n).after(f+1);var d=t.state.selection,h=ue(t,e,n);if(a.chrome&&t.cursorWrapper&&h.sel&&h.sel.anchor==t.cursorWrapper.deco.from){var p=t.cursorWrapper.deco.type.toDOM.nextSibling,m=p&&p.nodeValue?p.nodeValue.length:1;h.sel={anchor:h.sel.anchor+m,head:h.sel.anchor+m}}var g,v,y=t.state.doc,b=y.slice(h.from,h.to);8===t.lastKeyCode&&Date.now()-100<t.lastKeyCodeTime?(g=t.state.selection.to,v="end"):(g=t.state.selection.from,v="start"),t.lastKeyCode=null;var _=ve(b.content,h.doc.content,h.from,g,v);if(!_){if(!(r&&d instanceof i["TextSelection"]&&!d.empty&&d.$head.sameParent(d.$anchor))||t.composing||h.sel&&h.sel.anchor!=h.sel.head){if((a.ios&&t.lastIOSEnter>Date.now()-225||a.android)&&o.some((function(t){return"DIV"==t.nodeName||"P"==t.nodeName}))&&t.someProp("handleKeyDown",(function(e){return e(t,S(13,"Enter"))})))return void(t.lastIOSEnter=0);if(h.sel){var x=he(t,t.state.doc,h.sel);x&&!x.eq(t.state.selection)&&t.dispatch(t.state.tr.setSelection(x))}return}_={start:d.from,endA:d.to,endB:d.to}}t.domChangeCount++,t.state.selection.from<t.state.selection.to&&_.start==_.endB&&t.state.selection instanceof i["TextSelection"]&&(_.start>t.state.selection.from&&_.start<=t.state.selection.from+2?_.start=t.state.selection.from:_.endA<t.state.selection.to&&_.endA>=t.state.selection.to-2&&(_.endB+=t.state.selection.to-_.endA,_.endA=t.state.selection.to)),a.ie&&a.ie_version<=11&&_.endB==_.start+1&&_.endA==_.start&&_.start>h.from&&"  "==h.doc.textBetween(_.start-h.from-1,_.start-h.from+1)&&(_.start--,_.endA--,_.endB--);var w,k=h.doc.resolveNoCache(_.start-h.from),O=h.doc.resolveNoCache(_.endB-h.from),C=k.sameParent(O)&&k.parent.inlineContent;if((a.ios&&t.lastIOSEnter>Date.now()-225&&(!C||o.some((function(t){return"DIV"==t.nodeName||"P"==t.nodeName})))||!C&&k.pos<h.doc.content.size&&(w=i["Selection"].findFrom(h.doc.resolve(k.pos+1),1,!0))&&w.head==O.pos)&&t.someProp("handleKeyDown",(function(e){return e(t,S(13,"Enter"))})))t.lastIOSEnter=0;else if(t.state.selection.anchor>_.start&&me(y,_.start,_.endA,k,O)&&t.someProp("handleKeyDown",(function(e){return e(t,S(8,"Backspace"))})))a.android&&a.chrome&&t.domObserver.suppressSelectionUpdates();else{a.chrome&&a.android&&_.toB==_.from&&(t.lastAndroidDelete=Date.now()),a.android&&!C&&k.start()!=O.start()&&0==O.parentOffset&&k.depth==O.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==_.endA&&(_.endB-=2,O=h.doc.resolveNoCache(_.endB-h.from),setTimeout((function(){t.someProp("handleKeyDown",(function(e){return e(t,S(13,"Enter"))}))}),20));var E,D,T,N,M=_.start,A=_.endA;if(C)if(k.pos==O.pos)a.ie&&a.ie_version<=11&&0==k.parentOffset&&(t.domObserver.suppressSelectionUpdates(),setTimeout((function(){return It(t)}),20)),E=t.state.tr.delete(M,A),D=y.resolve(_.start).marksAcross(y.resolve(_.endA));else if(_.endA==_.endB&&(N=y.resolve(_.start))&&(T=pe(k.parent.content.cut(k.parentOffset,O.parentOffset),N.parent.content.cut(N.parentOffset,_.endA-N.start()))))E=t.state.tr,"add"==T.type?E.addMark(M,A,T.mark):E.removeMark(M,A,T.mark);else if(k.parent.child(k.index()).isText&&k.index()==O.index()-(O.textOffset?0:1)){var j=k.parent.textBetween(k.parentOffset,O.parentOffset);if(t.someProp("handleTextInput",(function(e){return e(t,M,A,j)})))return;E=t.state.tr.insertText(j,M,A)}if(E||(E=t.state.tr.replace(M,A,h.doc.slice(_.start-h.from,_.endB-h.from))),h.sel){var P=he(t,E.doc,h.sel);P&&!(a.chrome&&a.android&&t.composing&&P.empty&&(_.start!=_.endB||t.lastAndroidDelete<Date.now()-100)&&(P.head==M||P.head==E.mapping.map(A)-1)||a.ie&&P.empty&&P.head==M)&&E.setSelection(P)}D&&E.ensureMarks(D),t.dispatch(E.scrollIntoView())}}}function he(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:Kt(t,e.resolve(n.anchor),e.resolve(n.head))}function pe(t,e){for(var n,i,o,a=t.firstChild.marks,s=e.firstChild.marks,l=a,c=s,u=0;u<s.length;u++)l=s[u].removeFromSet(l);for(var f=0;f<a.length;f++)c=a[f].removeFromSet(c);if(1==l.length&&0==c.length)i=l[0],n="add",o=function(t){return t.mark(i.addToSet(t.marks))};else{if(0!=l.length||1!=c.length)return null;i=c[0],n="remove",o=function(t){return t.mark(i.removeFromSet(t.marks))}}for(var d=[],h=0;h<e.childCount;h++)d.push(o(e.child(h)));if(r["Fragment"].from(d).eq(t))return{mark:i,type:n}}function me(t,e,n,i,r){if(!i.parent.isTextblock||n-e<=r.pos-i.pos||ge(i,!0,!1)<r.pos)return!1;var o=t.resolve(e);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;var a=t.resolve(ge(o,!0,!0));return!(!a.parent.isTextblock||a.pos>n||ge(a,!0,!1)<n)&&i.parent.content.cut(i.parentOffset).eq(a.parent.content)}function ge(t,e,n){var i=t.depth,r=e?t.end():t.pos;while(i>0&&(e||t.indexAfter(i)==t.node(i).childCount))i--,r++,e=!1;if(n){var o=t.node(i).maybeChild(t.indexAfter(i));while(o&&!o.isLeaf)o=o.firstChild,r++}return r}function ve(t,e,n,i,r){var o=t.findDiffStart(e,n);if(null==o)return null;var a=t.findDiffEnd(e,n+t.size,n+e.size),s=a.a,l=a.b;if("end"==r){var c=Math.max(0,o-Math.min(s,l));i-=s+c-o}if(s<o&&t.size<e.size){var u=i<=o&&i>=s?o-i:0;o-=u,l=o+(l-s),s=o}else if(l<o){var f=i<=o&&i>=l?o-i:0;o-=f,s=o+(s-l),l=o}return{start:o,endA:s,endB:l}}function ye(t,e){var n=[],i=e.content,o=e.openStart,a=e.openEnd;while(o>1&&a>1&&1==i.childCount&&1==i.firstChild.childCount){o--,a--;var s=i.firstChild;n.push(s.type.name,s.attrs!=s.type.defaultAttrs?s.attrs:null),i=s.content}var l=t.someProp("clipboardSerializer")||r["DOMSerializer"].fromSchema(t.state.schema),c=De(),u=c.createElement("div");u.appendChild(l.serializeFragment(i,{document:c}));var f,d=u.firstChild;while(d&&1==d.nodeType&&(f=Ce[d.nodeName.toLowerCase()])){for(var h=f.length-1;h>=0;h--){var p=c.createElement(f[h]);while(u.firstChild)p.appendChild(u.firstChild);u.appendChild(p)}d=u.firstChild}d&&1==d.nodeType&&d.setAttribute("data-pm-slice",o+" "+a+" "+JSON.stringify(n));var m=t.someProp("clipboardTextSerializer",(function(t){return t(e)}))||e.content.textBetween(0,e.content.size,"\n\n");return{dom:u,text:m}}function be(t,e,n,i,o){var a,s,l=o.parent.type.spec.code;if(!n&&!e)return null;var c=e&&(i||l||!n);if(c){if(t.someProp("transformPastedText",(function(t){e=t(e,l||i)})),l)return new r["Slice"](r["Fragment"].from(t.state.schema.text(e.replace(/\r\n?/g,"\n"))),0,0);var u=t.someProp("clipboardTextParser",(function(t){return t(e,o,i)}));u?s=u:(a=document.createElement("div"),e.trim().split(/(?:\r\n?|\n)+/).forEach((function(t){a.appendChild(document.createElement("p")).textContent=t})))}else t.someProp("transformPastedHTML",(function(t){n=t(n)})),a=Te(n);var f=a&&a.querySelector("[data-pm-slice]"),d=f&&/^(\d+) (\d+) (.*)/.exec(f.getAttribute("data-pm-slice"));if(!s){var h=t.someProp("clipboardParser")||t.someProp("domParser")||r["DOMParser"].fromSchema(t.state.schema);s=h.parseSlice(a,{preserveWhitespace:!(!c&&!d),context:o})}return s=d?Ne(Oe(s,+d[1],+d[2]),d[3]):r["Slice"].maxOpen(_e(s.content,o),!1),t.someProp("transformPasted",(function(t){s=t(s)})),s}function _e(t,e){if(t.childCount<2)return t;for(var n=function(n){var i=e.node(n),o=i.contentMatchAt(e.index(n)),a=void 0,s=[];if(t.forEach((function(t){if(s){var e,n=o.findWrapping(t.type);if(!n)return s=null;if(e=s.length&&a.length&&we(n,a,t,s[s.length-1],0))s[s.length-1]=e;else{s.length&&(s[s.length-1]=ke(s[s.length-1],a.length));var i=xe(t,n);s.push(i),o=o.matchType(i.type,i.attrs),a=n}}})),s)return{v:r["Fragment"].from(s)}},i=e.depth;i>=0;i--){var o=n(i);if(o)return o.v}return t}function xe(t,e,n){void 0===n&&(n=0);for(var i=e.length-1;i>=n;i--)t=e[i].create(null,r["Fragment"].from(t));return t}function we(t,e,n,i,o){if(o<t.length&&o<e.length&&t[o]==e[o]){var a=we(t,e,n,i.lastChild,o+1);if(a)return i.copy(i.content.replaceChild(i.childCount-1,a));var s=i.contentMatchAt(i.childCount);if(s.matchType(o==t.length-1?n.type:t[o+1]))return i.copy(i.content.append(r["Fragment"].from(xe(n,t,o+1))))}}function ke(t,e){if(0==e)return t;var n=t.content.replaceChild(t.childCount-1,ke(t.lastChild,e-1)),i=t.contentMatchAt(t.childCount).fillBefore(r["Fragment"].empty,!0);return t.copy(n.append(i))}function Se(t,e,n,i,o,a){var s=e<0?t.firstChild:t.lastChild,l=s.content;return o<i-1&&(l=Se(l,e,n,i,o+1,a)),o>=n&&(l=e<0?s.contentMatchAt(0).fillBefore(l,t.childCount>1||a<=o).append(l):l.append(s.contentMatchAt(s.childCount).fillBefore(r["Fragment"].empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(l))}function Oe(t,e,n){return e<t.openStart&&(t=new r["Slice"](Se(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new r["Slice"](Se(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}var Ce={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},Ee=null;function De(){return Ee||(Ee=document.implementation.createHTMLDocument("title"))}function Te(t){var e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));var n,i=De().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t);if((n=r&&Ce[r[1].toLowerCase()])&&(t=n.map((function(t){return"<"+t+">"})).join("")+t+n.map((function(t){return"</"+t+">"})).reverse().join("")),i.innerHTML=t,n)for(var o=0;o<n.length;o++)i=i.querySelector(n[o])||i;return i}function Ne(t,e){if(!t.size)return t;var n,i=t.content.firstChild.type.schema;try{n=JSON.parse(e)}catch(u){return t}for(var o=t.content,a=t.openStart,s=t.openEnd,l=n.length-2;l>=0;l-=2){var c=i.nodes[n[l]];if(!c||c.hasRequiredAttrs())break;o=r["Fragment"].from(c.create(n[l+1],o)),a++,s++}return new r["Slice"](o,a,s)}var Me={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Ae=a.ie&&a.ie_version<=11,je=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};je.prototype.set=function(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset},je.prototype.eq=function(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset};var Pe=function(t,e){var n=this;this.view=t,this.handleDOMChange=e,this.queue=[],this.flushingSoon=-1,this.observer=window.MutationObserver&&new window.MutationObserver((function(t){for(var e=0;e<t.length;e++)n.queue.push(t[e]);a.ie&&a.ie_version<=11&&t.some((function(t){return"childList"==t.type&&t.removedNodes.length||"characterData"==t.type&&t.oldValue.length>t.target.nodeValue.length}))?n.flushSoon():n.flush()})),this.currentSelection=new je,Ae&&(this.onCharData=function(t){n.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),n.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};Pe.prototype.flushSoon=function(){var t=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((function(){t.flushingSoon=-1,t.flush()}),20))},Pe.prototype.forceFlush=function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())},Pe.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,Me),Ae&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()},Pe.prototype.stop=function(){var t=this;if(this.observer){var e=this.observer.takeRecords();if(e.length){for(var n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout((function(){return t.flush()}),20)}this.observer.disconnect()}Ae&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()},Pe.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)},Pe.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)},Pe.prototype.suppressSelectionUpdates=function(){var t=this;this.suppressingSelectionUpdates=!0,setTimeout((function(){return t.suppressingSelectionUpdates=!1}),50)},Pe.prototype.onSelectionChange=function(){if(Ht(this.view)){if(this.suppressingSelectionUpdates)return It(this.view);if(a.ie&&a.ie_version<=11&&!this.view.state.selection.empty){var t=this.view.root.getSelection();if(t.focusNode&&g(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}},Pe.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())},Pe.prototype.ignoreSelectionChange=function(t){if(0==t.rangeCount)return!0;var e=t.getRangeAt(0).commonAncestorContainer,n=this.view.docView.nearestDesc(e);return n&&n.ignoreMutation({type:"selection",target:3==e.nodeType?e.parentNode:e})?(this.setCurSelection(),!0):void 0},Pe.prototype.flush=function(){if(this.view.docView&&!(this.flushingSoon>-1)){var t=this.observer?this.observer.takeRecords():[];this.queue.length&&(t=this.queue.concat(t),this.queue.length=0);var e=this.view.root.getSelection(),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(e)&&Wt(this.view)&&!this.ignoreSelectionChange(e),i=-1,r=-1,o=!1,s=[];if(this.view.editable)for(var l=0;l<t.length;l++){var c=this.registerMutation(t[l],s);c&&(i=i<0?c.from:Math.min(c.from,i),r=r<0?c.to:Math.max(c.to,r),c.typeOver&&(o=!0))}if(a.gecko&&s.length>1){var u=s.filter((function(t){return"BR"==t.nodeName}));if(2==u.length){var f=u[0],d=u[1];f.parentNode&&f.parentNode.parentNode==d.parentNode?d.remove():f.remove()}}(i>-1||n)&&(i>-1&&(this.view.docView.markDirty(i,r),Ie(this.view)),this.handleDOMChange(i,r,o,s),this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(e)||It(this.view),this.currentSelection.set(e))}},Pe.prototype.registerMutation=function(t,e){if(e.indexOf(t.target)>-1)return null;var n=this.view.docView.nearestDesc(t.target);if("attributes"==t.type&&(n==this.view.docView||"contenteditable"==t.attributeName||"style"==t.attributeName&&!t.oldValue&&!t.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(t))return null;if("childList"==t.type){for(var i=0;i<t.addedNodes.length;i++)e.push(t.addedNodes[i]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(t.target))return{from:n.posBefore,to:n.posAfter};var r=t.previousSibling,o=t.nextSibling;if(a.ie&&a.ie_version<=11&&t.addedNodes.length)for(var s=0;s<t.addedNodes.length;s++){var l=t.addedNodes[s],c=l.previousSibling,u=l.nextSibling;(!c||Array.prototype.indexOf.call(t.addedNodes,c)<0)&&(r=c),(!u||Array.prototype.indexOf.call(t.addedNodes,u)<0)&&(o=u)}var f=r&&r.parentNode==t.target?d(r)+1:0,h=n.localPosFromDOM(t.target,f,-1),p=o&&o.parentNode==t.target?d(o):t.target.childNodes.length,m=n.localPosFromDOM(t.target,p,1);return{from:h,to:m}}return"attributes"==t.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}};var $e=!1;function Ie(t){$e||($e=!0,"normal"==getComputedStyle(t.dom).whiteSpace&&console["warn"]("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."))}var Le={},Re={};function Be(t){t.shiftKey=!1,t.mouseDown=null,t.lastKeyCode=null,t.lastKeyCodeTime=0,t.lastClick={time:0,x:0,y:0,type:""},t.lastSelectionOrigin=null,t.lastSelectionTime=0,t.lastIOSEnter=0,t.lastIOSEnterFallbackTimeout=null,t.lastAndroidDelete=0,t.composing=!1,t.composingTimeout=null,t.compositionNodes=[],t.compositionEndedAt=-2e8,t.domObserver=new Pe(t,(function(e,n,i,r){return de(t,e,n,i,r)})),t.domObserver.start(),t.domChangeCount=0,t.eventHandlers=Object.create(null);var e=function(e){var n=Le[e];t.dom.addEventListener(e,t.eventHandlers[e]=function(e){!Ue(t,e)||Ve(t,e)||!t.editable&&e.type in Re||n(t,e)})};for(var n in Le)e(n);a.safari&&t.dom.addEventListener("input",(function(){return null})),ze(t)}function qe(t,e){t.lastSelectionOrigin=e,t.lastSelectionTime=Date.now()}function Fe(t){for(var e in t.domObserver.stop(),t.eventHandlers)t.dom.removeEventListener(e,t.eventHandlers[e]);clearTimeout(t.composingTimeout),clearTimeout(t.lastIOSEnterFallbackTimeout)}function ze(t){t.someProp("handleDOMEvents",(function(e){for(var n in e)t.eventHandlers[n]||t.dom.addEventListener(n,t.eventHandlers[n]=function(e){return Ve(t,e)})}))}function Ve(t,e){return t.someProp("handleDOMEvents",(function(n){var i=n[e.type];return!!i&&(i(t,e)||e.defaultPrevented)}))}function Ue(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(var n=e.target;n!=t.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function Ke(t,e){Ve(t,e)||!Le[e.type]||!t.editable&&e.type in Re||Le[e.type](t,e)}function He(t){return{left:t.clientX,top:t.clientY}}function We(t,e){var n=e.x-t.clientX,i=e.y-t.clientY;return n*n+i*i<100}function Ge(t,e,n,i,r){if(-1==i)return!1;for(var o=t.state.doc.resolve(i),a=function(i){if(t.someProp(e,(function(e){return i>o.depth?e(t,n,o.nodeAfter,o.before(i),r,!0):e(t,n,o.node(i),o.before(i),r,!1)})))return{v:!0}},s=o.depth+1;s>0;s--){var l=a(s);if(l)return l.v}return!1}function Je(t,e,n){t.focused||t.focus();var i=t.state.tr.setSelection(e);"pointer"==n&&i.setMeta("pointer",!0),t.dispatch(i)}function Ye(t,e){if(-1==e)return!1;var n=t.state.doc.resolve(e),r=n.nodeAfter;return!!(r&&r.isAtom&&i["NodeSelection"].isSelectable(r))&&(Je(t,new i["NodeSelection"](n),"pointer"),!0)}function Xe(t,e){if(-1==e)return!1;var n,r,o=t.state.selection;o instanceof i["NodeSelection"]&&(n=o.node);for(var a=t.state.doc.resolve(e),s=a.depth+1;s>0;s--){var l=s>a.depth?a.nodeAfter:a.node(s);if(i["NodeSelection"].isSelectable(l)){r=n&&o.$from.depth>0&&s>=o.$from.depth&&a.before(o.$from.depth+1)==o.$from.pos?a.before(o.$from.depth):a.before(s);break}}return null!=r&&(Je(t,i["NodeSelection"].create(t.state.doc,r),"pointer"),!0)}function Ze(t,e,n,i,r){return Ge(t,"handleClickOn",e,n,i)||t.someProp("handleClick",(function(n){return n(t,e,i)}))||(r?Xe(t,n):Ye(t,n))}function Qe(t,e,n,i){return Ge(t,"handleDoubleClickOn",e,n,i)||t.someProp("handleDoubleClick",(function(n){return n(t,e,i)}))}function tn(t,e,n,i){return Ge(t,"handleTripleClickOn",e,n,i)||t.someProp("handleTripleClick",(function(n){return n(t,e,i)}))||en(t,n)}function en(t,e){var n=t.state.doc;if(-1==e)return!!n.inlineContent&&(Je(t,i["TextSelection"].create(n,0,n.content.size),"pointer"),!0);for(var r=n.resolve(e),o=r.depth+1;o>0;o--){var a=o>r.depth?r.nodeAfter:r.node(o),s=r.before(o);if(a.inlineContent)Je(t,i["TextSelection"].create(n,s+1,s+1+a.content.size),"pointer");else{if(!i["NodeSelection"].isSelectable(a))continue;Je(t,i["NodeSelection"].create(n,s),"pointer")}return!0}}function nn(t){return un(t)}Re.keydown=function(t,e){if(t.shiftKey=16==e.keyCode||e.shiftKey,!an(t,e))if(t.domObserver.forceFlush(),t.lastKeyCode=e.keyCode,t.lastKeyCodeTime=Date.now(),!a.ios||13!=e.keyCode||e.ctrlKey||e.altKey||e.metaKey)t.someProp("handleKeyDown",(function(n){return n(t,e)}))||ce(t,e)?e.preventDefault():qe(t,"key");else{var n=Date.now();t.lastIOSEnter=n,t.lastIOSEnterFallbackTimeout=setTimeout((function(){t.lastIOSEnter==n&&(t.someProp("handleKeyDown",(function(e){return e(t,S(13,"Enter"))})),t.lastIOSEnter=0)}),200)}},Re.keyup=function(t,e){16==e.keyCode&&(t.shiftKey=!1)},Re.keypress=function(t,e){if(!(an(t,e)||!e.charCode||e.ctrlKey&&!e.altKey||a.mac&&e.metaKey))if(t.someProp("handleKeyPress",(function(n){return n(t,e)})))e.preventDefault();else{var n=t.state.selection;if(!(n instanceof i["TextSelection"])||!n.$from.sameParent(n.$to)){var r=String.fromCharCode(e.charCode);t.someProp("handleTextInput",(function(e){return e(t,n.$from.pos,n.$to.pos,r)}))||t.dispatch(t.state.tr.insertText(r).scrollIntoView()),e.preventDefault()}}};var rn=a.mac?"metaKey":"ctrlKey";Le.mousedown=function(t,e){t.shiftKey=e.shiftKey;var n=nn(t),i=Date.now(),r="singleClick";i-t.lastClick.time<500&&We(e,t.lastClick)&&!e[rn]&&("singleClick"==t.lastClick.type?r="doubleClick":"doubleClick"==t.lastClick.type&&(r="tripleClick")),t.lastClick={time:i,x:e.clientX,y:e.clientY,type:r};var o=t.posAtCoords(He(e));o&&("singleClick"==r?(t.mouseDown&&t.mouseDown.done(),t.mouseDown=new on(t,o,e,n)):("doubleClick"==r?Qe:tn)(t,o.pos,o.inside,e)?e.preventDefault():qe(t,"pointer"))};var on=function(t,e,n,r){var o,s,l=this;if(this.view=t,this.startDoc=t.state.doc,this.pos=e,this.event=n,this.flushed=r,this.selectNode=n[rn],this.allowDefault=n.shiftKey,e.inside>-1)o=t.state.doc.nodeAt(e.inside),s=e.inside;else{var c=t.state.doc.resolve(e.pos);o=c.parent,s=c.depth?c.before():0}this.mightDrag=null;var u=r?null:n.target,f=u?t.docView.nearestDesc(u,!0):null;this.target=f?f.dom:null;var d=t.state,h=d.selection;(o.type.spec.draggable&&!1!==o.type.spec.selectable||h instanceof i["NodeSelection"]&&h.from<=s&&h.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&a.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((function(){l.view.mouseDown==l&&l.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),qe(t,"pointer")};function an(t,e){return!!t.composing||!!(a.safari&&Math.abs(e.timeStamp-t.compositionEndedAt)<500)&&(t.compositionEndedAt=-2e8,!0)}on.prototype.done=function(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.view.mouseDown=null},on.prototype.up=function(t){if(this.done(),this.view.dom.contains(3==t.target.nodeType?t.target.parentNode:t.target)){var e=this.pos;this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(He(t))),this.allowDefault||!e?qe(this.view,"pointer"):Ze(this.view,e.pos,e.inside,t,this.selectNode)?t.preventDefault():this.flushed||a.safari&&this.mightDrag&&!this.mightDrag.node.isAtom||a.chrome&&!(this.view.state.selection instanceof i["TextSelection"])&&Math.min(Math.abs(e.pos-this.view.state.selection.from),Math.abs(e.pos-this.view.state.selection.to))<=2?(Je(this.view,i["Selection"].near(this.view.state.doc.resolve(e.pos)),"pointer"),t.preventDefault()):qe(this.view,"pointer")}},on.prototype.move=function(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0),qe(this.view,"pointer"),0==t.buttons&&this.done()},Le.touchdown=function(t){nn(t),qe(t,"pointer")},Le.contextmenu=function(t){return nn(t)};var sn=a.android?5e3:-1;function ln(t,e){clearTimeout(t.composingTimeout),e>-1&&(t.composingTimeout=setTimeout((function(){return un(t)}),e))}function cn(t){t.composing=!1;while(t.compositionNodes.length>0)t.compositionNodes.pop().markParentsDirty()}function un(t,e){if(t.domObserver.forceFlush(),cn(t),e||t.docView.dirty){var n=Pt(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):t.updateState(t.state),!0}return!1}function fn(t,e){if(t.dom.parentNode){var n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";var i=getSelection(),r=document.createRange();r.selectNodeContents(e),t.dom.blur(),i.removeAllRanges(),i.addRange(r),setTimeout((function(){n.parentNode&&n.parentNode.removeChild(n),t.focus()}),50)}}Re.compositionstart=Re.compositionupdate=function(t){if(!t.composing){t.domObserver.flush();var e=t.state,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((function(t){return!1===t.type.spec.inclusive}))))t.markCursor=t.state.storedMarks||n.marks(),un(t,!0),t.markCursor=null;else if(un(t),a.gecko&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length)for(var i=t.root.getSelection(),r=i.focusNode,o=i.focusOffset;r&&1==r.nodeType&&0!=o;){var s=o<0?r.lastChild:r.childNodes[o-1];if(!s)break;if(3==s.nodeType){i.collapse(s,s.nodeValue.length);break}r=s,o=-1}t.composing=!0}ln(t,sn)},Re.compositionend=function(t,e){t.composing&&(t.composing=!1,t.compositionEndedAt=e.timeStamp,ln(t,20))};var dn=a.ie&&a.ie_version<15||a.ios&&a.webkit_version<604;function hn(t){return 0==t.openStart&&0==t.openEnd&&1==t.content.childCount?t.content.firstChild:null}function pn(t,e){if(t.dom.parentNode){var n=t.shiftKey||t.state.selection.$from.parent.type.spec.code,i=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(i.contentEditable="true"),i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus(),setTimeout((function(){t.focus(),i.parentNode&&i.parentNode.removeChild(i),n?mn(t,i.value,null,e):mn(t,i.textContent,i.innerHTML,e)}),50)}}function mn(t,e,n,i){var o=be(t,e,n,t.shiftKey,t.state.selection.$from);if(t.someProp("handlePaste",(function(e){return e(t,i,o||r["Slice"].empty)})))return!0;if(!o)return!1;var a=hn(o),s=a?t.state.tr.replaceSelectionWith(a,t.shiftKey):t.state.tr.replaceSelection(o);return t.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}Le.copy=Re.cut=function(t,e){var n=t.state.selection,i="cut"==e.type;if(!n.empty){var r=dn?null:e.clipboardData,o=n.content(),a=ye(t,o),s=a.dom,l=a.text;r?(e.preventDefault(),r.clearData(),r.setData("text/html",s.innerHTML),r.setData("text/plain",l)):fn(t,s),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}},Re.paste=function(t,e){var n=dn?null:e.clipboardData;n&&mn(t,n.getData("text/plain"),n.getData("text/html"),e)?e.preventDefault():pn(t,e)};var gn=function(t,e){this.slice=t,this.move=e},vn=a.mac?"altKey":"ctrlKey";for(var yn in Le.dragstart=function(t,e){var n=t.mouseDown;if(n&&n.done(),e.dataTransfer){var r=t.state.selection,o=r.empty?null:t.posAtCoords(He(e));if(o&&o.pos>=r.from&&o.pos<=(r instanceof i["NodeSelection"]?r.to-1:r.to));else if(n&&n.mightDrag)t.dispatch(t.state.tr.setSelection(i["NodeSelection"].create(t.state.doc,n.mightDrag.pos)));else if(e.target&&1==e.target.nodeType){var a=t.docView.nearestDesc(e.target,!0);if(!a||!a.node.type.spec.draggable||a==t.docView)return;t.dispatch(t.state.tr.setSelection(i["NodeSelection"].create(t.state.doc,a.posBefore)))}var s=t.state.selection.content(),l=ye(t,s),c=l.dom,u=l.text;e.dataTransfer.clearData(),e.dataTransfer.setData(dn?"Text":"text/html",c.innerHTML),e.dataTransfer.effectAllowed="copyMove",dn||e.dataTransfer.setData("text/plain",u),t.dragging=new gn(s,!e[vn])}},Le.dragend=function(t){var e=t.dragging;window.setTimeout((function(){t.dragging==e&&(t.dragging=null)}),50)},Re.dragover=Re.dragenter=function(t,e){return e.preventDefault()},Re.drop=function(t,e){var n=t.dragging;if(t.dragging=null,e.dataTransfer){var a=t.posAtCoords(He(e));if(a){var s=t.state.doc.resolve(a.pos);if(s){var l=n&&n.slice;l?t.someProp("transformPasted",(function(t){l=t(l)})):l=be(t,e.dataTransfer.getData(dn?"Text":"text/plain"),dn?null:e.dataTransfer.getData("text/html"),!1,s);var c=n&&!e[vn];if(t.someProp("handleDrop",(function(n){return n(t,e,l||r["Slice"].empty,c)})))e.preventDefault();else if(l){e.preventDefault();var u=l?Object(o["h"])(t.state.doc,s.pos,l):s.pos;null==u&&(u=s.pos);var f=t.state.tr;c&&f.deleteSelection();var d=f.mapping.map(u),h=0==l.openStart&&0==l.openEnd&&1==l.content.childCount,p=f.doc;if(h?f.replaceRangeWith(d,d,l.content.firstChild):f.replaceRange(d,d,l),!f.doc.eq(p)){var m=f.doc.resolve(d);if(h&&i["NodeSelection"].isSelectable(l.content.firstChild)&&m.nodeAfter&&m.nodeAfter.sameMarkup(l.content.firstChild))f.setSelection(new i["NodeSelection"](m));else{var g=f.mapping.map(u);f.mapping.maps[f.mapping.maps.length-1].forEach((function(t,e,n,i){return g=i})),f.setSelection(Kt(t,m,f.doc.resolve(g)))}t.focus(),t.dispatch(f.setMeta("uiEvent","drop"))}}}}}},Le.focus=function(t){t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout((function(){t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.root.getSelection())&&It(t)}),20))},Le.blur=function(t){t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),t.domObserver.currentSelection.set({}),t.focused=!1)},Le.beforeinput=function(t,e){if(a.chrome&&a.android&&"deleteContentBackward"==e.inputType){var n=t.domChangeCount;setTimeout((function(){if(t.domChangeCount==n&&(t.dom.blur(),t.focus(),!t.someProp("handleKeyDown",(function(e){return e(t,S(8,"Backspace"))})))){var e=t.state.selection,i=e.$cursor;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())}}),50)}},Re)Le[yn]=Re[yn];function bn(t,e){if(t==e)return!0;for(var n in t)if(t[n]!==e[n])return!1;for(var i in e)if(!(i in t))return!1;return!0}var _n=function(t,e){this.spec=e||Cn,this.side=this.spec.side||0,this.toDOM=t};_n.prototype.map=function(t,e,n,i){var r=t.mapResult(e.from+i,this.side<0?-1:1),o=r.pos,a=r.deleted;return a?null:new kn(o-n,o-n,this)},_n.prototype.valid=function(){return!0},_n.prototype.eq=function(t){return this==t||t instanceof _n&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&bn(this.spec,t.spec))};var xn=function(t,e){this.spec=e||Cn,this.attrs=t};xn.prototype.map=function(t,e,n,i){var r=t.map(e.from+i,this.spec.inclusiveStart?-1:1)-n,o=t.map(e.to+i,this.spec.inclusiveEnd?1:-1)-n;return r>=o?null:new kn(r,o,this)},xn.prototype.valid=function(t,e){return e.from<e.to},xn.prototype.eq=function(t){return this==t||t instanceof xn&&bn(this.attrs,t.attrs)&&bn(this.spec,t.spec)},xn.is=function(t){return t.type instanceof xn};var wn=function(t,e){this.spec=e||Cn,this.attrs=t};wn.prototype.map=function(t,e,n,i){var r=t.mapResult(e.from+i,1);if(r.deleted)return null;var o=t.mapResult(e.to+i,-1);return o.deleted||o.pos<=r.pos?null:new kn(r.pos-n,o.pos-n,this)},wn.prototype.valid=function(t,e){var n=t.content.findIndex(e.from),i=n.index,r=n.offset;return r==e.from&&r+t.child(i).nodeSize==e.to},wn.prototype.eq=function(t){return this==t||t instanceof wn&&bn(this.attrs,t.attrs)&&bn(this.spec,t.spec)};var kn=function(t,e,n){this.from=t,this.to=e,this.type=n},Sn={spec:{configurable:!0},inline:{configurable:!0}};kn.prototype.copy=function(t,e){return new kn(t,e,this.type)},kn.prototype.eq=function(t,e){return void 0===e&&(e=0),this.type.eq(t.type)&&this.from+e==t.from&&this.to+e==t.to},kn.prototype.map=function(t,e,n){return this.type.map(t,this,e,n)},kn.widget=function(t,e,n){return new kn(t,t,new _n(e,n))},kn.inline=function(t,e,n,i){return new kn(t,e,new xn(n,i))},kn.node=function(t,e,n,i){return new kn(t,e,new wn(n,i))},Sn.spec.get=function(){return this.type.spec},Sn.inline.get=function(){return this.type instanceof xn},Object.defineProperties(kn.prototype,Sn);var On=[],Cn={},En=function(t,e){this.local=t&&t.length?t:On,this.children=e&&e.length?e:On};En.create=function(t,e){return e.length?$n(e,t,0,Cn):Dn},En.prototype.find=function(t,e,n){var i=[];return this.findInner(null==t?0:t,null==e?1e9:e,i,0,n),i},En.prototype.findInner=function(t,e,n,i,r){for(var o=0;o<this.local.length;o++){var a=this.local[o];a.from<=e&&a.to>=t&&(!r||r(a.spec))&&n.push(a.copy(a.from+i,a.to+i))}for(var s=0;s<this.children.length;s+=3)if(this.children[s]<e&&this.children[s+1]>t){var l=this.children[s]+1;this.children[s+2].findInner(t-l,e-l,n,i+l,r)}},En.prototype.map=function(t,e,n){return this==Dn||0==t.maps.length?this:this.mapInner(t,e,0,0,n||Cn)},En.prototype.mapInner=function(t,e,n,i,r){for(var o,a=0;a<this.local.length;a++){var s=this.local[a].map(t,n,i);s&&s.type.valid(e,s)?(o||(o=[])).push(s):r.onRemove&&r.onRemove(this.local[a].spec)}return this.children.length?Nn(this.children,o,t,e,n,i,r):o?new En(o.sort(In)):Dn},En.prototype.add=function(t,e){return e.length?this==Dn?En.create(t,e):this.addInner(t,e,0):this},En.prototype.addInner=function(t,e,n){var i,r=this,o=0;t.forEach((function(t,a){var s,l=a+n;if(s=jn(e,t,l)){i||(i=r.children.slice());while(o<i.length&&i[o]<a)o+=3;i[o]==a?i[o+2]=i[o+2].addInner(t,s,l+1):i.splice(o,0,a,a+t.nodeSize,$n(s,t,l+1,Cn)),o+=3}}));for(var a=Mn(o?Pn(e):e,-n),s=0;s<a.length;s++)a[s].type.valid(t,a[s])||a.splice(s--,1);return new En(a.length?this.local.concat(a).sort(In):this.local,i||this.children)},En.prototype.remove=function(t){return 0==t.length||this==Dn?this:this.removeInner(t,0)},En.prototype.removeInner=function(t,e){for(var n=this.children,i=this.local,r=0;r<n.length;r+=3){for(var o=void 0,a=n[r]+e,s=n[r+1]+e,l=0,c=void 0;l<t.length;l++)(c=t[l])&&c.from>a&&c.to<s&&(t[l]=null,(o||(o=[])).push(c));if(o){n==this.children&&(n=this.children.slice());var u=n[r+2].removeInner(o,a+1);u!=Dn?n[r+2]=u:(n.splice(r,3),r-=3)}}if(i.length)for(var f=0,d=void 0;f<t.length;f++)if(d=t[f])for(var h=0;h<i.length;h++)i[h].eq(d,e)&&(i==this.local&&(i=this.local.slice()),i.splice(h--,1));return n==this.children&&i==this.local?this:i.length||n.length?new En(i,n):Dn},En.prototype.forChild=function(t,e){if(this==Dn)return this;if(e.isLeaf)return En.empty;for(var n,i,r=0;r<this.children.length;r+=3)if(this.children[r]>=t){this.children[r]==t&&(n=this.children[r+2]);break}for(var o=t+1,a=o+e.content.size,s=0;s<this.local.length;s++){var l=this.local[s];if(l.from<a&&l.to>o&&l.type instanceof xn){var c=Math.max(o,l.from)-o,u=Math.min(a,l.to)-o;c<u&&(i||(i=[])).push(l.copy(c,u))}}if(i){var f=new En(i.sort(In));return n?new Tn([f,n]):f}return n||Dn},En.prototype.eq=function(t){if(this==t)return!0;if(!(t instanceof En)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(var e=0;e<this.local.length;e++)if(!this.local[e].eq(t.local[e]))return!1;for(var n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0},En.prototype.locals=function(t){return Ln(this.localsInner(t))},En.prototype.localsInner=function(t){if(this==Dn)return On;if(t.inlineContent||!this.local.some(xn.is))return this.local;for(var e=[],n=0;n<this.local.length;n++)this.local[n].type instanceof xn||e.push(this.local[n]);return e};var Dn=new En;En.empty=Dn,En.removeOverlap=Ln;var Tn=function(t){this.members=t};function Nn(t,e,n,i,r,o,a){for(var s=t.slice(),l=function(t,e,n,i){for(var a=0;a<s.length;a+=3){var l=s[a+1],c=void 0;-1==l||t>l+o||(e>=s[a]+o?s[a+1]=-1:n>=r&&(c=i-n-(e-t))&&(s[a]+=c,s[a+1]+=c))}},c=0;c<n.maps.length;c++)n.maps[c].forEach(l);for(var u=!1,f=0;f<s.length;f+=3)if(-1==s[f+1]){var d=n.map(t[f]+o),h=d-r;if(h<0||h>=i.content.size){u=!0;continue}var p=n.map(t[f+1]+o,-1),m=p-r,g=i.content.findIndex(h),v=g.index,y=g.offset,b=i.maybeChild(v);if(b&&y==h&&y+b.nodeSize==m){var _=s[f+2].mapInner(n,b,d+1,t[f]+o+1,a);_!=Dn?(s[f]=h,s[f+1]=m,s[f+2]=_):(s[f+1]=-2,u=!0)}else u=!0}if(u){var x=An(s,t,e||[],n,r,o,a),w=$n(x,i,0,a);e=w.local;for(var k=0;k<s.length;k+=3)s[k+1]<0&&(s.splice(k,3),k-=3);for(var S=0,O=0;S<w.children.length;S+=3){var C=w.children[S];while(O<s.length&&s[O]<C)O+=3;s.splice(O,0,w.children[S],w.children[S+1],w.children[S+2])}}return new En(e&&e.sort(In),s)}function Mn(t,e){if(!e||!t.length)return t;for(var n=[],i=0;i<t.length;i++){var r=t[i];n.push(new kn(r.from+e,r.to+e,r.type))}return n}function An(t,e,n,i,r,o,a){function s(t,e){for(var o=0;o<t.local.length;o++){var l=t.local[o].map(i,r,e);l?n.push(l):a.onRemove&&a.onRemove(t.local[o].spec)}for(var c=0;c<t.children.length;c+=3)s(t.children[c+2],t.children[c]+e+1)}for(var l=0;l<t.length;l+=3)-1==t[l+1]&&s(t[l+2],e[l]+o+1);return n}function jn(t,e,n){if(e.isLeaf)return null;for(var i=n+e.nodeSize,r=null,o=0,a=void 0;o<t.length;o++)(a=t[o])&&a.from>n&&a.to<i&&((r||(r=[])).push(a),t[o]=null);return r}function Pn(t){for(var e=[],n=0;n<t.length;n++)null!=t[n]&&e.push(t[n]);return e}function $n(t,e,n,i){var r=[],o=!1;e.forEach((function(e,a){var s=jn(t,e,a+n);if(s){o=!0;var l=$n(s,e,n+a+1,i);l!=Dn&&r.push(a,a+e.nodeSize,l)}}));for(var a=Mn(o?Pn(t):t,-n).sort(In),s=0;s<a.length;s++)a[s].type.valid(e,a[s])||(i.onRemove&&i.onRemove(a[s].spec),a.splice(s--,1));return a.length||r.length?new En(a,r):Dn}function In(t,e){return t.from-e.from||t.to-e.to}function Ln(t){for(var e=t,n=0;n<e.length-1;n++){var i=e[n];if(i.from!=i.to)for(var r=n+1;r<e.length;r++){var o=e[r];if(o.from!=i.from){o.from<i.to&&(e==t&&(e=t.slice()),e[n]=i.copy(i.from,o.from),Rn(e,r,i.copy(o.from,i.to)));break}o.to!=i.to&&(e==t&&(e=t.slice()),e[r]=o.copy(o.from,i.to),Rn(e,r+1,o.copy(i.to,o.to)))}}return e}function Rn(t,e,n){while(e<t.length&&In(n,t[e])>0)e++;t.splice(e,0,n)}function Bn(t){var e=[];return t.someProp("decorations",(function(n){var i=n(t.state);i&&i!=Dn&&e.push(i)})),t.cursorWrapper&&e.push(En.create(t.state.doc,[t.cursorWrapper.deco])),Tn.from(e)}Tn.prototype.forChild=function(t,e){if(e.isLeaf)return En.empty;for(var n=[],i=0;i<this.members.length;i++){var r=this.members[i].forChild(t,e);r!=Dn&&(r instanceof Tn?n=n.concat(r.members):n.push(r))}return Tn.from(n)},Tn.prototype.eq=function(t){if(!(t instanceof Tn)||t.members.length!=this.members.length)return!1;for(var e=0;e<this.members.length;e++)if(!this.members[e].eq(t.members[e]))return!1;return!0},Tn.prototype.locals=function(t){for(var e,n=!0,i=0;i<this.members.length;i++){var r=this.members[i].localsInner(t);if(r.length)if(e){n&&(e=e.slice(),n=!1);for(var o=0;o<r.length;o++)e.push(r[o])}else e=r}return e?Ln(n?e:e.sort(In)):On},Tn.from=function(t){switch(t.length){case 0:return Dn;case 1:return t[0];default:return new Tn(t)}};var qn=function(t,e){this._props=e,this.state=e.state,this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.trackWrites=null,this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):t.apply?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=Un(this),this.markCursor=null,this.cursorWrapper=null,Vn(this),this.nodeViews=Hn(this),this.docView=ht(this.state.doc,zn(this),Bn(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,Be(this),this.pluginViews=[],this.updatePluginViews()},Fn={props:{configurable:!0},root:{configurable:!0}};function zn(t){var e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",(function(n){if("function"==typeof n&&(n=n(t.state)),n)for(var i in n)"class"==i?e.class+=" "+n[i]:e[i]||"contenteditable"==i||"nodeName"==i||(e[i]=String(n[i]))})),[kn.node(0,t.state.doc.content.size,e)]}function Vn(t){if(t.markCursor){var e=document.createElement("img");e.setAttribute("mark-placeholder","true"),t.cursorWrapper={dom:e,deco:kn.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function Un(t){return!t.someProp("editable",(function(e){return!1===e(t.state)}))}function Kn(t,e){var n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function Hn(t){var e={};return t.someProp("nodeViews",(function(t){for(var n in t)Object.prototype.hasOwnProperty.call(e,n)||(e[n]=t[n])})),e}function Wn(t,e){var n=0,i=0;for(var r in t){if(t[r]!=e[r])return!0;n++}for(var o in e)i++;return n!=i}Fn.props.get=function(){if(this._props.state!=this.state){var t=this._props;for(var e in this._props={},t)this._props[e]=t[e];this._props.state=this.state}return this._props},qn.prototype.update=function(t){t.handleDOMEvents!=this._props.handleDOMEvents&&ze(this),this._props=t,this.updateStateInner(t.state,!0)},qn.prototype.setProps=function(t){var e={};for(var n in this._props)e[n]=this._props[n];for(var i in e.state=this.state,t)e[i]=t[i];this.update(e)},qn.prototype.updateState=function(t){this.updateStateInner(t,this.state.plugins!=t.plugins)},qn.prototype.updateStateInner=function(t,e){var n=this,r=this.state,o=!1,s=!1;if(t.storedMarks&&this.composing&&(cn(this),s=!0),this.state=t,e){var l=Hn(this);Wn(l,this.nodeViews)&&(this.nodeViews=l,o=!0),ze(this)}this.editable=Un(this),Vn(this);var c=Bn(this),u=zn(this),f=e?"reset":t.scrollToSelection>r.scrollToSelection?"to selection":"preserve",d=o||!this.docView.matchesNode(t.doc,u,c);!d&&t.selection.eq(r.selection)||(s=!0);var h="preserve"==f&&s&&null==this.dom.style.overflowAnchor&&T(this);if(s){this.domObserver.stop();var p=d&&(a.ie||a.chrome)&&!this.composing&&!r.selection.empty&&!t.selection.empty&&Kn(r.selection,t.selection);if(d){var m=a.chrome?this.trackWrites=this.root.getSelection().focusNode:null;!o&&this.docView.update(t.doc,u,c,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=ht(t.doc,u,c,this.dom,this)),m&&!this.trackWrites&&(p=!0)}p||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&Gt(this))?It(this,p):(Vt(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(r),"reset"==f)this.dom.scrollTop=0;else if("to selection"==f){var g=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",(function(t){return t(n)}))||(t.selection instanceof i["NodeSelection"]?D(this,this.docView.domAfterPos(t.selection.from).getBoundingClientRect(),g):D(this,this.coordsAtPos(t.selection.head,1),g))}else h&&M(h)},qn.prototype.destroyPluginViews=function(){var t;while(t=this.pluginViews.pop())t.destroy&&t.destroy()},qn.prototype.updatePluginViews=function(t){if(t&&t.plugins==this.state.plugins)for(var e=0;e<this.pluginViews.length;e++){var n=this.pluginViews[e];n.update&&n.update(this,t)}else{this.destroyPluginViews();for(var i=0;i<this.state.plugins.length;i++){var r=this.state.plugins[i];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}},qn.prototype.someProp=function(t,e){var n,i=this._props&&this._props[t];if(null!=i&&(n=e?e(i):i))return n;var r=this.state.plugins;if(r)for(var o=0;o<r.length;o++){var a=r[o].props[t];if(null!=a&&(n=e?e(a):a))return n}},qn.prototype.hasFocus=function(){return this.root.activeElement==this.dom},qn.prototype.focus=function(){this.domObserver.stop(),this.editable&&P(this.dom),It(this),this.domObserver.start()},Fn.root.get=function(){var t=this._root;if(null==t)for(var e=this.dom.parentNode;e;e=e.parentNode)if(9==e.nodeType||11==e.nodeType&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=function(){return document.getSelection()}),this._root=e;return t||document},qn.prototype.posAtCoords=function(t){return z(this,t)},qn.prototype.coordsAtPos=function(t,e){return void 0===e&&(e=1),K(this,t,e)},qn.prototype.domAtPos=function(t,e){return void 0===e&&(e=0),this.docView.domFromPos(t,e)},qn.prototype.nodeDOM=function(t){var e=this.docView.descAt(t);return e?e.nodeDOM:null},qn.prototype.posAtDOM=function(t,e,n){void 0===n&&(n=-1);var i=this.docView.posFromDOM(t,e,n);if(null==i)throw new RangeError("DOM position not inside the editor");return i},qn.prototype.endOfTextblock=function(t,e){return et(this,e||this.state,t)},qn.prototype.destroy=function(){this.docView&&(Fe(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Bn(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)},qn.prototype.dispatchEvent=function(t){return Ke(this,t)},qn.prototype.dispatch=function(t){var e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))},Object.defineProperties(qn.prototype,Fn)},function(t,e,n){"use strict";var i=n(17),r=n(125).f,o=n(49),a=n(238),s=n(60),l=n(240),c=n(112),u="".startsWith,f=Math.min,d=l("startsWith"),h=!c&&!d&&!!function(){var t=r(String.prototype,"startsWith");return t&&!t.writable}();i({target:"String",proto:!0,forced:!h&&!d},{startsWith:function(t){var e=String(s(this));a(t);var n=o(f(arguments.length>1?arguments[1]:void 0,e.length)),i=String(t);return u?u.call(e,i,n):e.slice(n,n+i.length)===i}})},function(t,e,n){var i=n(129);t.exports=i("navigator","userAgent")||""},function(t,e,n){"use strict";n.r(e),n.d(e,"createCell",(function(){return r})),n.d(e,"createTable",(function(){return a})),n.d(e,"equalNodeType",(function(){return s})),n.d(e,"findBlockNodes",(function(){return u})),n.d(e,"findChildren",(function(){return c})),n.d(e,"findParentNode",(function(){return d})),n.d(e,"findParentNodeClosestToPos",(function(){return f})),n.d(e,"findSelectedNodeOfType",(function(){return p})),n.d(e,"flatten",(function(){return l})),n.d(e,"getMarkAttrs",(function(){return m})),n.d(e,"getMarkRange",(function(){return g})),n.d(e,"getNodeAttrs",(function(){return v})),n.d(e,"getTableNodeTypes",(function(){return o})),n.d(e,"isNodeSelection",(function(){return h})),n.d(e,"markIsActive",(function(){return y})),n.d(e,"nodeEqualsType",(function(){return b})),n.d(e,"nodeIsActive",(function(){return _}));var i=n(7);
/*!
    * tiptap-utils v1.13.0
    * (c) 2021 überdosis GbR (limited liability)
    * @license MIT
    */function r(t,e){return e?t.createChecked(null,e):t.createAndFill()}function o(t){if(t.cached.tableNodeTypes)return t.cached.tableNodeTypes;const e={};return Object.keys(t.nodes).forEach(n=>{const i=t.nodes[n];i.spec.tableRole&&(e[i.spec.tableRole]=i)}),t.cached.tableNodeTypes=e,e}function a(t,e,n,i,a){const s=o(t),l=[],c=[];for(let o=0;o<n;o+=1){const t=r(s.cell,a);if(t&&c.push(t),i){const t=r(s.header_cell,a);t&&l.push(t)}}const u=[];for(let r=0;r<e;r+=1)u.push(s.row.createChecked(null,i&&0===r?l:c));return s.table.createChecked(null,u)}function s(t,e){return Array.isArray(t)&&t.indexOf(e.type)>-1||e.type===t}function l(t){const e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!t)throw new Error('Invalid "node" parameter');const n=[];return t.descendants((t,i)=>{if(n.push({node:t,pos:i}),!e)return!1}),n}function c(t,e,n){if(!t)throw new Error('Invalid "node" parameter');if(!e)throw new Error('Invalid "predicate" parameter');return l(t,n).filter(t=>e(t.node))}function u(t,e){return c(t,t=>t.isBlock,e)}function f(t,e){for(let n=t.depth;n>0;n-=1){const i=t.node(n);if(e(i))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:i}}}function d(t){return e=>f(e.$from,t)}function h(t){return t instanceof i["NodeSelection"]}function p(t){return function(e){if(h(e)){const{node:n}=e,{$from:i}=e;if(s(t,n))return{node:n,pos:i.pos,depth:i.depth}}}}function m(t,e){const{from:n,to:i}=t.selection;let r=[];t.doc.nodesBetween(n,i,t=>{r=[...r,...t.marks]});const o=r.find(t=>t.type.name===e.name);return o?o.attrs:{}}function g(t=null,e=null){if(!t||!e)return!1;const n=t.parent.childAfter(t.parentOffset);if(!n.node)return!1;const i=n.node.marks.find(t=>t.type===e);if(!i)return!1;let r=t.index(),o=t.start()+n.offset,a=r+1,s=o+n.node.nodeSize;while(r>0&&i.isInSet(t.parent.child(r-1).marks))r-=1,o-=t.parent.child(r).nodeSize;while(a<t.parent.childCount&&i.isInSet(t.parent.child(a).marks))s+=t.parent.child(a).nodeSize,a+=1;return{from:o,to:s}}function v(t,e){const{from:n,to:i}=t.selection;let r=[];t.doc.nodesBetween(n,i,t=>{r=[...r,t]});const o=r.reverse().find(t=>t.type.name===e.name);return o?o.attrs:{}}function y(t,e){const{from:n,$from:i,to:r,empty:o}=t.selection;return o?!!e.isInSet(t.storedMarks||i.marks()):!!t.doc.rangeHasMark(n,r,e)}function b({types:t,node:e}){return Array.isArray(t)&&t.includes(e.type)||e.type===t}function _(t,e,n={}){const i=t=>t.type===e,r=p(e)(t.selection)||d(i)(t.selection);return Object.keys(n).length&&r?r.node.hasMarkup(e,{...r.node.attrs,...n}):!!r}},function(t,e,n){var i,r,o,a=n(442),s=n(32),l=n(65),c=n(70),u=n(53),f=n(168),d=n(178),h=n(138),p="Object already initialized",m=s.WeakMap,g=function(t){return o(t)?r(t):i(t,{})},v=function(t){return function(e){var n;if(!l(e)||(n=r(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}};if(a||f.state){var y=f.state||(f.state=new m),b=y.get,_=y.has,x=y.set;i=function(t,e){if(_.call(y,t))throw new TypeError(p);return e.facade=t,x.call(y,t,e),e},r=function(t){return b.call(y,t)||{}},o=function(t){return _.call(y,t)}}else{var w=d("state");h[w]=!0,i=function(t,e){if(u(t,w))throw new TypeError(p);return e.facade=t,c(t,w,e),e},r=function(t){return u(t,w)?t[w]:{}},o=function(t){return u(t,w)}}t.exports={set:i,get:r,has:o,enforce:g,getterFor:v}},function(t,e,n){var i=n(32),r=n(251),o=n(465),a=n(70),s=n(34),l=s("iterator"),c=s("toStringTag"),u=o.values;for(var f in r){var d=i[f],h=d&&d.prototype;if(h){if(h[l]!==u)try{a(h,l,u)}catch(m){h[l]=u}if(h[c]||a(h,c,f),r[f])for(var p in o)if(h[p]!==o[p])try{a(h,p,o[p])}catch(m){h[p]=o[p]}}}},function(t,e,n){var i=n(21),r=n(34),o=n(127),a=r("species");t.exports=function(t){return o>=51||!i((function(){var e=[],n=e.constructor={};return n[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n(102);function r(t,e){if(t){if("string"===typeof t)return Object(i["a"])(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(i["a"])(t,e):void 0}}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){t.exports=!1},function(t,e,n){var i=n(27),r=n(11),o="__core-js_shared__",a=r[o]||(r[o]={});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n(77)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var i=n(45),r=n(22),o=n(79);t.exports=function(t){return function(e,n,a){var s,l=i(e),c=r(l.length),u=o(a,c);if(t&&n!=n){while(c>u)if(s=l[u++],s!=s)return!0}else for(;c>u;u++)if((t||u in l)&&l[u]===n)return t||u||0;return!t&&-1}}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var i=n(67);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e,n){var i=n(19)("iterator"),r=!1;try{var o=[7][i]();o["return"]=function(){r=!0},Array.from(o,(function(){throw 2}))}catch(a){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var o=[7],s=o[i]();s.next=function(){return{done:n=!0}},o[i]=function(){return s},t(o)}catch(a){}return n}},function(t,e,n){"use strict";var i=n(13);t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){"use strict";var i=n(100),r=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var o=n.call(t,e);if("object"!==typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==i(t))throw new TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},function(t,e,n){"use strict";n(223);var i=n(41),r=n(44),o=n(12),a=n(68),s=n(19),l=n(163),c=s("species"),u=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),f=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var d=s(t),h=!o((function(){var e={};return e[d]=function(){return 7},7!=""[t](e)})),p=h?!o((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[c]=function(){return n}),n[d](""),!e})):void 0;if(!h||!p||"replace"===t&&!u||"split"===t&&!f){var m=/./[d],g=n(a,d,""[t],(function(t,e,n,i,r){return e.exec===l?h&&!r?{done:!0,value:m.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}})),v=g[0],y=g[1];i(String.prototype,t,v),r(RegExp.prototype,d,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}}},function(t,e,n){var i=n(54),r=n(218),o=n(158),a=n(13),s=n(22),l=n(160),c={},u={};e=t.exports=function(t,e,n,f,d){var h,p,m,g,v=d?function(){return t}:l(t),y=i(n,f,e?2:1),b=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(o(v)){for(h=s(t.length);h>b;b++)if(g=e?y(a(p=t[b])[0],p[1]):y(t[b]),g===c||g===u)return g}else for(m=v.call(t);!(p=m.next()).done;)if(g=r(m,y,p.value,e),g===c||g===u)return g};e.BREAK=c,e.RETURN=u},function(t,e,n){var i=n(11),r=i.navigator;t.exports=r&&r.userAgent||""},function(t,e,n){"use strict";var i=n(11),r=n(1),o=n(41),a=n(94),s=n(73),l=n(121),c=n(93),u=n(14),f=n(12),d=n(117),h=n(89),p=n(149);t.exports=function(t,e,n,m,g,v){var y=i[t],b=y,_=g?"set":"add",x=b&&b.prototype,w={},k=function(t){var e=x[t];o(x,t,"delete"==t||"has"==t?function(t){return!(v&&!u(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return v&&!u(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof b&&(v||x.forEach&&!f((function(){(new b).entries().next()})))){var S=new b,O=S[_](v?{}:-0,1)!=S,C=f((function(){S.has(1)})),E=d((function(t){new b(t)})),D=!v&&f((function(){var t=new b,e=5;while(e--)t[_](e,e);return!t.has(-0)}));E||(b=e((function(e,n){c(e,b,t);var i=p(new y,e,b);return void 0!=n&&l(n,g,i[_],i),i})),b.prototype=x,x.constructor=b),(C||D)&&(k("delete"),k("has"),g&&k("get")),(D||O)&&k(_),v&&x.clear&&delete x.clear}else b=m.getConstructor(e,t,g,_),a(b.prototype,n),s.NEED=!0;return h(b,t),w[t]=b,r(r.G+r.W+r.F*(b!=y),w),v||m.setStrong(b,t,g),b}},function(t,e,n){var i,r=n(11),o=n(44),a=n(76),s=a("typed_array"),l=a("view"),c=!(!r.ArrayBuffer||!r.DataView),u=c,f=0,d=9,h="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");while(f<d)(i=r[h[f++]])?(o(i.prototype,s,!0),o(i.prototype,l,!0)):u=!1;t.exports={ABV:c,CONSTR:u,TYPED:s,VIEW:l}},function(t,e,n){var i=n(66),r=n(199),o=n(111),a=n(87),s=n(126),l=n(53),c=n(234),u=Object.getOwnPropertyDescriptor;e.f=i?u:function(t,e){if(t=a(t),e=s(e,!0),c)try{return u(t,e)}catch(n){}if(l(t,e))return o(!r.f.call(t,e),t[e])}},function(t,e,n){var i=n(65);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var i,r,o=n(32),a=n(105),s=o.process,l=s&&s.versions,c=l&&l.v8;c?(i=c.split("."),r=i[0]<4?1:i[0]+i[1]):a&&(i=a.match(/Edge\/(\d+)/),(!i||i[1]>=74)&&(i=a.match(/Chrome\/(\d+)/),i&&(r=i[1]))),t.exports=r&&+r},function(t,e,n){"use strict";var i=n(17),r=n(171),o=n(61),a=n(49),s=n(21),l=n(449),c=n(95),u=n(450),f=n(451),d=n(127),h=n(452),p=[],m=p.sort,g=s((function(){p.sort(void 0)})),v=s((function(){p.sort(null)})),y=c("sort"),b=!s((function(){if(d)return d<70;if(!(u&&u>3)){if(f)return!0;if(h)return h<603;var t,e,n,i,r="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)p.push({k:e+i,v:n})}for(p.sort((function(t,e){return e.v-t.v})),i=0;i<p.length;i++)e=p[i].k.charAt(0),r.charAt(r.length-1)!==e&&(r+=e);return"DGBEFHACIJK"!==r}})),_=g||!v||!y||!b,x=function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:String(e)>String(n)?1:-1}};i({target:"Array",proto:!0,forced:_},{sort:function(t){void 0!==t&&r(t);var e=o(this);if(b)return void 0===t?m.call(e):m.call(e,t);var n,i,s=[],c=a(e.length);for(i=0;i<c;i++)i in e&&s.push(e[i]);s=l(s,x(t)),n=s.length,i=0;while(i<n)e[i]=s[i++];while(i<c)delete e[i++];return e}})},function(t,e,n){var i=n(445),r=n(32),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(i[t])||o(r[t]):i[t]&&i[t][e]||r[t]&&r[t][e]}},function(t,e,n){"use strict";var i=n(191),r=n(192),o=n(169),a=n(132),s=n(107).get,l=n(255),c=n(256),u=RegExp.prototype.exec,f=o("native-string-replace",String.prototype.replace),d=u,h=function(){var t=/a/,e=/b*/g;return u.call(t,"a"),u.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),p=r.UNSUPPORTED_Y||r.BROKEN_CARET,m=void 0!==/()??/.exec("")[1],g=h||m||p||l||c;g&&(d=function(t){var e,n,r,o,l,c,g,v=this,y=s(v),b=y.raw;if(b)return b.lastIndex=v.lastIndex,e=d.call(b,t),v.lastIndex=b.lastIndex,e;var _=y.groups,x=p&&v.sticky,w=i.call(v),k=v.source,S=0,O=t;if(x&&(w=w.replace("y",""),-1===w.indexOf("g")&&(w+="g"),O=String(t).slice(v.lastIndex),v.lastIndex>0&&(!v.multiline||v.multiline&&"\n"!==t[v.lastIndex-1])&&(k="(?: "+k+")",O=" "+O,S++),n=new RegExp("^(?:"+k+")",w)),m&&(n=new RegExp("^"+k+"$(?!\\s)",w)),h&&(r=v.lastIndex),o=u.call(x?n:v,O),x?o?(o.input=o.input.slice(S),o[0]=o[0].slice(S),o.index=v.lastIndex,v.lastIndex+=o[0].length):v.lastIndex=0:h&&o&&(v.lastIndex=v.global?o.index+o[0].length:r),m&&o&&o.length>1&&f.call(o[0],n,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(o[l]=void 0)})),o&&_)for(o.groups=c=a(null),l=0;l<_.length;l++)g=_[l],c[g[0]]=o[g[1]];return o}),t.exports=d},function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(t,e,n){var i,r=n(47),o=n(262),a=n(170),s=n(138),l=n(447),c=n(235),u=n(178),f=">",d="<",h="prototype",p="script",m=u("IE_PROTO"),g=function(){},v=function(t){return d+p+f+t+d+"/"+p+f},y=function(t){t.write(v("")),t.close();var e=t.parentWindow.Object;return t=null,e},b=function(){var t,e=c("iframe"),n="java"+p+":";return e.style.display="none",l.appendChild(e),e.src=String(n),t=e.contentWindow.document,t.open(),t.write(v("document.F=Object")),t.close(),t.F},_=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch(e){}_=i?y(i):b();var t=a.length;while(t--)delete _[h][a[t]];return _()};s[m]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(g[h]=r(t),n=new g,g[h]=null,n[m]=t):n=_(),void 0===e?n:o(n,e)}},function(t,e,n){var i=n(21),r=n(86),o="".split;t.exports=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==r(t)?o.call(t,""):Object(t)}:Object},function(t,e,n){var i=n(85),r=Math.max,o=Math.min;t.exports=function(t,e){var n=i(t);return n<0?r(n+e,0):o(n,e)}},function(t,e,n){var i=n(60),r=n(131),o="["+r+"]",a=RegExp("^"+o+o+"*"),s=RegExp(o+o+"*$"),l=function(t){return function(e){var n=String(i(e));return 1&t&&(n=n.replace(a,"")),2&t&&(n=n.replace(s,"")),n}};t.exports={start:l(1),end:l(2),trim:l(3)}},function(t,e,n){var i=n(34),r=n(132),o=n(71),a=i("unscopables"),s=Array.prototype;void 0==s[a]&&o.f(s,a,{configurable:!0,value:r(null)}),t.exports=function(t){s[a][t]=!0}},function(t,e){t.exports={}},function(t,e){t.exports={}},function(t,e,n){"use strict";var i=n(126),r=n(71),o=n(111);t.exports=function(t,e,n){var a=i(e);a in t?r.f(t,a,o(0,n)):t[a]=n}},function(t,e,n){var i=n(17),r=n(455);i({global:!0,forced:parseFloat!=r},{parseFloat:r})},function(t,e,n){"use strict";var i=n(17),r=n(85),o=n(481),a=n(468),s=n(21),l=1..toFixed,c=Math.floor,u=function(t,e,n){return 0===e?n:e%2===1?u(t,e-1,n*t):u(t*t,e/2,n)},f=function(t){var e=0,n=t;while(n>=4096)e+=12,n/=4096;while(n>=2)e+=1,n/=2;return e},d=function(t,e,n){var i=-1,r=n;while(++i<6)r+=e*t[i],t[i]=r%1e7,r=c(r/1e7)},h=function(t,e){var n=6,i=0;while(--n>=0)i+=t[n],t[n]=c(i/e),i=i%e*1e7},p=function(t){var e=6,n="";while(--e>=0)if(""!==n||0===e||0!==t[e]){var i=String(t[e]);n=""===n?i:n+a.call("0",7-i.length)+i}return n},m=l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){l.call({})}));i({target:"Number",proto:!0,forced:m},{toFixed:function(t){var e,n,i,s,l=o(this),c=r(t),m=[0,0,0,0,0,0],g="",v="0";if(c<0||c>20)throw RangeError("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(g="-",l=-l),l>1e-21)if(e=f(l*u(2,69,1))-69,n=e<0?l*u(2,-e,1):l/u(2,e,1),n*=4503599627370496,e=52-e,e>0){d(m,0,n),i=c;while(i>=7)d(m,1e7,0),i-=7;d(m,u(10,i,1),0),i=e-1;while(i>=23)h(m,1<<23),i-=23;h(m,1<<i),d(m,1,1),h(m,2),v=p(m)}else d(m,0,n),d(m,1<<-e,0),v=p(m)+a.call("0",c);return c>0?(s=v.length,v=g+(s<=c?"0."+a.call("0",c-s)+v:v.slice(0,s-c)+"."+v.slice(s-c))):v=g+v,v}})},function(t,e,n){var i=n(14),r=n(11).document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,e,n){e.f=n(19)},function(t,e,n){var i=n(113)("keys"),r=n(76);t.exports=function(t){return i[t]||(i[t]=r(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var i=n(11).document;t.exports=i&&i.documentElement},function(t,e,n){var i=n(14),r=n(13),o=function(t,e){if(r(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{i=n(54)(Function.call,n(57).f(Object.prototype,"__proto__").set,2),i(t,[]),e=!(t instanceof Array)}catch(r){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:o}},function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e,n){var i=n(14),r=n(147).set;t.exports=function(t,e,n){var o,a=e.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&i(o)&&r&&r(t,o),t}},function(t,e,n){"use strict";var i=n(56),r=n(68);t.exports=function(t){var e=String(r(this)),n="",o=i(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e){var n=Math.expm1;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:n},function(t,e,n){var i=n(56),r=n(68);t.exports=function(t){return function(e,n){var o,a,s=String(r(e)),l=i(n),c=s.length;return l<0||l>=c?t?"":void 0:(o=s.charCodeAt(l),o<55296||o>56319||l+1===c||(a=s.charCodeAt(l+1))<56320||a>57343?t?s.charAt(l):o:t?s.slice(l,l+2):a-56320+(o-55296<<10)+65536)}}},function(t,e,n){"use strict";var i=n(77),r=n(1),o=n(41),a=n(44),s=n(91),l=n(217),c=n(89),u=n(82),f=n(19)("iterator"),d=!([].keys&&"next"in[].keys()),h="@@iterator",p="keys",m="values",g=function(){return this};t.exports=function(t,e,n,v,y,b,_){l(n,e,v);var x,w,k,S=function(t){if(!d&&t in D)return D[t];switch(t){case p:return function(){return new n(this,t)};case m:return function(){return new n(this,t)}}return function(){return new n(this,t)}},O=e+" Iterator",C=y==m,E=!1,D=t.prototype,T=D[f]||D[h]||y&&D[y],N=T||S(y),M=y?C?S("entries"):N:void 0,A="Array"==e&&D.entries||T;if(A&&(k=u(A.call(new t)),k!==Object.prototype&&k.next&&(c(k,O,!0),i||"function"==typeof k[f]||a(k,f,g))),C&&T&&T.name!==m&&(E=!0,N=function(){return T.call(this)}),i&&!_||!d&&!E&&D[f]||a(D,f,N),s[e]=N,s[O]=g,y)if(x={values:C?N:S(m),keys:b?N:S(p),entries:M},_)for(w in x)w in D||o(D,w,x[w]);else r(r.P+r.F*(d||E),e,x);return x}},function(t,e,n){var i=n(156),r=n(68);t.exports=function(t,e,n){if(i(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(t))}},function(t,e,n){var i=n(14),r=n(67),o=n(19)("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},function(t,e,n){var i=n(19)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[i]=!1,!"/./"[t](e)}catch(r){}}return!0}},function(t,e,n){var i=n(91),r=n(19)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||o[r]===t)}},function(t,e,n){"use strict";var i=n(30),r=n(75);t.exports=function(t,e,n){e in t?i.f(t,e,r(0,n)):t[e]=n}},function(t,e,n){var i=n(100),r=n(19)("iterator"),o=n(91);t.exports=n(27).getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||o[i(t)]}},function(t,e,n){"use strict";var i=n(37),r=n(79),o=n(22);t.exports=function(t){var e=i(this),n=o(e.length),a=arguments.length,s=r(a>1?arguments[1]:void 0,n),l=a>2?arguments[2]:void 0,c=void 0===l?n:r(l,n);while(c>s)e[s++]=t;return e}},function(t,e,n){"use strict";var i=n(83),r=n(222),o=n(91),a=n(45);t.exports=n(154)(Array,"Array",(function(t,e){this._t=a(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(t,e,n){"use strict";var i=n(118),r=RegExp.prototype.exec,o=String.prototype.replace,a=r,s="lastIndex",l=function(){var t=/a/,e=/b*/g;return r.call(t,"a"),r.call(e,"a"),0!==t[s]||0!==e[s]}(),c=void 0!==/()??/.exec("")[1],u=l||c;u&&(a=function(t){var e,n,a,u,f=this;return c&&(n=new RegExp("^"+f.source+"$(?!\\s)",i.call(f))),l&&(e=f[s]),a=r.call(f,t),l&&a&&(f[s]=f.global?a.index+a[0].length:e),c&&a&&a.length>1&&o.call(a[0],n,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(a[u]=void 0)})),a}),t.exports=a},function(t,e,n){"use strict";var i=n(153)(!0);t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},function(t,e,n){var i,r,o,a=n(54),s=n(211),l=n(146),c=n(142),u=n(11),f=u.process,d=u.setImmediate,h=u.clearImmediate,p=u.MessageChannel,m=u.Dispatch,g=0,v={},y="onreadystatechange",b=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},_=function(t){b.call(t.data)};d&&h||(d=function(t){var e=[],n=1;while(arguments.length>n)e.push(arguments[n++]);return v[++g]=function(){s("function"==typeof t?t:Function(t),e)},i(g),g},h=function(t){delete v[t]},"process"==n(67)(f)?i=function(t){f.nextTick(a(b,t,1))}:m&&m.now?i=function(t){m.now(a(b,t,1))}:p?(r=new p,o=r.port2,r.port1.onmessage=_,i=a(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(i=function(t){u.postMessage(t+"","*")},u.addEventListener("message",_,!1)):i=y in c("script")?function(t){l.appendChild(c("script"))[y]=function(){l.removeChild(this),b.call(t)}}:function(t){setTimeout(a(b,t,1),0)}),t.exports={set:d,clear:h}},function(t,e,n){"use strict";var i=n(11),r=n(29),o=n(77),a=n(124),s=n(44),l=n(94),c=n(12),u=n(93),f=n(56),d=n(22),h=n(230),p=n(81).f,m=n(30).f,g=n(161),v=n(89),y="ArrayBuffer",b="DataView",_="prototype",x="Wrong length!",w="Wrong index!",k=i[y],S=i[b],O=i.Math,C=i.RangeError,E=i.Infinity,D=k,T=O.abs,N=O.pow,M=O.floor,A=O.log,j=O.LN2,P="buffer",$="byteLength",I="byteOffset",L=r?"_b":P,R=r?"_l":$,B=r?"_o":I;function q(t,e,n){var i,r,o,a=new Array(n),s=8*n-e-1,l=(1<<s)-1,c=l>>1,u=23===e?N(2,-24)-N(2,-77):0,f=0,d=t<0||0===t&&1/t<0?1:0;for(t=T(t),t!=t||t===E?(r=t!=t?1:0,i=l):(i=M(A(t)/j),t*(o=N(2,-i))<1&&(i--,o*=2),t+=i+c>=1?u/o:u*N(2,1-c),t*o>=2&&(i++,o/=2),i+c>=l?(r=0,i=l):i+c>=1?(r=(t*o-1)*N(2,e),i+=c):(r=t*N(2,c-1)*N(2,e),i=0));e>=8;a[f++]=255&r,r/=256,e-=8);for(i=i<<e|r,s+=e;s>0;a[f++]=255&i,i/=256,s-=8);return a[--f]|=128*d,a}function F(t,e,n){var i,r=8*n-e-1,o=(1<<r)-1,a=o>>1,s=r-7,l=n-1,c=t[l--],u=127&c;for(c>>=7;s>0;u=256*u+t[l],l--,s-=8);for(i=u&(1<<-s)-1,u>>=-s,s+=e;s>0;i=256*i+t[l],l--,s-=8);if(0===u)u=1-a;else{if(u===o)return i?NaN:c?-E:E;i+=N(2,e),u-=a}return(c?-1:1)*i*N(2,u-e)}function z(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function V(t){return[255&t]}function U(t){return[255&t,t>>8&255]}function K(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function H(t){return q(t,52,8)}function W(t){return q(t,23,4)}function G(t,e,n){m(t[_],e,{get:function(){return this[n]}})}function J(t,e,n,i){var r=+n,o=h(r);if(o+e>t[R])throw C(w);var a=t[L]._b,s=o+t[B],l=a.slice(s,s+e);return i?l:l.reverse()}function Y(t,e,n,i,r,o){var a=+n,s=h(a);if(s+e>t[R])throw C(w);for(var l=t[L]._b,c=s+t[B],u=i(+r),f=0;f<e;f++)l[c+f]=u[o?f:e-f-1]}if(a.ABV){if(!c((function(){k(1)}))||!c((function(){new k(-1)}))||c((function(){return new k,new k(1.5),new k(NaN),k.name!=y}))){k=function(t){return u(this,k),new D(h(t))};for(var X,Z=k[_]=D[_],Q=p(D),tt=0;Q.length>tt;)(X=Q[tt++])in k||s(k,X,D[X]);o||(Z.constructor=k)}var et=new S(new k(2)),nt=S[_].setInt8;et.setInt8(0,2147483648),et.setInt8(1,2147483649),!et.getInt8(0)&&et.getInt8(1)||l(S[_],{setInt8:function(t,e){nt.call(this,t,e<<24>>24)},setUint8:function(t,e){nt.call(this,t,e<<24>>24)}},!0)}else k=function(t){u(this,k,y);var e=h(t);this._b=g.call(new Array(e),0),this[R]=e},S=function(t,e,n){u(this,S,b),u(t,k,b);var i=t[R],r=f(e);if(r<0||r>i)throw C("Wrong offset!");if(n=void 0===n?i-r:d(n),r+n>i)throw C(x);this[L]=t,this[B]=r,this[R]=n},r&&(G(k,$,"_l"),G(S,P,"_b"),G(S,$,"_l"),G(S,I,"_o")),l(S[_],{getInt8:function(t){return J(this,1,t)[0]<<24>>24},getUint8:function(t){return J(this,1,t)[0]},getInt16:function(t){var e=J(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=J(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return z(J(this,4,t,arguments[1]))},getUint32:function(t){return z(J(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return F(J(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return F(J(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){Y(this,1,t,V,e)},setUint8:function(t,e){Y(this,1,t,V,e)},setInt16:function(t,e){Y(this,2,t,U,e,arguments[2])},setUint16:function(t,e){Y(this,2,t,U,e,arguments[2])},setInt32:function(t,e){Y(this,4,t,K,e,arguments[2])},setUint32:function(t,e){Y(this,4,t,K,e,arguments[2])},setFloat32:function(t,e){Y(this,4,t,W,e,arguments[2])},setFloat64:function(t,e){Y(this,8,t,H,e,arguments[2])}});v(k,y),v(S,b),s(S[_],a.VIEW,!0),e[y]=k,e[b]=S},function(t,e,n){var i=n(32),r=n(70);t.exports=function(t,e){try{r(i,t,e)}catch(n){i[t]=e}return e}},function(t,e,n){var i=n(32),r=n(167),o="__core-js_shared__",a=i[o]||r(o,{});t.exports=a},function(t,e,n){var i=n(112),r=n(168);(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.15.2",mode:i?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,n){var i=n(65),r=n(173),o=n(34),a=o("species");t.exports=function(t,e){var n;return r(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!r(n.prototype)?i(n)&&(n=n[a],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},function(t,e,n){var i=n(86);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e,n){var i=n(34),r=i("toStringTag"),o={};o[r]="z",t.exports="[object z]"===String(o)},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ds-tree-select",class:[t.theme],style:{"padding-top":t.searchControl?"50px":"0"}},[t.searchControl?n("div",{staticClass:"ds-tree-select-search-box"},[n("el-input",{attrs:{placeholder:"输入关键词（多个关键词空格隔开）"},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}},[n("i",{staticClass:"iconfont icon-Magnifier",attrs:{slot:"suffix"},slot:"suffix"})])],1):t._e(),n("div",{staticClass:"ds-tree-select-tree-box"},[t.multiple?n("el-tree",{ref:"tree",attrs:{"default-expand-all":"",data:t.treeData,"node-key":t.nodeKey,"empty-text":t.loading?"数据加载中...":t.emptyText,"show-checkbox":t.multiple,"default-checked-keys":t.defaultCheckedKeys,"filter-node-method":t.filterNode},on:{check:t.check,"node-click":t.nodeClick},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.node,r=e.data;return n("div",{staticClass:"custom-tree-node"},[void 0!==r.children?[n("i",{staticClass:"iconfont",class:[i.expanded?"icon-dakai":"icon-wenjianjia"]}),n("span",[t._v(t._s(r[t.nodeName]))])]:[n("i",{staticClass:"iconfont icon-shiyongwendang"}),n("span",[t._v(t._s(r[t.nodeName]))])]],2)}}],null,!1,331581664)}):n("el-tree",{ref:"tree",attrs:{"default-expand-all":"",data:t.treeData,"node-key":t.nodeKey,"empty-text":t.loading?"数据加载中...":t.emptyText,"show-checkbox":t.multiple,"default-checked-keys":t.defaultCheckedKeys,"filter-node-method":t.filterNode},on:{check:t.check,"node-click":t.nodeClick},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.node,r=e.data;return n("div",{staticClass:"custom-tree-node"},[void 0!==r.children?[n("i",{staticClass:"iconfont",class:[i.expanded?"icon-dakai":"icon-wenjianjia"]}),n("span",[t._v(t._s(r[t.nodeName]))])]:n("el-radio",{attrs:{label:r[t.nodeKey],disabled:r.nocheck},model:{value:t.radioId,callback:function(e){t.radioId=e},expression:"radioId"}},[n("i",{staticClass:"iconfont icon-shiyongwendang"}),n("span",[t._v(t._s(r[t.nodeName]))])])],2)}}])})],1)])},r=[];i._withStripped=!0;n(8),n(97),n(10),n(36),n(28),n(23),n(63),n(20);var o=0,a={name:"DsfTreeSelect",props:{theme:{type:String,default:"theme1"},searchControl:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},radioCanCancel:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},emptyText:{type:String,default:"暂无数据"},nodeKey:{type:String,default:""},nodeName:{type:String,default:"label"},defaultExpandAll:{type:Boolean,default:!1},defaultExpandedKeys:{type:Array,default:function(){return[]}},defaultCheckedKey:{type:[Array,String,Number],default:function(){return[]}},treeData:{type:Array,default:function(){return[]}}},data:function(){return{keyword:"",radioId:"",defaultCheckedKeys:[]}},computed:{keywords:function(){var t=this.keyword.trim();return""===t?[]:t.split(" ")}},watch:{keyword:function(t){this.$refs.tree.filter(t)},defaultCheckedKey:function(t){this.initDefaultCheckedKeys(t)},loading:function(t){if(!t&&this.treeData.length)if(this.multiple)this.handleCheckChange();else{var e=this.$refs.tree.getNode(this.radioId);e&&(this.$emit("choose-node",e.data),this.$emit("choose-key",this.radioId))}}},created:function(){this.initDefaultCheckedKeys(this.defaultCheckedKey)},mounted:function(){if(this.loading)if(this.multiple)this.treeData.length&&this.handleCheckChange();else{var t=this.$refs.tree.getNode(this.radioId);t&&(this.$emit("choose-node",t.data),this.$emit("choose-key",this.radioId))}},methods:{filterNode:function(t,e,n){if(!this.keywords.length)return!0;if(!t)return!0;for(var i=0;i<this.keywords.length;i++){var r;if((null===(r=e[this.defaultProps.label])||void 0===r?void 0:r.indexOf(this.keywords[i]))>-1)return!0}return!1},check:function(){this.handleCheckChange()},initDefaultCheckedKeys:function(t){this.multiple?"array"!==dsf.type(t)?this.defaultCheckedKeys=[t]:this.defaultCheckedKeys=t:"array"===dsf.type(t)?this.radioId=t.length?t[0]:"":this.radioId=t},nodeClick:function(t){var e=this;if(!this.multiple&&!t.children){var n=null,i=null;t[this.nodeKey]!==this.radioId?(n=t,i=t[this.nodeKey]):this.radioCanCancel&&setTimeout((function(){e.radioId=""}),0),clearTimeout(o),o=setTimeout((function(){e.$emit("choose-node",n),e.$emit("choose-key",i)}),50)}for(var r=arguments.length,a=new Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];this.$emit.apply(this,["node-click",t].concat(a))},handleCheckChange:function(){this.$emit("choose-node",this.$refs.tree.getCheckedNodes(!0)),this.$emit("choose-key",this.$refs.tree.getCheckedKeys(!0))},getNode:function(t){return this.$refs.tree.getNode(t)}}},s=a,l=n(0),c=Object(l["a"])(s,i,r,!1,null,null,null);c.options.__file="designer/setting/item/treeSelect.vue";e["default"]=c.exports},function(t,e,n){"use strict";
/*!
    * tiptap v1.32.1
    * (c) 2021 überdosis GbR (limited liability)
    * @license MIT
    */function i(t){return t&&"object"===typeof t&&"default"in t?t["default"]:t}Object.defineProperty(e,"__esModule",{value:!0});var r=n(7),o=n(103),a=n(4),s=n(530),l=n(531),c=n(259),u=n(74),f=n(245),d=n(106),h=i(n(183)),p=n(39);function m(t){return t.replace(/(?:^\w|[A-Z]|\b\w)/g,(t,e)=>0===e?t.toLowerCase():t.toUpperCase()).replace(/\s+/g,"")}class g{constructor(t,{editor:e,extension:n,parent:i,node:r,view:o,decorations:a,getPos:s}){this.component=t,this.editor=e,this.extension=n,this.parent=i,this.node=r,this.view=o,this.decorations=a,this.isNode=!!this.node.marks,this.isMark=!this.isNode,this.getPos=this.isMark?this.getMarkPos:s,this.captureEvents=!0,this.dom=this.createDOM(),this.contentDOM=this.vm.$refs.content}createDOM(){const t=h.extend(this.component),e={editor:this.editor,node:this.node,view:this.view,getPos:()=>this.getPos(),decorations:this.decorations,selected:!1,options:this.extension.options,updateAttrs:t=>this.updateAttrs(t)};return"function"===typeof this.extension.setSelection&&(this.setSelection=this.extension.setSelection),"function"===typeof this.extension.update&&(this.update=this.extension.update),this.vm=new t({parent:this.parent,propsData:e}).$mount(),this.vm.$el}update(t,e){return t.type===this.node.type&&(t===this.node&&this.decorations===e||(this.node=t,this.decorations=e,this.updateComponentProps({node:t,decorations:e})),!0)}updateComponentProps(t){if(!this.vm._props)return;const e=h.config.silent;h.config.silent=!0,Object.entries(t).forEach(([t,e])=>{this.vm._props[t]=e}),h.config.silent=e}updateAttrs(t){if(!this.view.editable)return;const{state:e}=this.view,{type:n}=this.node,i=this.getPos(),r={...this.node.attrs,...t},o=this.isMark?e.tr.removeMark(i.from,i.to,n).addMark(i.from,i.to,n.create(r)):e.tr.setNodeMarkup(i,null,r);this.view.dispatch(o)}ignoreMutation(t){return"selection"!==t.type&&(!this.contentDOM||!this.contentDOM.contains(t.target))}stopEvent(t){if("function"===typeof this.extension.stopEvent)return this.extension.stopEvent(t);const e=!!this.extension.schema.draggable;if(e&&"mousedown"===t.type){const e=t.target.closest&&t.target.closest("[data-drag-handle]"),n=e&&(this.dom===e||this.dom.contains(e));n&&(this.captureEvents=!1,document.addEventListener("dragend",()=>{this.captureEvents=!0},{once:!0}))}const n="copy"===t.type,i="paste"===t.type,r="cut"===t.type,o=t.type.startsWith("drag")||"drop"===t.type;return!(e&&o||n||i||r)&&this.captureEvents}selectNode(){this.updateComponentProps({selected:!0})}deselectNode(){this.updateComponentProps({selected:!1})}getMarkPos(){const t=this.view.posAtDOM(this.dom),e=this.view.state.doc.resolve(t),n=d.getMarkRange(e,this.node.type);return n}destroy(){this.vm.$destroy()}}class v{on(t,e){return this._callbacks=this._callbacks||{},this._callbacks[t]||(this._callbacks[t]=[]),this._callbacks[t].push(e),this}emit(t,...e){this._callbacks=this._callbacks||{};const n=this._callbacks[t];return n&&n.forEach(t=>t.apply(this,e)),this}off(t,e){if(arguments.length){const n=this._callbacks?this._callbacks[t]:null;n&&(e?this._callbacks[t]=n.filter(t=>t!==e):delete this._callbacks[t])}else this._callbacks={};return this}}class y{constructor(t={}){this.options={...this.defaultOptions,...t}}init(){return null}bindEditor(t=null){this.editor=t}get name(){return null}get type(){return"extension"}get defaultOptions(){return{}}get plugins(){return[]}inputRules(){return[]}pasteRules(){return[]}keys(){return{}}}class b{constructor(t=[],e){t.forEach(t=>{t.bindEditor(e),t.init()}),this.extensions=t}get nodes(){return this.extensions.filter(t=>"node"===t.type).reduce((t,{name:e,schema:n})=>({...t,[e]:n}),{})}get options(){const{view:t}=this;return this.extensions.reduce((e,n)=>({...e,[n.name]:new Proxy(n.options,{set(e,n,i){const r=e[n]!==i;return Object.assign(e,{[n]:i}),r&&t.updateState(t.state),!0}})}),{})}get marks(){return this.extensions.filter(t=>"mark"===t.type).reduce((t,{name:e,schema:n})=>({...t,[e]:n}),{})}get plugins(){return this.extensions.filter(t=>t.plugins).reduce((t,{plugins:e})=>[...t,...e],[])}keymaps({schema:t}){const e=this.extensions.filter(t=>["extension"].includes(t.type)).filter(t=>t.keys).map(e=>e.keys({schema:t})),n=this.extensions.filter(t=>["node","mark"].includes(t.type)).filter(t=>t.keys).map(e=>e.keys({type:t[e.type+"s"][e.name],schema:t}));return[...e,...n].map(t=>c.keymap(t))}inputRules({schema:t,excludedExtensions:e}){if(!(e instanceof Array)&&e)return[];const n=e instanceof Array?this.extensions.filter(t=>!e.includes(t.name)):this.extensions,i=n.filter(t=>["extension"].includes(t.type)).filter(t=>t.inputRules).map(e=>e.inputRules({schema:t})),r=n.filter(t=>["node","mark"].includes(t.type)).filter(t=>t.inputRules).map(e=>e.inputRules({type:t[e.type+"s"][e.name],schema:t}));return[...i,...r].reduce((t,e)=>[...t,...e],[])}pasteRules({schema:t,excludedExtensions:e}){if(!(e instanceof Array)&&e)return[];const n=e instanceof Array?this.extensions.filter(t=>!e.includes(t.name)):this.extensions,i=n.filter(t=>["extension"].includes(t.type)).filter(t=>t.pasteRules).map(e=>e.pasteRules({schema:t})),r=n.filter(t=>["node","mark"].includes(t.type)).filter(t=>t.pasteRules).map(e=>e.pasteRules({type:t[e.type+"s"][e.name],schema:t}));return[...i,...r].reduce((t,e)=>[...t,...e],[])}commands({schema:t,view:e}){return this.extensions.filter(t=>t.commands).reduce((n,i)=>{const{name:r,type:o}=i,a={},s=i.commands({schema:t,...["node","mark"].includes(o)?{type:t[o+"s"][r]}:{}}),l=(t,n)=>!!e.editable&&(e.focus(),t(n)(e.state,e.dispatch,e)),c=(t,e)=>{Array.isArray(e)?a[t]=t=>e.forEach(e=>l(e,t)):"function"===typeof e&&(a[t]=t=>l(e,t))};return"object"===typeof s?Object.entries(s).forEach(([t,e])=>{c(t,e)}):c(r,s),{...n,...a}},{})}}function _(t){{const e=document.createElement("style");e.type="text/css",e.textContent=t;const{head:n}=document,{firstChild:i}=n;i?n.insertBefore(e,i):n.appendChild(e)}}class x extends y{constructor(t={}){super(t)}get type(){return"mark"}get view(){return null}get schema(){return null}command(){return()=>{}}}function w(t=0,e=0,n=0){return Math.min(Math.max(parseInt(t,10),e),n)}class k extends y{constructor(t={}){super(t)}get type(){return"node"}get view(){return null}get schema(){return null}command(){return()=>{}}}class S extends k{get name(){return"doc"}get schema(){return{content:"block+"}}}class O extends k{get name(){return"paragraph"}get schema(){return{content:"inline*",group:"block",draggable:!1,parseDOM:[{tag:"p"}],toDOM:()=>["p",0]}}commands({type:t}){return()=>p.setBlockType(t)}}class C extends k{get name(){return"text"}get schema(){return{group:"inline"}}}var E='.ProseMirror {\n  position: relative;\n}\n\n.ProseMirror {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-hideselection *::selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection *::-moz-selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection * {\n  caret-color: transparent;\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}\n';class D extends v{constructor(t={}){super(),this.defaultOptions={editorProps:{},editable:!0,autoFocus:null,extensions:[],content:"",topNode:"doc",emptyDocument:{type:"doc",content:[{type:"paragraph"}]},useBuiltInExtensions:!0,disableInputRules:!1,disablePasteRules:!1,dropCursor:{},enableDropCursor:!0,enableGapCursor:!0,parseOptions:{},injectCSS:!0,onInit:()=>{},onTransaction:()=>{},onUpdate:()=>{},onFocus:()=>{},onBlur:()=>{},onPaste:()=>{},onDrop:()=>{}},this.events=["init","transaction","update","focus","blur","paste","drop"],this.init(t)}init(t={}){this.setOptions({...this.defaultOptions,...t}),this.focused=!1,this.selection={from:0,to:0},this.element=document.createElement("div"),this.extensions=this.createExtensions(),this.nodes=this.createNodes(),this.marks=this.createMarks(),this.schema=this.createSchema(),this.plugins=this.createPlugins(),this.keymaps=this.createKeymaps(),this.inputRules=this.createInputRules(),this.pasteRules=this.createPasteRules(),this.view=this.createView(),this.commands=this.createCommands(),this.setActiveNodesAndMarks(),this.options.injectCSS&&_(E),null!==this.options.autoFocus&&this.focus(this.options.autoFocus),this.events.forEach(t=>{this.on(t,this.options[m("on "+t)]||(()=>{}))}),this.emit("init",{view:this.view,state:this.state}),this.extensions.view=this.view}setOptions(t){this.options={...this.options,...t},this.view&&this.state&&this.view.updateState(this.state)}get builtInExtensions(){return this.options.useBuiltInExtensions?[new S,new C,new O]:[]}get state(){return this.view?this.view.state:null}createExtensions(){return new b([...this.builtInExtensions,...this.options.extensions],this)}createPlugins(){return this.extensions.plugins}createKeymaps(){return this.extensions.keymaps({schema:this.schema})}createInputRules(){return this.extensions.inputRules({schema:this.schema,excludedExtensions:this.options.disableInputRules})}createPasteRules(){return this.extensions.pasteRules({schema:this.schema,excludedExtensions:this.options.disablePasteRules})}createCommands(){return this.extensions.commands({schema:this.schema,view:this.view})}createNodes(){return this.extensions.nodes}createMarks(){return this.extensions.marks}createSchema(){return new a.Schema({topNode:this.options.topNode,nodes:this.nodes,marks:this.marks})}createState(){return r.EditorState.create({schema:this.schema,doc:this.createDocument(this.options.content),plugins:[...this.plugins,f.inputRules({rules:this.inputRules}),...this.pasteRules,...this.keymaps,c.keymap({Backspace:f.undoInputRule}),c.keymap(u.baseKeymap),...this.options.enableDropCursor?[s.dropCursor(this.options.dropCursor)]:[],...this.options.enableGapCursor?[l.gapCursor()]:[],new r.Plugin({key:new r.PluginKey("editable"),props:{editable:()=>this.options.editable}}),new r.Plugin({props:{attributes:{tabindex:0},handleDOMEvents:{focus:(t,e)=>{this.focused=!0,this.emit("focus",{event:e,state:t.state,view:t});const n=this.state.tr.setMeta("focused",!0);this.view.dispatch(n)},blur:(t,e)=>{this.focused=!1,this.emit("blur",{event:e,state:t.state,view:t});const n=this.state.tr.setMeta("focused",!1);this.view.dispatch(n)}}}}),new r.Plugin({props:this.options.editorProps})]})}createDocument(t,e=this.options.parseOptions){if(null===t)return this.schema.nodeFromJSON(this.options.emptyDocument);if("object"===typeof t)try{return this.schema.nodeFromJSON(t)}catch(n){return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",n),this.schema.nodeFromJSON(this.options.emptyDocument)}if("string"===typeof t){const n=`<div>${t}</div>`,i=new window.DOMParser,r=i.parseFromString(n,"text/html").body.firstElementChild;return a.DOMParser.fromSchema(this.schema).parse(r,e)}return!1}createView(){return new o.EditorView(this.element,{state:this.createState(),handlePaste:(...t)=>{this.emit("paste",...t)},handleDrop:(...t)=>{this.emit("drop",...t)},dispatchTransaction:this.dispatchTransaction.bind(this)})}setParentComponent(t=null){t&&this.view.setProps({nodeViews:this.initNodeViews({parent:t,extensions:[...this.builtInExtensions,...this.options.extensions]})})}initNodeViews({parent:t,extensions:e}){return e.filter(t=>["node","mark"].includes(t.type)).filter(t=>t.view).reduce((e,n)=>{const i=(e,i,r,o)=>{const a=n.view;return new g(a,{editor:this,extension:n,parent:t,node:e,view:i,getPos:r,decorations:o})};return{...e,[n.name]:i}},{})}dispatchTransaction(t){const e=this.state.apply(t);this.view.updateState(e),this.selection={from:this.state.selection.from,to:this.state.selection.to},this.setActiveNodesAndMarks(),this.emit("transaction",{getHTML:this.getHTML.bind(this),getJSON:this.getJSON.bind(this),state:this.state,transaction:t}),t.docChanged&&!t.getMeta("preventUpdate")&&this.emitUpdate(t)}emitUpdate(t){this.emit("update",{getHTML:this.getHTML.bind(this),getJSON:this.getJSON.bind(this),state:this.state,transaction:t})}resolveSelection(t=null){if(this.selection&&null===t)return this.selection;if("start"===t||!0===t)return{from:0,to:0};if("end"===t){const{doc:t}=this.state;return{from:t.content.size,to:t.content.size}}return{from:t,to:t}}focus(t=null){if(this.view.focused&&null===t||!1===t)return;const{from:e,to:n}=this.resolveSelection(t);this.setSelection(e,n),setTimeout(()=>this.view.focus(),10)}setSelection(t=0,e=0){const{doc:n,tr:i}=this.state,o=w(t,0,n.content.size),a=w(e,0,n.content.size),s=r.TextSelection.create(n,o,a),l=i.setSelection(s);this.view.dispatch(l)}blur(){this.view.dom.blur()}getSchemaJSON(){return JSON.parse(JSON.stringify({nodes:this.extensions.nodes,marks:this.extensions.marks}))}getHTML(){const t=document.createElement("div"),e=a.DOMSerializer.fromSchema(this.schema).serializeFragment(this.state.doc.content);return t.appendChild(e),t.innerHTML}getJSON(){return this.state.doc.toJSON()}setContent(t={},e=!1,n){const{doc:i,tr:o}=this.state,a=this.createDocument(t,n),s=r.TextSelection.create(i,0,i.content.size),l=o.setSelection(s).replaceSelectionWith(a,!1).setMeta("preventUpdate",!e);this.view.dispatch(l)}clearContent(t=!1){this.setContent(this.options.emptyDocument,t)}setActiveNodesAndMarks(){this.activeMarks=Object.entries(this.schema.marks).reduce((t,[e,n])=>({...t,[e]:(t={})=>d.markIsActive(this.state,n,t)}),{}),this.activeMarkAttrs=Object.entries(this.schema.marks).reduce((t,[e,n])=>({...t,[e]:d.getMarkAttrs(this.state,n)}),{}),this.activeNodes=Object.entries(this.schema.nodes).reduce((t,[e,n])=>({...t,[e]:(t={})=>d.nodeIsActive(this.state,n,t)}),{})}getMarkAttrs(t=null){return this.activeMarkAttrs[t]}getNodeAttrs(t=null){return{...d.getNodeAttrs(this.state,this.schema.nodes[t])}}get isActive(){return Object.entries({...this.activeMarks,...this.activeNodes}).reduce((t,[e,n])=>({...t,[e]:(t={})=>n(t)}),{})}registerPlugin(t=null,e){const n="function"===typeof e?e(t,this.state.plugins):[t,...this.state.plugins],i=this.state.reconfigure({plugins:n});this.view.updateState(i)}unregisterPlugin(t=null){if(!t||!this.view.docView)return;const e=this.state.reconfigure({plugins:this.state.plugins.filter(e=>!e.key.startsWith(t+"$"))});this.view.updateState(e)}destroy(){this.view&&this.view.destroy()}}var T={props:{editor:{default:null,type:Object}},watch:{editor:{immediate:!0,handler(t){t&&t.element&&this.$nextTick(()=>{this.$el.appendChild(t.element.firstChild),t.setParentComponent(this)})}}},render(t){return t("div")},beforeDestroy(){this.editor.element=this.$el}};class N{constructor({options:t}){this.options=t,this.preventHide=!1,this.mousedownHandler=this.handleClick.bind(this),this.options.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.blurHandler=()=>{this.preventHide?this.preventHide=!1:this.options.editor.emit("menubar:focusUpdate",!1)},this.options.editor.on("blur",this.blurHandler)}handleClick(){this.preventHide=!0}destroy(){this.options.element.removeEventListener("mousedown",this.mousedownHandler),this.options.editor.off("blur",this.blurHandler)}}function M(t){return new r.Plugin({key:new r.PluginKey("menu_bar"),view(e){return new N({editorView:e,options:t})}})}var A={props:{editor:{default:null,type:Object}},data(){return{focused:!1}},watch:{editor:{immediate:!0,handler(t){t&&this.$nextTick(()=>{t.registerPlugin(M({editor:t,element:this.$el})),this.focused=t.focused,t.on("focus",()=>{this.focused=!0}),t.on("menubar:focusUpdate",t=>{this.focused=t})})}}},render(){return this.editor?this.$scopedSlots.default({focused:this.focused,focus:this.editor.focus,commands:this.editor.commands,isActive:this.editor.isActive,getMarkAttrs:this.editor.getMarkAttrs.bind(this.editor),getNodeAttrs:this.editor.getNodeAttrs.bind(this.editor)}):null}};function j(t,e,n){const i=document.createRange();return i.setEnd(t,null==n?t.nodeValue.length:n),i.setStart(t,Math.max(e,0)),i}function P(t,e){const n=t.getClientRects();return n.length?n[e<0?0:n.length-1]:t.getBoundingClientRect()}function $(t,e,n=!1){const{node:i,offset:r}=t.docView.domFromPos(e);let o,a;if(3===i.nodeType)n&&r<i.nodeValue.length?(a=P(j(i,r-1,r),-1),o="right"):r<i.nodeValue.length&&(a=P(j(i,r,r+1),-1),o="left");else if(i.firstChild){if(r<i.childNodes.length){const t=i.childNodes[r];a=P(3===t.nodeType?j(t):t,-1),o="left"}if((!a||a.top===a.bottom)&&r){const t=i.childNodes[r-1];a=P(3===t.nodeType?j(t):t,1),o="right"}}else a=i.getBoundingClientRect(),o="left";const s=a[o];return{top:a.top,bottom:a.bottom,left:s,right:s}}class I{constructor({options:t,editorView:e}){this.options={element:null,keepInBounds:!0,onUpdate:()=>!1,...t},this.editorView=e,this.isActive=!1,this.left=0,this.bottom=0,this.top=0,this.preventHide=!1,this.mousedownHandler=this.handleClick.bind(this),this.options.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.focusHandler=({view:t})=>{this.update(t)},this.options.editor.on("focus",this.focusHandler),this.blurHandler=({event:t})=>{this.preventHide?this.preventHide=!1:this.hide(t)},this.options.editor.on("blur",this.blurHandler)}handleClick(){this.preventHide=!0}update(t,e){const{state:n}=t;if(t.composing)return;if(e&&e.doc.eq(n.doc)&&e.selection.eq(n.selection))return;if(n.selection.empty)return void this.hide();const{from:i,to:r}=n.selection,o=$(t,i),a=$(t,r,!0),s=this.options.element.offsetParent;if(!s)return void this.hide();const l=s.getBoundingClientRect(),c=this.options.element.getBoundingClientRect(),u=(o.left+a.left)/2-l.left;this.left=Math.round(this.options.keepInBounds?Math.min(l.width-c.width/2,Math.max(u,c.width/2)):u),this.bottom=Math.round(l.bottom-o.top),this.top=Math.round(a.bottom-l.top),this.isActive=!0,this.sendUpdate()}sendUpdate(){this.options.onUpdate({isActive:this.isActive,left:this.left,bottom:this.bottom,top:this.top})}hide(t){t&&t.relatedTarget&&this.options.element.parentNode&&this.options.element.parentNode.contains(t.relatedTarget)||(this.isActive=!1,this.sendUpdate())}destroy(){this.options.element.removeEventListener("mousedown",this.mousedownHandler),this.options.editor.off("focus",this.focusHandler),this.options.editor.off("blur",this.blurHandler)}}function L(t){return new r.Plugin({key:new r.PluginKey("menu_bubble"),view(e){return new I({editorView:e,options:t})}})}var R={props:{editor:{default:null,type:Object},keepInBounds:{default:!0,type:Boolean}},data(){return{menu:{isActive:!1,left:0,bottom:0}}},watch:{editor:{immediate:!0,handler(t){t&&this.$nextTick(()=>{t.registerPlugin(L({editor:t,element:this.$el,keepInBounds:this.keepInBounds,onUpdate:t=>{t.isActive&&!1===this.menu.isActive?this.$emit("show",t):t.isActive||!0!==this.menu.isActive||this.$emit("hide",t),this.menu=t}}))})}}},render(){return this.editor?this.$scopedSlots.default({focused:this.editor.view.focused,focus:this.editor.focus,commands:this.editor.commands,isActive:this.editor.isActive,getMarkAttrs:this.editor.getMarkAttrs.bind(this.editor),getNodeAttrs:this.editor.getNodeAttrs.bind(this.editor),menu:this.menu}):null},beforeDestroy(){this.editor.unregisterPlugin("menu_bubble")}};class B{constructor({options:t,editorView:e}){this.options={resizeObserver:!0,element:null,onUpdate:()=>!1,...t},this.preventHide=!1,this.editorView=e,this.isActive=!1,this.top=0,this.mousedownHandler=this.handleClick.bind(this),this.options.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.focusHandler=({view:t})=>{this.update(t)},this.options.editor.on("focus",this.focusHandler),this.blurHandler=({event:t})=>{this.preventHide?this.preventHide=!1:this.hide(t)},this.options.editor.on("blur",this.blurHandler),this.options.resizeObserver&&window.ResizeObserver&&(this.resizeObserver=new ResizeObserver(()=>{this.isActive&&this.update(this.editorView)}),this.resizeObserver.observe(this.editorView.dom))}handleClick(){this.preventHide=!0}update(t,e){const{state:n}=t;if(e&&e.doc.eq(n.doc)&&e.selection.eq(n.selection))return;if(!n.selection.empty)return void this.hide();const i=t.domAtPos(n.selection.anchor),r="<br>"===i.node.innerHTML&&"P"===i.node.tagName&&i.node.parentNode===t.dom;if(!r)return void this.hide();const o=this.options.element.offsetParent;if(!o)return void this.hide();const a=o.getBoundingClientRect(),s=t.coordsAtPos(n.selection.anchor),l=s.top-a.top;this.isActive=!0,this.top=l,this.sendUpdate()}sendUpdate(){this.options.onUpdate({isActive:this.isActive,top:this.top})}hide(t){t&&t.relatedTarget&&this.options.element.parentNode&&this.options.element.parentNode.contains(t.relatedTarget)||(this.isActive=!1,this.sendUpdate())}destroy(){this.options.element.removeEventListener("mousedown",this.mousedownHandler),this.resizeObserver&&this.resizeObserver.unobserve(this.editorView.dom),this.options.editor.off("focus",this.focusHandler),this.options.editor.off("blur",this.blurHandler)}}function q(t){return new r.Plugin({key:new r.PluginKey("floating_menu"),view(e){return new B({editorView:e,options:t})}})}var F={props:{editor:{default:null,type:Object}},data(){return{menu:{isActive:!1,left:0,bottom:0}}},watch:{editor:{immediate:!0,handler(t){t&&this.$nextTick(()=>{t.registerPlugin(q({editor:t,element:this.$el,onUpdate:t=>{t.isActive&&!1===this.menu.isActive?this.$emit("show",t):t.isActive||!0!==this.menu.isActive||this.$emit("hide",t),this.menu=t}}))})}}},render(){return this.editor?this.$scopedSlots.default({focused:this.editor.view.focused,focus:this.editor.focus,commands:this.editor.commands,isActive:this.editor.isActive,getMarkAttrs:this.editor.getMarkAttrs.bind(this.editor),getNodeAttrs:this.editor.getNodeAttrs.bind(this.editor),menu:this.menu}):null},beforeDestroy(){this.editor.unregisterPlugin("floating_menu")}};Object.defineProperty(e,"NodeSelection",{enumerable:!0,get:function(){return r.NodeSelection}}),Object.defineProperty(e,"Plugin",{enumerable:!0,get:function(){return r.Plugin}}),Object.defineProperty(e,"PluginKey",{enumerable:!0,get:function(){return r.PluginKey}}),Object.defineProperty(e,"TextSelection",{enumerable:!0,get:function(){return r.TextSelection}}),e.Doc=S,e.Editor=D,e.EditorContent=T,e.EditorFloatingMenu=F,e.EditorMenuBar=A,e.EditorMenuBubble=R,e.Extension=y,e.Mark=x,e.Node=k,e.Paragraph=O,e.Text=C},function(t,e,n){var i=n(237),r=n(170);t.exports=Object.keys||function(t){return i(t,r)}},function(t,e,n){var i=n(169),r=n(200),o=i("keys");t.exports=function(t){return o[t]||(o[t]=r(t))}},function(t,e,n){var i=n(87),r=n(49),o=n(134),a=function(t){return function(e,n,a){var s,l=i(e),c=r(l.length),u=o(a,c);if(t&&n!=n){while(c>u)if(s=l[u++],s!=s)return!0}else for(;c>u;u++)if((t||u in l)&&l[u]===n)return t||u||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},function(t,e,n){"use strict";
/*!
    * tiptap-commands v1.17.0
    * (c) 2021 überdosis GbR (limited liability)
    * @license MIT
    */Object.defineProperty(e,"__esModule",{value:!0});var i=n(74),r=n(252),o=n(245),a=n(7),s=n(4),l=n(106);function c(t=""){return(e,n)=>{const{$from:i}=e.selection,{pos:r}=i.pos;return n(e.tr.insertText(t,r)),!0}}function u(t,e,n){let i=[];return n.doc.nodesBetween(t,e,(t,e)=>{i=[...i,...t.marks.map(n=>({start:e,end:e+t.nodeSize,mark:n}))]}),i}function f(t,e,n){return new o.InputRule(t,(t,i,r,o)=>{const a=n instanceof Function?n(i):n,{tr:s}=t,l=i.length-1;let c=o,f=r;if(i[l]){const n=r+i[0].indexOf(i[l-1]),a=n+i[l-1].length-1,d=n+i[l-1].lastIndexOf(i[l]),h=d+i[l].length,p=u(r,o,t).filter(t=>{const{excluded:n}=t.mark.type;return n.find(t=>t.name===e.name)}).filter(t=>t.end>n);if(p.length)return!1;h<a&&s.delete(h,a),d>n&&s.delete(n,d),f=n,c=f+i[l].length}return s.addMark(f,c,e.create(a)),s.removeStoredMark(e),s})}function d(t,e,n){return new o.InputRule(t,(t,i,r,o)=>{const a=n instanceof Function?n(i):n,{tr:s}=t;return i[0]&&s.replaceWith(r-1,o,e.create(a)),s})}function h(t,e,n){const i=r=>{const o=[];return r.forEach(r=>{if(r.isText){const{text:i}=r;let a,s=0;do{if(a=t.exec(i),a){const t=a.index,i=t+a[0].length,l=n instanceof Function?n(a[0]):n;t>0&&o.push(r.cut(s,t)),o.push(r.cut(t,i).mark(e.create(l).addToSet(r.marks))),s=i}}while(a);s<i.length&&o.push(r.cut(s))}else o.push(r.copy(i(r.content)))}),s.Fragment.fromArray(o)};return new a.Plugin({props:{transformPasted:t=>new s.Slice(i(t.content),t.openStart,t.openEnd)}})}function p(t,e,n){const i=(r,o)=>{const a=[];return r.forEach(r=>{if(r.isText){const{text:i,marks:s}=r;let l,c=0;const u=!!s.filter(t=>"link"===t.type.name)[0];while(!u&&null!==(l=t.exec(i)))if(o&&o.type.allowsMarkType(e)&&l[1]){const t=l.index,i=t+l[0].length,o=t+l[0].indexOf(l[1]),s=o+l[1].length,u=n instanceof Function?n(l):n;t>0&&a.push(r.cut(c,t)),a.push(r.cut(o,s).mark(e.create(u).addToSet(r.marks))),c=i}c<i.length&&a.push(r.cut(c))}else a.push(r.copy(i(r.content,r)))}),s.Fragment.fromArray(a)};return new a.Plugin({props:{transformPasted:t=>new s.Slice(i(t.content),t.openStart,t.openEnd)}})}function m(t){return(e,n)=>{const{tr:i,selection:r}=e;let{from:o,to:a}=r;const{$from:s,empty:c}=r;if(c){const e=l.getMarkRange(s,t);o=e.from,a=e.to}return i.removeMark(o,a,t),n(i)}}function g(t=null,e,n={},i=s.Fragment.empty){return(r,o)=>{const{$from:a,$to:s}=r.selection,l=a.index(),c=t?t.from:a.pos,u=t?t.to:s.pos;return!!a.parent.canReplaceWith(l,l,e)&&(o&&o(r.tr.replaceWith(c,u,e.create(n,i))),!0)}}function v(t,e={}){return(n,i)=>{const{$from:r}=n.selection,o=r.index();return!!r.parent.canReplaceWith(o,o,t)&&(i&&i(n.tr.replaceSelectionWith(t.create(e))),!0)}}function y(t,e,n=1,i){const r=t.resolve(e),o=r.depth-n,a=i&&i[i.length-1]||r.parent;if(o<0||r.parent.type.spec.isolating||!r.parent.canReplace(r.index(),r.parent.childCount)||!a.type.validContent(r.parent.content.cutByIndex(r.index(),r.parent.childCount)))return!1;for(let c=r.depth-1,u=n-2;c>o;c--,u--){const t=r.node(c),e=r.index(c);if(t.type.spec.isolating)return!1;let n=t.content.cutByIndex(e,t.childCount);const o=i&&i[u]||t;if(o!=t&&(n=n.replaceChild(0,o.type.create(o.attrs))),!t.canReplace(e+1,t.childCount))return!1}const s=r.indexAfter(o),l=i&&i[0];return r.node(o).canReplaceWith(s,s,l?l.type:r.node(o+1).type)}function b(t){return function(e,n){const{$from:i,$to:r,node:o}=e.selection;if(o&&o.isBlock||i.depth<2||!i.sameParent(r))return!1;const a=i.node(-1);if(a.type!=t)return!1;if(0==i.parent.content.size){if(2==i.depth||i.node(-3).type!=t||i.index(-2)!=i.node(-2).childCount-1)return!1;if(n){let r=s.Fragment.empty;const o=i.index(-1)>0;for(let t=i.depth-(o?1:2);t>=i.depth-3;t--)r=s.Fragment.from(i.node(t).copy(r));r=r.append(s.Fragment.from(t.createAndFill()));const a=e.tr.replace(i.before(o?null:-1),i.after(-3),new s.Slice(r,o?3:2,2));a.setSelection(e.selection.constructor.near(a.doc.resolve(i.pos+(o?3:2)))),n(a.scrollIntoView())}return!0}const l=r.pos==i.end()?a.contentMatchAt(i.indexAfter(-1)).defaultType:null,c=e.tr.delete(i.pos,r.pos);let u=l&&[{type:t},{type:l}];return u||(u=[{type:t},null]),!!y(c.doc,i.pos,2,u)&&(n&&n(c.split(i.pos,2,u).scrollIntoView()),!0)}}function _(t,e,n={}){return(r,o,a)=>{const s=l.nodeIsActive(r,t,n);return s?i.setBlockType(e)(r,o,a):i.setBlockType(t,n)(r,o,a)}}function x(t,e){return t.type===e.nodes.bullet_list||t.type===e.nodes.ordered_list||t.type===e.nodes.todo_list}function w(t,e){return(n,i,o)=>{const{schema:a,selection:s}=n,{$from:c,$to:u}=s,f=c.blockRange(u);if(!f)return!1;const d=l.findParentNode(t=>x(t,a))(s);if(f.depth>=1&&d&&f.depth-d.depth<=1){if(d.node.type===t)return r.liftListItem(e)(n,i,o);if(x(d.node,a)&&t.validContent(d.node.content)){const{tr:e}=n;return e.setNodeMarkup(d.pos,t),i&&i(e),!1}}return r.wrapInList(t)(n,i,o)}}function k(t,e={}){return(n,r,o)=>{const a=l.nodeIsActive(n,t,e);return a?i.lift(n,r):i.wrapIn(t,e)(n,r,o)}}function S(t,e){return(n,i)=>{const{tr:r,selection:o,doc:a}=n,{ranges:s,empty:c}=o;if(c){const{from:n,to:i}=l.getMarkRange(o.$from,t);a.rangeHasMark(n,i,t)&&r.removeMark(n,i,t),r.addMark(n,i,t.create(e))}else s.forEach(n=>{const{$to:i,$from:o}=n;a.rangeHasMark(o.pos,i.pos,t)&&r.removeMark(o.pos,i.pos,t),r.addMark(o.pos,i.pos,t.create(e))});return i(r)}}Object.defineProperty(e,"autoJoin",{enumerable:!0,get:function(){return i.autoJoin}}),Object.defineProperty(e,"baseKeymap",{enumerable:!0,get:function(){return i.baseKeymap}}),Object.defineProperty(e,"chainCommands",{enumerable:!0,get:function(){return i.chainCommands}}),Object.defineProperty(e,"createParagraphNear",{enumerable:!0,get:function(){return i.createParagraphNear}}),Object.defineProperty(e,"deleteSelection",{enumerable:!0,get:function(){return i.deleteSelection}}),Object.defineProperty(e,"exitCode",{enumerable:!0,get:function(){return i.exitCode}}),Object.defineProperty(e,"joinBackward",{enumerable:!0,get:function(){return i.joinBackward}}),Object.defineProperty(e,"joinDown",{enumerable:!0,get:function(){return i.joinDown}}),Object.defineProperty(e,"joinForward",{enumerable:!0,get:function(){return i.joinForward}}),Object.defineProperty(e,"joinUp",{enumerable:!0,get:function(){return i.joinUp}}),Object.defineProperty(e,"lift",{enumerable:!0,get:function(){return i.lift}}),Object.defineProperty(e,"liftEmptyBlock",{enumerable:!0,get:function(){return i.liftEmptyBlock}}),Object.defineProperty(e,"macBaseKeymap",{enumerable:!0,get:function(){return i.macBaseKeymap}}),Object.defineProperty(e,"newlineInCode",{enumerable:!0,get:function(){return i.newlineInCode}}),Object.defineProperty(e,"pcBaseKeymap",{enumerable:!0,get:function(){return i.pcBaseKeymap}}),Object.defineProperty(e,"selectAll",{enumerable:!0,get:function(){return i.selectAll}}),Object.defineProperty(e,"selectNodeBackward",{enumerable:!0,get:function(){return i.selectNodeBackward}}),Object.defineProperty(e,"selectNodeForward",{enumerable:!0,get:function(){return i.selectNodeForward}}),Object.defineProperty(e,"selectParentNode",{enumerable:!0,get:function(){return i.selectParentNode}}),Object.defineProperty(e,"setBlockType",{enumerable:!0,get:function(){return i.setBlockType}}),Object.defineProperty(e,"splitBlock",{enumerable:!0,get:function(){return i.splitBlock}}),Object.defineProperty(e,"splitBlockKeepMarks",{enumerable:!0,get:function(){return i.splitBlockKeepMarks}}),Object.defineProperty(e,"toggleMark",{enumerable:!0,get:function(){return i.toggleMark}}),Object.defineProperty(e,"wrapIn",{enumerable:!0,get:function(){return i.wrapIn}}),Object.defineProperty(e,"addListNodes",{enumerable:!0,get:function(){return r.addListNodes}}),Object.defineProperty(e,"liftListItem",{enumerable:!0,get:function(){return r.liftListItem}}),Object.defineProperty(e,"sinkListItem",{enumerable:!0,get:function(){return r.sinkListItem}}),Object.defineProperty(e,"splitListItem",{enumerable:!0,get:function(){return r.splitListItem}}),Object.defineProperty(e,"wrapInList",{enumerable:!0,get:function(){return r.wrapInList}}),Object.defineProperty(e,"textblockTypeInputRule",{enumerable:!0,get:function(){return o.textblockTypeInputRule}}),Object.defineProperty(e,"wrappingInputRule",{enumerable:!0,get:function(){return o.wrappingInputRule}}),e.insertText=c,e.markInputRule=f,e.markPasteRule=p,e.nodeInputRule=d,e.pasteRule=h,e.removeMark=m,e.replaceText=g,e.setInlineBlockType=v,e.splitToDefaultListItem=b,e.toggleBlockType=_,e.toggleList=w,e.toggleWrap=k,e.updateMark=S},function(t,e,n){"use strict";n(10);var i=n(88),r=n(130),o=n(21),a=n(34),s=n(70),l=a("species"),c=RegExp.prototype;t.exports=function(t,e,n,u){var f=a(t),d=!o((function(){var e={};return e[f]=function(){return 7},7!=""[t](e)})),h=d&&!o((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[l]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return e=!0,null},n[f](""),!e}));if(!d||!h||n){var p=/./[f],m=e(f,""[t],(function(t,e,n,i,o){var a=e.exec;return a===r||a===c.exec?d&&!o?{done:!0,value:p.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}}));i(String.prototype,t,m[0]),i(c,f,m[1])}u&&s(c[f],"sham",!0)}},function(t,e,n){var i=n(86),r=n(130);t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var o=n.call(t,e);if("object"!==typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==i(t))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE__183__},function(t,e,n){"use strict";function i(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";var i=n(17),r=n(179).includes,o=n(136);i({target:"Array",proto:!0},{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},function(t,e,n){var i=n(237),r=n(170),o=r.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,o)}},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}n.d(e,"a",(function(){return r}))},function(t,e,n){var i=n(21),r=/#|\.prototype\./,o=function(t,e){var n=s[a(t)];return n==c||n!=l&&("function"==typeof e?i(e):!!e)},a=o.normalize=function(t){return String(t).replace(r,".").toLowerCase()},s=o.data={},l=o.NATIVE="N",c=o.POLYFILL="P";t.exports=o},function(t,e,n){var i=n(65),r=n(86),o=n(34),a=o("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==r(t))}},function(t,e,n){"use strict";var i=n(47);t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){var i=n(21),r=function(t,e){return RegExp(t,e)};e.UNSUPPORTED_Y=i((function(){var t=r("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=i((function(){var t=r("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.loaded,expression:"loaded"}],staticClass:"full-view"},[t.mobile?[n("div",{staticClass:"mobile-view demo"},[n("div",{staticClass:"mobile-view-content"},[t.loaded?n("PreviewLayout",{tag:"component",staticClass:"page-head-font-fixed"}):t._e()],1)])]:[t.loaded?n("PreviewLayout",{tag:"component",staticClass:"page-head-font-fixed"}):t._e()]],2)},r=[];i._withStripped=!0;n(97),n(26),n(15),n(28);var o={name:"DsfPreView",props:{mobile:{type:Boolean,default:!1}},data:function(){return{layout:{},loaded:!1,templateStr:"",domTree:null}},created:function(){},mounted:function(){dsf.global.$isMobile=this.mobile,this.loadLayout()},destroyed:function(){this.domTree&&this.domTree.$destroy()},methods:{loadLayout:function(){var t=dsf.storage.session.get("layoutContent"),e=$("<context>"+t+"</context>"),n=e.children("script[id='layout']"),i=["var layout="+$.trim(n.html())+";","return layout"],r=new Function(i.join("\n")),o=dsf.fillComponentDefaultProps(r());o["module-name"]=o.context.B+"."+o.context.M+"."+o.name;var s=dsf.designer.convertTemplateAndControlData(o,!0),l=s.tpl,c=Vue.compile(l),u=a.call(this,o,s.props,c.render);this.$options.components["PreviewLayout"]=u,this.loaded=!0,this.$nextTick((function(){dsf.resizeComponent()}))},loginTeas:function(){var t=dsf.layer.loading();this.$http.post(dsf.url.getWebPath("CommonLogin/userLogin"),{loginName:"15921116135",loginType:1,password:dsf.md5(dsf.md5("111111"))},$$webRoot.teas).done((function(t){t.success||dsf.layer.message(t.message,!1)})).error((function(t){dsf.layer.message(t.message||"出错了，请重试",!1)})).always((function(){dsf.layer.closeLoading(t)}))}}};function a(t,e,n){var i={render:n,name:"PreviewLayout",inject:{$parentView:{default:null},$frame:{default:null}},provide:function(){return{$vm:this,$parentView:this}},mixins:[],data:function(){return{context:{$$viewInitData:{},$$viewData:{},$$enum:{}},$$staticValue:{},$$controls:e,isPreView:!0,frames:{},_isLoaded:!1,loading:!1,metadataDict:{},metadataKeyList:[],flows:{}}},props:{nameSpace:{type:String,default:t.context.B+"."+t.context.M},pageName:{type:String,default:t.name},queryString:{type:Object,default:function(){return{}}},choiceParams:{type:Object,default:function(){return null}}},computed:{$staticValue:function(){var t;return(null===this||void 0===this||null===(t=this.context)||void 0===t?void 0:t.$$staticValue)||{}},$page:function(){var t;return null===this||void 0===this||null===(t=this.$refs)||void 0===t?void 0:t.page},$viewData:function(){var t;return(null===this||void 0===this||null===(t=this.context)||void 0===t?void 0:t.$$viewData)||{}},$viewInitData:function(){var t;return null===this||void 0===this||null===(t=this.context)||void 0===t?void 0:t.$$viewInitData},$enum:function(){var t;return null===this||void 0===this||null===(t=this.context)||void 0===t?void 0:t.$$enum},$dataKey:function(){var t=this.queryString;return t?t.id:""},$controls:function(){return this._data.$$controls},$isLoaded:function(){return this.$data._isLoaded},$keepAlive:function(){return!1}},beforeCreate:function(){},created:function(){if(this.$parentView&&this.$frame){var t=this.$frame.caption||this.$frame.$attrs.id;t&&(this.$parentView.frames[this.$frame.caption].content=this)}},mounted:function(){var t=this;this.$data._isLoaded=!0,this.$nextTick((function(){var e,n;window.preViewRef=t.$refs,window.__preView=t;var i=(null===(e=window)||void 0===e||null===(n=e.frameElement)||void 0===n?void 0:n.contentWindow)||window;i&&"appDemo"==i.name&&i.parent.postMessage({title:t.$page.title,type:"postTitle"})}))},beforeDestroy:function(){delete window.preViewRef,delete window.__preView},methods:{$clone:function(t){return JSON.parse(JSON.stringify(t))},$getDefaultValue:function(){},$dataFormat:function(t,e,n){if(e){var i=dsf.global.Vue.filter(t);if(i)return i(n,e)}return n},$addFiled:function(){}}};return"form"!=t.pageType&&"question"!=t.pageType||i.mixins.push(window.$$form),i}var s=o,l=n(0),c=Object(l["a"])(s,i,r,!1,null,null,null);c.options.__file="output/layoutPreView.vue";e["a"]=c.exports},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ds-designer-mobile-setting",staticStyle:{width:"100%",height:"100%","padding-top":"50px","box-sizing":"border-box"}},[n("div",{staticClass:"ds-designer-phone"},[n("DsfDemoBrowserNavBar",{staticClass:"browser-nav-bar",attrs:{"show-back":!1,title:t.title}}),n("iframe",{attrs:{name:"appDemo",src:t.dsf.url.getWebPath("~/designer.html#/pc/preview?mobile=1")}})],1)])},r=[];i._withStripped=!0;var o={name:"DsfMobilePreView",props:{},data:function(){return{title:""}},created:function(){window.addEventListener("message",this.onMessage)},beforeDestroy:function(){window.removeEventListener("message",this.onMessage)},methods:{onMessage:function(t){"postTitle"==t.data.type&&(this.title=t.title)}}},a=o,s=n(0),l=Object(s["a"])(a,i,r,!1,null,null,null);l.options.__file="output/layoutMobilePreView.vue";e["a"]=l.exports},function(t,e,n){"use strict";function i(t){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";var i=n(17),r=n(238),o=n(60),a=n(240);i({target:"String",proto:!0,forced:!a("includes")},{includes:function(t){return!!~String(o(this)).indexOf(r(t),arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var i=n(171);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var i=n(17),r=n(61),o=n(177),a=n(21),s=a((function(){o(1)}));i({target:"Object",stat:!0,forced:s},{keys:function(t){return o(r(t))}})},function(t,e,n){"use strict";var i={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!i.call({1:2},1);e.f=o?function(t){var e=r(this,t);return!!e&&e.enumerable}:i},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+i).toString(36)}},function(t,e,n){var i=n(85),r=n(60),o=function(t){return function(e,n){var o,a,s=String(r(e)),l=i(n),c=s.length;return l<0||l>=c?t?"":void 0:(o=s.charCodeAt(l),o<55296||o>56319||l+1===c||(a=s.charCodeAt(l+1))<56320||a>57343?t?s.charAt(l):o:t?s.slice(l,l+2):a-56320+(o-55296<<10)+65536)}};t.exports={codeAt:o(!1),charAt:o(!0)}},function(t,e,n){"use strict";var i=n(88),r=n(47),o=n(21),a=n(191),s="toString",l=RegExp.prototype,c=l[s],u=o((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),f=c.name!=s;(u||f)&&i(RegExp.prototype,s,(function(){var t=r(this),e=String(t.source),n=t.flags,i=String(void 0===n&&t instanceof RegExp&&!("flags"in l)?a.call(t):n);return"/"+e+"/"+i}),{unsafe:!0})},function(t,e,n){t.exports=!n(29)&&!n(12)((function(){return 7!=Object.defineProperty(n(142)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var i=n(11),r=n(27),o=n(77),a=n(143),s=n(30).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=o?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){var i=n(43),r=n(45),o=n(114)(!1),a=n(144)("IE_PROTO");t.exports=function(t,e){var n,s=r(t),l=0,c=[];for(n in s)n!=a&&i(s,n)&&c.push(n);while(e.length>l)i(s,n=e[l++])&&(~o(c,n)||c.push(n));return c}},function(t,e,n){var i=n(30),r=n(13),o=n(78);t.exports=n(29)?Object.defineProperties:function(t,e){r(t);var n,a=o(e),s=a.length,l=0;while(s>l)i.f(t,n=a[l++],e[n]);return t}},function(t,e,n){var i=n(45),r=n(81).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return r(t)}catch(e){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?s(t):r(i(t))}},function(t,e,n){"use strict";var i=n(29),r=n(78),o=n(115),a=n(99),s=n(37),l=n(98),c=Object.assign;t.exports=!c||n(12)((function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=i}))?function(t,e){var n=s(t),c=arguments.length,u=1,f=o.f,d=a.f;while(c>u){var h,p=l(arguments[u++]),m=f?r(p).concat(f(p)):r(p),g=m.length,v=0;while(g>v)h=m[v++],i&&!d.call(p,h)||(n[h]=p[h])}return n}:c},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},function(t,e,n){"use strict";var i=n(55),r=n(14),o=n(211),a=[].slice,s={},l=function(t,e,n){if(!(e in s)){for(var i=[],r=0;r<e;r++)i[r]="a["+r+"]";s[e]=Function("F,a","return new F("+i.join(",")+")")}return s[e](t,n)};t.exports=Function.bind||function(t){var e=i(this),n=a.call(arguments,1),s=function(){var i=n.concat(a.call(arguments));return this instanceof s?l(e,i.length,i):o(e,i,t)};return r(e.prototype)&&(s.prototype=e.prototype),s}},function(t,e){t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var i=n(11).parseInt,r=n(90).trim,o=n(148),a=/^[-+]?0[xX]/;t.exports=8!==i(o+"08")||22!==i(o+"0x16")?function(t,e){var n=r(String(t),3);return i(n,e>>>0||(a.test(n)?16:10))}:i},function(t,e,n){var i=n(11).parseFloat,r=n(90).trim;t.exports=1/i(n(148)+"-0")!==-1/0?function(t){var e=r(String(t),3),n=i(e);return 0===n&&"-"==e.charAt(0)?-0:n}:i},function(t,e,n){var i=n(67);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=i(t))throw TypeError(e);return+t}},function(t,e,n){var i=n(14),r=Math.floor;t.exports=function(t){return!i(t)&&isFinite(t)&&r(t)===t}},function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,n){"use strict";var i=n(80),r=n(75),o=n(89),a={};n(44)(a,n(19)("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=i(a,{next:r(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var i=n(13);t.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(a){var o=t["return"];throw void 0!==o&&i(o.call(t)),a}}},function(t,e,n){var i=n(363);t.exports=function(t,e){return new(i(t))(e)}},function(t,e,n){var i=n(55),r=n(37),o=n(98),a=n(22);t.exports=function(t,e,n,s,l){i(e);var c=r(t),u=o(c),f=a(c.length),d=l?f-1:0,h=l?-1:1;if(n<2)for(;;){if(d in u){s=u[d],d+=h;break}if(d+=h,l?d<0:f<=d)throw TypeError("Reduce of empty array with no initial value")}for(;l?d>=0:f>d;d+=h)d in u&&(s=e(s,u[d],d,c));return s}},function(t,e,n){"use strict";var i=n(37),r=n(79),o=n(22);t.exports=[].copyWithin||function(t,e){var n=i(this),a=o(n.length),s=r(t,a),l=r(e,a),c=arguments.length>2?arguments[2]:void 0,u=Math.min((void 0===c?a:r(c,a))-l,a-s),f=1;l<s&&s<l+u&&(f=-1,l+=u-1,s+=u-1);while(u-- >0)l in n?n[s]=n[l]:delete n[s],s+=f,l+=f;return n}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var i=n(163);n(1)({target:"RegExp",proto:!0,forced:i!==/./.exec},{exec:i})},function(t,e,n){n(29)&&"g"!=/./g.flags&&n(30).f(RegExp.prototype,"flags",{configurable:!0,get:n(118)})},function(t,e,n){"use strict";var i,r,o,a,s=n(77),l=n(11),c=n(54),u=n(100),f=n(1),d=n(14),h=n(55),p=n(93),m=n(121),g=n(101),v=n(165).set,y=n(383)(),b=n(226),_=n(384),x=n(122),w=n(227),k="Promise",S=l.TypeError,O=l.process,C=O&&O.versions,E=C&&C.v8||"",D=l[k],T="process"==u(O),N=function(){},M=r=b.f,A=!!function(){try{var t=D.resolve(1),e=(t.constructor={})[n(19)("species")]=function(t){t(N,N)};return(T||"function"==typeof PromiseRejectionEvent)&&t.then(N)instanceof e&&0!==E.indexOf("6.6")&&-1===x.indexOf("Chrome/66")}catch(i){}}(),j=function(t){var e;return!(!d(t)||"function"!=typeof(e=t.then))&&e},P=function(t,e){if(!t._n){t._n=!0;var n=t._c;y((function(){var i=t._v,r=1==t._s,o=0,a=function(e){var n,o,a,s=r?e.ok:e.fail,l=e.resolve,c=e.reject,u=e.domain;try{s?(r||(2==t._h&&L(t),t._h=1),!0===s?n=i:(u&&u.enter(),n=s(i),u&&(u.exit(),a=!0)),n===e.promise?c(S("Promise-chain cycle")):(o=j(n))?o.call(n,l,c):l(n)):c(i)}catch(f){u&&!a&&u.exit(),c(f)}};while(n.length>o)a(n[o++]);t._c=[],t._n=!1,e&&!t._h&&$(t)}))}},$=function(t){v.call(l,(function(){var e,n,i,r=t._v,o=I(t);if(o&&(e=_((function(){T?O.emit("unhandledRejection",r,t):(n=l.onunhandledrejection)?n({promise:t,reason:r}):(i=l.console)&&i.error&&i.error("Unhandled promise rejection",r)})),t._h=T||I(t)?2:1),t._a=void 0,o&&e.e)throw e.v}))},I=function(t){return 1!==t._h&&0===(t._a||t._c).length},L=function(t){v.call(l,(function(){var e;T?O.emit("rejectionHandled",t):(e=l.onrejectionhandled)&&e({promise:t,reason:t._v})}))},R=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),P(e,!0))},B=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw S("Promise can't be resolved itself");(e=j(t))?y((function(){var i={_w:n,_d:!1};try{e.call(t,c(B,i,1),c(R,i,1))}catch(r){R.call(i,r)}})):(n._v=t,n._s=1,P(n,!1))}catch(i){R.call({_w:n,_d:!1},i)}}};A||(D=function(t){p(this,D,k,"_h"),h(t),i.call(this);try{t(c(B,this,1),c(R,this,1))}catch(err){R.call(this,err)}},i=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},i.prototype=n(94)(D.prototype,{then:function(t,e){var n=M(g(this,D));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=T?O.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&P(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new i;this.promise=t,this.resolve=c(B,t,1),this.reject=c(R,t,1)},b.f=M=function(t){return t===D||t===a?new o(t):r(t)}),f(f.G+f.W+f.F*!A,{Promise:D}),n(89)(D,k),n(92)(k),a=n(27)[k],f(f.S+f.F*!A,k,{reject:function(t){var e=M(this),n=e.reject;return n(t),e.promise}}),f(f.S+f.F*(s||!A),k,{resolve:function(t){return w(s&&this===a?D:this,t)}}),f(f.S+f.F*!(A&&n(117)((function(t){D.all(t)["catch"](N)}))),k,{all:function(t){var e=this,n=M(e),i=n.resolve,r=n.reject,o=_((function(){var n=[],o=0,a=1;m(t,!1,(function(t){var s=o++,l=!1;n.push(void 0),a++,e.resolve(t).then((function(t){l||(l=!0,n[s]=t,--a||i(n))}),r)})),--a||i(n)}));return o.e&&r(o.v),n.promise},race:function(t){var e=this,n=M(e),i=n.reject,r=_((function(){m(t,!1,(function(t){e.resolve(t).then(n.resolve,i)}))}));return r.e&&i(r.v),n.promise}})},function(t,e,n){"use strict";var i=n(55);function r(t){var e,n;this.promise=new t((function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i})),this.resolve=i(e),this.reject=i(n)}t.exports.f=function(t){return new r(t)}},function(t,e,n){var i=n(13),r=n(14),o=n(226);t.exports=function(t,e){if(i(t),r(e)&&e.constructor===t)return e;var n=o.f(t),a=n.resolve;return a(e),n.promise}},function(t,e,n){"use strict";var i=n(30).f,r=n(80),o=n(94),a=n(54),s=n(93),l=n(121),c=n(154),u=n(222),f=n(92),d=n(29),h=n(73).fastKey,p=n(84),m=d?"_s":"size",g=function(t,e){var n,i=h(e);if("F"!==i)return t._i[i];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,c){var u=t((function(t,i){s(t,u,e,"_i"),t._t=e,t._i=r(null),t._f=void 0,t._l=void 0,t[m]=0,void 0!=i&&l(i,n,t[c],t)}));return o(u.prototype,{clear:function(){for(var t=p(this,e),n=t._i,i=t._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete n[i.i];t._f=t._l=void 0,t[m]=0},delete:function(t){var n=p(this,e),i=g(n,t);if(i){var r=i.n,o=i.p;delete n._i[i.i],i.r=!0,o&&(o.n=r),r&&(r.p=o),n._f==i&&(n._f=r),n._l==i&&(n._l=o),n[m]--}return!!i},forEach:function(t){p(this,e);var n,i=a(t,arguments.length>1?arguments[1]:void 0,3);while(n=n?n.n:this._f){i(n.v,n.k,this);while(n&&n.r)n=n.p}},has:function(t){return!!g(p(this,e),t)}}),d&&i(u.prototype,"size",{get:function(){return p(this,e)[m]}}),u},def:function(t,e,n){var i,r,o=g(t,e);return o?o.v=n:(t._l=o={i:r=h(e,!0),k:e,v:n,p:i=t._l,n:void 0,r:!1},t._f||(t._f=o),i&&(i.n=o),t[m]++,"F"!==r&&(t._i[r]=o)),t},getEntry:g,setStrong:function(t,e,n){c(t,e,(function(t,n){this._t=p(t,e),this._k=n,this._l=void 0}),(function(){var t=this,e=t._k,n=t._l;while(n&&n.r)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?u(0,"keys"==e?n.k:"values"==e?n.v:[n.k,n.v]):(t._t=void 0,u(1))}),n?"entries":"values",!n,!0),f(e)}}},function(t,e,n){"use strict";var i=n(94),r=n(73).getWeak,o=n(13),a=n(14),s=n(93),l=n(121),c=n(59),u=n(43),f=n(84),d=c(5),h=c(6),p=0,m=function(t){return t._l||(t._l=new g)},g=function(){this.a=[]},v=function(t,e){return d(t.a,(function(t){return t[0]===e}))};g.prototype={get:function(t){var e=v(this,t);if(e)return e[1]},has:function(t){return!!v(this,t)},set:function(t,e){var n=v(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=h(this.a,(function(e){return e[0]===t}));return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,o){var c=t((function(t,i){s(t,c,e,"_i"),t._t=e,t._i=p++,t._l=void 0,void 0!=i&&l(i,n,t[o],t)}));return i(c.prototype,{delete:function(t){if(!a(t))return!1;var n=r(t);return!0===n?m(f(this,e))["delete"](t):n&&u(n,this._i)&&delete n[this._i]},has:function(t){if(!a(t))return!1;var n=r(t);return!0===n?m(f(this,e)).has(t):n&&u(n,this._i)}}),c},def:function(t,e,n){var i=r(o(e),!0);return!0===i?m(t).set(e,n):i[t._i]=n,t},ufstore:m}},function(t,e,n){var i=n(56),r=n(22);t.exports=function(t){if(void 0===t)return 0;var e=i(t),n=r(e);if(e!==n)throw RangeError("Wrong length!");return n}},function(t,e,n){var i=n(81),r=n(115),o=n(13),a=n(11).Reflect;t.exports=a&&a.ownKeys||function(t){var e=i.f(o(t)),n=r.f;return n?e.concat(n(t)):e}},function(t,e,n){var i=n(22),r=n(150),o=n(68);t.exports=function(t,e,n,a){var s=String(o(t)),l=s.length,c=void 0===n?" ":String(n),u=i(e);if(u<=l||""==c)return s;var f=u-l,d=r.call(c,Math.ceil(f/c.length));return d.length>f&&(d=d.slice(0,f)),a?d+s:s+d}},function(t,e,n){var i=n(29),r=n(78),o=n(45),a=n(99).f;t.exports=function(t){return function(e){var n,s=o(e),l=r(s),c=l.length,u=0,f=[];while(c>u)n=l[u++],i&&!a.call(s,n)||f.push(t?[n,s[n]]:s[n]);return f}}},function(t,e,n){var i=n(66),r=n(21),o=n(235);t.exports=!i&&!r((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var i=n(32),r=n(65),o=i.document,a=r(o)&&r(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},function(t,e,n){var i=n(168),r=Function.toString;"function"!=typeof i.inspectSource&&(i.inspectSource=function(t){return r.call(t)}),t.exports=i.inspectSource},function(t,e,n){var i=n(53),r=n(87),o=n(179).indexOf,a=n(138);t.exports=function(t,e){var n,s=r(t),l=0,c=[];for(n in s)!i(a,n)&&i(s,n)&&c.push(n);while(e.length>l)i(s,n=e[l++])&&(~o(c,n)||c.push(n));return c}},function(t,e,n){var i=n(190);t.exports=function(t){if(i(t))throw TypeError("The method doesn't accept regular expressions");return t}},function(t,e,n){var i=n(127),r=n(21);t.exports=!!Object.getOwnPropertySymbols&&!r((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},function(t,e,n){var i=n(34),r=i("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(i){}}return!1}},function(t,e,n){"use strict";var i=n(201).charAt;t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},function(t,e,n){"use strict";var i=n(96).forEach,r=n(95),o=r("forEach");t.exports=o?[].forEach:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}},,function(t,e,n){t.exports=n.p+"modules/platform/img/default-header.png"},function(t,e,n){"use strict";n.r(e),n.d(e,"InputRule",(function(){return o})),n.d(e,"closeDoubleQuote",(function(){return p})),n.d(e,"closeSingleQuote",(function(){return g})),n.d(e,"ellipsis",(function(){return d})),n.d(e,"emDash",(function(){return f})),n.d(e,"inputRules",(function(){return l})),n.d(e,"openDoubleQuote",(function(){return h})),n.d(e,"openSingleQuote",(function(){return m})),n.d(e,"smartQuotes",(function(){return v})),n.d(e,"textblockTypeInputRule",(function(){return b})),n.d(e,"undoInputRule",(function(){return u})),n.d(e,"wrappingInputRule",(function(){return y}));var i=n(7),r=n(51),o=function(t,e){this.match=t,this.handler="string"==typeof e?a(e):e};function a(t){return function(e,n,i,r){var o=t;if(n[1]){var a=n[0].lastIndexOf(n[1]);o+=n[0].slice(a+n[1].length),i+=a;var s=i-r;s>0&&(o=n[0].slice(a-s,a)+o,i=r)}return e.tr.insertText(o,i,r)}}var s=500;function l(t){var e=t.rules,n=new i["Plugin"]({state:{init:function(){return null},apply:function(t,e){var n=t.getMeta(this);return n||(t.selectionSet||t.docChanged?null:e)}},props:{handleTextInput:function(t,i,r,o){return c(t,i,r,o,e,n)},handleDOMEvents:{compositionend:function(t){setTimeout((function(){var i=t.state.selection,r=i.$cursor;r&&c(t,r.pos,r.pos,"",e,n)}))}}},isInputRules:!0});return n}function c(t,e,n,i,r,o){if(t.composing)return!1;var a=t.state,l=a.doc.resolve(e);if(l.parent.type.spec.code)return!1;for(var c=l.parent.textBetween(Math.max(0,l.parentOffset-s),l.parentOffset,null,"￼")+i,u=0;u<r.length;u++){var f=r[u].match.exec(c),d=f&&r[u].handler(a,f,e-(f[0].length-i.length),n);if(d)return t.dispatch(d.setMeta(o,{transform:d,from:e,to:n,text:i})),!0}return!1}function u(t,e){for(var n=t.plugins,i=0;i<n.length;i++){var r=n[i],o=void 0;if(r.spec.isInputRules&&(o=r.getState(t))){if(e){for(var a=t.tr,s=o.transform,l=s.steps.length-1;l>=0;l--)a.step(s.steps[l].invert(s.docs[l]));if(o.text){var c=a.doc.resolve(o.from).marks();a.replaceWith(o.from,o.to,t.schema.text(o.text,c))}else a.delete(o.from,o.to);e(a)}return!0}}return!1}var f=new o(/--$/,"—"),d=new o(/\.\.\.$/,"…"),h=new o(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"“"),p=new o(/"$/,"”"),m=new o(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"‘"),g=new o(/'$/,"’"),v=[h,p,m,g];function y(t,e,n,i){return new o(t,(function(t,o,a,s){var l=n instanceof Function?n(o):n,c=t.tr.delete(a,s),u=c.doc.resolve(a),f=u.blockRange(),d=f&&Object(r["i"])(f,e,l);if(!d)return null;c.wrap(f,d);var h=c.doc.resolve(a-1).nodeBefore;return h&&h.type==e&&Object(r["f"])(c.doc,a-1)&&(!i||i(o,h))&&c.join(a-1),c}))}function b(t,e,n){return new o(t,(function(t,i,r,o){var a=t.doc.resolve(r),s=n instanceof Function?n(i):n;return a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),e)?t.tr.delete(r,o).setBlockType(r,r,e,s):null}))}},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ds-enum-editor-item"},[n("div",{staticClass:"ds-enum-editor-item-left",class:{fill:t.hideRight}},[n("dsf-tree-select",{attrs:{"tree-data":t.treeData,"node-key":t.idKey,"node-name":t.nameKey,loading:t.treeLoading,"default-checked-key":t.defaultCheckedKey,"search-control":"","default-expand-all":""},on:{"choose-node":t.chooseNode,"choose-key":function(e){t.radioId=e}}})],1),t.hideRight?t._e():n("div",{staticClass:"ds-enum-editor-item-main"},[n("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{border:"",stripe:"","max-height":"378px","row-key":"value","default-expand-all":"","highlight-current-row":"",data:t.tableList,"empty-text":t.loading?"数据加载中...":t.emptyText,"tree-props":{children:"children",hasChildren:"hasChildren"},"row-class-name":t.tableRowClassName},on:{"current-change":t.handleCurrentChange}},[n("el-table-column",{attrs:{type:"index",index:t.startIndex+1,label:"序号",width:"80"}}),n("el-table-column",{attrs:{prop:"text",label:"文本",width:"224"}}),n("el-table-column",{attrs:{prop:"value",label:"值"}})],1),n("div",{staticClass:"ds-enum-editor-item-main-pagination"},[n("el-pagination",{attrs:{"current-page":t.pageNum,"page-size":t.pageSize,"pager-count":5,layout:"total, prev, pager, next, jumper",total:t.total,background:"",small:""},on:{"current-change":function(e){t.pageNum=e}}})],1)],1)])},r=[];i._withStripped=!0;n(8),n(46),n(128),n(64),n(15),n(16);var o=n(175),a={name:"EnumEditorItem",components:{DsfTreeSelect:o["default"]},props:{value:{type:Object,required:!0},emptyText:{type:String,default:"请选择"},treeLoading:{type:Boolean,default:!1},treeData:{type:Array,default:function(){return[]}},tablePost:{type:Function,default:function(){}},type:{type:String,required:!0},hideRight:{type:Boolean,default:!1},nameKey:{type:String,default:"label",desc:"树节点已哪个字段作为名称"},idKey:{type:String,default:"ID"},defaultCheckedKey:{type:[String,Number],default:""}},data:function(){return{loading:!1,radioId:null,pageSize:100,pageNum:1,metaTree:{},currentRowKey:"",val:this.value.code?this.value:{type:this.type,code:null,attach:[]}}},computed:{total:function(){var t=this.value;return this.metaTree.attach&&(t=this.metaTree),t.attach.length},startIndex:function(){return this.pageNum*this.pageSize-this.pageSize},tableList:function(){var t=this.value;return this.metaTree.attach&&(t=this.metaTree),t.attach.slice(this.startIndex,this.startIndex+this.pageSize)}},watch:{radioId:function(t,e){var n=this;if("meta"===this.type||"ds"===this.type)this.val["chooseKey"]=t;else{var i={type:this.type,code:this.radioId,attach:[]};this.$emit("input",i),this.$emit("change",i),this.pageNum=1,t&&t!==e&&(this.loading=!0,this.tablePost(t,(function(t){n.updateValue(t),n.loading=!1})))}}},created:function(){var t=this;if(this.value){var e=this.value.chooseKey||this.value.code;e&&(this.radioId=e,this.loading=!0,this.tablePost(e,(function(e){t.updateValue(e),t.loading=!1})))}},methods:{tableRowClassName:function(t){var e=t.row;return this.currentRowKey===e["value"]?"current-row":""},chooseNode:function(t){if("meta"===this.type){var e=[],n=function(n){var i=$.extend({},t.metadata[n]);i["text"]=i.name,i["value"]=i.id,i.valueAttributes&&i.valueAttributes.length>1&&(i["children"]=i.valueAttributes.map((function(t){return t.text=t.name,t.value=i.id+"_"+t.code,t.at=i.at,t}))),e.push(i)};for(var i in t.metadata)n(i);e=e.sort((function(t,e){var n=t.order?parseInt(t.order):0,i=e.order?parseInt(e.order):0;return n<i?-1:1})),this.updateValue(e)}else if("ds"===this.type){var r={type:this.type,code:t.dsfa_rm_id,attach:[],chooseKey:t[this.idKey]};this.$emit("input",r),this.$emit("change",r)}},updateValue:function(t){var e={type:this.type,code:this.radioId,attach:t};"meta"===this.type&&(this.metaTree=e),this.$emit("input",e),this.$emit("change",e)},handleCurrentChange:function(t){t&&t.children?(this.$refs.singleTable.setCurrentRow(),this.$refs.singleTable.toggleRowExpansion(t),this.currentRowKey="",this.val.code=null):t&&(this.currentRowKey=t["value"],this.val.code=t)},getResult:function(){this.$emit("input",this.val),this.$emit("change",this.val)},initMetaTable:function(){this.radioId&&"meta"===this.type&&this.$refs.singleTable.setCurrentRow(this.value.code)}}},s=a,l=n(0),c=Object(l["a"])(s,i,r,!1,null,null,null);c.options.__file="designer/setting/item/enumEditorItem.vue";e["default"]=c.exports},,function(t,e,n){var i=n(71).f,r=n(53),o=n(34),a=o("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,a)&&i(t,a,{configurable:!0,value:e})}},function(t,e,n){var i=n(174),r=n(86),o=n(34),a=o("toStringTag"),s="Arguments"==r(function(){return arguments}()),l=function(t,e){try{return t[e]}catch(n){}};t.exports=i?r:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=l(e=Object(t),a))?n:s?r(e):"Object"==(i=r(e))&&"function"==typeof e.callee?"Arguments":i}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(i){"object"===typeof window&&(n=window)}t.exports=n},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){"use strict";n.r(e),n.d(e,"addListNodes",(function(){return d})),n.d(e,"bulletList",(function(){return c})),n.d(e,"liftListItem",(function(){return g})),n.d(e,"listItem",(function(){return u})),n.d(e,"orderedList",(function(){return l})),n.d(e,"sinkListItem",(function(){return b})),n.d(e,"splitListItem",(function(){return m})),n.d(e,"wrapInList",(function(){return h}));var i=n(51),r=n(4),o=["ol",0],a=["ul",0],s=["li",0],l={attrs:{order:{default:1}},parseDOM:[{tag:"ol",getAttrs:function(t){return{order:t.hasAttribute("start")?+t.getAttribute("start"):1}}}],toDOM:function(t){return 1==t.attrs.order?o:["ol",{start:t.attrs.order},0]}},c={parseDOM:[{tag:"ul"}],toDOM:function(){return a}},u={parseDOM:[{tag:"li"}],toDOM:function(){return s},defining:!0};function f(t,e){var n={};for(var i in t)n[i]=t[i];for(var r in e)n[r]=e[r];return n}function d(t,e,n){return t.append({ordered_list:f(l,{content:"list_item+",group:n}),bullet_list:f(c,{content:"list_item+",group:n}),list_item:f(u,{content:e})})}function h(t,e){return function(n,o){var a=n.selection,s=a.$from,l=a.$to,c=s.blockRange(l),u=!1,f=c;if(!c)return!1;if(c.depth>=2&&s.node(c.depth-1).type.compatibleContent(t)&&0==c.startIndex){if(0==s.index(c.depth-1))return!1;var d=n.doc.resolve(c.start-2);f=new r["NodeRange"](d,d,c.depth),c.endIndex<c.parent.childCount&&(c=new r["NodeRange"](s,n.doc.resolve(l.end(c.depth)),c.depth)),u=!0}var h=Object(i["i"])(f,t,e,c);return!!h&&(o&&o(p(n.tr,c,h,u,t).scrollIntoView()),!0)}}function p(t,e,n,o,a){for(var s=r["Fragment"].empty,l=n.length-1;l>=0;l--)s=r["Fragment"].from(n[l].type.create(n[l].attrs,s));t.step(new i["b"](e.start-(o?2:0),e.end,e.start,e.end,new r["Slice"](s,0,0),n.length,!0));for(var c=0,u=0;u<n.length;u++)n[u].type==a&&(c=u+1);for(var f=n.length-c,d=e.start+n.length-(o?2:0),h=e.parent,p=e.startIndex,m=e.endIndex,g=!0;p<m;p++,g=!1)!g&&Object(i["g"])(t.doc,d,f)&&(t.split(d,f),d+=2*f),d+=h.child(p).nodeSize;return t}function m(t){return function(e,n){var o=e.selection,a=o.$from,s=o.$to,l=o.node;if(l&&l.isBlock||a.depth<2||!a.sameParent(s))return!1;var c=a.node(-1);if(c.type!=t)return!1;if(0==a.parent.content.size&&a.node(-1).childCount==a.indexAfter(-1)){if(2==a.depth||a.node(-3).type!=t||a.index(-2)!=a.node(-2).childCount-1)return!1;if(n){for(var u=r["Fragment"].empty,f=a.index(-1)>0,d=a.depth-(f?1:2);d>=a.depth-3;d--)u=r["Fragment"].from(a.node(d).copy(u));u=u.append(r["Fragment"].from(t.createAndFill()));var h=e.tr.replace(a.before(f?null:-1),a.after(-3),new r["Slice"](u,f?3:2,2));h.setSelection(e.selection.constructor.near(h.doc.resolve(a.pos+(f?3:2)))),n(h.scrollIntoView())}return!0}var p=s.pos==a.end()?c.contentMatchAt(0).defaultType:null,m=e.tr.delete(a.pos,s.pos),g=p&&[null,{type:p}];return!!Object(i["g"])(m.doc,a.pos,2,g)&&(n&&n(m.split(a.pos,2,g).scrollIntoView()),!0)}}function g(t){return function(e,n){var i=e.selection,r=i.$from,o=i.$to,a=r.blockRange(o,(function(e){return e.childCount&&e.firstChild.type==t}));return!!a&&(!n||(r.node(a.depth-1).type==t?v(e,n,t,a):y(e,n,a)))}}function v(t,e,n,o){var a=t.tr,s=o.end,l=o.$to.end(o.depth);return s<l&&(a.step(new i["b"](s-1,l,s,l,new r["Slice"](r["Fragment"].from(n.create(null,o.parent.copy())),1,0),1,!0)),o=new r["NodeRange"](a.doc.resolve(o.$from.pos),a.doc.resolve(l),o.depth)),e(a.lift(o,Object(i["k"])(o)).scrollIntoView()),!0}function y(t,e,n){for(var o=t.tr,a=n.parent,s=n.end,l=n.endIndex-1,c=n.startIndex;l>c;l--)s-=a.child(l).nodeSize,o.delete(s-1,s+1);var u=o.doc.resolve(n.start),f=u.nodeAfter,d=0==n.startIndex,h=n.endIndex==a.childCount,p=u.node(-1),m=u.index(-1);if(!p.canReplace(m+(d?0:1),m+1,f.content.append(h?r["Fragment"].empty:r["Fragment"].from(a))))return!1;var g=u.pos,v=g+f.nodeSize;return o.step(new i["b"](g-(d?1:0),v+(h?1:0),g+1,v-1,new r["Slice"]((d?r["Fragment"].empty:r["Fragment"].from(a.copy(r["Fragment"].empty))).append(h?r["Fragment"].empty:r["Fragment"].from(a.copy(r["Fragment"].empty))),d?0:1,h?0:1),d?0:1)),e(o.scrollIntoView()),!0}function b(t){return function(e,n){var o=e.selection,a=o.$from,s=o.$to,l=a.blockRange(s,(function(e){return e.childCount&&e.firstChild.type==t}));if(!l)return!1;var c=l.startIndex;if(0==c)return!1;var u=l.parent,f=u.child(c-1);if(f.type!=t)return!1;if(n){var d=f.lastChild&&f.lastChild.type==u.type,h=r["Fragment"].from(d?t.create():null),p=new r["Slice"](r["Fragment"].from(t.create(null,r["Fragment"].from(u.type.create(null,h)))),d?3:1,0),m=l.start,g=l.end;n(e.tr.step(new i["b"](m-(d?3:1),g,m,g,p,1,!0)).scrollIntoView())}return!0}}},function(t,e,n){"use strict";function i(t){if(Array.isArray(t))return t}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(e,"a",(function(){return i}))},function(t,e,n){var i=n(21);t.exports=i((function(){var t=RegExp(".","string".charAt(0));return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))},function(t,e,n){var i=n(21);t.exports=i((function(){var t=RegExp("(?<a>b)","string".charAt(5));return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},function(t,e,n){var i=n(53),r=n(61),o=n(178),a=n(467),s=o("IE_PROTO"),l=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=r(t),i(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?l:null}},,function(t,e,n){"use strict";n.r(e),n.d(e,"keydownHandler",(function(){return _})),n.d(e,"keymap",(function(){return b}));for(var i={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},r={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},o="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),a="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),s="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),l="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),c="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),u=o&&(l||+o[1]<57)||s&&l,f=0;f<10;f++)i[48+f]=i[96+f]=String(f);for(f=1;f<=24;f++)i[f+111]="F"+f;for(f=65;f<=90;f++)i[f]=String.fromCharCode(f+32),r[f]=String.fromCharCode(f);for(var d in i)r.hasOwnProperty(d)||(r[d]=i[d]);function h(t){var e=u&&(t.ctrlKey||t.altKey||t.metaKey)||(a||c)&&t.shiftKey&&t.key&&1==t.key.length,n=!e&&t.key||(t.shiftKey?r:i)[t.keyCode]||t.key||"Unidentified";return"Esc"==n&&(n="Escape"),"Del"==n&&(n="Delete"),"Left"==n&&(n="ArrowLeft"),"Up"==n&&(n="ArrowUp"),"Right"==n&&(n="ArrowRight"),"Down"==n&&(n="ArrowDown"),n}var p=n(7),m="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);function g(t){var e,n,i,r,o=t.split(/-(?!$)/),a=o[o.length-1];"Space"==a&&(a=" ");for(var s=0;s<o.length-1;s++){var l=o[s];if(/^(cmd|meta|m)$/i.test(l))r=!0;else if(/^a(lt)?$/i.test(l))e=!0;else if(/^(c|ctrl|control)$/i.test(l))n=!0;else if(/^s(hift)?$/i.test(l))i=!0;else{if(!/^mod$/i.test(l))throw new Error("Unrecognized modifier name: "+l);m?r=!0:n=!0}}return e&&(a="Alt-"+a),n&&(a="Ctrl-"+a),r&&(a="Meta-"+a),i&&(a="Shift-"+a),a}function v(t){var e=Object.create(null);for(var n in t)e[g(n)]=t[n];return e}function y(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),!1!==n&&e.shiftKey&&(t="Shift-"+t),t}function b(t){return new p["Plugin"]({props:{handleKeyDown:_(t)}})}function _(t){var e=v(t);return function(t,n){var r,o=h(n),a=1==o.length&&" "!=o,s=e[y(o,n,!a)];if(s&&s(t.state,t.dispatch,t))return!0;if(a&&(n.shiftKey||n.altKey||n.metaKey||o.charCodeAt(0)>127)&&(r=i[n.keyCode])&&r!=o){var l=e[y(r,n,!0)];if(l&&l(t.state,t.dispatch,t))return!0}else if(a&&n.shiftKey){var c=e[y(o,n,!0)];if(c&&c(t.state,t.dispatch,t))return!0}return!1}}},function(t,e,n){"use strict";var i=n(201).charAt,r=n(107),o=n(263),a="String Iterator",s=r.set,l=r.getterFor(a);o(String,"String",(function(t){s(this,{type:a,string:String(t),index:0})}),(function(){var t,e=l(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=i(n,r),e.index+=t.length,{value:t,done:!1})}))},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var i=n(66),r=n(71),o=n(47),a=n(177);t.exports=i?Object.defineProperties:function(t,e){o(t);var n,i=a(e),s=i.length,l=0;while(s>l)r.f(t,n=i[l++],e[n]);return t}},function(t,e,n){"use strict";var i=n(17),r=n(464),o=n(257),a=n(265),s=n(248),l=n(70),c=n(88),u=n(34),f=n(112),d=n(137),h=n(264),p=h.IteratorPrototype,m=h.BUGGY_SAFARI_ITERATORS,g=u("iterator"),v="keys",y="values",b="entries",_=function(){return this};t.exports=function(t,e,n,u,h,x,w){r(n,e,u);var k,S,O,C=function(t){if(t===h&&M)return M;if(!m&&t in T)return T[t];switch(t){case v:return function(){return new n(this,t)};case y:return function(){return new n(this,t)};case b:return function(){return new n(this,t)}}return function(){return new n(this)}},E=e+" Iterator",D=!1,T=t.prototype,N=T[g]||T["@@iterator"]||h&&T[h],M=!m&&N||C(h),A="Array"==e&&T.entries||N;if(A&&(k=o(A.call(new t)),p!==Object.prototype&&k.next&&(f||o(k)===p||(a?a(k,p):"function"!=typeof k[g]&&l(k,g,_)),s(k,E,!0,!0),f&&(d[E]=_))),h==y&&N&&N.name!==y&&(D=!0,M=function(){return N.call(this)}),f&&!w||T[g]===M||l(T,g,M),d[e]=M,h)if(S={values:C(y),keys:x?M:C(v),entries:C(b)},w)for(O in S)(m||D||!(O in T))&&c(T,O,S[O]);else i({target:e,proto:!0,forced:m||D},S);return S}},function(t,e,n){"use strict";var i,r,o,a=n(21),s=n(257),l=n(70),c=n(53),u=n(34),f=n(112),d=u("iterator"),h=!1,p=function(){return this};[].keys&&(o=[].keys(),"next"in o?(r=s(s(o)),r!==Object.prototype&&(i=r)):h=!0);var m=void 0==i||a((function(){var t={};return i[d].call(t)!==t}));m&&(i={}),f&&!m||c(i,d)||l(i,d,p),t.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:h}},function(t,e,n){var i=n(47),r=n(477);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,t.call(n,[]),e=n instanceof Array}catch(o){}return function(n,o){return i(n),r(o),e?t.call(n,o):n.__proto__=o,n}}():void 0)},function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE__266__},function(t,e,n){"use strict";var i=n(17),r=n(96).some,o=n(95),a=o("some");i({target:"Array",proto:!0,forced:!a},{some:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var i=n(65),r=n(265);t.exports=function(t,e,n){var o,a;return r&&"function"==typeof(o=e.constructor)&&o!==n&&i(a=o.prototype)&&a!==n.prototype&&r(t,a),t}},function(t,e,n){n(270)},function(t,e,n){"use strict";n(271),n(414),n(416),n(419),n(421),n(423),n(425),n(427),n(429),n(431),n(433),n(435),n(437),n(441)},function(t,e,n){n(272),n(275),n(276),n(277),n(278),n(279),n(280),n(281),n(282),n(283),n(284),n(285),n(286),n(287),n(288),n(289),n(290),n(291),n(292),n(293),n(294),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(308),n(309),n(310),n(311),n(312),n(313),n(314),n(315),n(316),n(318),n(319),n(320),n(321),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),n(340),n(341),n(342),n(343),n(344),n(345),n(346),n(347),n(348),n(349),n(350),n(351),n(353),n(354),n(356),n(357),n(358),n(359),n(360),n(361),n(362),n(364),n(365),n(366),n(367),n(368),n(369),n(370),n(371),n(372),n(373),n(374),n(375),n(376),n(162),n(377),n(223),n(378),n(224),n(379),n(380),n(381),n(382),n(225),n(385),n(386),n(387),n(388),n(389),n(390),n(391),n(392),n(393),n(394),n(395),n(396),n(397),n(398),n(399),n(400),n(401),n(402),n(403),n(404),n(405),n(406),n(407),n(408),n(409),n(410),n(411),n(412),n(413),t.exports=n(27)},function(t,e,n){"use strict";var i=n(11),r=n(43),o=n(29),a=n(1),s=n(41),l=n(73).KEY,c=n(12),u=n(113),f=n(89),d=n(76),h=n(19),p=n(143),m=n(204),g=n(274),v=n(116),y=n(13),b=n(14),_=n(37),x=n(45),w=n(72),k=n(75),S=n(80),O=n(207),C=n(57),E=n(115),D=n(30),T=n(78),N=C.f,M=D.f,A=O.f,j=i.Symbol,P=i.JSON,$=P&&P.stringify,I="prototype",L=h("_hidden"),R=h("toPrimitive"),B={}.propertyIsEnumerable,q=u("symbol-registry"),F=u("symbols"),z=u("op-symbols"),V=Object[I],U="function"==typeof j&&!!E.f,K=i.QObject,H=!K||!K[I]||!K[I].findChild,W=o&&c((function(){return 7!=S(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a}))?function(t,e,n){var i=N(V,e);i&&delete V[e],M(t,e,n),i&&t!==V&&M(V,e,i)}:M,G=function(t){var e=F[t]=S(j[I]);return e._k=t,e},J=U&&"symbol"==typeof j.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof j},Y=function(t,e,n){return t===V&&Y(z,e,n),y(t),e=w(e,!0),y(n),r(F,e)?(n.enumerable?(r(t,L)&&t[L][e]&&(t[L][e]=!1),n=S(n,{enumerable:k(0,!1)})):(r(t,L)||M(t,L,k(1,{})),t[L][e]=!0),W(t,e,n)):M(t,e,n)},X=function(t,e){y(t);var n,i=g(e=x(e)),r=0,o=i.length;while(o>r)Y(t,n=i[r++],e[n]);return t},Z=function(t,e){return void 0===e?S(t):X(S(t),e)},Q=function(t){var e=B.call(this,t=w(t,!0));return!(this===V&&r(F,t)&&!r(z,t))&&(!(e||!r(this,t)||!r(F,t)||r(this,L)&&this[L][t])||e)},tt=function(t,e){if(t=x(t),e=w(e,!0),t!==V||!r(F,e)||r(z,e)){var n=N(t,e);return!n||!r(F,e)||r(t,L)&&t[L][e]||(n.enumerable=!0),n}},et=function(t){var e,n=A(x(t)),i=[],o=0;while(n.length>o)r(F,e=n[o++])||e==L||e==l||i.push(e);return i},nt=function(t){var e,n=t===V,i=A(n?z:x(t)),o=[],a=0;while(i.length>a)!r(F,e=i[a++])||n&&!r(V,e)||o.push(F[e]);return o};U||(j=function(){if(this instanceof j)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function(n){this===V&&e.call(z,n),r(this,L)&&r(this[L],t)&&(this[L][t]=!1),W(this,t,k(1,n))};return o&&H&&W(V,t,{configurable:!0,set:e}),G(t)},s(j[I],"toString",(function(){return this._k})),C.f=tt,D.f=Y,n(81).f=O.f=et,n(99).f=Q,E.f=nt,o&&!n(77)&&s(V,"propertyIsEnumerable",Q,!0),p.f=function(t){return G(h(t))}),a(a.G+a.W+a.F*!U,{Symbol:j});for(var it="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),rt=0;it.length>rt;)h(it[rt++]);for(var ot=T(h.store),at=0;ot.length>at;)m(ot[at++]);a(a.S+a.F*!U,"Symbol",{for:function(t){return r(q,t+="")?q[t]:q[t]=j(t)},keyFor:function(t){if(!J(t))throw TypeError(t+" is not a symbol!");for(var e in q)if(q[e]===t)return e},useSetter:function(){H=!0},useSimple:function(){H=!1}}),a(a.S+a.F*!U,"Object",{create:Z,defineProperty:Y,defineProperties:X,getOwnPropertyDescriptor:tt,getOwnPropertyNames:et,getOwnPropertySymbols:nt});var st=c((function(){E.f(1)}));a(a.S+a.F*st,"Object",{getOwnPropertySymbols:function(t){return E.f(_(t))}}),P&&a(a.S+a.F*(!U||c((function(){var t=j();return"[null]"!=$([t])||"{}"!=$({a:t})||"{}"!=$(Object(t))}))),"JSON",{stringify:function(t){var e,n,i=[t],r=1;while(arguments.length>r)i.push(arguments[r++]);if(n=e=i[1],(b(e)||void 0!==t)&&!J(t))return v(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!J(e))return e}),i[1]=e,$.apply(P,i)}}),j[I][R]||n(44)(j[I],R,j[I].valueOf),f(j,"Symbol"),f(Math,"Math",!0),f(i.JSON,"JSON",!0)},function(t,e,n){t.exports=n(113)("native-function-to-string",Function.toString)},function(t,e,n){var i=n(78),r=n(115),o=n(99);t.exports=function(t){var e=i(t),n=r.f;if(n){var a,s=n(t),l=o.f,c=0;while(s.length>c)l.call(t,a=s[c++])&&e.push(a)}return e}},function(t,e,n){var i=n(1);i(i.S,"Object",{create:n(80)})},function(t,e,n){var i=n(1);i(i.S+i.F*!n(29),"Object",{defineProperty:n(30).f})},function(t,e,n){var i=n(1);i(i.S+i.F*!n(29),"Object",{defineProperties:n(206)})},function(t,e,n){var i=n(45),r=n(57).f;n(58)("getOwnPropertyDescriptor",(function(){return function(t,e){return r(i(t),e)}}))},function(t,e,n){var i=n(37),r=n(82);n(58)("getPrototypeOf",(function(){return function(t){return r(i(t))}}))},function(t,e,n){var i=n(37),r=n(78);n(58)("keys",(function(){return function(t){return r(i(t))}}))},function(t,e,n){n(58)("getOwnPropertyNames",(function(){return n(207).f}))},function(t,e,n){var i=n(14),r=n(73).onFreeze;n(58)("freeze",(function(t){return function(e){return t&&i(e)?t(r(e)):e}}))},function(t,e,n){var i=n(14),r=n(73).onFreeze;n(58)("seal",(function(t){return function(e){return t&&i(e)?t(r(e)):e}}))},function(t,e,n){var i=n(14),r=n(73).onFreeze;n(58)("preventExtensions",(function(t){return function(e){return t&&i(e)?t(r(e)):e}}))},function(t,e,n){var i=n(14);n(58)("isFrozen",(function(t){return function(e){return!i(e)||!!t&&t(e)}}))},function(t,e,n){var i=n(14);n(58)("isSealed",(function(t){return function(e){return!i(e)||!!t&&t(e)}}))},function(t,e,n){var i=n(14);n(58)("isExtensible",(function(t){return function(e){return!!i(e)&&(!t||t(e))}}))},function(t,e,n){var i=n(1);i(i.S+i.F,"Object",{assign:n(208)})},function(t,e,n){var i=n(1);i(i.S,"Object",{is:n(209)})},function(t,e,n){var i=n(1);i(i.S,"Object",{setPrototypeOf:n(147).set})},function(t,e,n){"use strict";var i=n(100),r={};r[n(19)("toStringTag")]="z",r+""!="[object z]"&&n(41)(Object.prototype,"toString",(function(){return"[object "+i(this)+"]"}),!0)},function(t,e,n){var i=n(1);i(i.P,"Function",{bind:n(210)})},function(t,e,n){var i=n(30).f,r=Function.prototype,o=/^\s*function ([^ (]*)/,a="name";a in r||n(29)&&i(r,a,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,e,n){"use strict";var i=n(14),r=n(82),o=n(19)("hasInstance"),a=Function.prototype;o in a||n(30).f(a,o,{value:function(t){if("function"!=typeof this||!i(t))return!1;if(!i(this.prototype))return t instanceof this;while(t=r(t))if(this.prototype===t)return!0;return!1}})},function(t,e,n){var i=n(1),r=n(212);i(i.G+i.F*(parseInt!=r),{parseInt:r})},function(t,e,n){var i=n(1),r=n(213);i(i.G+i.F*(parseFloat!=r),{parseFloat:r})},function(t,e,n){"use strict";var i=n(11),r=n(43),o=n(67),a=n(149),s=n(72),l=n(12),c=n(81).f,u=n(57).f,f=n(30).f,d=n(90).trim,h="Number",p=i[h],m=p,g=p.prototype,v=o(n(80)(g))==h,y="trim"in String.prototype,b=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){e=y?e.trim():d(e,3);var n,i,r,o=e.charCodeAt(0);if(43===o||45===o){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+e}for(var a,l=e.slice(2),c=0,u=l.length;c<u;c++)if(a=l.charCodeAt(c),a<48||a>r)return NaN;return parseInt(l,i)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof p&&(v?l((function(){g.valueOf.call(n)})):o(n)!=h)?a(new m(b(e)),n,p):b(e)};for(var _,x=n(29)?c(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;x.length>w;w++)r(m,_=x[w])&&!r(p,_)&&f(p,_,u(m,_));p.prototype=g,g.constructor=p,n(41)(i,h,p)}},function(t,e,n){"use strict";var i=n(1),r=n(56),o=n(214),a=n(150),s=1..toFixed,l=Math.floor,c=[0,0,0,0,0,0],u="Number.toFixed: incorrect invocation!",f="0",d=function(t,e){var n=-1,i=e;while(++n<6)i+=t*c[n],c[n]=i%1e7,i=l(i/1e7)},h=function(t){var e=6,n=0;while(--e>=0)n+=c[e],c[e]=l(n/t),n=n%t*1e7},p=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==c[t]){var n=String(c[t]);e=""===e?n:e+a.call(f,7-n.length)+n}return e},m=function(t,e,n){return 0===e?n:e%2===1?m(t,e-1,n*t):m(t*t,e/2,n)},g=function(t){var e=0,n=t;while(n>=4096)e+=12,n/=4096;while(n>=2)e+=1,n/=2;return e};i(i.P+i.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(12)((function(){s.call({})}))),"Number",{toFixed:function(t){var e,n,i,s,l=o(this,u),c=r(t),v="",y=f;if(c<0||c>20)throw RangeError(u);if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(v="-",l=-l),l>1e-21)if(e=g(l*m(2,69,1))-69,n=e<0?l*m(2,-e,1):l/m(2,e,1),n*=4503599627370496,e=52-e,e>0){d(0,n),i=c;while(i>=7)d(1e7,0),i-=7;d(m(10,i,1),0),i=e-1;while(i>=23)h(1<<23),i-=23;h(1<<i),d(1,1),h(2),y=p()}else d(0,n),d(1<<-e,0),y=p()+a.call(f,c);return c>0?(s=y.length,y=v+(s<=c?"0."+a.call(f,c-s)+y:y.slice(0,s-c)+"."+y.slice(s-c))):y=v+y,y}})},function(t,e,n){"use strict";var i=n(1),r=n(12),o=n(214),a=1..toPrecision;i(i.P+i.F*(r((function(){return"1"!==a.call(1,void 0)}))||!r((function(){a.call({})}))),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?a.call(e):a.call(e,t)}})},function(t,e,n){var i=n(1);i(i.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,n){var i=n(1),r=n(11).isFinite;i(i.S,"Number",{isFinite:function(t){return"number"==typeof t&&r(t)}})},function(t,e,n){var i=n(1);i(i.S,"Number",{isInteger:n(215)})},function(t,e,n){var i=n(1);i(i.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){var i=n(1),r=n(215),o=Math.abs;i(i.S,"Number",{isSafeInteger:function(t){return r(t)&&o(t)<=9007199254740991}})},function(t,e,n){var i=n(1);i(i.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){var i=n(1);i(i.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var i=n(1),r=n(213);i(i.S+i.F*(Number.parseFloat!=r),"Number",{parseFloat:r})},function(t,e,n){var i=n(1),r=n(212);i(i.S+i.F*(Number.parseInt!=r),"Number",{parseInt:r})},function(t,e,n){var i=n(1),r=n(216),o=Math.sqrt,a=Math.acosh;i(i.S+i.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:r(t-1+o(t-1)*o(t+1))}})},function(t,e,n){var i=n(1),r=Math.asinh;function o(t){return isFinite(t=+t)&&0!=t?t<0?-o(-t):Math.log(t+Math.sqrt(t*t+1)):t}i(i.S+i.F*!(r&&1/r(0)>0),"Math",{asinh:o})},function(t,e,n){var i=n(1),r=Math.atanh;i(i.S+i.F*!(r&&1/r(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,n){var i=n(1),r=n(151);i(i.S,"Math",{cbrt:function(t){return r(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,n){var i=n(1);i(i.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,n){var i=n(1),r=Math.exp;i(i.S,"Math",{cosh:function(t){return(r(t=+t)+r(-t))/2}})},function(t,e,n){var i=n(1),r=n(152);i(i.S+i.F*(r!=Math.expm1),"Math",{expm1:r})},function(t,e,n){var i=n(1);i(i.S,"Math",{fround:n(317)})},function(t,e,n){var i=n(151),r=Math.pow,o=r(2,-52),a=r(2,-23),s=r(2,127)*(2-a),l=r(2,-126),c=function(t){return t+1/o-1/o};t.exports=Math.fround||function(t){var e,n,r=Math.abs(t),u=i(t);return r<l?u*c(r/l/a)*l*a:(e=(1+a/o)*r,n=e-(e-r),n>s||n!=n?u*(1/0):u*n)}},function(t,e,n){var i=n(1),r=Math.abs;i(i.S,"Math",{hypot:function(t,e){var n,i,o=0,a=0,s=arguments.length,l=0;while(a<s)n=r(arguments[a++]),l<n?(i=l/n,o=o*i*i+1,l=n):n>0?(i=n/l,o+=i*i):o+=n;return l===1/0?1/0:l*Math.sqrt(o)}})},function(t,e,n){var i=n(1),r=Math.imul;i(i.S+i.F*n(12)((function(){return-5!=r(4294967295,5)||2!=r.length})),"Math",{imul:function(t,e){var n=65535,i=+t,r=+e,o=n&i,a=n&r;return 0|o*a+((n&i>>>16)*a+o*(n&r>>>16)<<16>>>0)}})},function(t,e,n){var i=n(1);i(i.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,n){var i=n(1);i(i.S,"Math",{log1p:n(216)})},function(t,e,n){var i=n(1);i(i.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,n){var i=n(1);i(i.S,"Math",{sign:n(151)})},function(t,e,n){var i=n(1),r=n(152),o=Math.exp;i(i.S+i.F*n(12)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(r(t)-r(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},function(t,e,n){var i=n(1),r=n(152),o=Math.exp;i(i.S,"Math",{tanh:function(t){var e=r(t=+t),n=r(-t);return e==1/0?1:n==1/0?-1:(e-n)/(o(t)+o(-t))}})},function(t,e,n){var i=n(1);i(i.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,e,n){var i=n(1),r=n(79),o=String.fromCharCode,a=String.fromCodePoint;i(i.S+i.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(t){var e,n=[],i=arguments.length,a=0;while(i>a){if(e=+arguments[a++],r(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},function(t,e,n){var i=n(1),r=n(45),o=n(22);i(i.S,"String",{raw:function(t){var e=r(t.raw),n=o(e.length),i=arguments.length,a=[],s=0;while(n>s)a.push(String(e[s++])),s<i&&a.push(String(arguments[s]));return a.join("")}})},function(t,e,n){"use strict";n(90)("trim",(function(t){return function(){return t(this,3)}}))},function(t,e,n){"use strict";var i=n(153)(!0);n(154)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})}))},function(t,e,n){"use strict";var i=n(1),r=n(153)(!1);i(i.P,"String",{codePointAt:function(t){return r(this,t)}})},function(t,e,n){"use strict";var i=n(1),r=n(22),o=n(155),a="endsWith",s=""[a];i(i.P+i.F*n(157)(a),"String",{endsWith:function(t){var e=o(this,t,a),n=arguments.length>1?arguments[1]:void 0,i=r(e.length),l=void 0===n?i:Math.min(r(n),i),c=String(t);return s?s.call(e,c,l):e.slice(l-c.length,l)===c}})},function(t,e,n){"use strict";var i=n(1),r=n(155),o="includes";i(i.P+i.F*n(157)(o),"String",{includes:function(t){return!!~r(this,t,o).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var i=n(1);i(i.P,"String",{repeat:n(150)})},function(t,e,n){"use strict";var i=n(1),r=n(22),o=n(155),a="startsWith",s=""[a];i(i.P+i.F*n(157)(a),"String",{startsWith:function(t){var e=o(this,t,a),n=r(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),i=String(t);return s?s.call(e,i,n):e.slice(n,n+i.length)===i}})},function(t,e,n){"use strict";n(42)("anchor",(function(t){return function(e){return t(this,"a","name",e)}}))},function(t,e,n){"use strict";n(42)("big",(function(t){return function(){return t(this,"big","","")}}))},function(t,e,n){"use strict";n(42)("blink",(function(t){return function(){return t(this,"blink","","")}}))},function(t,e,n){"use strict";n(42)("bold",(function(t){return function(){return t(this,"b","","")}}))},function(t,e,n){"use strict";n(42)("fixed",(function(t){return function(){return t(this,"tt","","")}}))},function(t,e,n){"use strict";n(42)("fontcolor",(function(t){return function(e){return t(this,"font","color",e)}}))},function(t,e,n){"use strict";n(42)("fontsize",(function(t){return function(e){return t(this,"font","size",e)}}))},function(t,e,n){"use strict";n(42)("italics",(function(t){return function(){return t(this,"i","","")}}))},function(t,e,n){"use strict";n(42)("link",(function(t){return function(e){return t(this,"a","href",e)}}))},function(t,e,n){"use strict";n(42)("small",(function(t){return function(){return t(this,"small","","")}}))},function(t,e,n){"use strict";n(42)("strike",(function(t){return function(){return t(this,"strike","","")}}))},function(t,e,n){"use strict";n(42)("sub",(function(t){return function(){return t(this,"sub","","")}}))},function(t,e,n){"use strict";n(42)("sup",(function(t){return function(){return t(this,"sup","","")}}))},function(t,e,n){var i=n(1);i(i.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,n){"use strict";var i=n(1),r=n(37),o=n(72);i(i.P+i.F*n(12)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(t){var e=r(this),n=o(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},function(t,e,n){var i=n(1),r=n(352);i(i.P+i.F*(Date.prototype.toISOString!==r),"Date",{toISOString:r})},function(t,e,n){"use strict";var i=n(12),r=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(t){return t>9?t:"0"+t};t.exports=i((function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-50000000000001))}))||!i((function(){o.call(new Date(NaN))}))?function(){if(!isFinite(r.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),i=e<0?"-":e>9999?"+":"";return i+("00000"+Math.abs(e)).slice(i?-6:-4)+"-"+a(t.getUTCMonth()+1)+"-"+a(t.getUTCDate())+"T"+a(t.getUTCHours())+":"+a(t.getUTCMinutes())+":"+a(t.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:o},function(t,e,n){var i=Date.prototype,r="Invalid Date",o="toString",a=i[o],s=i.getTime;new Date(NaN)+""!=r&&n(41)(i,o,(function(){var t=s.call(this);return t===t?a.call(this):r}))},function(t,e,n){var i=n(19)("toPrimitive"),r=Date.prototype;i in r||n(44)(r,i,n(355))},function(t,e,n){"use strict";var i=n(13),r=n(72),o="number";t.exports=function(t){if("string"!==t&&t!==o&&"default"!==t)throw TypeError("Incorrect hint");return r(i(this),t!=o)}},function(t,e,n){var i=n(1);i(i.S,"Array",{isArray:n(116)})},function(t,e,n){"use strict";var i=n(54),r=n(1),o=n(37),a=n(218),s=n(158),l=n(22),c=n(159),u=n(160);r(r.S+r.F*!n(117)((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,r,f,d=o(t),h="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,g=void 0!==m,v=0,y=u(d);if(g&&(m=i(m,p>2?arguments[2]:void 0,2)),void 0==y||h==Array&&s(y))for(e=l(d.length),n=new h(e);e>v;v++)c(n,v,g?m(d[v],v):d[v]);else for(f=y.call(d),n=new h;!(r=f.next()).done;v++)c(n,v,g?a(f,m,[r.value,v],!0):r.value);return n.length=v,n}})},function(t,e,n){"use strict";var i=n(1),r=n(159);i(i.S+i.F*n(12)((function(){function t(){}return!(Array.of.call(t)instanceof t)})),"Array",{of:function(){var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);while(e>t)r(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){"use strict";var i=n(1),r=n(45),o=[].join;i(i.P+i.F*(n(98)!=Object||!n(50)(o)),"Array",{join:function(t){return o.call(r(this),void 0===t?",":t)}})},function(t,e,n){"use strict";var i=n(1),r=n(146),o=n(67),a=n(79),s=n(22),l=[].slice;i(i.P+i.F*n(12)((function(){r&&l.call(r)})),"Array",{slice:function(t,e){var n=s(this.length),i=o(this);if(e=void 0===e?n:e,"Array"==i)return l.call(this,t,e);for(var r=a(t,n),c=a(e,n),u=s(c-r),f=new Array(u),d=0;d<u;d++)f[d]="String"==i?this.charAt(r+d):this[r+d];return f}})},function(t,e,n){"use strict";var i=n(1),r=n(55),o=n(37),a=n(12),s=[].sort,l=[1,2,3];i(i.P+i.F*(a((function(){l.sort(void 0)}))||!a((function(){l.sort(null)}))||!n(50)(s)),"Array",{sort:function(t){return void 0===t?s.call(o(this)):s.call(o(this),r(t))}})},function(t,e,n){"use strict";var i=n(1),r=n(59)(0),o=n(50)([].forEach,!0);i(i.P+i.F*!o,"Array",{forEach:function(t){return r(this,t,arguments[1])}})},function(t,e,n){var i=n(14),r=n(116),o=n(19)("species");t.exports=function(t){var e;return r(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!r(e.prototype)||(e=void 0),i(e)&&(e=e[o],null===e&&(e=void 0))),void 0===e?Array:e}},function(t,e,n){"use strict";var i=n(1),r=n(59)(1);i(i.P+i.F*!n(50)([].map,!0),"Array",{map:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(1),r=n(59)(2);i(i.P+i.F*!n(50)([].filter,!0),"Array",{filter:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(1),r=n(59)(3);i(i.P+i.F*!n(50)([].some,!0),"Array",{some:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(1),r=n(59)(4);i(i.P+i.F*!n(50)([].every,!0),"Array",{every:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(1),r=n(220);i(i.P+i.F*!n(50)([].reduce,!0),"Array",{reduce:function(t){return r(this,t,arguments.length,arguments[1],!1)}})},function(t,e,n){"use strict";var i=n(1),r=n(220);i(i.P+i.F*!n(50)([].reduceRight,!0),"Array",{reduceRight:function(t){return r(this,t,arguments.length,arguments[1],!0)}})},function(t,e,n){"use strict";var i=n(1),r=n(114)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;i(i.P+i.F*(a||!n(50)(o)),"Array",{indexOf:function(t){return a?o.apply(this,arguments)||0:r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(1),r=n(45),o=n(56),a=n(22),s=[].lastIndexOf,l=!!s&&1/[1].lastIndexOf(1,-0)<0;i(i.P+i.F*(l||!n(50)(s)),"Array",{lastIndexOf:function(t){if(l)return s.apply(this,arguments)||0;var e=r(this),n=a(e.length),i=n-1;for(arguments.length>1&&(i=Math.min(i,o(arguments[1]))),i<0&&(i=n+i);i>=0;i--)if(i in e&&e[i]===t)return i||0;return-1}})},function(t,e,n){var i=n(1);i(i.P,"Array",{copyWithin:n(221)}),n(83)("copyWithin")},function(t,e,n){var i=n(1);i(i.P,"Array",{fill:n(161)}),n(83)("fill")},function(t,e,n){"use strict";var i=n(1),r=n(59)(5),o="find",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),i(i.P+i.F*a,"Array",{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(83)(o)},function(t,e,n){"use strict";var i=n(1),r=n(59)(6),o="findIndex",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),i(i.P+i.F*a,"Array",{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(83)(o)},function(t,e,n){n(92)("Array")},function(t,e,n){var i=n(11),r=n(149),o=n(30).f,a=n(81).f,s=n(156),l=n(118),c=i.RegExp,u=c,f=c.prototype,d=/a/g,h=/a/g,p=new c(d)!==d;if(n(29)&&(!p||n(12)((function(){return h[n(19)("match")]=!1,c(d)!=d||c(h)==h||"/a/i"!=c(d,"i")})))){c=function(t,e){var n=this instanceof c,i=s(t),o=void 0===e;return!n&&i&&t.constructor===c&&o?t:r(p?new u(i&&!o?t.source:t,e):u((i=t instanceof c)?t.source:t,i&&o?l.call(t):e),n?this:f,c)};for(var m=function(t){t in c||o(c,t,{configurable:!0,get:function(){return u[t]},set:function(e){u[t]=e}})},g=a(u),v=0;g.length>v;)m(g[v++]);f.constructor=c,c.prototype=f,n(41)(i,"RegExp",c)}n(92)("RegExp")},function(t,e,n){"use strict";n(224);var i=n(13),r=n(118),o=n(29),a="toString",s=/./[a],l=function(t){n(41)(RegExp.prototype,a,t,!0)};n(12)((function(){return"/a/b"!=s.call({source:"a",flags:"b"})}))?l((function(){var t=i(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?r.call(t):void 0)})):s.name!=a&&l((function(){return s.call(this)}))},function(t,e,n){"use strict";var i=n(13),r=n(22),o=n(164),a=n(119);n(120)("match",1,(function(t,e,n,s){return[function(n){var i=t(this),r=void 0==n?void 0:n[e];return void 0!==r?r.call(n,i):new RegExp(n)[e](String(i))},function(t){var e=s(n,t,this);if(e.done)return e.value;var l=i(t),c=String(this);if(!l.global)return a(l,c);var u=l.unicode;l.lastIndex=0;var f,d=[],h=0;while(null!==(f=a(l,c))){var p=String(f[0]);d[h]=p,""===p&&(l.lastIndex=o(c,r(l.lastIndex),u)),h++}return 0===h?null:d}]}))},function(t,e,n){"use strict";var i=n(13),r=n(37),o=n(22),a=n(56),s=n(164),l=n(119),c=Math.max,u=Math.min,f=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,h=/\$([$&`']|\d\d?)/g,p=function(t){return void 0===t?t:String(t)};n(120)("replace",2,(function(t,e,n,m){return[function(i,r){var o=t(this),a=void 0==i?void 0:i[e];return void 0!==a?a.call(i,o,r):n.call(String(o),i,r)},function(t,e){var r=m(n,t,this,e);if(r.done)return r.value;var f=i(t),d=String(this),h="function"===typeof e;h||(e=String(e));var v=f.global;if(v){var y=f.unicode;f.lastIndex=0}var b=[];while(1){var _=l(f,d);if(null===_)break;if(b.push(_),!v)break;var x=String(_[0]);""===x&&(f.lastIndex=s(d,o(f.lastIndex),y))}for(var w="",k=0,S=0;S<b.length;S++){_=b[S];for(var O=String(_[0]),C=c(u(a(_.index),d.length),0),E=[],D=1;D<_.length;D++)E.push(p(_[D]));var T=_.groups;if(h){var N=[O].concat(E,C,d);void 0!==T&&N.push(T);var M=String(e.apply(void 0,N))}else M=g(O,d,C,E,T,e);C>=k&&(w+=d.slice(k,C)+M,k=C+O.length)}return w+d.slice(k)}];function g(t,e,i,o,a,s){var l=i+t.length,c=o.length,u=h;return void 0!==a&&(a=r(a),u=d),n.call(s,u,(function(n,r){var s;switch(r.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,i);case"'":return e.slice(l);case"<":s=a[r.slice(1,-1)];break;default:var u=+r;if(0===u)return n;if(u>c){var d=f(u/10);return 0===d?n:d<=c?void 0===o[d-1]?r.charAt(1):o[d-1]+r.charAt(1):n}s=o[u-1]}return void 0===s?"":s}))}}))},function(t,e,n){"use strict";var i=n(13),r=n(209),o=n(119);n(120)("search",1,(function(t,e,n,a){return[function(n){var i=t(this),r=void 0==n?void 0:n[e];return void 0!==r?r.call(n,i):new RegExp(n)[e](String(i))},function(t){var e=a(n,t,this);if(e.done)return e.value;var s=i(t),l=String(this),c=s.lastIndex;r(c,0)||(s.lastIndex=0);var u=o(s,l);return r(s.lastIndex,c)||(s.lastIndex=c),null===u?-1:u.index}]}))},function(t,e,n){"use strict";var i=n(156),r=n(13),o=n(101),a=n(164),s=n(22),l=n(119),c=n(163),u=n(12),f=Math.min,d=[].push,h="split",p="length",m="lastIndex",g=4294967295,v=!u((function(){RegExp(g,"y")}));n(120)("split",2,(function(t,e,n,u){var y;return y="c"=="abbc"[h](/(b)*/)[1]||4!="test"[h](/(?:)/,-1)[p]||2!="ab"[h](/(?:ab)*/)[p]||4!="."[h](/(.?)(.?)/)[p]||"."[h](/()()/)[p]>1||""[h](/.?/)[p]?function(t,e){var r=String(this);if(void 0===t&&0===e)return[];if(!i(t))return n.call(r,t,e);var o,a,s,l=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,h=void 0===e?g:e>>>0,v=new RegExp(t.source,u+"g");while(o=c.call(v,r)){if(a=v[m],a>f&&(l.push(r.slice(f,o.index)),o[p]>1&&o.index<r[p]&&d.apply(l,o.slice(1)),s=o[0][p],f=a,l[p]>=h))break;v[m]===o.index&&v[m]++}return f===r[p]?!s&&v.test("")||l.push(""):l.push(r.slice(f)),l[p]>h?l.slice(0,h):l}:"0"[h](void 0,0)[p]?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,i){var r=t(this),o=void 0==n?void 0:n[e];return void 0!==o?o.call(n,r,i):y.call(String(r),n,i)},function(t,e){var i=u(y,t,this,e,y!==n);if(i.done)return i.value;var c=r(t),d=String(this),h=o(c,RegExp),p=c.unicode,m=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(v?"y":"g"),b=new h(v?c:"^(?:"+c.source+")",m),_=void 0===e?g:e>>>0;if(0===_)return[];if(0===d.length)return null===l(b,d)?[d]:[];var x=0,w=0,k=[];while(w<d.length){b.lastIndex=v?w:0;var S,O=l(b,v?d:d.slice(w));if(null===O||(S=f(s(b.lastIndex+(v?0:w)),d.length))===x)w=a(d,w,p);else{if(k.push(d.slice(x,w)),k.length===_)return k;for(var C=1;C<=O.length-1;C++)if(k.push(O[C]),k.length===_)return k;w=x=S}}return k.push(d.slice(x)),k}]}))},function(t,e,n){var i=n(11),r=n(165).set,o=i.MutationObserver||i.WebKitMutationObserver,a=i.process,s=i.Promise,l="process"==n(67)(a);t.exports=function(){var t,e,n,c=function(){var i,r;l&&(i=a.domain)&&i.exit();while(t){r=t.fn,t=t.next;try{r()}catch(o){throw t?n():e=void 0,o}}e=void 0,i&&i.enter()};if(l)n=function(){a.nextTick(c)};else if(!o||i.navigator&&i.navigator.standalone)if(s&&s.resolve){var u=s.resolve(void 0);n=function(){u.then(c)}}else n=function(){r.call(i,c)};else{var f=!0,d=document.createTextNode("");new o(c).observe(d,{characterData:!0}),n=function(){d.data=f=!f}}return function(i){var r={fn:i,next:void 0};e&&(e.next=r),t||(t=r,n()),e=r}}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(e){return{e:!0,v:e}}}},function(t,e,n){"use strict";var i=n(228),r=n(84),o="Map";t.exports=n(123)(o,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(t){var e=i.getEntry(r(this,o),t);return e&&e.v},set:function(t,e){return i.def(r(this,o),0===t?0:t,e)}},i,!0)},function(t,e,n){"use strict";var i=n(228),r=n(84),o="Set";t.exports=n(123)(o,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return i.def(r(this,o),t=0===t?0:t,t)}},i)},function(t,e,n){"use strict";var i,r=n(11),o=n(59)(0),a=n(41),s=n(73),l=n(208),c=n(229),u=n(14),f=n(84),d=n(84),h=!r.ActiveXObject&&"ActiveXObject"in r,p="WeakMap",m=s.getWeak,g=Object.isExtensible,v=c.ufstore,y=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},b={get:function(t){if(u(t)){var e=m(t);return!0===e?v(f(this,p)).get(t):e?e[this._i]:void 0}},set:function(t,e){return c.def(f(this,p),t,e)}},_=t.exports=n(123)(p,y,b,c,!0,!0);d&&h&&(i=c.getConstructor(y,p),l(i.prototype,b),s.NEED=!0,o(["delete","has","get","set"],(function(t){var e=_.prototype,n=e[t];a(e,t,(function(e,r){if(u(e)&&!g(e)){this._f||(this._f=new i);var o=this._f[t](e,r);return"set"==t?this:o}return n.call(this,e,r)}))})))},function(t,e,n){"use strict";var i=n(229),r=n(84),o="WeakSet";n(123)(o,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return i.def(r(this,o),t,!0)}},i,!1,!0)},function(t,e,n){"use strict";var i=n(1),r=n(124),o=n(166),a=n(13),s=n(79),l=n(22),c=n(14),u=n(11).ArrayBuffer,f=n(101),d=o.ArrayBuffer,h=o.DataView,p=r.ABV&&u.isView,m=d.prototype.slice,g=r.VIEW,v="ArrayBuffer";i(i.G+i.W+i.F*(u!==d),{ArrayBuffer:d}),i(i.S+i.F*!r.CONSTR,v,{isView:function(t){return p&&p(t)||c(t)&&g in t}}),i(i.P+i.U+i.F*n(12)((function(){return!new d(2).slice(1,void 0).byteLength})),v,{slice:function(t,e){if(void 0!==m&&void 0===e)return m.call(a(this),t);var n=a(this).byteLength,i=s(t,n),r=s(void 0===e?n:e,n),o=new(f(this,d))(l(r-i)),c=new h(this),u=new h(o),p=0;while(i<r)u.setUint8(p++,c.getUint8(i++));return o}}),n(92)(v)},function(t,e,n){var i=n(1);i(i.G+i.W+i.F*!n(124).ABV,{DataView:n(166).DataView})},function(t,e,n){n(69)("Int8",1,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},function(t,e,n){n(69)("Uint8",1,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},function(t,e,n){n(69)("Uint8",1,(function(t){return function(e,n,i){return t(this,e,n,i)}}),!0)},function(t,e,n){n(69)("Int16",2,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},function(t,e,n){n(69)("Uint16",2,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},function(t,e,n){n(69)("Int32",4,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},function(t,e,n){n(69)("Uint32",4,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},function(t,e,n){n(69)("Float32",4,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},function(t,e,n){n(69)("Float64",8,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},function(t,e,n){var i=n(1),r=n(55),o=n(13),a=(n(11).Reflect||{}).apply,s=Function.apply;i(i.S+i.F*!n(12)((function(){a((function(){}))})),"Reflect",{apply:function(t,e,n){var i=r(t),l=o(n);return a?a(i,e,l):s.call(i,e,l)}})},function(t,e,n){var i=n(1),r=n(80),o=n(55),a=n(13),s=n(14),l=n(12),c=n(210),u=(n(11).Reflect||{}).construct,f=l((function(){function t(){}return!(u((function(){}),[],t)instanceof t)})),d=!l((function(){u((function(){}))}));i(i.S+i.F*(f||d),"Reflect",{construct:function(t,e){o(t),a(e);var n=arguments.length<3?t:o(arguments[2]);if(d&&!f)return u(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return i.push.apply(i,e),new(c.apply(t,i))}var l=n.prototype,h=r(s(l)?l:Object.prototype),p=Function.apply.call(t,h,e);return s(p)?p:h}})},function(t,e,n){var i=n(30),r=n(1),o=n(13),a=n(72);r(r.S+r.F*n(12)((function(){Reflect.defineProperty(i.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(t,e,n){o(t),e=a(e,!0),o(n);try{return i.f(t,e,n),!0}catch(r){return!1}}})},function(t,e,n){var i=n(1),r=n(57).f,o=n(13);i(i.S,"Reflect",{deleteProperty:function(t,e){var n=r(o(t),e);return!(n&&!n.configurable)&&delete t[e]}})},function(t,e,n){"use strict";var i=n(1),r=n(13),o=function(t){this._t=r(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)};n(217)(o,"Object",(function(){var t,e=this,n=e._k;do{if(e._i>=n.length)return{value:void 0,done:!0}}while(!((t=n[e._i++])in e._t));return{value:t,done:!1}})),i(i.S,"Reflect",{enumerate:function(t){return new o(t)}})},function(t,e,n){var i=n(57),r=n(82),o=n(43),a=n(1),s=n(14),l=n(13);function c(t,e){var n,a,u=arguments.length<3?t:arguments[2];return l(t)===u?t[e]:(n=i.f(t,e))?o(n,"value")?n.value:void 0!==n.get?n.get.call(u):void 0:s(a=r(t))?c(a,e,u):void 0}a(a.S,"Reflect",{get:c})},function(t,e,n){var i=n(57),r=n(1),o=n(13);r(r.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return i.f(o(t),e)}})},function(t,e,n){var i=n(1),r=n(82),o=n(13);i(i.S,"Reflect",{getPrototypeOf:function(t){return r(o(t))}})},function(t,e,n){var i=n(1);i(i.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,n){var i=n(1),r=n(13),o=Object.isExtensible;i(i.S,"Reflect",{isExtensible:function(t){return r(t),!o||o(t)}})},function(t,e,n){var i=n(1);i(i.S,"Reflect",{ownKeys:n(231)})},function(t,e,n){var i=n(1),r=n(13),o=Object.preventExtensions;i(i.S,"Reflect",{preventExtensions:function(t){r(t);try{return o&&o(t),!0}catch(e){return!1}}})},function(t,e,n){var i=n(30),r=n(57),o=n(82),a=n(43),s=n(1),l=n(75),c=n(13),u=n(14);function f(t,e,n){var s,d,h=arguments.length<4?t:arguments[3],p=r.f(c(t),e);if(!p){if(u(d=o(t)))return f(d,e,n,h);p=l(0)}if(a(p,"value")){if(!1===p.writable||!u(h))return!1;if(s=r.f(h,e)){if(s.get||s.set||!1===s.writable)return!1;s.value=n,i.f(h,e,s)}else i.f(h,e,l(0,n));return!0}return void 0!==p.set&&(p.set.call(h,n),!0)}s(s.S,"Reflect",{set:f})},function(t,e,n){var i=n(1),r=n(147);r&&i(i.S,"Reflect",{setPrototypeOf:function(t,e){r.check(t,e);try{return r.set(t,e),!0}catch(n){return!1}}})},function(t,e,n){n(415),t.exports=n(27).Array.includes},function(t,e,n){"use strict";var i=n(1),r=n(114)(!0);i(i.P,"Array",{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(83)("includes")},function(t,e,n){n(417),t.exports=n(27).Array.flatMap},function(t,e,n){"use strict";var i=n(1),r=n(418),o=n(37),a=n(22),s=n(55),l=n(219);i(i.P,"Array",{flatMap:function(t){var e,n,i=o(this);return s(t),e=a(i.length),n=l(i,0),r(n,i,i,e,0,1,t,arguments[1]),n}}),n(83)("flatMap")},function(t,e,n){"use strict";var i=n(116),r=n(14),o=n(22),a=n(54),s=n(19)("isConcatSpreadable");function l(t,e,n,c,u,f,d,h){var p,m,g=u,v=0,y=!!d&&a(d,h,3);while(v<c){if(v in n){if(p=y?y(n[v],v,e):n[v],m=!1,r(p)&&(m=p[s],m=void 0!==m?!!m:i(p)),m&&f>0)g=l(t,e,p,o(p.length),g,f-1)-1;else{if(g>=9007199254740991)throw TypeError();t[g]=p}g++}v++}return g}t.exports=l},function(t,e,n){n(420),t.exports=n(27).String.padStart},function(t,e,n){"use strict";var i=n(1),r=n(232),o=n(122),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);i(i.P+i.F*a,"String",{padStart:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,e,n){n(422),t.exports=n(27).String.padEnd},function(t,e,n){"use strict";var i=n(1),r=n(232),o=n(122),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);i(i.P+i.F*a,"String",{padEnd:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,e,n){n(424),t.exports=n(27).String.trimLeft},function(t,e,n){"use strict";n(90)("trimLeft",(function(t){return function(){return t(this,1)}}),"trimStart")},function(t,e,n){n(426),t.exports=n(27).String.trimRight},function(t,e,n){"use strict";n(90)("trimRight",(function(t){return function(){return t(this,2)}}),"trimEnd")},function(t,e,n){n(428),t.exports=n(143).f("asyncIterator")},function(t,e,n){n(204)("asyncIterator")},function(t,e,n){n(430),t.exports=n(27).Object.getOwnPropertyDescriptors},function(t,e,n){var i=n(1),r=n(231),o=n(45),a=n(57),s=n(159);i(i.S,"Object",{getOwnPropertyDescriptors:function(t){var e,n,i=o(t),l=a.f,c=r(i),u={},f=0;while(c.length>f)n=l(i,e=c[f++]),void 0!==n&&s(u,e,n);return u}})},function(t,e,n){n(432),t.exports=n(27).Object.values},function(t,e,n){var i=n(1),r=n(233)(!1);i(i.S,"Object",{values:function(t){return r(t)}})},function(t,e,n){n(434),t.exports=n(27).Object.entries},function(t,e,n){var i=n(1),r=n(233)(!0);i(i.S,"Object",{entries:function(t){return r(t)}})},function(t,e,n){"use strict";n(225),n(436),t.exports=n(27).Promise["finally"]},function(t,e,n){"use strict";var i=n(1),r=n(27),o=n(11),a=n(101),s=n(227);i(i.P+i.R,"Promise",{finally:function(t){var e=a(this,r.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then((function(){return n}))}:t,n?function(n){return s(e,t()).then((function(){throw n}))}:t)}})},function(t,e,n){n(438),n(439),n(440),t.exports=n(27)},function(t,e,n){var i=n(11),r=n(1),o=n(122),a=[].slice,s=/MSIE .\./.test(o),l=function(t){return function(e,n){var i=arguments.length>2,r=!!i&&a.call(arguments,2);return t(i?function(){("function"==typeof e?e:Function(e)).apply(this,r)}:e,n)}};r(r.G+r.B+r.F*s,{setTimeout:l(i.setTimeout),setInterval:l(i.setInterval)})},function(t,e,n){var i=n(1),r=n(165);i(i.G+i.B,{setImmediate:r.set,clearImmediate:r.clear})},function(t,e,n){for(var i=n(162),r=n(78),o=n(41),a=n(11),s=n(44),l=n(91),c=n(19),u=c("iterator"),f=c("toStringTag"),d=l.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=r(h),m=0;m<p.length;m++){var g,v=p[m],y=h[v],b=a[v],_=b&&b.prototype;if(_&&(_[u]||s(_,u,d),_[f]||s(_,f,v),l[v]=d,y))for(g in i)_[g]||o(_,g,i[g],!0)}},function(t,e,n){var i=function(t){"use strict";var e,n=Object.prototype,i=n.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(err){l=function(t,e,n){return t[e]=n}}function c(t,e,n,i){var r=e&&e.prototype instanceof g?e:g,o=Object.create(r.prototype),a=new T(i||[]);return o._invoke=O(t,n,a),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(err){return{type:"throw",arg:err}}}t.wrap=c;var f="suspendedStart",d="suspendedYield",h="executing",p="completed",m={};function g(){}function v(){}function y(){}var b={};b[o]=function(){return this};var _=Object.getPrototypeOf,x=_&&_(_(N([])));x&&x!==n&&i.call(x,o)&&(b=x);var w=y.prototype=g.prototype=Object.create(b);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(r,o,a,s){var l=u(t[r],t,o);if("throw"!==l.type){var c=l.arg,f=c.value;return f&&"object"===typeof f&&i.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(l.arg)}var r;function o(t,i){function o(){return new e((function(e,r){n(t,i,e,r)}))}return r=r?r.then(o,o):o()}this._invoke=o}function O(t,e,n){var i=f;return function(r,o){if(i===h)throw new Error("Generator is already running");if(i===p){if("throw"===r)throw o;return M()}n.method=r,n.arg=o;while(1){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=h;var l=u(t,e,n);if("normal"===l.type){if(i=n.done?p:d,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=p,n.method="throw",n.arg=l.arg)}}}function C(t,n){var i=t.iterator[n.method];if(i===e){if(n.delegate=null,"throw"===n.method){if(t.iterator["return"]&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var r=u(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,m;var o=r.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function D(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function N(t){if(t){var n=t[o];if(n)return n.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function n(){while(++r<t.length)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:M}}function M(){return{value:e,done:!0}}return v.prototype=w.constructor=y,y.constructor=v,v.displayName=l(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},k(S.prototype),S.prototype[a]=function(){return this},t.AsyncIterator=S,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var a=new S(c(e,n,i,r),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(w),l(w,s,"Generator"),w[o]=function(){return this},w.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){while(e.length){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=N,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(D),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return s.type="throw",s.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),D(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;D(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:N(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),m}},t}(t.exports);try{regeneratorRuntime=i}catch(r){Function("r","regeneratorRuntime = r")(i)}},function(t,e,n){var i=n(32),r=n(236),o=i.WeakMap;t.exports="function"===typeof o&&/native code/.test(r(o))},function(t,e,n){var i=n(53),r=n(444),o=n(125),a=n(71);t.exports=function(t,e){for(var n=r(e),s=a.f,l=o.f,c=0;c<n.length;c++){var u=n[c];i(t,u)||s(t,u,l(e,u))}}},function(t,e,n){var i=n(129),r=n(186),o=n(261),a=n(47);t.exports=i("Reflect","ownKeys")||function(t){var e=r.f(a(t)),n=o.f;return n?e.concat(n(t)):e}},function(t,e,n){var i=n(32);t.exports=i},function(t,e,n){var i=n(239);t.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,n){var i=n(129);t.exports=i("document","documentElement")},function(t,e,n){var i=n(61),r=Math.floor,o="".replace,a=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,s=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,l,c,u){var f=n+t.length,d=l.length,h=s;return void 0!==c&&(c=i(c),h=a),o.call(u,h,(function(i,o){var a;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(f);case"<":a=c[o.slice(1,-1)];break;default:var s=+o;if(0===s)return i;if(s>d){var u=r(s/10);return 0===u?i:u<=d?void 0===l[u-1]?o.charAt(1):l[u-1]+o.charAt(1):i}a=l[s-1]}return void 0===a?"":a}))}},function(t,e){var n=Math.floor,i=function(t,e){var a=t.length,s=n(a/2);return a<8?r(t,e):o(i(t.slice(0,s),e),i(t.slice(s),e),e)},r=function(t,e){var n,i,r=t.length,o=1;while(o<r){i=o,n=t[o];while(i&&e(t[i-1],n)>0)t[i]=t[--i];i!==o++&&(t[i]=n)}return t},o=function(t,e,n){var i=t.length,r=e.length,o=0,a=0,s=[];while(o<i||a<r)o<i&&a<r?s.push(n(t[o],e[a])<=0?t[o++]:e[a++]):s.push(o<i?t[o++]:e[a++]);return s};t.exports=i},function(t,e,n){var i=n(105),r=i.match(/firefox\/(\d+)/i);t.exports=!!r&&+r[1]},function(t,e,n){var i=n(105);t.exports=/MSIE|Trident/.test(i)},function(t,e,n){var i=n(105),r=i.match(/AppleWebKit\/(\d+)\./);t.exports=!!r&&+r[1]},function(t,e,n){"use strict";var i=n(174),r=n(249);t.exports=i?{}.toString:function(){return"[object "+r(this)+"]"}},function(t,e,n){var i=n(32),r=n(135).trim,o=n(131),a=i.parseInt,s=/^[+-]?0[Xx]/,l=8!==a(o+"08")||22!==a(o+"0x16");t.exports=l?function(t,e){var n=r(String(t));return a(n,e>>>0||(s.test(n)?16:10))}:a},function(t,e,n){var i=n(32),r=n(135).trim,o=n(131),a=i.parseFloat,s=1/a(o+"-0")!==-1/0;t.exports=s?function(t){var e=r(String(t)),n=a(e);return 0===n&&"-"==e.charAt(0)?-0:n}:a},,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}));var i=n(2);function r(t){var e=t.fromDirection,n=t.targetDirection,r=t.fromNode,o=t.targetNode,a=t.startPoint,s=t.endPoint,l=i["i"].getDirection(a,s),c=[],u=30;if(e==i["b"].Right&&n==i["b"].Left){if(l==i["c"].Right)c.push({x:a.x,y:a.y}),c.push({x:s.x,y:s.y});else if(l==i["c"].RightTop||l==i["c"].RightBottom)c.push({x:a.x,y:a.y}),c.push({x:a.x+(s.x-a.x)/2,y:a.y}),c.push({x:a.x+(s.x-a.x)/2,y:a.y+(s.y-a.y)}),c.push({x:s.x,y:s.y});else if(l==i["c"].Bottom||l==i["c"].Top||l==i["c"].Left||l==i["c"].LeftTop||l==i["c"].LeftBottom)if(c.push({x:a.x,y:a.y}),r.point.y>o.point.y+o.height){c.push({x:a.x+u,y:a.y});var f=c[c.length-1],d=Math.abs(r.point.y-(o.point.y+o.height))/2;c.push({x:f.x,y:r.point.y-d}),f=c[c.length-1],c.push({x:s.x-u,y:f.y}),f=c[c.length-1],c.push({x:f.x,y:s.y}),c.push({x:s.x,y:s.y})}else if(o.point.y>r.point.y+r.height>0){c.push({x:a.x+u,y:a.y});f=c[c.length-1],d=Math.abs(o.point.y-(r.point.y+r.height))/2;c.push({x:f.x,y:o.point.y-d}),f=c[c.length-1],c.push({x:s.x-u,y:f.y}),f=c[c.length-1],c.push({x:f.x,y:s.y}),c.push({x:s.x,y:s.y})}else{var h=u;h=o.point.x+o.width<=r.point.x+r.width?u:o.point.x+o.width+u-a.x,c.push({x:a.x+h,y:a.y});f=c[c.length-1];s.y<a.y?(c.push({x:f.x,y:o.point.y-u}),f=c[c.length-1],c.push({x:o.point.x-u,y:f.y}),c.push({x:o.point.x-u,y:s.y}),c.push({x:s.x,y:s.y})):(c.push({x:f.x,y:o.point.y+o.height+u}),f=c[c.length-1],c.push({x:o.point.x-u,y:f.y}),c.push({x:o.point.x-u,y:s.y}),c.push({x:s.x,y:s.y}))}}else if(e==i["b"].Right&&n==i["b"].Right){if(l==i["c"].Right||l==i["c"].Bottom||l==i["c"].Top||l==i["c"].RightTop||l==i["c"].RightBottom){c.push({x:a.x,y:a.y});f=c[c.length-1];var p={x:f.x,y:f.y};if(f.y>o.point.y-u&&f.y<o.point.y+o.height+u){p.x=r.point.x+r.width+u,c.push(p);f=c[c.length-1],p={x:f.x,y:f.y};Math.abs(f.y-o.point.y)<Math.abs(f.y-(o.point.y+o.height))?p.y=o.point.y-u:p.y=o.point.y+o.height+u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y}}r.point.x+r.width>o.point.x+o.width?p.x=r.point.x+r.width+u:p.x=o.point.x+o.width+u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},p.y=s.y,c.push(p),c.push(s)}else if(l==i["c"].Left||l==i["c"].LeftTop||l==i["c"].LeftBottom){c.push({x:a.x,y:a.y}),c.push({x:a.x+u,y:a.y});f=c[c.length-1],p={x:f.x,y:f.y};s.y>r.point.y-u&&s.y<r.point.y+r.height+u?Math.abs(s.y-r.point.y)<Math.abs(s.y-(r.point.y+r.height))?p.y=r.point.y-u:p.y=r.point.y+r.height+u:p.y=s.y,c.push(p),f=c[c.length-1],f.y!=s.y&&(p={x:f.x,y:f.y},p.x=s.x+u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},p.y=s.y,c.push(p)),c.push({x:s.x,y:s.y})}}else if(e==i["b"].Right&&n==i["b"].Top){if(l==i["c"].Right||l==i["c"].Top||l==i["c"].RightBottom||l==i["c"].RightTop){if(c.push({x:a.x,y:a.y}),o.point.y>a.y)c.push({x:s.x,y:a.y});else{if(o.point.x<=r.point.x+r.width&&o.point.x+o.width>=r.point.x){var m=u;m=o.point.x+o.width>r.point.x+r.width?o.point.x+o.width+u:r.point.x+r.width+u,c.push({x:m,y:a.y})}else{var g=Math.abs(o.point.x-(r.point.x+r.width));m=u;g<=u&&(m=g/2),c.push({x:a.x+m,y:a.y})}f=c[c.length-1],p={x:f.x,y:f.y},p.y=o.point.y-u,c.push(p),f=c[c.length-1],c.push({x:s.x,y:f.y})}c.push({x:s.x,y:s.y})}else if(l==i["c"].Left||l==i["c"].Bottom||l==i["c"].LeftTop||l==i["c"].LeftBottom){if(c.push({x:a.x,y:a.y}),l!=i["c"].LeftBottom&&l!=i["c"].Bottom&&o.point.x+o.width>r.point.x+r.width?c.push({x:o.point.x+o.width+u,y:a.y}):c.push({x:a.x+u,y:a.y}),o.point.y-(r.point.y+r.height)>0){f=c[c.length-1],p={x:f.x,y:f.y};m=u;o.point.y-(r.point.y+r.height)<=u&&(m=(o.point.y-(r.point.y+r.height))/2),p.y=o.point.y-m,c.push(p),f=c[c.length-1],p={x:s.x,y:f.y},c.push(p)}else f=c[c.length-1],p={x:f.x,y:f.y},r.point.y<o.point.y?p.y=r.point.y-u:p.y=o.point.y-u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},p.x=s.x,c.push(p);c.push({x:s.x,y:s.y})}}else if(e==i["b"].Right&&n==i["b"].Bottom){if(l==i["c"].Right||l==i["c"].Bottom||l==i["c"].RightBottom||l==i["c"].RightTop){if(c.push({x:a.x,y:a.y}),o.point.y+o.height<a.y)c.push({x:s.x,y:a.y});else{if(o.point.x<=r.point.x+r.width&&o.point.x+o.width>=r.point.x){m=u;m=o.point.x+o.width>r.point.x+r.width?o.point.x+o.width+u:r.point.x+r.width+u,c.push({x:m,y:a.y})}else{g=Math.abs(o.point.x-(r.point.x+r.width)),m=u;g<=u&&(m=g/2),c.push({x:a.x+m,y:a.y})}f=c[c.length-1],p={x:f.x,y:f.y},p.y=o.point.y+o.height+u,c.push(p),f=c[c.length-1],c.push({x:s.x,y:f.y})}c.push({x:s.x,y:s.y})}else if(l==i["c"].Left||l==i["c"].Top||l==i["c"].LeftTop||l==i["c"].LeftBottom){if(c.push({x:a.x,y:a.y}),l!=i["c"].LeftTop&&l!=i["c"].Top&&o.point.x+o.width>r.point.x+r.width?c.push({x:o.point.x+o.width+u,y:a.y}):c.push({x:a.x+u,y:a.y}),r.point.y-(o.point.y+o.height)>0){f=c[c.length-1],p={x:f.x,y:f.y};m=u;o.point.y-(r.point.y+r.height)<=u&&(m=(o.point.y-(r.point.y+r.height))/2),p.y=o.point.y-m,c.push(p),f=c[c.length-1],p={x:s.x,y:f.y},c.push(p)}else f=c[c.length-1],p={x:f.x,y:f.y},o.point.y+o.height>r.point.y+r.height?p.y=o.point.y+o.height+u:p.y=r.point.y+r.height+u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},p.x=s.x,c.push(p);c.push({x:s.x,y:s.y})}}else if(e==i["b"].Bottom&&n==i["b"].Left){m=u;if(l==i["c"].RightBottom||l==i["c"].RightTop||l==i["c"].Right)c.push({x:a.x,y:a.y}),s.y>r.point.y+r.height?c.push({x:a.x,y:s.y}):o.point.x<=r.point.x+r.width?(o.point.y+o.height>r.point.y+r.height&&(m=o.point.y+o.height-(r.point.y+r.height)+u),c.push({x:a.x,y:a.y+m}),f=c[c.length-1],p={x:f.x,y:f.y},o.point.x>r.point.x?p.x=r.point.x-u:p.x=o.point.x-u,c.push(p),f=c[c.length-1],c.push({x:f.x,y:s.y})):(c.push({x:a.x,y:a.y+u}),o.point.x-(r.point.x+r.width)<=2*u&&(m=(o.point.x-(r.point.x+r.width))/2),f=c[c.length-1],c.push({x:s.x-m,y:f.y}),f=c[c.length-1],c.push({x:f.x,y:s.y}));else if(l==i["c"].Top||l==i["c"].LeftTop)c.push({x:a.x,y:a.y}),o.point.y+o.height>r.point.y+r.height&&(m=o.point.y+o.height-(r.point.y+r.height)+u),c.push({x:a.x,y:a.y+m}),f=c[c.length-1],p={x:f.x,y:f.y},o.point.x>r.point.x?p.x=r.point.x-u:p.x=o.point.x-u,c.push(p),f=c[c.length-1],c.push({x:f.x,y:s.y});else if(l==i["c"].Bottom||l==i["c"].LeftBottom||l==i["c"].Left)if(c.push({x:a.x,y:a.y}),o.point.y-(r.point.y+r.height)>0){var v=o.point.y-(r.point.y+r.height);v>2*u?c.push({x:a.x,y:a.y+u}):c.push({x:a.x,y:a.y+v/2}),f=c[c.length-1],p={x:f.x,y:f.y},p.x=s.x-30,c.push(p),f=c[c.length-1],p={x:f.x,y:s.y},c.push(p)}else o.point.y+o.height>r.point.y+r.height&&(m=o.point.y+o.height-(r.point.y+r.height)+u),c.push({x:a.x,y:a.y+m}),f=c[c.length-1],p={x:f.x,y:f.y},o.point.x>r.point.x?p.x=r.point.x-u:p.x=o.point.x-u,c.push(p),f=c[c.length-1],c.push({x:f.x,y:s.y});c.push({x:s.x,y:s.y})}else if(e==i["b"].Bottom&&n==i["b"].Bottom){m=u;if(c.push({x:a.x,y:a.y}),l==i["c"].Right||l==i["c"].RightTop||l==i["c"].Top||l==i["c"].LeftTop)if(o.point.y+o.height>r.point.y+r.height&&(m=o.point.y+o.height-(r.point.y+r.height)+u),c.push({x:a.x,y:a.y+m}),f=c[c.length-1],p={x:f.x,y:f.y},s.x<r.point.x+r.width+u&&s.x>r.point.x-u){if(y=i["i"].getNodeCenter(o),y.x>a.x?(p.x=r.point.x+r.width+u,c.push(p)):(p.x=r.point.x-u,c.push(p)),f=c[c.length-1],p={x:f.x,y:f.y},r.point.y-(o.point.y+o.height)>2*u)p.y=o.point.y+o.height+u;else if(r.point.y-(o.point.y+o.height)<=0)p.y=o.point.y+o.height+u;else{v=r.point.y-(o.point.y+o.height);p.y=o.point.y+o.height+v/2}c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},p.x=s.x,c.push(p)}else p.x=s.x,c.push(p);else if(l==i["c"].Left||l==i["c"].RightBottom||l==i["c"].LeftBottom||l==i["c"].Bottom)if(f=c[c.length-1],p={x:f.x,y:f.y},o.point.x-u<=a.x&&o.point.x+o.width+u>a.x){if(o.point.y-(r.point.y+r.height)>u||o.point.y-(r.point.y+r.height)<=0)p.y=a.y+u,c.push(p);else{v=(o.point.y-(r.point.y+r.height))/2;p.y=a.y+v,c.push(p)}var y=i["i"].getNodeCenter(o);y.x>a.x?(f=c[c.length-1],p={x:f.x,y:f.y},p.x=o.point.x-u,c.push(p)):(f=c[c.length-1],p={x:f.x,y:f.y},p.x=o.point.x+o.width+u,c.push(p)),f=c[c.length-1],p={x:f.x,y:f.y},p.y=o.point.y+o.height+u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},p.x=s.x,c.push(p)}else r.point.y+r.height>o.point.y+o.height?p.y=r.point.y+r.height+u:p.y=o.point.y+o.height+u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},p.x=s.x,c.push(p);c.push({x:s.x,y:s.y})}else if(e==i["b"].Bottom&&n==i["b"].Right){m=u;if(c.push({x:a.x,y:a.y}),l==i["c"].Top||l==i["c"].Bottom||l==i["c"].Right||l==i["c"].RightBottom||l==i["c"].RightTop)o.point.y-(r.point.y+r.height)>0?(f=c[c.length-1],p={x:f.x,y:f.y},m=o.point.y-(r.point.y+r.height)>2*u?u:(o.point.y-(r.point.y+r.height))/2,p.y=p.y+m,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},p.x=s.x+u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},p.y=s.y,c.push(p)):(f=c[c.length-1],p={x:f.x,y:f.y},r.point.y+r.height>o.point.y+o.height?p.y=r.point.y+r.height+u:p.y=o.point.y+o.height+u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},r.point.x+r.width>o.point.x+o.width?p.x=r.point.x+r.width+u:p.x=o.point.x+o.width+u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},p.y=s.y,c.push(p));else if(l==i["c"].LeftTop||l==i["c"].Left||l==i["c"].LeftBottom)if(s.y<=a.y)if(o.point.x+o.width<r.point.x){if(c.push({x:a.x,y:r.point.y+r.height+u}),f=c[c.length-1],p={x:f.x,y:f.y},r.point.x-(o.point.x+o.width)<=u){v=Math.abs(o.point.x+o.width-r.point.x)/2;p.x=o.point.x+o.width+v}else p.x=o.point.x+o.width+u;c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},p.y=s.y,c.push(p)}else r.point.y+r.height>o.point.y+o.height?c.push({x:a.x,y:r.point.y+r.height+u}):c.push({x:a.x,y:o.point.y+o.height+u}),f=c[c.length-1],p={x:f.x,y:f.y},o.point.x+o.width>r.point.x+r.width?p.x=o.point.x+o.width+u:p.x=r.point.x+r.width+u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},p.y=s.y,c.push(p);else c.push({x:a.x,y:s.y});c.push({x:s.x,y:s.y})}else if(e==i["b"].Bottom&&n==i["b"].Top){m=u;if(c.push({x:a.x,y:a.y}),l==i["c"].Top||l==i["c"].Right||l==i["c"].Left||l==i["c"].RightTop||l==i["c"].LeftTop)o.point.x<=r.point.x+r.width&&o.point.x+o.width>=r.point.x?(c.push({x:a.x,y:a.y+u}),y=i["i"].getNodeCenter(o),f=c[c.length-1],p={x:f.x,y:f.y},y.x>a.x?(p.x=r.point.x<o.point.x?r.point.x:o.point.x,p.x-=u):(p.x=r.point.x+r.width<o.point.x+o.width?o.point.x+o.width:r.point.x+r.width,p.x+=u),c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},p.y=r.point.y<o.point.y?r.point.y:o.point.y,p.y-=u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},p.x=s.x,c.push(p)):(c.push({x:a.x,y:a.y+u}),f=c[c.length-1],p={x:f.x,y:f.y},o.point.x>r.point.x+r.width?p.x=r.point.x+r.width+(o.point.x-(r.point.x+r.width))/2:r.point.x>o.point.x+o.width&&(p.x=r.point.x-(r.point.x-(o.point.x+o.width))/2),c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},p.y=s.y-u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},p.x=s.x,c.push(p));else if((l==i["c"].Bottom||l==i["c"].LeftBottom||l==i["c"].RightBottom)&&s.x!=a.x){v=o.point.y-(r.point.y+r.height);c.push({x:a.x,y:a.y+v/2}),f=c[c.length-1],p={x:f.x,y:f.y},p.x=s.x,c.push(p)}c.push({x:s.x,y:s.y})}else if(e==i["b"].Left&&n==i["b"].Left){m=u;c.push({x:a.x,y:a.y}),l==i["c"].Top||l==i["c"].Bottom||l==i["c"].Right||l==i["c"].RightTop||l==i["c"].RightBottom?(c.push({x:a.x-u,y:a.y}),f=c[c.length-1],p={x:f.x,y:f.y},s.y>r.point.y-u&&s.y<r.point.y+r.height+u?(s.y<a.y?p.y=r.point.y-u:p.y=r.point.y+r.height+u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},p.x=s.x-u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},p.y=s.y,c.push(p)):(p.y=s.y,c.push(p))):l!=i["c"].Left&&l!=i["c"].LeftBottom&&l!=i["c"].LeftTop||(f=c[c.length-1],p={x:f.x,y:f.y},a.y>o.point.y-u&&a.y<o.point.y+o.height+u?(c.push({x:a.x-u,y:a.y}),f=c[c.length-1],p={x:f.x,y:f.y},Math.abs(f.y-o.point.y)<Math.abs(f.y-(o.point.y+o.height))?p.y=o.point.y-u:p.y=o.point.y+o.height+u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},p.x=o.point.x-u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},p.y=s.y,c.push(p)):(p.x=o.point.x-u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},p.y=s.y,c.push(p))),c.push({x:s.x,y:s.y})}else if(e==i["b"].Left&&n==i["b"].Top){m=u;if(c.push({x:a.x,y:a.y}),l==i["c"].Right||l==i["c"].RightTop||l==i["c"].RightBottom||l==i["c"].Bottom)if(o.point.y-(r.point.y+r.height)>0){f=c[c.length-1],p={x:f.x,y:f.y},p.x=r.point.x-u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y};v=o.point.y-(r.point.y+r.height);p.y=v>2*u?o.point.y-u:r.point.y+r.height+v/2,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},p.x=s.x,c.push(p)}else f=c[c.length-1],p={x:f.x,y:f.y},o.point.x<r.point.x?p.x=o.point.x-u:p.x=r.point.x-u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},o.point.y<r.point.y?p.y=o.point.y-u:p.y=r.point.y-u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},p.x=s.x,c.push(p);else if(l==i["c"].Top||l==i["c"].LeftTop||l==i["c"].Left)if(o.point.x+o.width<r.point.x){f=c[c.length-1],p={x:f.x,y:f.y};v=Math.abs(o.point.x+o.width-r.point.x);p.x=v>2*u?r.point.x-u:r.point.x-v/2,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},p.y=o.point.y-u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},p.x=s.x,c.push(p)}else f=c[c.length-1],p={x:f.x,y:f.y},o.point.x<r.point.x?p.x=o.point.x-u:p.x=r.point.x-u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},o.point.y<r.point.y?p.y=o.point.y-u:p.y=r.point.y-u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},p.x=s.x,c.push(p);else l==i["c"].LeftBottom&&c.push({x:s.x,y:a.y});c.push({x:s.x,y:s.y})}else if(e==i["b"].Left&&n==i["b"].Right){m=u;if(c.push({x:a.x,y:a.y}),l==i["c"].Right||l==i["c"].RightTop||l==i["c"].RightBottom||l==i["c"].Top||l==i["c"].Bottom)if(c.push({x:a.x-u,y:a.y}),f=c[c.length-1],p={x:f.x,y:f.y},o.point.y<=r.point.y+r.height&&o.point.y+o.height>=r.point.y){y=i["i"].getNodeCenter(o);y.y>a.y?p.y=r.point.y<o.point.y?r.point.y-u:o.point.y-u:p.y=r.point.y+r.height<o.point.y+o.height?o.point.y+o.height+u:r.point.y+r.height+u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},o.point.x+o.width>r.point.x+r.width?p.x=o.point.x+o.width+u:p.x=r.point.x+r.width+u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},p.y=s.y,c.push(p)}else{if(o.point.y>r.point.y+r.height){v=Math.abs(o.point.y-(r.point.y+r.height));p.y=r.point.y+r.height+v/2}else if(o.point.y+o.height<r.point.y){v=Math.abs(o.point.y+o.height-r.point.y);p.y=o.point.y+o.height+v/2}c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},p.x=o.point.x+o.width+u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},p.y=s.y,c.push(p)}else if((l==i["c"].Left||l==i["c"].LeftTop||l==i["c"].LeftBottom)&&a.y!=s.y){v=r.point.x-(o.point.x+o.width);c.push({x:r.point.x-v/2,y:a.y}),f=c[c.length-1],p={x:f.x,y:f.y},p.y=s.y,c.push(p)}c.push({x:s.x,y:s.y})}else if(e==i["b"].Left&&n==i["b"].Bottom){m=u;if(c.push({x:a.x,y:a.y}),l==i["c"].Top||l==i["c"].Bottom||l==i["c"].Right||l==i["c"].RightTop||l==i["c"].RightBottom)if(f=c[c.length-1],p={x:f.x,y:f.y},o.point.y+o.height<r.point.y){p.x=r.point.x-u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y};v=Math.abs(o.point.y+o.height-r.point.y);p.y=v<=2*u?o.point.y+o.height+v/2:o.point.y+o.height+u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},p.x=s.x,c.push(p)}else f=c[c.length-1],p={x:f.x,y:f.y},o.point.x<r.point.x?p.x=o.point.x-u:p.x=r.point.x-u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},o.point.y+o.height<r.point.y+r.height?p.y=r.point.y+r.height+u:p.y=o.point.y+o.height+u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},p.x=s.x,c.push(p);else if(l==i["c"].LeftTop)c.push({x:s.x,y:a.y});else if(l==i["c"].Left||l==i["c"].LeftBottom)if(f=c[c.length-1],p={x:f.x,y:f.y},o.point.x+o.width<r.point.x){v=Math.abs(o.point.x+o.width-r.point.x);p.x=v<2*u?r.point.x-v/2:r.point.x-u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},p.y=o.point.y+o.height+u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},p.x=s.x,c.push(p)}else p.x=o.point.x-u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},p.y=o.point.y+o.height>r.point.y+r.height?o.point.y+o.height+u:r.point.y+r.height+u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},p.x=s.x,c.push(p);c.push({x:s.x,y:s.y})}else if(e==i["b"].Top&&n==i["b"].Left){m=u;if(c.push({x:a.x,y:a.y}),l==i["c"].RightTop)c.push({x:a.x,y:s.y});else if(l==i["c"].Right||l==i["c"].RightBottom||l==i["c"].Bottom||l==i["c"].LeftBottom)if(f=c[c.length-1],p={x:f.x,y:f.y},o.point.x>r.point.x+r.width){p.y=r.point.y-u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y};v=o.point.x-(r.point.x+r.width);p.x=v>2*u?o.point.x-u:o.point.x-v/2,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},p.y=s.y,c.push(p)}else o.point.y<r.point.y?p.y=o.point.y-u:p.y=r.point.y-u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},o.point.x<r.point.x?p.x=o.point.x-u:p.x=r.point.x-u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},p.y=s.y,c.push(p);else if(l==i["c"].Left||l==i["c"].LeftTop||l==i["c"].Top)if(o.point.y+o.height<r.point.y){f=c[c.length-1],p={x:f.x,y:f.y};v=Math.abs(o.point.y+o.height-r.point.y);p.y=v>2*u?r.point.y-u:r.point.y-v/2,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},p.x=o.point.x-u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},p.y=s.y,c.push(p)}else f=c[c.length-1],p={x:f.x,y:f.y},o.point.y<r.point.y?p.y=o.point.y-u:p.y=r.point.y-u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},o.point.x<r.point.x?p.x=o.point.x-u:p.x=r.point.x-u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},p.y=s.y,c.push(p);c.push({x:s.x,y:s.y})}else if(e==i["b"].Top&&n==i["b"].Right){m=u;if(c.push({x:a.x,y:a.y}),l==i["c"].Top||l==i["c"].Right||l==i["c"].Bottom||l==i["c"].RightTop||l==i["c"].RightBottom)if(o.point.y+o.height<r.point.y){f=c[c.length-1],p={x:f.x,y:f.y};v=Math.abs(o.point.y+o.height-r.point.y);p.y=v<2*u?r.point.y-v/2:r.point.y-u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},p.x=o.point.x+o.width+u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},p.y=s.y,c.push(p)}else f=c[c.length-1],p={x:f.x,y:f.y},o.point.y<r.point.y?p.y=o.point.y-u:p.y=r.point.y-u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},o.point.x+o.width>r.point.x+r.width?p.x=o.point.x+o.width+u:p.x=r.point.x+r.width+u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},p.y=s.y,c.push(p);else if(l==i["c"].LeftTop)c.push({x:a.x,y:s.y});else if(l==i["c"].Left||l==i["c"].LeftBottom)if(o.point.x+o.width<r.point.x){f=c[c.length-1],p={x:f.x,y:f.y},p.y=r.point.y-u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y};v=Math.abs(o.point.x+o.width-r.point.x);p.x=v<2*u?o.point.x+o.width+v/2:o.point.x+o.width+u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},p.y=s.y,c.push(p)}else f=c[c.length-1],p={x:f.x,y:f.y},o.point.y<r.point.y?p.y=o.point.y-u:p.y=r.point.y-u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},o.point.x+o.width<r.point.x+r.width?p.x=r.point.x+r.width+u:p.x=o.point.x+o.width+u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},p.y=s.y,c.push(p);c.push({x:s.x,y:s.y})}else if(e==i["b"].Top&&n==i["b"].Top){m=u;if(c.push({x:a.x,y:a.y}),l==i["c"].Right||l==i["c"].Left||l==i["c"].RightBottom||l==i["c"].Bottom||l==i["c"].LeftBottom)if(f=c[c.length-1],p={x:f.x,y:f.y},o.point.y<r.point.y?p.y=o.point.y-u:p.y=r.point.y-u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},s.x<r.point.x+r.width+u&&s.x>r.point.x-u){y=i["i"].getNodeCenter(o);y.x<a.x?p.x=r.point.x-u:p.x=r.point.x+r.width+u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y};v=o.point.y-(r.point.y+r.height);p.y=v<2*u?o.point.y-v/2:o.point.y-u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},p.x=s.x,c.push(p)}else p.x=s.x,c.push(p);else if(l==i["c"].LeftTop||l==i["c"].Top||l==i["c"].RightTop){f=c[c.length-1];if(p={x:f.x,y:f.y},a.x<o.point.x+o.width+u&&a.x>o.point.x-u){v=Math.abs(o.point.y+o.height-r.point.y);p.y=v<2*u&&0!=v?r.point.y-v/2:r.point.y-u,c.push(p);f=c[c.length-1];p={x:f.x,y:f.y};y=i["i"].getNodeCenter(o);y.x<a.x?p.x=o.point.x+o.width+u:p.x=o.point.x-u,c.push(p);f=c[c.length-1];p={x:f.x,y:f.y},p.y=o.point.y-u,c.push(p);f=c[c.length-1];p={x:f.x,y:f.y},p.x=s.x,c.push(p)}else{o.point.y<r.point.y?p.y=o.point.y-u:p.y=r.point.y-u,c.push(p);f=c[c.length-1];p={x:f.x,y:f.y},p.x=s.x,c.push(p)}}c.push({x:s.x,y:s.y})}else if(e==i["b"].Top&&n==i["b"].Bottom){m=u;if(c.push({x:a.x,y:a.y}),l==i["c"].Top||l==i["c"].LeftTop||l==i["c"].RightTop){if(f=c[c.length-1],p={x:f.x,y:f.y},s.x!=a.x){v=Math.abs(o.point.y+o.height-r.point.y);p.y=r.point.y-v/2,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},p.x=s.x,c.push(p)}}else if(l==i["c"].Left||l==i["c"].Right||l==i["c"].LeftBottom||l==i["c"].RightBottom||l==i["c"].Bottom)if(f=c[c.length-1],p={x:f.x,y:f.y},o.point.x<=r.point.x+r.width&&o.point.x+o.width>=r.point.x){o.point.y<r.point.y?p.y=o.point.y-u:p.y=r.point.y-u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y};y=i["i"].getNodeCenter(o);y.x<a.x?p.x=o.point.x<r.point.x?o.point.x-u:r.point.x-u:p.x=o.point.x+o.width<r.point.x+r.width?r.point.x+r.width+u:o.point.x+o.width+u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},p.y=o.point.y+o.height+u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},p.x=s.x,c.push(p)}else{if(p.y=r.point.y-u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},o.point.x+o.width<r.point.x){v=Math.abs(o.point.x+o.width-r.point.x);p.x=r.point.x-v/2}else if(r.point.x+r.width<o.point.x){v=Math.abs(r.point.x+r.width-o.point.x);p.x=o.point.x-v/2}c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},p.y=o.point.y+o.height+u,c.push(p),f=c[c.length-1],p={x:f.x,y:f.y},p.x=s.x,c.push(p)}c.push({x:s.x,y:s.y})}return c}function o(t,e){if(t){var n=[],r=t.fromDirection,o=t.fromNode,a=t.startPoint,s=e,l=30,c=i["i"].getDirection(a,s),u=i["i"].getAngle(a,s);if(r==i["b"].Right)n.push({x:a.x,y:a.y}),c==i["c"].RightTop||c==i["c"].RightBottom?u>0&&u<45||u>315&&u<360?(f=n[n.length-1],d={x:f.x,y:f.y},d.x=a.x+(s.x-a.x)/2,n.push(d),f=n[n.length-1],d={x:f.x,y:f.y},d.y=s.y,n.push(d)):(f=n[n.length-1],d={x:f.x,y:f.y},d.x=s.x,n.push(d)):c==i["c"].Bottom||c==i["c"].LeftBottom||c==i["c"].Left?u<135?(f=n[n.length-1],d={x:f.x,y:f.y},d.x=d.x+l,n.push(d),f=n[n.length-1],d={x:f.x,y:f.y},d.y=s.y-l,n.push(d),f=n[n.length-1],d={x:f.x,y:f.y},d.x=s.x,n.push(d)):(f=n[n.length-1],d={x:f.x,y:f.y},d.x=d.x+l,n.push(d),f=n[n.length-1],d={x:f.x,y:f.y},s.y<=o.point.y+o.height+l?(d.y=o.point.y+o.height+l,n.push(d),f=n[n.length-1],d={x:f.x,y:f.y},d.x=s.x+l,n.push(d),f=n[n.length-1],d={x:f.x,y:f.y},d.y=s.y,n.push(d)):(d.y=s.y,n.push(d))):c!=i["c"].Top&&c!=i["c"].LeftTop||(u>225?(f=n[n.length-1],d={x:f.x,y:f.y},d.x=d.x+l,n.push(d),f=n[n.length-1],d={x:f.x,y:f.y},d.y=s.y+l,n.push(d),f=n[n.length-1],d={x:f.x,y:f.y},d.x=s.x,n.push(d)):(f=n[n.length-1],d={x:f.x,y:f.y},d.x=d.x+l,n.push(d),f=n[n.length-1],d={x:f.x,y:f.y},s.y>=o.point.y-l?(d.y=o.point.y-l,n.push(d),f=n[n.length-1],d={x:f.x,y:f.y},d.x=s.x+l,n.push(d),f=n[n.length-1],d={x:f.x,y:f.y},d.y=s.y,n.push(d)):(d.y=s.y,n.push(d)))),n.push({x:s.x,y:s.y});else if(r==i["b"].Bottom){n.push({x:a.x,y:a.y}),c==i["c"].RightBottom||c==i["c"].LeftBottom?u>90&&u<135||u<90&&u>45?(f=n[n.length-1],d={x:f.x,y:f.y},d.y=a.y+(s.y-a.y)/2,n.push(d),f=n[n.length-1],d={x:f.x,y:f.y},d.x=s.x,n.push(d)):(f=n[n.length-1],d={x:f.x,y:f.y},d.y=s.y,n.push(d)):c==i["c"].Right||c==i["c"].Top||c==i["c"].RightTop?u>315?(f=n[n.length-1],d={x:f.x,y:f.y},d.y=d.y+l,n.push(d),f=n[n.length-1],d={x:f.x,y:f.y},d.x=s.x-l,n.push(d),f=n[n.length-1],d={x:f.x,y:f.y},d.y=s.y,n.push(d)):(f=n[n.length-1],d={x:f.x,y:f.y},d.y=d.y+l,n.push(d),f=n[n.length-1],d={x:f.x,y:f.y},s.x<=o.point.x+o.width+l?(d.x=o.point.x+o.width+l,n.push(d),f=n[n.length-1],d={x:f.x,y:f.y},d.y=s.y+l,n.push(d),f=n[n.length-1],d={x:f.x,y:f.y},d.x=s.x,n.push(d)):(d.x=s.x,n.push(d))):c!=i["c"].Left&&c!=i["c"].LeftTop||(u<225?(f=n[n.length-1],d={x:f.x,y:f.y},d.y=d.y+l,n.push(d),f=n[n.length-1],d={x:f.x,y:f.y},d.x=s.x+l,n.push(d),f=n[n.length-1],d={x:f.x,y:f.y},d.y=s.y,n.push(d)):(f=n[n.length-1],d={x:f.x,y:f.y},d.y=d.y+l,n.push(d),f=n[n.length-1],d={x:f.x,y:f.y},s.x>=o.point.x-l?(d.x=o.point.x-l,n.push(d),f=n[n.length-1],d={x:f.x,y:f.y},d.y=s.y+l,n.push(d),f=n[n.length-1],d={x:f.x,y:f.y},d.x=s.x,n.push(d)):(d.x=s.x,n.push(d)))),n.push({x:s.x,y:s.y})}else if(r==i["b"].Left){n.push({x:a.x,y:a.y}),c==i["c"].LeftTop||c==i["c"].LeftBottom?u>135&&u<180||u>180&&u<225?(f=n[n.length-1],d={x:f.x,y:f.y},d.x=a.x+(s.x-a.x)/2,n.push(d),f=n[n.length-1],d={x:f.x,y:f.y},d.y=s.y,n.push(d)):(f=n[n.length-1],d={x:f.x,y:f.y},d.x=s.x,n.push(d)):c==i["c"].Bottom||c==i["c"].RightBottom||c==i["c"].Right?u>45?(f=n[n.length-1],d={x:f.x,y:f.y},d.x=d.x-l,n.push(d),f=n[n.length-1],d={x:f.x,y:f.y},d.y=s.y-l,n.push(d),f=n[n.length-1],d={x:f.x,y:f.y},d.x=s.x,n.push(d)):(f=n[n.length-1],d={x:f.x,y:f.y},d.x=d.x-l,n.push(d),f=n[n.length-1],d={x:f.x,y:f.y},s.y<=o.point.y+o.height+l?(d.y=o.point.y+o.height+l,n.push(d),f=n[n.length-1],d={x:f.x,y:f.y},d.x=s.x-l,n.push(d),f=n[n.length-1],d={x:f.x,y:f.y},d.y=s.y,n.push(d)):(d.y=s.y,n.push(d))):c!=i["c"].Top&&c!=i["c"].RightTop||(u<315?(f=n[n.length-1],d={x:f.x,y:f.y},d.x=d.x-l,n.push(d),f=n[n.length-1],d={x:f.x,y:f.y},d.y=s.y+l,n.push(d),f=n[n.length-1],d={x:f.x,y:f.y},d.x=s.x,n.push(d)):(f=n[n.length-1],d={x:f.x,y:f.y},d.x=d.x-l,n.push(d),f=n[n.length-1],d={x:f.x,y:f.y},s.y>=o.point.y-l?(d.y=o.point.y-l,n.push(d),f=n[n.length-1],d={x:f.x,y:f.y},d.x=s.x-l,n.push(d),f=n[n.length-1],d={x:f.x,y:f.y},d.y=s.y,n.push(d)):(d.y=s.y,n.push(d)))),n.push({x:s.x,y:s.y})}else if(r==i["b"].Top){var f,d;n.push({x:a.x,y:a.y}),c==i["c"].RightTop||c==i["c"].LeftTop?u>270&&u<315||u<270&&u>225?(f=n[n.length-1],d={x:f.x,y:f.y},d.y=a.y+(s.y-a.y)/2,n.push(d),f=n[n.length-1],d={x:f.x,y:f.y},d.x=s.x,n.push(d)):(f=n[n.length-1],d={x:f.x,y:f.y},d.y=s.y,n.push(d)):c==i["c"].Right||c==i["c"].Bottom||c==i["c"].RightBottom?u<45?(f=n[n.length-1],d={x:f.x,y:f.y},d.y=d.y-l,n.push(d),f=n[n.length-1],d={x:f.x,y:f.y},d.x=s.x-l,n.push(d),f=n[n.length-1],d={x:f.x,y:f.y},d.y=s.y,n.push(d)):(f=n[n.length-1],d={x:f.x,y:f.y},d.y=d.y-l,n.push(d),f=n[n.length-1],d={x:f.x,y:f.y},s.x<=o.point.x+o.width+l?(d.x=o.point.x+o.width+l,n.push(d),f=n[n.length-1],d={x:f.x,y:f.y},d.y=s.y-l,n.push(d),f=n[n.length-1],d={x:f.x,y:f.y},d.x=s.x,n.push(d)):(d.x=s.x,n.push(d))):c!=i["c"].Left&&c!=i["c"].LeftBottom||(u>135?(f=n[n.length-1],d={x:f.x,y:f.y},d.y=d.y-l,n.push(d),f=n[n.length-1],d={x:f.x,y:f.y},d.x=s.x+l,n.push(d),f=n[n.length-1],d={x:f.x,y:f.y},d.y=s.y,n.push(d)):(f=n[n.length-1],d={x:f.x,y:f.y},d.y=d.y-l,n.push(d),f=n[n.length-1],d={x:f.x,y:f.y},s.x>=o.point.x-l?(d.x=o.point.x-l,n.push(d),f=n[n.length-1],d={x:f.x,y:f.y},d.y=s.y-l,n.push(d),f=n[n.length-1],d={x:f.x,y:f.y},d.x=s.x,n.push(d)):(d.x=s.x,n.push(d)))),n.push({x:s.x,y:s.y})}return n}}},function(t,e,n){var i=n(60),r=/"/g;t.exports=function(t,e,n,o){var a=String(i(t)),s="<"+e;return""!==n&&(s+=" "+n+'="'+String(o).replace(r,"&quot;")+'"'),s+">"+a+"</"+e+">"}},function(t,e,n){var i=n(21);t.exports=function(t){return i((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},function(t,e,n){var i=n(17),r=n(482),o=n(136);i({target:"Array",proto:!0},{fill:r}),o("fill")},function(t,e,n){"use strict";var i=n(264).IteratorPrototype,r=n(132),o=n(111),a=n(248),s=n(137),l=function(){return this};t.exports=function(t,e,n){var c=e+" Iterator";return t.prototype=r(i,{next:o(1,n)}),a(t,c,!1,!0),s[c]=l,t}},function(t,e,n){"use strict";var i=n(87),r=n(136),o=n(137),a=n(107),s=n(263),l="Array Iterator",c=a.set,u=a.getterFor(l);t.exports=s(Array,"Array",(function(t,e){c(this,{type:l,target:i(t),index:0,kind:e})}),(function(){var t=u(this),e=t.target,n=t.kind,i=t.index++;return!e||i>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:e[i],done:!1}:{value:[i,e[i]],done:!1}}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e,n){var i=n(66),r=n(177),o=n(87),a=n(199).f,s=function(t){return function(e){var n,s=o(e),l=r(s),c=l.length,u=0,f=[];while(c>u)n=l[u++],i&&!a.call(s,n)||f.push(t?[n,s[n]]:s[n]);return f}};t.exports={entries:s(!0),values:s(!1)}},function(t,e,n){var i=n(21);t.exports=!i((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,n){"use strict";var i=n(85),r=n(60);t.exports=function(t){var e=String(r(this)),n="",o=i(t);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},function(t,e,n){"use strict";var i=n(17),r=n(461),o=n(462);i({target:"String",proto:!0,forced:o("fixed")},{fixed:function(){return r(this,"tt","","")}})},function(t,e,n){"use strict";var i=n(17),r=n(96).every,o=n(95),a=o("every");i({target:"Array",proto:!0,forced:!a},{every:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},,function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n(110);function r(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Object(i["a"])(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,a=t},f:function(){try{s||null==n["return"]||n["return"]()}finally{if(l)throw a}}}}},function(t,e,n){"use strict";var i=n(3),r=n.n(i),o=n(6),a=n(9),s=(n(15),n(31)),l=function(t,e){var n,i,l,c=[],u={path:[],from:null,to:null,strokeWidth:null===t||void 0===t||null===(n=t.Path)||void 0===n?void 0:n.strokeWidth,stroke:null===t||void 0===t||null===(i=t.Path)||void 0===i?void 0:i.stroke,arrowEnd:null===t||void 0===t||null===(l=t.Path)||void 0===l?void 0:l.arrow},f=!1;Object.assign(u,e),this.id=u.id||null,this.name=u.name||"",this.type=u.type||0,this.path=u.path?$.inArray(u.path)?u.path:[u.path]:[],this.from=u.from,this.fromType=u.fromType,this.to=u.to,this.strokeWidth=u.strokeWidth,this.stroke=u.stroke,this.strokeDasharray=u.strokeDasharray,this.arrowEnd=u.arrowEnd,this.linkInfo=u.linkInfo||{},this.isHide=u.isHide||!1,this.parentNodeId=u.parentNodeId,this.edit=u.edit||{show:!0,isEdit:!1,editName:!1,name1:""},this.propertyPos=u.propertyPos||{x:0,y:0,isMove:!1},u.attributes&&(this.attributes=dsf.mix(!0,{},u.attributes)),this.remove=function(){if(c)for(var t=c.length-1;t>=0;t--)c[t].remove();c=[]},this.getSegmenList=function(){return c},this.refresh=function(){if(c)for(var t=0;t<c.length;t++)c[t].refresh()},this.addElement=function(t){c.push(t)},this.isSelected=function(){return f},this.selected=function(){f=!0,this.stroke="#333",this.refresh()},this.unSelected=function(){f=!1,this.stroke=this.getLineStroke.call(this),this.refresh()},this.hide=function(){if(c)for(var t=c.length-1;t>=0;t--)c[t].hide()},this.show=function(){if(c)for(var t=c.length-1;t>=0;t--)c[t].show()},this.getPreLine=function(t){return c[t.index-1]},this.getNextLine=function(t){return c[t.index+1]},this.getLineStroke=function(){if(this.isSelected())return"#333";var e,n=null===t||void 0===t?void 0:t.Lines["Line_"+this.type];return n?null===n||void 0===n?void 0:n.stroke:null===t||void 0===t||null===(e=t.Path)||void 0===e?void 0:e.stroke},this.setAttributes=function(){var t=Object(a["a"])(r.a.mark((function t(e,n){var i;return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.attributes){t.next=7;break}return t.next=3,Object(s["h"])("line");case 3:i=t.sent,this.attributes=Object(s["b"])(i),t.next=8;break;case 7:this.attributes=Object(o["a"])({},this.attributes);case 8:this.attributes.BaseInfo.StartNodeID=this.from,this.attributes.BaseInfo.EndNodeID=this.to,this.name=this.name||e.name+"→"+n.name,this.attributes.BaseInfo.Name=this.name,this.attributes.BaseInfo.ID=this.id,this.attributes.BaseInfo.Type=this.type;case 14:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()};e["a"]=l},,function(t,e,n){var i=n(17),r=n(466).entries;i({target:"Object",stat:!0},{entries:function(t){return r(t)}})},,function(t,e,n){var i=n(65);t.exports=function(t){if(!i(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e,n){var i=function(t){"use strict";var e,n=Object.prototype,i=n.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(err){l=function(t,e,n){return t[e]=n}}function c(t,e,n,i){var r=e&&e.prototype instanceof g?e:g,o=Object.create(r.prototype),a=new T(i||[]);return o._invoke=O(t,n,a),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(err){return{type:"throw",arg:err}}}t.wrap=c;var f="suspendedStart",d="suspendedYield",h="executing",p="completed",m={};function g(){}function v(){}function y(){}var b={};b[o]=function(){return this};var _=Object.getPrototypeOf,x=_&&_(_(N([])));x&&x!==n&&i.call(x,o)&&(b=x);var w=y.prototype=g.prototype=Object.create(b);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(r,o,a,s){var l=u(t[r],t,o);if("throw"!==l.type){var c=l.arg,f=c.value;return f&&"object"===typeof f&&i.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(l.arg)}var r;function o(t,i){function o(){return new e((function(e,r){n(t,i,e,r)}))}return r=r?r.then(o,o):o()}this._invoke=o}function O(t,e,n){var i=f;return function(r,o){if(i===h)throw new Error("Generator is already running");if(i===p){if("throw"===r)throw o;return M()}n.method=r,n.arg=o;while(1){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=h;var l=u(t,e,n);if("normal"===l.type){if(i=n.done?p:d,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=p,n.method="throw",n.arg=l.arg)}}}function C(t,n){var i=t.iterator[n.method];if(i===e){if(n.delegate=null,"throw"===n.method){if(t.iterator["return"]&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var r=u(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,m;var o=r.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function D(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function N(t){if(t){var n=t[o];if(n)return n.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function n(){while(++r<t.length)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:M}}function M(){return{value:e,done:!0}}return v.prototype=w.constructor=y,y.constructor=v,v.displayName=l(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},k(S.prototype),S.prototype[a]=function(){return this},t.AsyncIterator=S,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var a=new S(c(e,n,i,r),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(w),l(w,s,"Generator"),w[o]=function(){return this},w.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){while(e.length){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=N,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(D),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return s.type="throw",s.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),D(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;D(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:N(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),m}},t}(t.exports);try{regeneratorRuntime=i}catch(r){Function("r","regeneratorRuntime = r")(i)}},function(t,e,n){var i=n(47),r=n(171),o=n(34),a=o("species");t.exports=function(t,e){var n,o=i(t).constructor;return void 0===o||void 0==(n=i(o)[a])?e:r(n)}},function(t,e,n){var i=n(21),r=n(131),o="​᠎";t.exports=function(t){return i((function(){return!!r[t]()||o[t]()!=o||r[t].name!==t}))}},function(t,e,n){var i=n(86);t.exports=function(t){if("number"!=typeof t&&"Number"!=i(t))throw TypeError("Incorrect invocation");return+t}},function(t,e,n){"use strict";var i=n(61),r=n(134),o=n(49);t.exports=function(t){var e=i(this),n=o(e.length),a=arguments.length,s=r(a>1?arguments[1]:void 0,n),l=a>2?arguments[2]:void 0,c=void 0===l?n:r(l,n);while(c>s)e[s++]=t;return e}},function(t,e,n){t.exports=n.p+"modules/platform/img/status-2.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/status-3.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/status-4.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/status0.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/status1.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/status2.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/ry1.png"},,,function(t,e,n){"use strict";var i=n(3),r=n.n(i),o=n(6),a=n(9),s=(n(128),n(15),n(2)),l=n(31),c=function(t){var e="task"===t.sort&&"102"!==t.type?s["g"]:s["f"],n=5,i=120;this.padding=n,this.nameWidth=i;var c=Object.assign({name:"",width:e.width,height:e.height,x:0,y:0,img:"",sort:"task",type:"101"},t);this.id=c.id||null,this.name=c.name,this.point={x:c.x,y:c.y},this.width=c.width,this.height=c.height,this.imgWidth=s["f"].width,this.imgHeight=s["f"].height,"task"===c.sort&&(this.open=Object.assign({show:"102"!==c.type,width:"102"===c.type?s["e"].width:s["g"].width,height:"102"===c.type?s["e"].height:s["g"].height},c.open),this.taskMsg=c.taskMsg||"",this.imgType=c.imgType),this.isRender=!1,this.type=c.type,this.sort=c.sort,this.out=[],this.in=[],this.isHide=c.isHide,"6"===c.type&&(this.OutLine={}),this.attributes=null,this.setAttributes=function(){var t=Object(a["a"])(r.a.mark((function t(e){var n;return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.attributes){t.next=11;break}return t.next=3,Object(l["h"])("node"+e.type);case 3:n=t.sent,this.attributes=Object(l["b"])(n),this.attributes.BaseInfo||(this.attributes.BaseInfo={}),this.attributes.BaseInfo.Name=this.name,this.attributes.BaseInfo.ID=this.id,102!=e.type&&(this.attributes.BaseInfo.ShowOrder=e.order||this.attributes.BaseInfo.ShowOrder),t.next=12;break;case 11:this.attributes=Object(o["a"])({},e.attributes);case 12:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),this.setAttributes(c),this.reset=function(t){if("normal"===t){var e="task"===this.sort&&"102"!==this.type?s["g"]:s["f"];this.point.x=this.point.x+this.width/2-e.width/2,this.point.y=this.point.y+this.height/2-e.height/2,this.width=e.width,this.height=e.height,this.padding=n,this.nameWidth=i,this.imgWidth=s["f"].width,this.imgHeight=s["f"].height}else{var r=s["h"][this.imgType||this.type];this.point.x=this.point.x+this.width/2-r.width/2,this.point.y=this.point.y+this.height/2-r.height/2,Object.assign(this,r)}}};e["a"]=c},function(t,e,n){!function(e,i){t.exports=i(n(519))}(0,(function(t){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=2)}([function(e,n){e.exports=t},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),r=n.n(i),o=n(6),a=n(5),s=a(r.a,o.a,!1,null,null,null);e.default=s.exports},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.install=e.quillEditor=e.Quill=void 0;var r=n(0),o=i(r),a=n(1),s=i(a),l=window.Quill||o.default,c=function(t,e){e&&(s.default.props.globalOptions.default=function(){return e}),t.component(s.default.name,s.default)},u={Quill:l,quillEditor:s.default,install:c};e.default=u,e.Quill=l,e.quillEditor=s.default,e.install=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={theme:"snow",boundary:document.body,modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]},placeholder:"Insert text here ...",readOnly:!1}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=i(r),a=n(3),s=i(a),l=window.Quill||o.default;"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},writable:!0,configurable:!0}),e.default={name:"quill-editor",data:function(){return{_options:{},_content:"",defaultOptions:s.default}},props:{content:String,value:String,disabled:{type:Boolean,default:!1},options:{type:Object,required:!1,default:function(){return{}}},globalOptions:{type:Object,required:!1,default:function(){return{}}}},mounted:function(){this.initialize()},beforeDestroy:function(){this.quill=null,delete this.quill},methods:{initialize:function(){var t=this;this.$el&&(this._options=Object.assign({},this.defaultOptions,this.globalOptions,this.options),this.quill=new l(this.$refs.editor,this._options),this.quill.enable(!1),(this.value||this.content)&&this.quill.pasteHTML(this.value||this.content),this.disabled||this.quill.enable(!0),this.quill.on("selection-change",(function(e){e?t.$emit("focus",t.quill):t.$emit("blur",t.quill)})),this.quill.on("text-change",(function(e,n,i){var r=t.$refs.editor.children[0].innerHTML,o=t.quill,a=t.quill.getText();"<p><br></p>"===r&&(r=""),t._content=r,t.$emit("input",t._content),t.$emit("change",{html:r,text:a,quill:o})})),this.$emit("ready",this.quill))}},watch:{content:function(t,e){this.quill&&(t&&t!==this._content?(this._content=t,this.quill.pasteHTML(t)):t||this.quill.setText(""))},value:function(t,e){this.quill&&(t&&t!==this._content?(this._content=t,this.quill.pasteHTML(t)):t||this.quill.setText(""))},disabled:function(t,e){this.quill&&this.quill.enable(!t)}}}},function(t,e){t.exports=function(t,e,n,i,r,o){var a,s=t=t||{},l=typeof t.default;"object"!==l&&"function"!==l||(a=t,s=t.default);var c,u="function"==typeof s?s.options:s;if(e&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0),n&&(u.functional=!0),r&&(u._scopeId=r),o?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},u._ssrRegister=c):i&&(c=i),c){var f=u.functional,d=f?u.render:u.beforeCreate;f?(u._injectStyles=c,u.render=function(t,e){return c.call(e),d(t,e)}):u.beforeCreate=d?[].concat(d,c):[c]}return{esModule:a,exports:s,options:u}}},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"quill-editor"},[t._t("toolbar"),t._v(" "),n("div",{ref:"editor"})],2)},r=[],o={render:i,staticRenderFns:r};e.a=o}])}))},,function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ds-meta-data-select-item"},[n("dsf-tree-select",{attrs:{"tree-data":t.treeData,loading:t.loading,theme:"theme2","node-key":"ID","node-name":"name","search-control":"","default-expand-all":"",multiple:""},on:{"choose-node":function(e){t.checkList=e}}})],1)},r=[];i._withStripped=!0;n(38),n(15);var o=n(175),a={name:"DesMetaDataSelectItem",components:{DsfTreeSelect:o["default"]},props:{url:{type:String,required:!0}},data:function(){return{loading:!1,treeData:[],checkList:[]}},created:function(){this.postData()},methods:{yes:function(){return this.checkList},postData:function(){var t=this;this.loading=!0,this.$http.get(this.url,{namespace:""}).then((function(e){var n=e.data;n.success?(t.dataFormat(n.data),t.treeData=n.data):dsf.layer.message("请求异常！",!1)})).finally((function(){t.loading=!1}))},dataFormat:function(t){for(var e=0;e<t.length;e++){var n=t[e];n.label=n.name,"3"!==n.type_value&&"8"!==n.type_value&&(n.nocheck=!0),"3"===n.type_value||"8"===n.type_value||n.children||(n.iconSkin="_special"),n.children&&this.dataFormat(n.children)}}}},s=a,l=n(0),c=Object(l["a"])(s,i,r,!1,null,null,null);c.options.__file="designer/setting/item/metaDataSelectItem.vue";e["default"]=c.exports},function(t,e,n){!function(e,n){t.exports=n()}(window,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){var i,r;i=[n(2)],void 0===(r=function(t){function e(i){if(e.is(i,"function"))return n?i():t.on("raphael.DOMload",i);if(e.is(i,N))return e._engine.create[h](e,i.splice(0,3+e.is(i[0],T))).add(i);var r=Array.prototype.slice.call(arguments,0);if(e.is(r[r.length-1],"function")){var o=r.pop();return n?o.call(e._engine.create[h](e,r)):t.on("raphael.DOMload",(function(){o.call(e._engine.create[h](e,r))}))}return e._engine.create[h](e,arguments)}e.version="2.3.0",e.eve=t;var n,i,r,o,a=/[, ]+/,s={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},l=/\{(\d+)\}/g,c="hasOwnProperty",u={doc:document,win:window},f={was:Object.prototype[c].call(u.win,"Raphael"),is:u.win.Raphael},d=function(){this.ca=this.customAttributes={}},h="apply",p="concat",m="ontouchstart"in window||window.TouchEvent||window.DocumentTouch&&document instanceof DocumentTouch,g="",v=" ",y=String,b="split",_="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[b](v),x={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},w=y.prototype.toLowerCase,k=Math,S=k.max,O=k.min,C=k.abs,E=k.pow,D=k.PI,T="number",N="array",M=Object.prototype.toString,A=(e._ISURL=/^url\(['"]?(.+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),j={NaN:1,Infinity:1,"-Infinity":1},P=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,$=k.round,I=parseFloat,L=parseInt,R=y.prototype.toUpperCase,B=e._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0,class:""},q=e._availableAnimAttrs={blur:T,"clip-rect":"csv",cx:T,cy:T,fill:"colour","fill-opacity":T,"font-size":T,height:T,opacity:T,path:"path",r:T,rx:T,ry:T,stroke:"colour","stroke-opacity":T,"stroke-width":T,transform:"transform",width:T,x:T,y:T},F=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,z={hs:1,rg:1},V=/,?([achlmqrstvxz]),?/gi,U=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,K=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,H=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,W=(e._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),G=function(t,e){return I(t)-I(e)},J=function(t){return t},Y=e._rectPath=function(t,e,n,i,r){return r?[["M",t+r,e],["l",n-2*r,0],["a",r,r,0,0,1,r,r],["l",0,i-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-n,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-i],["a",r,r,0,0,1,r,-r],["z"]]:[["M",t,e],["l",n,0],["l",0,i],["l",-n,0],["z"]]},X=function(t,e,n,i){return null==i&&(i=n),[["M",t,e],["m",0,-i],["a",n,i,0,1,1,0,2*i],["a",n,i,0,1,1,0,-2*i],["z"]]},Z=e._getPath={path:function(t){return t.attr("path")},circle:function(t){var e=t.attrs;return X(e.cx,e.cy,e.r)},ellipse:function(t){var e=t.attrs;return X(e.cx,e.cy,e.rx,e.ry)},rect:function(t){var e=t.attrs;return Y(e.x,e.y,e.width,e.height,e.r)},image:function(t){var e=t.attrs;return Y(e.x,e.y,e.width,e.height)},text:function(t){var e=t._getBBox();return Y(e.x,e.y,e.width,e.height)},set:function(t){var e=t._getBBox();return Y(e.x,e.y,e.width,e.height)}},Q=e.mapPath=function(t,e){if(!e)return t;var n,i,r,o,a,s,l;for(r=0,a=(t=Et(t)).length;r<a;r++)for(o=1,s=(l=t[r]).length;o<s;o+=2)n=e.x(l[o],l[o+1]),i=e.y(l[o],l[o+1]),l[o]=n,l[o+1]=i;return t};if(e._g=u,e.type=u.win.SVGAngle||u.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==e.type){var tt,et=u.doc.createElement("div");if(et.innerHTML='<v:shape adj="1"/>',(tt=et.firstChild).style.behavior="url(#default#VML)",!tt||"object"!=typeof tt.adj)return e.type=g;et=null}function nt(t){if("function"==typeof t||Object(t)!==t)return t;var e=new t.constructor;for(var n in t)t[c](n)&&(e[n]=nt(t[n]));return e}e.svg=!(e.vml="VML"==e.type),e._Paper=d,e.fn=i=d.prototype=e.prototype,e._id=0,e.is=function(t,e){return"finite"==(e=w.call(e))?!j[c](+t):"array"==e?t instanceof Array:"null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||"array"==e&&Array.isArray&&Array.isArray(t)||M.call(t).slice(8,-1).toLowerCase()==e},e.angle=function(t,n,i,r,o,a){if(null==o){var s=t-i,l=n-r;return s||l?(180+180*k.atan2(-l,-s)/D+360)%360:0}return e.angle(t,n,o,a)-e.angle(i,r,o,a)},e.rad=function(t){return t%360*D/180},e.deg=function(t){return Math.round(180*t/D%360*1e3)/1e3},e.snapTo=function(t,n,i){if(i=e.is(i,"finite")?i:10,e.is(t,N)){for(var r=t.length;r--;)if(C(t[r]-n)<=i)return t[r]}else{var o=n%(t=+t);if(o<i)return n-o;if(o>t-i)return n-o+t}return n},e.createUUID=(r=/[xy]/g,o=function(t){var e=16*k.random()|0;return("x"==t?e:3&e|8).toString(16)},function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(r,o).toUpperCase()}),e.setWindow=function(n){t("raphael.setWindow",e,u.win,n),u.win=n,u.doc=u.win.document,e._engine.initWin&&e._engine.initWin(u.win)};var it=function(t){if(e.vml){var n,i=/^\s+|\s+$/g;try{var r=new ActiveXObject("htmlfile");r.write("<body>"),r.close(),n=r.body}catch(t){n=createPopup().document.body}var o=n.createTextRange();it=ct((function(t){try{n.style.color=y(t).replace(i,g);var e=o.queryCommandValue("ForeColor");return"#"+("000000"+(e=(255&e)<<16|65280&e|(16711680&e)>>>16).toString(16)).slice(-6)}catch(t){return"none"}}))}else{var a=u.doc.createElement("i");a.title="Raphaël Colour Picker",a.style.display="none",u.doc.body.appendChild(a),it=ct((function(t){return a.style.color=t,u.doc.defaultView.getComputedStyle(a,g).getPropertyValue("color")}))}return it(t)},rt=function(){return"hsb("+[this.h,this.s,this.b]+")"},ot=function(){return"hsl("+[this.h,this.s,this.l]+")"},at=function(){return this.hex},st=function(t,n,i){if(null==n&&e.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(i=t.b,n=t.g,t=t.r),null==n&&e.is(t,"string")){var r=e.getRGB(t);t=r.r,n=r.g,i=r.b}return(t>1||n>1||i>1)&&(t/=255,n/=255,i/=255),[t,n,i]},lt=function(t,n,i,r){var o={r:t*=255,g:n*=255,b:i*=255,hex:e.rgb(t,n,i),toString:at};return e.is(r,"finite")&&(o.opacity=r),o};function ct(t,e,n){return function i(){var r=Array.prototype.slice.call(arguments,0),o=r.join("␀"),a=i.cache=i.cache||{},s=i.count=i.count||[];return a[c](o)?(function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return t.push(t.splice(n,1)[0])}(s,o),n?n(a[o]):a[o]):(s.length>=1e3&&delete a[s.shift()],s.push(o),a[o]=t[h](e,r),n?n(a[o]):a[o])}}function ut(){return this.hex}function ft(t,e){for(var n=[],i=0,r=t.length;r-2*!e>i;i+=2){var o=[{x:+t[i-2],y:+t[i-1]},{x:+t[i],y:+t[i+1]},{x:+t[i+2],y:+t[i+3]},{x:+t[i+4],y:+t[i+5]}];e?i?r-4==i?o[3]={x:+t[0],y:+t[1]}:r-2==i&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[r-2],y:+t[r-1]}:r-4==i?o[3]=o[2]:i||(o[0]={x:+t[i],y:+t[i+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n}e.color=function(t){var n;return e.is(t,"object")&&"h"in t&&"s"in t&&"b"in t?(n=e.hsb2rgb(t),t.r=n.r,t.g=n.g,t.b=n.b,t.hex=n.hex):e.is(t,"object")&&"h"in t&&"s"in t&&"l"in t?(n=e.hsl2rgb(t),t.r=n.r,t.g=n.g,t.b=n.b,t.hex=n.hex):(e.is(t,"string")&&(t=e.getRGB(t)),e.is(t,"object")&&"r"in t&&"g"in t&&"b"in t?(n=e.rgb2hsl(t),t.h=n.h,t.s=n.s,t.l=n.l,n=e.rgb2hsb(t),t.v=n.b):(t={hex:"none"}).r=t.g=t.b=t.h=t.s=t.v=t.l=-1),t.toString=at,t},e.hsb2rgb=function(t,e,n,i){var r,o,a,s,l;return this.is(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(n=t.b,e=t.s,i=t.o,t=t.h),s=(l=n*e)*(1-C((t=(t*=360)%360/60)%2-1)),r=o=a=n-l,lt(r+=[l,s,0,0,s,l][t=~~t],o+=[s,l,l,s,0,0][t],a+=[0,0,s,l,l,s][t],i)},e.hsl2rgb=function(t,e,n,i){var r,o,a,s,l;return this.is(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(n=t.l,e=t.s,t=t.h),(t>1||e>1||n>1)&&(t/=360,e/=100,n/=100),s=(l=2*e*(n<.5?n:1-n))*(1-C((t=(t*=360)%360/60)%2-1)),r=o=a=n-l/2,lt(r+=[l,s,0,0,s,l][t=~~t],o+=[s,l,l,s,0,0][t],a+=[0,0,s,l,l,s][t],i)},e.rgb2hsb=function(t,e,n){var i,r;return t=(n=st(t,e,n))[0],e=n[1],n=n[2],{h:((0==(r=(i=S(t,e,n))-O(t,e,n))?null:i==t?(e-n)/r:i==e?(n-t)/r+2:(t-e)/r+4)+360)%6*60/360,s:0==r?0:r/i,b:i,toString:rt}},e.rgb2hsl=function(t,e,n){var i,r,o,a;return t=(n=st(t,e,n))[0],e=n[1],n=n[2],i=((r=S(t,e,n))+(o=O(t,e,n)))/2,{h:((0==(a=r-o)?null:r==t?(e-n)/a:r==e?(n-t)/a+2:(t-e)/a+4)+360)%6*60/360,s:0==a?0:i<.5?a/(2*i):a/(2-2*i),l:i,toString:ot}},e._path2string=function(){return this.join(",").replace(V,"$1")},e._preload=function(t,e){var n=u.doc.createElement("img");n.style.cssText="position:absolute;left:-9999em;top:-9999em",n.onload=function(){e.call(this),this.onload=null,u.doc.body.removeChild(this)},n.onerror=function(){u.doc.body.removeChild(this)},u.doc.body.appendChild(n),n.src=t},e.getRGB=ct((function(t){if(!t||(t=y(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:ut};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none",toString:ut};!z[c](t.toLowerCase().substring(0,2))&&"#"!=t.charAt()&&(t=it(t));var n,i,r,o,a,s,l=t.match(A);return l?(l[2]&&(r=L(l[2].substring(5),16),i=L(l[2].substring(3,5),16),n=L(l[2].substring(1,3),16)),l[3]&&(r=L((a=l[3].charAt(3))+a,16),i=L((a=l[3].charAt(2))+a,16),n=L((a=l[3].charAt(1))+a,16)),l[4]&&(s=l[4][b](F),n=I(s[0]),"%"==s[0].slice(-1)&&(n*=2.55),i=I(s[1]),"%"==s[1].slice(-1)&&(i*=2.55),r=I(s[2]),"%"==s[2].slice(-1)&&(r*=2.55),"rgba"==l[1].toLowerCase().slice(0,4)&&(o=I(s[3])),s[3]&&"%"==s[3].slice(-1)&&(o/=100)),l[5]?(s=l[5][b](F),n=I(s[0]),"%"==s[0].slice(-1)&&(n*=2.55),i=I(s[1]),"%"==s[1].slice(-1)&&(i*=2.55),r=I(s[2]),"%"==s[2].slice(-1)&&(r*=2.55),("deg"==s[0].slice(-3)||"°"==s[0].slice(-1))&&(n/=360),"hsba"==l[1].toLowerCase().slice(0,4)&&(o=I(s[3])),s[3]&&"%"==s[3].slice(-1)&&(o/=100),e.hsb2rgb(n,i,r,o)):l[6]?(s=l[6][b](F),n=I(s[0]),"%"==s[0].slice(-1)&&(n*=2.55),i=I(s[1]),"%"==s[1].slice(-1)&&(i*=2.55),r=I(s[2]),"%"==s[2].slice(-1)&&(r*=2.55),("deg"==s[0].slice(-3)||"°"==s[0].slice(-1))&&(n/=360),"hsla"==l[1].toLowerCase().slice(0,4)&&(o=I(s[3])),s[3]&&"%"==s[3].slice(-1)&&(o/=100),e.hsl2rgb(n,i,r,o)):((l={r:n,g:i,b:r,toString:ut}).hex="#"+(16777216|r|i<<8|n<<16).toString(16).slice(1),e.is(o,"finite")&&(l.opacity=o),l)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:ut}}),e),e.hsb=ct((function(t,n,i){return e.hsb2rgb(t,n,i).hex})),e.hsl=ct((function(t,n,i){return e.hsl2rgb(t,n,i).hex})),e.rgb=ct((function(t,e,n){function i(t){return t+.5|0}return"#"+(16777216|i(n)|i(e)<<8|i(t)<<16).toString(16).slice(1)})),e.getColor=function(t){var e=this.getColor.start=this.getColor.start||{h:0,s:1,b:t||.75},n=this.hsb2rgb(e.h,e.s,e.b);return e.h+=.075,e.h>1&&(e.h=0,e.s-=.2,e.s<=0&&(this.getColor.start={h:0,s:1,b:e.b})),n.hex},e.getColor.reset=function(){delete this.start},e.parsePathString=function(t){if(!t)return null;var n=dt(t);if(n.arr)return bt(n.arr);var i={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},r=[];return e.is(t,N)&&e.is(t[0],N)&&(r=bt(t)),r.length||y(t).replace(U,(function(t,e,n){var o=[],a=e.toLowerCase();if(n.replace(H,(function(t,e){e&&o.push(+e)})),"m"==a&&o.length>2&&(r.push([e][p](o.splice(0,2))),a="l",e="m"==e?"l":"L"),"r"==a)r.push([e][p](o));else for(;o.length>=i[a]&&(r.push([e][p](o.splice(0,i[a]))),i[a]););})),r.toString=e._path2string,n.arr=bt(r),r},e.parseTransformString=ct((function(t){if(!t)return null;var n=[];return e.is(t,N)&&e.is(t[0],N)&&(n=bt(t)),n.length||y(t).replace(K,(function(t,e,i){var r=[];w.call(e),i.replace(H,(function(t,e){e&&r.push(+e)})),n.push([e][p](r))})),n.toString=e._path2string,n}),this,(function(t){if(!t)return t;for(var e=[],n=0;n<t.length;n++){for(var i=[],r=0;r<t[n].length;r++)i.push(t[n][r]);e.push(i)}return e}));var dt=function(t){var e=dt.ps=dt.ps||{};return e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout((function(){for(var n in e)e[c](n)&&n!=t&&(e[n].sleep--,!e[n].sleep&&delete e[n])})),e[t]};function ht(t,e,n,i,r){return t*(t*(-3*e+9*n-9*i+3*r)+6*e-12*n+6*i)-3*e+3*n}function pt(t,e,n,i,r,o,a,s,l){null==l&&(l=1);for(var c=(l=l>1?1:l<0?0:l)/2,u=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],f=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,h=0;h<12;h++){var p=c*u[h]+c,m=ht(p,t,n,r,a),g=ht(p,e,i,o,s),v=m*m+g*g;d+=f[h]*k.sqrt(v)}return c*d}function mt(t,e,n,i,r,o,a,s){if(!(S(t,n)<O(r,a)||O(t,n)>S(r,a)||S(e,i)<O(o,s)||O(e,i)>S(o,s))){var l=(t-n)*(o-s)-(e-i)*(r-a);if(l){var c=((t*i-e*n)*(r-a)-(t-n)*(r*s-o*a))/l,u=((t*i-e*n)*(o-s)-(e-i)*(r*s-o*a))/l,f=+c.toFixed(2),d=+u.toFixed(2);if(!(f<+O(t,n).toFixed(2)||f>+S(t,n).toFixed(2)||f<+O(r,a).toFixed(2)||f>+S(r,a).toFixed(2)||d<+O(e,i).toFixed(2)||d>+S(e,i).toFixed(2)||d<+O(o,s).toFixed(2)||d>+S(o,s).toFixed(2)))return{x:c,y:u}}}}function gt(t,n,i){var r=e.bezierBBox(t),o=e.bezierBBox(n);if(!e.isBBoxIntersect(r,o))return i?0:[];for(var a=pt.apply(0,t),s=pt.apply(0,n),l=S(~~(a/5),1),c=S(~~(s/5),1),u=[],f=[],d={},h=i?0:[],p=0;p<l+1;p++){var m=e.findDotsAtSegment.apply(e,t.concat(p/l));u.push({x:m.x,y:m.y,t:p/l})}for(p=0;p<c+1;p++)m=e.findDotsAtSegment.apply(e,n.concat(p/c)),f.push({x:m.x,y:m.y,t:p/c});for(p=0;p<l;p++)for(var g=0;g<c;g++){var v=u[p],y=u[p+1],b=f[g],_=f[g+1],x=C(y.x-v.x)<.001?"y":"x",w=C(_.x-b.x)<.001?"y":"x",k=mt(v.x,v.y,y.x,y.y,b.x,b.y,_.x,_.y);if(k){if(d[k.x.toFixed(4)]==k.y.toFixed(4))continue;d[k.x.toFixed(4)]=k.y.toFixed(4);var E=v.t+C((k[x]-v[x])/(y[x]-v[x]))*(y.t-v.t),D=b.t+C((k[w]-b[w])/(_[w]-b[w]))*(_.t-b.t);E>=0&&E<=1.001&&D>=0&&D<=1.001&&(i?h++:h.push({x:k.x,y:k.y,t1:O(E,1),t2:O(D,1)}))}}return h}function vt(t,n,i){t=e._path2curve(t),n=e._path2curve(n);for(var r,o,a,s,l,c,u,f,d,h,p=i?0:[],m=0,g=t.length;m<g;m++){var v=t[m];if("M"==v[0])r=l=v[1],o=c=v[2];else{"C"==v[0]?(d=[r,o].concat(v.slice(1)),r=d[6],o=d[7]):(d=[r,o,r,o,l,c,l,c],r=l,o=c);for(var y=0,b=n.length;y<b;y++){var _=n[y];if("M"==_[0])a=u=_[1],s=f=_[2];else{"C"==_[0]?(h=[a,s].concat(_.slice(1)),a=h[6],s=h[7]):(h=[a,s,a,s,u,f,u,f],a=u,s=f);var x=gt(d,h,i);if(i)p+=x;else{for(var w=0,k=x.length;w<k;w++)x[w].segment1=m,x[w].segment2=y,x[w].bez1=d,x[w].bez2=h;p=p.concat(x)}}}}}return p}e.findDotsAtSegment=function(t,e,n,i,r,o,a,s,l){var c=1-l,u=E(c,3),f=E(c,2),d=l*l,h=d*l,p=u*t+3*f*l*n+3*c*l*l*r+h*a,m=u*e+3*f*l*i+3*c*l*l*o+h*s,g=t+2*l*(n-t)+d*(r-2*n+t),v=e+2*l*(i-e)+d*(o-2*i+e),y=n+2*l*(r-n)+d*(a-2*r+n),b=i+2*l*(o-i)+d*(s-2*o+i),_=c*t+l*n,x=c*e+l*i,w=c*r+l*a,S=c*o+l*s,O=90-180*k.atan2(g-y,v-b)/D;return(g>y||v<b)&&(O+=180),{x:p,y:m,m:{x:g,y:v},n:{x:y,y:b},start:{x:_,y:x},end:{x:w,y:S},alpha:O}},e.bezierBBox=function(t,n,i,r,o,a,s,l){e.is(t,"array")||(t=[t,n,i,r,o,a,s,l]);var c=Ct.apply(null,t);return{x:c.min.x,y:c.min.y,x2:c.max.x,y2:c.max.y,width:c.max.x-c.min.x,height:c.max.y-c.min.y}},e.isPointInsideBBox=function(t,e,n){return e>=t.x&&e<=t.x2&&n>=t.y&&n<=t.y2},e.isBBoxIntersect=function(t,n){var i=e.isPointInsideBBox;return i(n,t.x,t.y)||i(n,t.x2,t.y)||i(n,t.x,t.y2)||i(n,t.x2,t.y2)||i(t,n.x,n.y)||i(t,n.x2,n.y)||i(t,n.x,n.y2)||i(t,n.x2,n.y2)||(t.x<n.x2&&t.x>n.x||n.x<t.x2&&n.x>t.x)&&(t.y<n.y2&&t.y>n.y||n.y<t.y2&&n.y>t.y)},e.pathIntersection=function(t,e){return vt(t,e)},e.pathIntersectionNumber=function(t,e){return vt(t,e,1)},e.isPointInsidePath=function(t,n,i){var r=e.pathBBox(t);return e.isPointInsideBBox(r,n,i)&&vt(t,[["M",n,i],["H",r.x2+10]],1)%2==1},e._removedFactory=function(e){return function(){t("raphael.log",null,"Raphaël: you are calling to method “"+e+"” of removed object",e)}};var yt=e.pathBBox=function(t){var e=dt(t);if(e.bbox)return nt(e.bbox);if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0};for(var n,i=0,r=0,o=[],a=[],s=0,l=(t=Et(t)).length;s<l;s++)if("M"==(n=t[s])[0])i=n[1],r=n[2],o.push(i),a.push(r);else{var c=Ct(i,r,n[1],n[2],n[3],n[4],n[5],n[6]);o=o[p](c.min.x,c.max.x),a=a[p](c.min.y,c.max.y),i=n[5],r=n[6]}var u=O[h](0,o),f=O[h](0,a),d=S[h](0,o),m=S[h](0,a),g=d-u,v=m-f,y={x:u,y:f,x2:d,y2:m,width:g,height:v,cx:u+g/2,cy:f+v/2};return e.bbox=nt(y),y},bt=function(t){var n=nt(t);return n.toString=e._path2string,n},_t=e._pathToRelative=function(t){var n=dt(t);if(n.rel)return bt(n.rel);e.is(t,N)&&e.is(t&&t[0],N)||(t=e.parsePathString(t));var i=[],r=0,o=0,a=0,s=0,l=0;"M"==t[0][0]&&(a=r=t[0][1],s=o=t[0][2],l++,i.push(["M",r,o]));for(var c=l,u=t.length;c<u;c++){var f=i[c]=[],d=t[c];if(d[0]!=w.call(d[0]))switch(f[0]=w.call(d[0]),f[0]){case"a":f[1]=d[1],f[2]=d[2],f[3]=d[3],f[4]=d[4],f[5]=d[5],f[6]=+(d[6]-r).toFixed(3),f[7]=+(d[7]-o).toFixed(3);break;case"v":f[1]=+(d[1]-o).toFixed(3);break;case"m":a=d[1],s=d[2];default:for(var h=1,p=d.length;h<p;h++)f[h]=+(d[h]-(h%2?r:o)).toFixed(3)}else{f=i[c]=[],"m"==d[0]&&(a=d[1]+r,s=d[2]+o);for(var m=0,g=d.length;m<g;m++)i[c][m]=d[m]}var v=i[c].length;switch(i[c][0]){case"z":r=a,o=s;break;case"h":r+=+i[c][v-1];break;case"v":o+=+i[c][v-1];break;default:r+=+i[c][v-2],o+=+i[c][v-1]}}return i.toString=e._path2string,n.rel=bt(i),i},xt=e._pathToAbsolute=function(t){var n=dt(t);if(n.abs)return bt(n.abs);if(e.is(t,N)&&e.is(t&&t[0],N)||(t=e.parsePathString(t)),!t||!t.length)return[["M",0,0]];var i=[],r=0,o=0,a=0,s=0,l=0;"M"==t[0][0]&&(a=r=+t[0][1],s=o=+t[0][2],l++,i[0]=["M",r,o]);for(var c,u,f=3==t.length&&"M"==t[0][0]&&"R"==t[1][0].toUpperCase()&&"Z"==t[2][0].toUpperCase(),d=l,h=t.length;d<h;d++){if(i.push(c=[]),(u=t[d])[0]!=R.call(u[0]))switch(c[0]=R.call(u[0]),c[0]){case"A":c[1]=u[1],c[2]=u[2],c[3]=u[3],c[4]=u[4],c[5]=u[5],c[6]=+(u[6]+r),c[7]=+(u[7]+o);break;case"V":c[1]=+u[1]+o;break;case"H":c[1]=+u[1]+r;break;case"R":for(var m=[r,o][p](u.slice(1)),g=2,v=m.length;g<v;g++)m[g]=+m[g]+r,m[++g]=+m[g]+o;i.pop(),i=i[p](ft(m,f));break;case"M":a=+u[1]+r,s=+u[2]+o;default:for(g=1,v=u.length;g<v;g++)c[g]=+u[g]+(g%2?r:o)}else if("R"==u[0])m=[r,o][p](u.slice(1)),i.pop(),i=i[p](ft(m,f)),c=["R"][p](u.slice(-2));else for(var y=0,b=u.length;y<b;y++)c[y]=u[y];switch(c[0]){case"Z":r=a,o=s;break;case"H":r=c[1];break;case"V":o=c[1];break;case"M":a=c[c.length-2],s=c[c.length-1];default:r=c[c.length-2],o=c[c.length-1]}}return i.toString=e._path2string,n.abs=bt(i),i},wt=function(t,e,n,i){return[t,e,n,i,n,i]},kt=function(t,e,n,i,r,o){return[1/3*t+2/3*n,1/3*e+2/3*i,1/3*r+2/3*n,1/3*o+2/3*i,r,o]},St=function(t,e,n,i,r,o,a,s,l,c){var u,f=120*D/180,d=D/180*(+r||0),h=[],m=ct((function(t,e,n){return{x:t*k.cos(n)-e*k.sin(n),y:t*k.sin(n)+e*k.cos(n)}}));if(c)E=c[0],T=c[1],S=c[2],O=c[3];else{t=(u=m(t,e,-d)).x,e=u.y,s=(u=m(s,l,-d)).x,l=u.y,k.cos(D/180*r),k.sin(D/180*r);var g=(t-s)/2,v=(e-l)/2,y=g*g/(n*n)+v*v/(i*i);y>1&&(n*=y=k.sqrt(y),i*=y);var _=n*n,x=i*i,w=(o==a?-1:1)*k.sqrt(C((_*x-_*v*v-x*g*g)/(_*v*v+x*g*g))),S=w*n*v/i+(t+s)/2,O=w*-i*g/n+(e+l)/2,E=k.asin(((e-O)/i).toFixed(9)),T=k.asin(((l-O)/i).toFixed(9));(E=t<S?D-E:E)<0&&(E=2*D+E),(T=s<S?D-T:T)<0&&(T=2*D+T),a&&E>T&&(E-=2*D),!a&&T>E&&(T-=2*D)}var N=T-E;if(C(N)>f){var M=T,A=s,j=l;T=E+f*(a&&T>E?1:-1),s=S+n*k.cos(T),l=O+i*k.sin(T),h=St(s,l,n,i,r,0,a,A,j,[T,M,S,O])}N=T-E;var P=k.cos(E),$=k.sin(E),I=k.cos(T),L=k.sin(T),R=k.tan(N/4),B=4/3*n*R,q=4/3*i*R,F=[t,e],z=[t+B*$,e-q*P],V=[s+B*L,l-q*I],U=[s,l];if(z[0]=2*F[0]-z[0],z[1]=2*F[1]-z[1],c)return[z,V,U][p](h);for(var K=[],H=0,W=(h=[z,V,U][p](h).join()[b](",")).length;H<W;H++)K[H]=H%2?m(h[H-1],h[H],d).y:m(h[H],h[H+1],d).x;return K},Ot=function(t,e,n,i,r,o,a,s,l){var c=1-l;return{x:E(c,3)*t+3*E(c,2)*l*n+3*c*l*l*r+E(l,3)*a,y:E(c,3)*e+3*E(c,2)*l*i+3*c*l*l*o+E(l,3)*s}},Ct=ct((function(t,e,n,i,r,o,a,s){var l,c=r-2*n+t-(a-2*r+n),u=2*(n-t)-2*(r-n),f=t-n,d=(-u+k.sqrt(u*u-4*c*f))/2/c,p=(-u-k.sqrt(u*u-4*c*f))/2/c,m=[e,s],g=[t,a];return C(d)>"1e12"&&(d=.5),C(p)>"1e12"&&(p=.5),d>0&&d<1&&(l=Ot(t,e,n,i,r,o,a,s,d),g.push(l.x),m.push(l.y)),p>0&&p<1&&(l=Ot(t,e,n,i,r,o,a,s,p),g.push(l.x),m.push(l.y)),c=o-2*i+e-(s-2*o+i),f=e-i,d=(-(u=2*(i-e)-2*(o-i))+k.sqrt(u*u-4*c*f))/2/c,p=(-u-k.sqrt(u*u-4*c*f))/2/c,C(d)>"1e12"&&(d=.5),C(p)>"1e12"&&(p=.5),d>0&&d<1&&(l=Ot(t,e,n,i,r,o,a,s,d),g.push(l.x),m.push(l.y)),p>0&&p<1&&(l=Ot(t,e,n,i,r,o,a,s,p),g.push(l.x),m.push(l.y)),{min:{x:O[h](0,g),y:O[h](0,m)},max:{x:S[h](0,g),y:S[h](0,m)}}})),Et=e._path2curve=ct((function(t,e){var n=!e&&dt(t);if(!e&&n.curve)return bt(n.curve);for(var i=xt(t),r=e&&xt(e),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=function(t,e,n){var i,r;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"][p](St[h](0,[e.x,e.y][p](t.slice(1))));break;case"S":"C"==n||"S"==n?(i=2*e.x-e.bx,r=2*e.y-e.by):(i=e.x,r=e.y),t=["C",i,r][p](t.slice(1));break;case"T":"Q"==n||"T"==n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"][p](kt(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"][p](kt(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"][p](wt(e.x,e.y,t[1],t[2]));break;case"H":t=["C"][p](wt(e.x,e.y,t[1],e.y));break;case"V":t=["C"][p](wt(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"][p](wt(e.x,e.y,e.X,e.Y))}return t},l=function(t,e){if(t[e].length>7){t[e].shift();for(var n=t[e];n.length;)u[e]="A",r&&(f[e]="A"),t.splice(e++,0,["C"][p](n.splice(0,6)));t.splice(e,1),v=S(i.length,r&&r.length||0)}},c=function(t,e,n,o,a){t&&e&&"M"==t[a][0]&&"M"!=e[a][0]&&(e.splice(a,0,["M",o.x,o.y]),n.bx=0,n.by=0,n.x=t[a][1],n.y=t[a][2],v=S(i.length,r&&r.length||0))},u=[],f=[],d="",m="",g=0,v=S(i.length,r&&r.length||0);g<v;g++){i[g]&&(d=i[g][0]),"C"!=d&&(u[g]=d,g&&(m=u[g-1])),i[g]=s(i[g],o,m),"A"!=u[g]&&"C"==d&&(u[g]="C"),l(i,g),r&&(r[g]&&(d=r[g][0]),"C"!=d&&(f[g]=d,g&&(m=f[g-1])),r[g]=s(r[g],a,m),"A"!=f[g]&&"C"==d&&(f[g]="C"),l(r,g)),c(i,r,o,a,g),c(r,i,a,o,g);var y=i[g],b=r&&r[g],_=y.length,x=r&&b.length;o.x=y[_-2],o.y=y[_-1],o.bx=I(y[_-4])||o.x,o.by=I(y[_-3])||o.y,a.bx=r&&(I(b[x-4])||a.x),a.by=r&&(I(b[x-3])||a.y),a.x=r&&b[x-2],a.y=r&&b[x-1]}return r||(n.curve=bt(i)),r?[i,r]:i}),null,bt),Dt=(e._parseDots=ct((function(t){for(var n=[],i=0,r=t.length;i<r;i++){var o={},a=t[i].match(/^([^:]*):?([\d\.]*)/);if(o.color=e.getRGB(a[1]),o.color.error)return null;o.opacity=o.color.opacity,o.color=o.color.hex,a[2]&&(o.offset=a[2]+"%"),n.push(o)}for(i=1,r=n.length-1;i<r;i++)if(!n[i].offset){for(var s=I(n[i-1].offset||0),l=0,c=i+1;c<r;c++)if(n[c].offset){l=n[c].offset;break}l||(l=100,c=r);for(var u=((l=I(l))-s)/(c-i+1);i<c;i++)s+=u,n[i].offset=s+"%"}return n})),e._tear=function(t,e){t==e.top&&(e.top=t.prev),t==e.bottom&&(e.bottom=t.next),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next)}),Tt=(e._tofront=function(t,e){e.top!==t&&(Dt(t,e),t.next=null,t.prev=e.top,e.top.next=t,e.top=t)},e._toback=function(t,e){e.bottom!==t&&(Dt(t,e),t.next=e.bottom,t.prev=null,e.bottom.prev=t,e.bottom=t)},e._insertafter=function(t,e,n){Dt(t,n),e==n.top&&(n.top=t),e.next&&(e.next.prev=t),t.next=e.next,t.prev=e,e.next=t},e._insertbefore=function(t,e,n){Dt(t,n),e==n.bottom&&(n.bottom=t),e.prev&&(e.prev.next=t),t.prev=e.prev,e.prev=t,t.next=e},e.toMatrix=function(t,e){var n=yt(t),i={_:{transform:g},getBBox:function(){return n}};return Nt(i,e),i.matrix}),Nt=(e.transformPath=function(t,e){return Q(t,Tt(t,e))},e._extractTransform=function(t,n){if(null==n)return t._.transform;n=y(n).replace(/\.{3}|\u2026/g,t._.transform||g);var i,r,o=e.parseTransformString(n),a=0,s=1,l=1,c=t._,u=new jt;if(c.transform=o||[],o)for(var f=0,d=o.length;f<d;f++){var h,p,m,v,b,_=o[f],x=_.length,w=y(_[0]).toLowerCase(),k=_[0]!=w,S=k?u.invert():0;"t"==w&&3==x?k?(h=S.x(0,0),p=S.y(0,0),m=S.x(_[1],_[2]),v=S.y(_[1],_[2]),u.translate(m-h,v-p)):u.translate(_[1],_[2]):"r"==w?2==x?(b=b||t.getBBox(1),u.rotate(_[1],b.x+b.width/2,b.y+b.height/2),a+=_[1]):4==x&&(k?(m=S.x(_[2],_[3]),v=S.y(_[2],_[3]),u.rotate(_[1],m,v)):u.rotate(_[1],_[2],_[3]),a+=_[1]):"s"==w?2==x||3==x?(b=b||t.getBBox(1),u.scale(_[1],_[x-1],b.x+b.width/2,b.y+b.height/2),s*=_[1],l*=_[x-1]):5==x&&(k?(m=S.x(_[3],_[4]),v=S.y(_[3],_[4]),u.scale(_[1],_[2],m,v)):u.scale(_[1],_[2],_[3],_[4]),s*=_[1],l*=_[2]):"m"==w&&7==x&&u.add(_[1],_[2],_[3],_[4],_[5],_[6]),c.dirtyT=1,t.matrix=u}t.matrix=u,c.sx=s,c.sy=l,c.deg=a,c.dx=i=u.e,c.dy=r=u.f,1==s&&1==l&&!a&&c.bbox?(c.bbox.x+=+i,c.bbox.y+=+r):c.dirtyT=1}),Mt=function(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return 4==t.length?[e,0,t[2],t[3]]:[e,0];case"s":return 5==t.length?[e,1,1,t[3],t[4]]:3==t.length?[e,1,1]:[e,1]}},At=e._equaliseTransform=function(t,n){n=y(n).replace(/\.{3}|\u2026/g,t),t=e.parseTransformString(t)||[],n=e.parseTransformString(n)||[];for(var i,r,o,a,s=S(t.length,n.length),l=[],c=[],u=0;u<s;u++){if(o=t[u]||Mt(n[u]),a=n[u]||Mt(o),o[0]!=a[0]||"r"==o[0].toLowerCase()&&(o[2]!=a[2]||o[3]!=a[3])||"s"==o[0].toLowerCase()&&(o[3]!=a[3]||o[4]!=a[4]))return;for(l[u]=[],c[u]=[],i=0,r=S(o.length,a.length);i<r;i++)i in o&&(l[u][i]=o[i]),i in a&&(c[u][i]=a[i])}return{from:l,to:c}};function jt(t,e,n,i,r,o){null!=t?(this.a=+t,this.b=+e,this.c=+n,this.d=+i,this.e=+r,this.f=+o):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}e._getContainer=function(t,n,i,r){var o;if(null!=(o=null!=r||e.is(t,"object")?t:u.doc.getElementById(t)))return o.tagName?null==n?{container:o,width:o.style.pixelWidth||o.offsetWidth,height:o.style.pixelHeight||o.offsetHeight}:{container:o,width:n,height:i}:{container:1,x:t,y:n,width:i,height:r}},e.pathToRelative=_t,e._engine={},e.path2curve=Et,e.matrix=function(t,e,n,i,r,o){return new jt(t,e,n,i,r,o)},function(t){function n(t){return t[0]*t[0]+t[1]*t[1]}function i(t){var e=k.sqrt(n(t));t[0]&&(t[0]/=e),t[1]&&(t[1]/=e)}t.add=function(t,e,n,i,r,o){var a,s,l,c,u=[[],[],[]],f=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],d=[[t,n,r],[e,i,o],[0,0,1]];for(t&&t instanceof jt&&(d=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]),a=0;a<3;a++)for(s=0;s<3;s++){for(c=0,l=0;l<3;l++)c+=f[a][l]*d[l][s];u[a][s]=c}this.a=u[0][0],this.b=u[1][0],this.c=u[0][1],this.d=u[1][1],this.e=u[0][2],this.f=u[1][2]},t.invert=function(){var t=this,e=t.a*t.d-t.b*t.c;return new jt(t.d/e,-t.b/e,-t.c/e,t.a/e,(t.c*t.f-t.d*t.e)/e,(t.b*t.e-t.a*t.f)/e)},t.clone=function(){return new jt(this.a,this.b,this.c,this.d,this.e,this.f)},t.translate=function(t,e){this.add(1,0,0,1,t,e)},t.scale=function(t,e,n,i){null==e&&(e=t),(n||i)&&this.add(1,0,0,1,n,i),this.add(t,0,0,e,0,0),(n||i)&&this.add(1,0,0,1,-n,-i)},t.rotate=function(t,n,i){t=e.rad(t),n=n||0,i=i||0;var r=+k.cos(t).toFixed(9),o=+k.sin(t).toFixed(9);this.add(r,o,-o,r,n,i),this.add(1,0,0,1,-n,-i)},t.x=function(t,e){return t*this.a+e*this.c+this.e},t.y=function(t,e){return t*this.b+e*this.d+this.f},t.get=function(t){return+this[y.fromCharCode(97+t)].toFixed(4)},t.toString=function(){return e.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},t.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},t.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},t.split=function(){var t={};t.dx=this.e,t.dy=this.f;var r=[[this.a,this.c],[this.b,this.d]];t.scalex=k.sqrt(n(r[0])),i(r[0]),t.shear=r[0][0]*r[1][0]+r[0][1]*r[1][1],r[1]=[r[1][0]-r[0][0]*t.shear,r[1][1]-r[0][1]*t.shear],t.scaley=k.sqrt(n(r[1])),i(r[1]),t.shear/=t.scaley;var o=-r[0][1],a=r[1][1];return a<0?(t.rotate=e.deg(k.acos(a)),o<0&&(t.rotate=360-t.rotate)):t.rotate=e.deg(k.asin(o)),t.isSimple=!(+t.shear.toFixed(9)||t.scalex.toFixed(9)!=t.scaley.toFixed(9)&&t.rotate),t.isSuperSimple=!+t.shear.toFixed(9)&&t.scalex.toFixed(9)==t.scaley.toFixed(9)&&!t.rotate,t.noRotation=!+t.shear.toFixed(9)&&!t.rotate,t},t.toTransformString=function(t){var e=t||this[b]();return e.isSimple?(e.scalex=+e.scalex.toFixed(4),e.scaley=+e.scaley.toFixed(4),e.rotate=+e.rotate.toFixed(4),(e.dx||e.dy?"t"+[e.dx,e.dy]:g)+(1!=e.scalex||1!=e.scaley?"s"+[e.scalex,e.scaley,0,0]:g)+(e.rotate?"r"+[e.rotate,0,0]:g)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(jt.prototype);for(var Pt=function(){this.returnValue=!1},$t=function(){return this.originalEvent.preventDefault()},It=function(){this.cancelBubble=!0},Lt=function(){return this.originalEvent.stopPropagation()},Rt=function(t){var e=u.doc.documentElement.scrollTop||u.doc.body.scrollTop,n=u.doc.documentElement.scrollLeft||u.doc.body.scrollLeft;return{x:t.clientX+n,y:t.clientY+e}},Bt=u.doc.addEventListener?function(t,e,n,i){var r=function(t){var e=Rt(t);return n.call(i,t,e.x,e.y)};if(t.addEventListener(e,r,!1),m&&x[e]){var o=function(e){for(var r=Rt(e),o=e,a=0,s=e.targetTouches&&e.targetTouches.length;a<s;a++)if(e.targetTouches[a].target==t){(e=e.targetTouches[a]).originalEvent=o,e.preventDefault=$t,e.stopPropagation=Lt;break}return n.call(i,e,r.x,r.y)};t.addEventListener(x[e],o,!1)}return function(){return t.removeEventListener(e,r,!1),m&&x[e]&&t.removeEventListener(x[e],o,!1),!0}}:u.doc.attachEvent?function(t,e,n,i){var r=function(t){t=t||u.win.event;var e=u.doc.documentElement.scrollTop||u.doc.body.scrollTop,r=u.doc.documentElement.scrollLeft||u.doc.body.scrollLeft,o=t.clientX+r,a=t.clientY+e;return t.preventDefault=t.preventDefault||Pt,t.stopPropagation=t.stopPropagation||It,n.call(i,t,o,a)};return t.attachEvent("on"+e,r),function(){return t.detachEvent("on"+e,r),!0}}:void 0,qt=[],Ft=function(e){for(var n,i=e.clientX,r=e.clientY,o=u.doc.documentElement.scrollTop||u.doc.body.scrollTop,a=u.doc.documentElement.scrollLeft||u.doc.body.scrollLeft,s=qt.length;s--;){if(n=qt[s],m&&e.touches){for(var l,c=e.touches.length;c--;)if((l=e.touches[c]).identifier==n.el._drag.id){i=l.clientX,r=l.clientY,(e.originalEvent?e.originalEvent:e).preventDefault();break}}else e.preventDefault();var f,d=n.el.node,h=d.nextSibling,p=d.parentNode,g=d.style.display;u.win.opera&&p.removeChild(d),d.style.display="none",f=n.el.paper.getElementByPoint(i,r),d.style.display=g,u.win.opera&&(h?p.insertBefore(d,h):p.appendChild(d)),f&&t("raphael.drag.over."+n.el.id,n.el,f),i+=a,r+=o,t("raphael.drag.move."+n.el.id,n.move_scope||n.el,i-n.el._drag.x,r-n.el._drag.y,i,r,e)}},zt=function(n){e.unmousemove(Ft).unmouseup(zt);for(var i,r=qt.length;r--;)(i=qt[r]).el._drag={},t("raphael.drag.end."+i.el.id,i.end_scope||i.start_scope||i.move_scope||i.el,n);qt=[]},Vt=e.el={},Ut=_.length;Ut--;)!function(t){e[t]=Vt[t]=function(n,i){return e.is(n,"function")&&(this.events=this.events||[],this.events.push({name:t,f:n,unbind:Bt(this.shape||this.node||u.doc,t,n,i||this)})),this},e["un"+t]=Vt["un"+t]=function(n){for(var i=this.events||[],r=i.length;r--;)i[r].name!=t||!e.is(n,"undefined")&&i[r].f!=n||(i[r].unbind(),i.splice(r,1),!i.length&&delete this.events);return this}}(_[Ut]);Vt.data=function(n,i){var r=W[this.id]=W[this.id]||{};if(0==arguments.length)return r;if(1==arguments.length){if(e.is(n,"object")){for(var o in n)n[c](o)&&this.data(o,n[o]);return this}return t("raphael.data.get."+this.id,this,r[n],n),r[n]}return r[n]=i,t("raphael.data.set."+this.id,this,i,n),this},Vt.removeData=function(t){return null==t?delete W[this.id]:W[this.id]&&delete W[this.id][t],this},Vt.getData=function(){return nt(W[this.id]||{})},Vt.hover=function(t,e,n,i){return this.mouseover(t,n).mouseout(e,i||n)},Vt.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var Kt=[];function Ht(){return this.x+v+this.y+v+this.width+" × "+this.height}Vt.drag=function(n,i,r,o,a,s){function l(l){(l.originalEvent||l).preventDefault();var c=l.clientX,f=l.clientY,d=u.doc.documentElement.scrollTop||u.doc.body.scrollTop,h=u.doc.documentElement.scrollLeft||u.doc.body.scrollLeft;if(this._drag.id=l.identifier,m&&l.touches)for(var p,g=l.touches.length;g--;)if(p=l.touches[g],this._drag.id=p.identifier,p.identifier==this._drag.id){c=p.clientX,f=p.clientY;break}this._drag.x=c+h,this._drag.y=f+d,!qt.length&&e.mousemove(Ft).mouseup(zt),qt.push({el:this,move_scope:o,start_scope:a,end_scope:s}),i&&t.on("raphael.drag.start."+this.id,i),n&&t.on("raphael.drag.move."+this.id,n),r&&t.on("raphael.drag.end."+this.id,r),t("raphael.drag.start."+this.id,a||o||this,this._drag.x,this._drag.y,l)}return this._drag={},Kt.push({el:this,start:l}),this.mousedown(l),this},Vt.onDragOver=function(e){e?t.on("raphael.drag.over."+this.id,e):t.unbind("raphael.drag.over."+this.id)},Vt.undrag=function(){for(var n=Kt.length;n--;)Kt[n].el==this&&(this.unmousedown(Kt[n].start),Kt.splice(n,1),t.unbind("raphael.drag.*."+this.id));!Kt.length&&e.unmousemove(Ft).unmouseup(zt),qt=[]},i.circle=function(t,n,i){var r=e._engine.circle(this,t||0,n||0,i||0);return this.__set__&&this.__set__.push(r),r},i.rect=function(t,n,i,r,o){var a=e._engine.rect(this,t||0,n||0,i||0,r||0,o||0);return this.__set__&&this.__set__.push(a),a},i.ellipse=function(t,n,i,r){var o=e._engine.ellipse(this,t||0,n||0,i||0,r||0);return this.__set__&&this.__set__.push(o),o},i.path=function(t){t&&!e.is(t,"string")&&!e.is(t[0],N)&&(t+=g);var n=e._engine.path(e.format[h](e,arguments),this);return this.__set__&&this.__set__.push(n),n},i.image=function(t,n,i,r,o){var a=e._engine.image(this,t||"about:blank",n||0,i||0,r||0,o||0);return this.__set__&&this.__set__.push(a),a},i.text=function(t,n,i){var r=e._engine.text(this,t||0,n||0,y(i));return this.__set__&&this.__set__.push(r),r},i.set=function(t){!e.is(t,"array")&&(t=Array.prototype.splice.call(arguments,0,arguments.length));var n=new fe(t);return this.__set__&&this.__set__.push(n),n.paper=this,n.type="set",n},i.setStart=function(t){this.__set__=t||this.set()},i.setFinish=function(t){var e=this.__set__;return delete this.__set__,e},i.getSize=function(){var t=this.canvas.parentNode;return{width:t.offsetWidth,height:t.offsetHeight}},i.setSize=function(t,n){return e._engine.setSize.call(this,t,n)},i.setViewBox=function(t,n,i,r,o){return e._engine.setViewBox.call(this,t,n,i,r,o)},i.top=i.bottom=null,i.raphael=e,i.getElementByPoint=function(t,e){var n,i,r,o,a,s,l,c=this.canvas,f=u.doc.elementFromPoint(t,e);if(u.win.opera&&"svg"==f.tagName){var d=(i=(n=c).getBoundingClientRect(),r=n.ownerDocument,o=r.body,a=r.documentElement,s=a.clientTop||o.clientTop||0,l=a.clientLeft||o.clientLeft||0,{y:i.top+(u.win.pageYOffset||a.scrollTop||o.scrollTop)-s,x:i.left+(u.win.pageXOffset||a.scrollLeft||o.scrollLeft)-l}),h=c.createSVGRect();h.x=t-d.x,h.y=e-d.y,h.width=h.height=1;var p=c.getIntersectionList(h,null);p.length&&(f=p[p.length-1])}if(!f)return null;for(;f.parentNode&&f!=c.parentNode&&!f.raphael;)f=f.parentNode;return f==this.canvas.parentNode&&(f=c),f&&f.raphael?this.getById(f.raphaelid):null},i.getElementsByBBox=function(t){var n=this.set();return this.forEach((function(i){e.isBBoxIntersect(i.getBBox(),t)&&n.push(i)})),n},i.getById=function(t){for(var e=this.bottom;e;){if(e.id==t)return e;e=e.next}return null},i.forEach=function(t,e){for(var n=this.bottom;n;){if(!1===t.call(e,n))return this;n=n.next}return this},i.getElementsByPoint=function(t,e){var n=this.set();return this.forEach((function(i){i.isPointInside(t,e)&&n.push(i)})),n},Vt.isPointInside=function(t,n){var i=this.realPath=Z[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(i=e.transformPath(i,this.attr("transform"))),e.isPointInsidePath(i,t,n)},Vt.getBBox=function(t){if(this.removed)return{};var e=this._;return t?(!e.dirty&&e.bboxwt||(this.realPath=Z[this.type](this),e.bboxwt=yt(this.realPath),e.bboxwt.toString=Ht,e.dirty=0),e.bboxwt):((e.dirty||e.dirtyT||!e.bbox)&&(!e.dirty&&this.realPath||(e.bboxwt=0,this.realPath=Z[this.type](this)),e.bbox=yt(Q(this.realPath,this.matrix)),e.bbox.toString=Ht,e.dirty=e.dirtyT=0),e.bbox)},Vt.clone=function(){if(this.removed)return null;var t=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(t),t},Vt.glow=function(t){if("text"==this.type)return null;var e={width:((t=t||{}).width||10)+(+this.attr("stroke-width")||1),fill:t.fill||!1,opacity:null==t.opacity?.5:t.opacity,offsetx:t.offsetx||0,offsety:t.offsety||0,color:t.color||"#000"},n=e.width/2,i=this.paper,r=i.set(),o=this.realPath||Z[this.type](this);o=this.matrix?Q(o,this.matrix):o;for(var a=1;a<n+1;a++)r.push(i.path(o).attr({stroke:e.color,fill:e.fill?e.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(e.width/n*a).toFixed(3),opacity:+(e.opacity/n).toFixed(3)}));return r.insertBefore(this).translate(e.offsetx,e.offsety)};var Wt=function(t,n,i,r,o,a,s,l,c){return null==c?pt(t,n,i,r,o,a,s,l):e.findDotsAtSegment(t,n,i,r,o,a,s,l,function(t,e,n,i,r,o,a,s,l){if(!(l<0||pt(t,e,n,i,r,o,a,s)<l)){var c,u=.5,f=1-u;for(c=pt(t,e,n,i,r,o,a,s,f);C(c-l)>.01;)c=pt(t,e,n,i,r,o,a,s,f+=(c<l?1:-1)*(u/=2));return f}}(t,n,i,r,o,a,s,l,c))},Gt=function(t,n){return function(i,r,o){for(var a,s,l,c,u,f="",d={},h=0,p=0,m=(i=Et(i)).length;p<m;p++){if("M"==(l=i[p])[0])a=+l[1],s=+l[2];else{if(h+(c=Wt(a,s,l[1],l[2],l[3],l[4],l[5],l[6]))>r){if(n&&!d.start){if(f+=["C"+(u=Wt(a,s,l[1],l[2],l[3],l[4],l[5],l[6],r-h)).start.x,u.start.y,u.m.x,u.m.y,u.x,u.y],o)return f;d.start=f,f=["M"+u.x,u.y+"C"+u.n.x,u.n.y,u.end.x,u.end.y,l[5],l[6]].join(),h+=c,a=+l[5],s=+l[6];continue}if(!t&&!n)return{x:(u=Wt(a,s,l[1],l[2],l[3],l[4],l[5],l[6],r-h)).x,y:u.y,alpha:u.alpha}}h+=c,a=+l[5],s=+l[6]}f+=l.shift()+l}return d.end=f,(u=t?h:n?d:e.findDotsAtSegment(a,s,l[0],l[1],l[2],l[3],l[4],l[5],1)).alpha&&(u={x:u.x,y:u.y,alpha:u.alpha}),u}},Jt=Gt(1),Yt=Gt(),Xt=Gt(0,1);e.getTotalLength=Jt,e.getPointAtLength=Yt,e.getSubpath=function(t,e,n){if(this.getTotalLength(t)-n<1e-6)return Xt(t,e).end;var i=Xt(t,n,1);return e?Xt(i,e).end:i},Vt.getTotalLength=function(){var t=this.getPath();if(t)return this.node.getTotalLength?this.node.getTotalLength():Jt(t)},Vt.getPointAtLength=function(t){var e=this.getPath();if(e)return Yt(e,t)},Vt.getPath=function(){var t,n=e._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return n&&(t=n(this)),t},Vt.getSubpath=function(t,n){var i=this.getPath();if(i)return e.getSubpath(i,t,n)};var Zt=e.easing_formulas={linear:function(t){return t},"<":function(t){return E(t,1.7)},">":function(t){return E(t,.48)},"<>":function(t){var e=.48-t/1.04,n=k.sqrt(.1734+e*e),i=n-e,r=-n-e,o=E(C(i),1/3)*(i<0?-1:1)+E(C(r),1/3)*(r<0?-1:1)+.5;return 3*(1-o)*o*o+o*o*o},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},elastic:function(t){return t==!!t?t:E(2,-10*t)*k.sin(2*D*(t-.075)/.3)+1},bounce:function(t){var e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375}};Zt.easeIn=Zt["ease-in"]=Zt["<"],Zt.easeOut=Zt["ease-out"]=Zt[">"],Zt.easeInOut=Zt["ease-in-out"]=Zt["<>"],Zt["back-in"]=Zt.backIn,Zt["back-out"]=Zt.backOut;var Qt=[],te=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,16)},ee=function(){for(var n=+new Date,i=0;i<Qt.length;i++){var r=Qt[i];if(!r.el.removed&&!r.paused){var o,a,s=n-r.start,l=r.ms,u=r.easing,f=r.from,d=r.diff,h=r.to,m=(r.t,r.el),g={},y={};if(r.initstatus?(s=(r.initstatus*r.anim.top-r.prev)/(r.percent-r.prev)*l,r.status=r.initstatus,delete r.initstatus,r.stop&&Qt.splice(i--,1)):r.status=(r.prev+(r.percent-r.prev)*(s/l))/r.anim.top,!(s<0))if(s<l){var b=u(s/l);for(var _ in f)if(f[c](_)){switch(q[_]){case T:o=+f[_]+b*l*d[_];break;case"colour":o="rgb("+[ne($(f[_].r+b*l*d[_].r)),ne($(f[_].g+b*l*d[_].g)),ne($(f[_].b+b*l*d[_].b))].join(",")+")";break;case"path":o=[];for(var x=0,w=f[_].length;x<w;x++){o[x]=[f[_][x][0]];for(var k=1,S=f[_][x].length;k<S;k++)o[x][k]=+f[_][x][k]+b*l*d[_][x][k];o[x]=o[x].join(v)}o=o.join(v);break;case"transform":if(d[_].real)for(o=[],x=0,w=f[_].length;x<w;x++)for(o[x]=[f[_][x][0]],k=1,S=f[_][x].length;k<S;k++)o[x][k]=f[_][x][k]+b*l*d[_][x][k];else{var O=function(t){return+f[_][t]+b*l*d[_][t]};o=[["m",O(0),O(1),O(2),O(3),O(4),O(5)]]}break;case"csv":if("clip-rect"==_)for(o=[],x=4;x--;)o[x]=+f[_][x]+b*l*d[_][x];break;default:var C=[][p](f[_]);for(o=[],x=m.paper.customAttributes[_].length;x--;)o[x]=+C[x]+b*l*d[_][x]}g[_]=o}m.attr(g),function(e,n,i){setTimeout((function(){t("raphael.anim.frame."+e,n,i)}))}(m.id,m,r.anim)}else{if(function(n,i,r){setTimeout((function(){t("raphael.anim.frame."+i.id,i,r),t("raphael.anim.finish."+i.id,i,r),e.is(n,"function")&&n.call(i)}))}(r.callback,m,r.anim),m.attr(h),Qt.splice(i--,1),r.repeat>1&&!r.next){for(a in h)h[c](a)&&(y[a]=r.totalOrigin[a]);r.el.attr(y),oe(r.anim,r.el,r.anim.percents[0],null,r.totalOrigin,r.repeat-1)}r.next&&!r.stop&&oe(r.anim,r.el,r.next,null,r.totalOrigin,r.repeat)}}}Qt.length&&te(ee)},ne=function(t){return t>255?255:t<0?0:t};function ie(t,e,n,i,r,o){var a=3*e,s=3*(i-e)-a,l=1-a-s,c=3*n,u=3*(r-n)-c,f=1-c-u;function d(t){return((l*t+s)*t+a)*t}return function(t,e){var n=function(t,e){var n,i,r,o,c,u;for(r=t,u=0;u<8;u++){if(o=d(r)-t,C(o)<e)return r;if(C(c=(3*l*r+2*s)*r+a)<1e-6)break;r-=o/c}if(i=1,(r=t)<(n=0))return n;if(r>i)return i;for(;n<i;){if(o=d(r),C(o-t)<e)return r;t>o?n=r:i=r,r=(i-n)/2+n}return r}(t,e);return((f*n+u)*n+c)*n}(t,1/(200*o))}function re(t,e){var n=[],i={};if(this.ms=e,this.times=1,t){for(var r in t)t[c](r)&&(i[I(r)]=t[r],n.push(I(r)));n.sort(G)}this.anim=i,this.top=n[n.length-1],this.percents=n}function oe(n,i,r,o,s,l){r=I(r);var u,f,d,h,m,g,v=n.ms,_={},x={},w={};if(o)for(S=0,O=Qt.length;S<O;S++){var k=Qt[S];if(k.el.id==i.id&&k.anim==n){k.percent!=r?(Qt.splice(S,1),d=1):f=k,i.attr(k.totalOrigin);break}}else o=+x;for(var S=0,O=n.percents.length;S<O;S++){if(n.percents[S]==r||n.percents[S]>o*n.top){r=n.percents[S],m=n.percents[S-1]||0,v=v/n.top*(r-m),h=n.percents[S+1],u=n.anim[r];break}o&&i.attr(n.anim[n.percents[S]])}if(u){if(f)f.initstatus=o,f.start=new Date-f.ms*o;else{for(var C in u)if(u[c](C)&&(q[c](C)||i.paper.customAttributes[c](C)))switch(_[C]=i.attr(C),null==_[C]&&(_[C]=B[C]),x[C]=u[C],q[C]){case T:w[C]=(x[C]-_[C])/v;break;case"colour":_[C]=e.getRGB(_[C]);var E=e.getRGB(x[C]);w[C]={r:(E.r-_[C].r)/v,g:(E.g-_[C].g)/v,b:(E.b-_[C].b)/v};break;case"path":var D=Et(_[C],x[C]),N=D[1];for(_[C]=D[0],w[C]=[],S=0,O=_[C].length;S<O;S++){w[C][S]=[0];for(var M=1,A=_[C][S].length;M<A;M++)w[C][S][M]=(N[S][M]-_[C][S][M])/v}break;case"transform":var j=i._,$=At(j[C],x[C]);if($)for(_[C]=$.from,x[C]=$.to,w[C]=[],w[C].real=!0,S=0,O=_[C].length;S<O;S++)for(w[C][S]=[_[C][S][0]],M=1,A=_[C][S].length;M<A;M++)w[C][S][M]=(x[C][S][M]-_[C][S][M])/v;else{var L=i.matrix||new jt,R={_:{transform:j.transform},getBBox:function(){return i.getBBox(1)}};_[C]=[L.a,L.b,L.c,L.d,L.e,L.f],Nt(R,x[C]),x[C]=R._.transform,w[C]=[(R.matrix.a-L.a)/v,(R.matrix.b-L.b)/v,(R.matrix.c-L.c)/v,(R.matrix.d-L.d)/v,(R.matrix.e-L.e)/v,(R.matrix.f-L.f)/v]}break;case"csv":var F=y(u[C])[b](a),z=y(_[C])[b](a);if("clip-rect"==C)for(_[C]=z,w[C]=[],S=z.length;S--;)w[C][S]=(F[S]-_[C][S])/v;x[C]=F;break;default:for(F=[][p](u[C]),z=[][p](_[C]),w[C]=[],S=i.paper.customAttributes[C].length;S--;)w[C][S]=((F[S]||0)-(z[S]||0))/v}var V=u.easing,U=e.easing_formulas[V];if(!U)if((U=y(V).match(P))&&5==U.length){var K=U;U=function(t){return ie(t,+K[1],+K[2],+K[3],+K[4],v)}}else U=J;if(k={anim:n,percent:r,timestamp:g=u.start||n.start||+new Date,start:g+(n.del||0),status:0,initstatus:o||0,stop:!1,ms:v,easing:U,from:_,diff:w,to:x,el:i,callback:u.callback,prev:m,next:h,repeat:l||n.times,origin:i.attr(),totalOrigin:s},Qt.push(k),o&&!f&&!d&&(k.stop=!0,k.start=new Date-v*o,1==Qt.length))return ee();d&&(k.start=new Date-k.ms*o),1==Qt.length&&te(ee)}t("raphael.anim.start."+i.id,i,n)}}function ae(t){for(var e=0;e<Qt.length;e++)Qt[e].el.paper==t&&Qt.splice(e--,1)}Vt.animateWith=function(t,n,i,r,o,a){if(this.removed)return a&&a.call(this),this;var s=i instanceof re?i:e.animation(i,r,o,a);oe(s,this,s.percents[0],null,this.attr());for(var l=0,c=Qt.length;l<c;l++)if(Qt[l].anim==n&&Qt[l].el==t){Qt[c-1].start=Qt[l].start;break}return this},Vt.onAnimation=function(e){return e?t.on("raphael.anim.frame."+this.id,e):t.unbind("raphael.anim.frame."+this.id),this},re.prototype.delay=function(t){var e=new re(this.anim,this.ms);return e.times=this.times,e.del=+t||0,e},re.prototype.repeat=function(t){var e=new re(this.anim,this.ms);return e.del=this.del,e.times=k.floor(S(t,0))||1,e},e.animation=function(t,n,i,r){if(t instanceof re)return t;!e.is(i,"function")&&i||(r=r||i||null,i=null),t=Object(t),n=+n||0;var o,a,s={};for(a in t)t[c](a)&&I(a)!=a&&I(a)+"%"!=a&&(o=!0,s[a]=t[a]);if(o)return i&&(s.easing=i),r&&(s.callback=r),new re({100:s},n);if(r){var l=0;for(var u in t){var f=L(u);t[c](u)&&f>l&&(l=f)}!t[l+="%"].callback&&(t[l].callback=r)}return new re(t,n)},Vt.animate=function(t,n,i,r){if(this.removed)return r&&r.call(this),this;var o=t instanceof re?t:e.animation(t,n,i,r);return oe(o,this,o.percents[0],null,this.attr()),this},Vt.setTime=function(t,e){return t&&null!=e&&this.status(t,O(e,t.ms)/t.ms),this},Vt.status=function(t,e){var n,i,r=[],o=0;if(null!=e)return oe(t,this,-1,O(e,1)),this;for(n=Qt.length;o<n;o++)if((i=Qt[o]).el.id==this.id&&(!t||i.anim==t)){if(t)return i.status;r.push({anim:i.anim,status:i.status})}return t?0:r},Vt.pause=function(e){for(var n=0;n<Qt.length;n++)Qt[n].el.id!=this.id||e&&Qt[n].anim!=e||!1!==t("raphael.anim.pause."+this.id,this,Qt[n].anim)&&(Qt[n].paused=!0);return this},Vt.resume=function(e){for(var n=0;n<Qt.length;n++)if(Qt[n].el.id==this.id&&(!e||Qt[n].anim==e)){var i=Qt[n];!1!==t("raphael.anim.resume."+this.id,this,i.anim)&&(delete i.paused,this.status(i.anim,i.status))}return this},Vt.stop=function(e){for(var n=0;n<Qt.length;n++)Qt[n].el.id!=this.id||e&&Qt[n].anim!=e||!1!==t("raphael.anim.stop."+this.id,this,Qt[n].anim)&&Qt.splice(n--,1);return this},t.on("raphael.remove",ae),t.on("raphael.clear",ae),Vt.toString=function(){return"Raphaël’s object"};var se,le,ce,ue,fe=function(t){if(this.items=[],this.length=0,this.type="set",t)for(var e=0,n=t.length;e<n;e++)!t[e]||t[e].constructor!=Vt.constructor&&t[e].constructor!=fe||(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},de=fe.prototype;for(var he in de.push=function(){for(var t,e,n=0,i=arguments.length;n<i;n++)!(t=arguments[n])||t.constructor!=Vt.constructor&&t.constructor!=fe||(this[e=this.items.length]=this.items[e]=t,this.length++);return this},de.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},de.forEach=function(t,e){for(var n=0,i=this.items.length;n<i;n++)if(!1===t.call(e,this.items[n],n))return this;return this},Vt)Vt[c](he)&&(de[he]=function(t){return function(){var e=arguments;return this.forEach((function(n){n[t][h](n,e)}))}}(he));return de.attr=function(t,n){if(t&&e.is(t,N)&&e.is(t[0],"object"))for(var i=0,r=t.length;i<r;i++)this.items[i].attr(t[i]);else for(var o=0,a=this.items.length;o<a;o++)this.items[o].attr(t,n);return this},de.clear=function(){for(;this.length;)this.pop()},de.splice=function(t,e,n){t=t<0?S(this.length+t,0):t,e=S(0,O(this.length-t,e));var i,r=[],o=[],a=[];for(i=2;i<arguments.length;i++)a.push(arguments[i]);for(i=0;i<e;i++)o.push(this[t+i]);for(;i<this.length-t;i++)r.push(this[t+i]);var s=a.length;for(i=0;i<s+r.length;i++)this.items[t+i]=this[t+i]=i<s?a[i]:r[i-s];for(i=this.items.length=this.length-=e-s;this[i];)delete this[i++];return new fe(o)},de.exclude=function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]==t)return this.splice(e,1),!0},de.animate=function(t,n,i,r){(e.is(i,"function")||!i)&&(r=i||null);var o,a,s=this.items.length,l=s,c=this;if(!s)return this;r&&(a=function(){!--s&&r.call(c)}),i=e.is(i,"string")?i:a;var u=e.animation(t,n,i,a);for(o=this.items[--l].animate(u);l--;)this.items[l]&&!this.items[l].removed&&this.items[l].animateWith(o,u,u),this.items[l]&&!this.items[l].removed||s--;return this},de.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this},de.getBBox=function(){for(var t=[],e=[],n=[],i=[],r=this.items.length;r--;)if(!this.items[r].removed){var o=this.items[r].getBBox();t.push(o.x),e.push(o.y),n.push(o.x+o.width),i.push(o.y+o.height)}return{x:t=O[h](0,t),y:e=O[h](0,e),x2:n=S[h](0,n),y2:i=S[h](0,i),width:n-t,height:i-e}},de.clone=function(t){t=this.paper.set();for(var e=0,n=this.items.length;e<n;e++)t.push(this.items[e].clone());return t},de.toString=function(){return"Raphaël‘s set"},de.glow=function(t){var e=this.paper.set();return this.forEach((function(n,i){var r=n.glow(t);null!=r&&r.forEach((function(t,n){e.push(t)}))})),e},de.isPointInside=function(t,e){var n=!1;return this.forEach((function(i){if(i.isPointInside(t,e))return n=!0,!1})),n},e.registerFont=function(t){if(!t.face)return t;this.fonts=this.fonts||{};var e={w:t.w,face:{},glyphs:{}},n=t.face["font-family"];for(var i in t.face)t.face[c](i)&&(e.face[i]=t.face[i]);if(this.fonts[n]?this.fonts[n].push(e):this.fonts[n]=[e],!t.svg)for(var r in e.face["units-per-em"]=L(t.face["units-per-em"],10),t.glyphs)if(t.glyphs[c](r)){var o=t.glyphs[r];if(e.glyphs[r]={w:o.w,k:{},d:o.d&&"M"+o.d.replace(/[mlcxtrv]/g,(function(t){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[t]||"M"}))+"z"},o.k)for(var a in o.k)o[c](a)&&(e.glyphs[r].k[a]=o.k[a])}return t},i.getFont=function(t,n,i,r){if(r=r||"normal",i=i||"normal",n=+n||{normal:400,bold:700,lighter:300,bolder:800}[n]||400,e.fonts){var o,a=e.fonts[t];if(!a){var s=new RegExp("(^|\\s)"+t.replace(/[^\w\d\s+!~.:_-]/g,g)+"(\\s|$)","i");for(var l in e.fonts)if(e.fonts[c](l)&&s.test(l)){a=e.fonts[l];break}}if(a)for(var u=0,f=a.length;u<f&&((o=a[u]).face["font-weight"]!=n||o.face["font-style"]!=i&&o.face["font-style"]||o.face["font-stretch"]!=r);u++);return o}},i.print=function(t,n,i,r,o,s,l,c){s=s||"middle",l=S(O(l||0,1),-1),c=S(O(c||1,3),1);var u,f=y(i)[b](g),d=0,h=0,p=g;if(e.is(r,"string")&&(r=this.getFont(r)),r){u=(o||16)/r.face["units-per-em"];for(var m=r.face.bbox[b](a),v=+m[0],_=m[3]-m[1],x=0,w=+m[1]+("baseline"==s?_+ +r.face.descent:_/2),k=0,C=f.length;k<C;k++){if("\n"==f[k])d=0,D=0,h=0,x+=_*c;else{var E=h&&r.glyphs[f[k-1]]||{},D=r.glyphs[f[k]];d+=h?(E.w||r.w)+(E.k&&E.k[f[k]]||0)+r.w*l:0,h=1}D&&D.d&&(p+=e.transformPath(D.d,["t",d*u,x*u,"s",u,u,v,w,"t",(t-v)/u,(n-w)/u]))}}return this.path(p).attr({fill:"#000",stroke:"none"})},i.add=function(t){if(e.is(t,"array"))for(var n,i=this.set(),r=0,o=t.length;r<o;r++)n=t[r]||{},s[c](n.type)&&i.push(this[n.type]().attr(n));return i},e.format=function(t,n){var i=e.is(n,N)?[0][p](n):arguments;return t&&e.is(t,"string")&&i.length-1&&(t=t.replace(l,(function(t,e){return null==i[++e]?g:i[e]}))),t||g},e.fullfill=(se=/\{([^\}]+)\}/g,le=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,function(t,e){return String(t).replace(se,(function(t,n){return function(t,e,n){var i=n;return e.replace(le,(function(t,e,n,r,o){e=e||r,i&&(e in i&&(i=i[e]),"function"==typeof i&&o&&(i=i()))})),i=(null==i||i==n?t:i)+""}(t,n,e)}))}),e.ninja=function(){if(f.was)u.win.Raphael=f.is;else{window.Raphael=void 0;try{delete window.Raphael}catch(t){}}return e},e.st=de,t.on("raphael.DOMload",(function(){n=!0})),null==(ce=document).readyState&&ce.addEventListener&&(ce.addEventListener("DOMContentLoaded",ue=function(){ce.removeEventListener("DOMContentLoaded",ue,!1),ce.readyState="complete"},!1),ce.readyState="loading"),function t(){/in/.test(ce.readyState)?setTimeout(t,9):e.eve("raphael.DOMload")}(),e}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(0),n(3),n(4)],void 0===(r=function(t){return t}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r,o,a,s,l,c,u,f,d,h,p,m,g;a="hasOwnProperty",s=/[\.\/]/,l=/\s*,\s*/,c=function(t,e){return t-e},u={n:{}},f=function(){for(var t=0,e=this.length;t<e;t++)if(void 0!==this[t])return this[t]},d=function(){for(var t=this.length;--t;)if(void 0!==this[t])return this[t]},h=Object.prototype.toString,p=String,m=Array.isArray||function(t){return t instanceof Array||"[object Array]"==h.call(t)},(g=function(t,e){var n,i=o,a=Array.prototype.slice.call(arguments,2),s=g.listeners(t),l=0,u=[],h={},p=[],m=r;p.firstDefined=f,p.lastDefined=d,r=t,o=0;for(var v=0,y=s.length;v<y;v++)"zIndex"in s[v]&&(u.push(s[v].zIndex),s[v].zIndex<0&&(h[s[v].zIndex]=s[v]));for(u.sort(c);u[l]<0;)if(n=h[u[l++]],p.push(n.apply(e,a)),o)return o=i,p;for(v=0;v<y;v++)if("zIndex"in(n=s[v]))if(n.zIndex==u[l]){if(p.push(n.apply(e,a)),o)break;do{if((n=h[u[++l]])&&p.push(n.apply(e,a)),o)break}while(n)}else h[n.zIndex]=n;else if(p.push(n.apply(e,a)),o)break;return o=i,r=m,p})._events=u,g.listeners=function(t){var e,n,i,r,o,a,l,c,f=m(t)?t:t.split(s),d=u,h=[d],p=[];for(r=0,o=f.length;r<o;r++){for(c=[],a=0,l=h.length;a<l;a++)for(n=[(d=h[a].n)[f[r]],d["*"]],i=2;i--;)(e=n[i])&&(c.push(e),p=p.concat(e.f||[]));h=c}return p},g.separator=function(t){t?(t="["+(t=p(t).replace(/(?=[\.\^\]\[\-])/g,"\\"))+"]",s=new RegExp(t)):s=/[\.\/]/},g.on=function(t,e){if("function"!=typeof e)return function(){};for(var n=m(t)?m(t[0])?t:[t]:p(t).split(l),i=0,r=n.length;i<r;i++)!function(t){for(var n,i=m(t)?t:p(t).split(s),r=u,o=0,a=i.length;o<a;o++)r=(r=r.n).hasOwnProperty(i[o])&&r[i[o]]||(r[i[o]]={n:{}});for(r.f=r.f||[],o=0,a=r.f.length;o<a;o++)if(r.f[o]==e){n=!0;break}!n&&r.f.push(e)}(n[i]);return function(t){+t==+t&&(e.zIndex=+t)}},g.f=function(t){var e=[].slice.call(arguments,1);return function(){g.apply(null,[t,null].concat(e).concat([].slice.call(arguments,0)))}},g.stop=function(){o=1},g.nt=function(t){var e=m(r)?r.join("."):r;return t?new RegExp("(?:\\.|\\/|^)"+t+"(?:\\.|\\/|$)").test(e):e},g.nts=function(){return m(r)?r:r.split(s)},g.off=g.unbind=function(t,e){if(t){var n=m(t)?m(t[0])?t:[t]:p(t).split(l);if(n.length>1)for(var i=0,r=n.length;i<r;i++)g.off(n[i],e);else{n=m(t)?t:p(t).split(s);var o,c,f,d,h,v=[u];for(i=0,r=n.length;i<r;i++)for(d=0;d<v.length;d+=f.length-2){if(f=[d,1],o=v[d].n,"*"!=n[i])o[n[i]]&&f.push(o[n[i]]);else for(c in o)o[a](c)&&f.push(o[c]);v.splice.apply(v,f)}for(i=0,r=v.length;i<r;i++)for(o=v[i];o.n;){if(e){if(o.f){for(d=0,h=o.f.length;d<h;d++)if(o.f[d]==e){o.f.splice(d,1);break}!o.f.length&&delete o.f}for(c in o.n)if(o.n[a](c)&&o.n[c].f){var y=o.n[c].f;for(d=0,h=y.length;d<h;d++)if(y[d]==e){y.splice(d,1);break}!y.length&&delete o.n[c].f}}else for(c in delete o.f,o.n)o.n[a](c)&&o.n[c].f&&delete o.n[c].f;o=o.n}}}else g._events=u={n:{}}},g.once=function(t,e){var n=function(){return g.off(t,n),e.apply(this,arguments)};return g.on(t,n)},g.version="0.5.0",g.toString=function(){return"You are running Eve 0.5.0"},t.exports?t.exports=g:void 0===(i=function(){return g}.apply(e,[]))||(t.exports=i)},function(t,e,n){var i,r;i=[n(0)],void 0===(r=function(t){if(!t||t.svg){var e="hasOwnProperty",n=String,i=parseFloat,r=parseInt,o=Math,a=o.max,s=o.abs,l=o.pow,c=/[, ]+/,u=t.eve,f="",d=" ",h="http://www.w3.org/1999/xlink",p={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},m={};t.toString=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var g=function(i,r){if(r)for(var o in"string"==typeof i&&(i=g(i)),r)r[e](o)&&("xlink:"==o.substring(0,6)?i.setAttributeNS(h,o.substring(6),n(r[o])):i.setAttribute(o,n(r[o])));else(i=t._g.doc.createElementNS("http://www.w3.org/2000/svg",i)).style&&(i.style.webkitTapHighlightColor="rgba(0,0,0,0)");return i},v=function(e,r){var c="linear",u=e.id+r,d=.5,h=.5,p=e.node,m=e.paper,v=p.style,b=t._g.doc.getElementById(u);if(!b){if(r=(r=n(r).replace(t._radial_gradient,(function(t,e,n){if(c="radial",e&&n){d=i(e);var r=2*((h=i(n))>.5)-1;l(d-.5,2)+l(h-.5,2)>.25&&(h=o.sqrt(.25-l(d-.5,2))*r+.5)&&.5!=h&&(h=h.toFixed(5)-1e-5*r)}return f}))).split(/\s*\-\s*/),"linear"==c){var _=r.shift();if(_=-i(_),isNaN(_))return null;var x=[0,0,o.cos(t.rad(_)),o.sin(t.rad(_))],w=1/(a(s(x[2]),s(x[3]))||1);x[2]*=w,x[3]*=w,x[2]<0&&(x[0]=-x[2],x[2]=0),x[3]<0&&(x[1]=-x[3],x[3]=0)}var k=t._parseDots(r);if(!k)return null;if(u=u.replace(/[\(\)\s,\xb0#]/g,"_"),e.gradient&&u!=e.gradient.id&&(m.defs.removeChild(e.gradient),delete e.gradient),!e.gradient){b=g(c+"Gradient",{id:u}),e.gradient=b,g(b,"radial"==c?{fx:d,fy:h}:{x1:x[0],y1:x[1],x2:x[2],y2:x[3],gradientTransform:e.matrix.invert()}),m.defs.appendChild(b);for(var S=0,O=k.length;S<O;S++)b.appendChild(g("stop",{offset:k[S].offset?k[S].offset:S?"100%":"0%","stop-color":k[S].color||"#fff","stop-opacity":isFinite(k[S].opacity)?k[S].opacity:1}))}}return g(p,{fill:y(u),opacity:1,"fill-opacity":1}),v.fill=f,v.opacity=1,v.fillOpacity=1,1},y=function(t){if((e=document.documentMode)&&(9===e||10===e))return"url('#"+t+"')";var e,n=document.location;return"url('"+n.protocol+"//"+n.host+n.pathname+n.search+"#"+t+"')"},b=function(t){var e=t.getBBox(1);g(t.pattern,{patternTransform:t.matrix.invert()+" translate("+e.x+","+e.y+")"})},_=function(i,r,o){if("path"==i.type){for(var a,s,l,c,u,d=n(r).toLowerCase().split("-"),h=i.paper,v=o?"end":"start",y=i.node,b=i.attrs,_=b["stroke-width"],x=d.length,w="classic",k=3,S=3,O=5;x--;)switch(d[x]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":w=d[x];break;case"wide":S=5;break;case"narrow":S=2;break;case"long":k=5;break;case"short":k=2}if("open"==w?(k+=2,S+=2,O+=2,l=1,c=o?4:1,u={fill:"none",stroke:b.stroke}):(c=l=k/2,u={fill:b.stroke,stroke:"none"}),i._.arrows?o?(i._.arrows.endPath&&m[i._.arrows.endPath]--,i._.arrows.endMarker&&m[i._.arrows.endMarker]--):(i._.arrows.startPath&&m[i._.arrows.startPath]--,i._.arrows.startMarker&&m[i._.arrows.startMarker]--):i._.arrows={},"none"!=w){var C="raphael-marker-"+w,E="raphael-marker-"+v+w+k+S+"-obj"+i.id;t._g.doc.getElementById(C)?m[C]++:(h.defs.appendChild(g(g("path"),{"stroke-linecap":"round",d:p[w],id:C})),m[C]=1);var D,T=t._g.doc.getElementById(E);T?(m[E]++,D=T.getElementsByTagName("use")[0]):(T=g(g("marker"),{id:E,markerHeight:S,markerWidth:k,orient:"auto",refX:c,refY:S/2}),D=g(g("use"),{"xlink:href":"#"+C,transform:(o?"rotate(180 "+k/2+" "+S/2+") ":f)+"scale("+k/O+","+S/O+")","stroke-width":(1/((k/O+S/O)/2)).toFixed(4)}),T.appendChild(D),h.defs.appendChild(T),m[E]=1),g(D,u);var N=l*("diamond"!=w&&"oval"!=w);o?(a=i._.arrows.startdx*_||0,s=t.getTotalLength(b.path)-N*_):(a=N*_,s=t.getTotalLength(b.path)-(i._.arrows.enddx*_||0)),(u={})["marker-"+v]="url(#"+E+")",(s||a)&&(u.d=t.getSubpath(b.path,a,s)),g(y,u),i._.arrows[v+"Path"]=C,i._.arrows[v+"Marker"]=E,i._.arrows[v+"dx"]=N,i._.arrows[v+"Type"]=w,i._.arrows[v+"String"]=r}else o?(a=i._.arrows.startdx*_||0,s=t.getTotalLength(b.path)-a):(a=0,s=t.getTotalLength(b.path)-(i._.arrows.enddx*_||0)),i._.arrows[v+"Path"]&&g(y,{d:t.getSubpath(b.path,a,s)}),delete i._.arrows[v+"Path"],delete i._.arrows[v+"Marker"],delete i._.arrows[v+"dx"],delete i._.arrows[v+"Type"],delete i._.arrows[v+"String"];for(u in m)if(m[e](u)&&!m[u]){var M=t._g.doc.getElementById(u);M&&M.parentNode.removeChild(M)}}},x={"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},w=function(t,e,i){if(e=x[n(e).toLowerCase()]){for(var r=t.attrs["stroke-width"]||"1",o={round:r,square:r,butt:0}[t.attrs["stroke-linecap"]||i["stroke-linecap"]]||0,a=[],s=e.length;s--;)a[s]=e[s]*r+(s%2?1:-1)*o;g(t.node,{"stroke-dasharray":a.join(",")})}else g(t.node,{"stroke-dasharray":"none"})},k=function(i,o){var l=i.node,u=i.attrs,d=l.style.visibility;for(var p in l.style.visibility="hidden",o)if(o[e](p)){if(!t._availableAttrs[e](p))continue;var m=o[p];switch(u[p]=m,p){case"blur":i.blur(m);break;case"title":var y=l.getElementsByTagName("title");if(y.length&&(y=y[0]))y.firstChild.nodeValue=m;else{y=g("title");var x=t._g.doc.createTextNode(m);y.appendChild(x),l.appendChild(y)}break;case"href":case"target":var k=l.parentNode;if("a"!=k.tagName.toLowerCase()){var O=g("a");k.insertBefore(O,l),O.appendChild(l),k=O}"target"==p?k.setAttributeNS(h,"show","blank"==m?"new":m):k.setAttributeNS(h,p,m);break;case"cursor":l.style.cursor=m;break;case"transform":i.transform(m);break;case"arrow-start":_(i,m);break;case"arrow-end":_(i,m,1);break;case"clip-rect":var C=n(m).split(c);if(4==C.length){i.clip&&i.clip.parentNode.parentNode.removeChild(i.clip.parentNode);var E=g("clipPath"),D=g("rect");E.id=t.createUUID(),g(D,{x:C[0],y:C[1],width:C[2],height:C[3]}),E.appendChild(D),i.paper.defs.appendChild(E),g(l,{"clip-path":"url(#"+E.id+")"}),i.clip=D}if(!m){var T=l.getAttribute("clip-path");if(T){var N=t._g.doc.getElementById(T.replace(/(^url\(#|\)$)/g,f));N&&N.parentNode.removeChild(N),g(l,{"clip-path":f}),delete i.clip}}break;case"path":"path"==i.type&&(g(l,{d:m?u.path=t._pathToAbsolute(m):"M0,0"}),i._.dirty=1,i._.arrows&&("startString"in i._.arrows&&_(i,i._.arrows.startString),"endString"in i._.arrows&&_(i,i._.arrows.endString,1)));break;case"width":if(l.setAttribute(p,m),i._.dirty=1,!u.fx)break;p="x",m=u.x;case"x":u.fx&&(m=-u.x-(u.width||0));case"rx":if("rx"==p&&"rect"==i.type)break;case"cx":l.setAttribute(p,m),i.pattern&&b(i),i._.dirty=1;break;case"height":if(l.setAttribute(p,m),i._.dirty=1,!u.fy)break;p="y",m=u.y;case"y":u.fy&&(m=-u.y-(u.height||0));case"ry":if("ry"==p&&"rect"==i.type)break;case"cy":l.setAttribute(p,m),i.pattern&&b(i),i._.dirty=1;break;case"r":"rect"==i.type?g(l,{rx:m,ry:m}):l.setAttribute(p,m),i._.dirty=1;break;case"src":"image"==i.type&&l.setAttributeNS(h,"href",m);break;case"stroke-width":1==i._.sx&&1==i._.sy||(m/=a(s(i._.sx),s(i._.sy))||1),l.setAttribute(p,m),u["stroke-dasharray"]&&w(i,u["stroke-dasharray"],o),i._.arrows&&("startString"in i._.arrows&&_(i,i._.arrows.startString),"endString"in i._.arrows&&_(i,i._.arrows.endString,1));break;case"stroke-dasharray":w(i,m,o);break;case"fill":var M=n(m).match(t._ISURL);if(M){E=g("pattern");var A=g("image");E.id=t.createUUID(),g(E,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),g(A,{x:0,y:0,"xlink:href":M[1]}),E.appendChild(A),function(e){t._preload(M[1],(function(){var t=this.offsetWidth,n=this.offsetHeight;g(e,{width:t,height:n}),g(A,{width:t,height:n})}))}(E),i.paper.defs.appendChild(E),g(l,{fill:"url(#"+E.id+")"}),i.pattern=E,i.pattern&&b(i);break}var j=t.getRGB(m);if(j.error){if(("circle"==i.type||"ellipse"==i.type||"r"!=n(m).charAt())&&v(i,m)){if("opacity"in u||"fill-opacity"in u){var P=t._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,f));if(P){var $=P.getElementsByTagName("stop");g($[$.length-1],{"stop-opacity":("opacity"in u?u.opacity:1)*("fill-opacity"in u?u["fill-opacity"]:1)})}}u.gradient=m,u.fill="none";break}}else delete o.gradient,delete u.gradient,!t.is(u.opacity,"undefined")&&t.is(o.opacity,"undefined")&&g(l,{opacity:u.opacity}),!t.is(u["fill-opacity"],"undefined")&&t.is(o["fill-opacity"],"undefined")&&g(l,{"fill-opacity":u["fill-opacity"]});j[e]("opacity")&&g(l,{"fill-opacity":j.opacity>1?j.opacity/100:j.opacity});case"stroke":j=t.getRGB(m),l.setAttribute(p,j.hex),"stroke"==p&&j[e]("opacity")&&g(l,{"stroke-opacity":j.opacity>1?j.opacity/100:j.opacity}),"stroke"==p&&i._.arrows&&("startString"in i._.arrows&&_(i,i._.arrows.startString),"endString"in i._.arrows&&_(i,i._.arrows.endString,1));break;case"gradient":("circle"==i.type||"ellipse"==i.type||"r"!=n(m).charAt())&&v(i,m);break;case"opacity":u.gradient&&!u[e]("stroke-opacity")&&g(l,{"stroke-opacity":m>1?m/100:m});case"fill-opacity":if(u.gradient){(P=t._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,f)))&&($=P.getElementsByTagName("stop"),g($[$.length-1],{"stop-opacity":m}));break}default:"font-size"==p&&(m=r(m,10)+"px");var I=p.replace(/(\-.)/g,(function(t){return t.substring(1).toUpperCase()}));l.style[I]=m,i._.dirty=1,l.setAttribute(p,m)}}S(i,o),l.style.visibility=d},S=function(i,o){if("text"==i.type&&(o[e]("text")||o[e]("font")||o[e]("font-size")||o[e]("x")||o[e]("y"))){var a=i.attrs,s=i.node,l=s.firstChild?r(t._g.doc.defaultView.getComputedStyle(s.firstChild,f).getPropertyValue("font-size"),10):10;if(o[e]("text")){for(a.text=o.text;s.firstChild;)s.removeChild(s.firstChild);for(var c,u=n(o.text).split("\n"),d=[],h=0,p=u.length;h<p;h++)c=g("tspan"),h&&g(c,{dy:1.2*l,x:a.x}),c.appendChild(t._g.doc.createTextNode(u[h])),s.appendChild(c),d[h]=c}else for(h=0,p=(d=s.getElementsByTagName("tspan")).length;h<p;h++)h?g(d[h],{dy:1.2*l,x:a.x}):g(d[0],{dy:0});g(s,{x:a.x,y:a.y}),i._.dirty=1;var m=i._getBBox(),v=a.y-(m.y+m.height/2);v&&t.is(v,"finite")&&g(d[0],{dy:v})}},O=function(t){return t.parentNode&&"a"===t.parentNode.tagName.toLowerCase()?t.parentNode:t},C=function(e,n){this[0]=this.node=e,e.raphael=!0,this.id=("0000"+(Math.random()*Math.pow(36,5)<<0).toString(36)).slice(-5),e.raphaelid=this.id,this.matrix=t.matrix(),this.realPath=null,this.paper=n,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!n.bottom&&(n.bottom=this),this.prev=n.top,n.top&&(n.top.next=this),n.top=this,this.next=null},E=t.el;C.prototype=E,E.constructor=C,t._engine.path=function(t,e){var n=g("path");e.canvas&&e.canvas.appendChild(n);var i=new C(n,e);return i.type="path",k(i,{fill:"none",stroke:"#000",path:t}),i},E.rotate=function(t,e,r){if(this.removed)return this;if((t=n(t).split(c)).length-1&&(e=i(t[1]),r=i(t[2])),t=i(t[0]),null==r&&(e=r),null==e||null==r){var o=this.getBBox(1);e=o.x+o.width/2,r=o.y+o.height/2}return this.transform(this._.transform.concat([["r",t,e,r]])),this},E.scale=function(t,e,r,o){if(this.removed)return this;if((t=n(t).split(c)).length-1&&(e=i(t[1]),r=i(t[2]),o=i(t[3])),t=i(t[0]),null==e&&(e=t),null==o&&(r=o),null==r||null==o)var a=this.getBBox(1);return r=null==r?a.x+a.width/2:r,o=null==o?a.y+a.height/2:o,this.transform(this._.transform.concat([["s",t,e,r,o]])),this},E.translate=function(t,e){return this.removed||((t=n(t).split(c)).length-1&&(e=i(t[1])),t=i(t[0])||0,e=+e||0,this.transform(this._.transform.concat([["t",t,e]]))),this},E.transform=function(n){var i=this._;if(null==n)return i.transform;if(t._extractTransform(this,n),this.clip&&g(this.clip,{transform:this.matrix.invert()}),this.pattern&&b(this),this.node&&g(this.node,{transform:this.matrix}),1!=i.sx||1!=i.sy){var r=this.attrs[e]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":r})}return this},E.hide=function(){return this.removed||(this.node.style.display="none"),this},E.show=function(){return this.removed||(this.node.style.display=""),this},E.remove=function(){var e=O(this.node);if(!this.removed&&e.parentNode){var n=this.paper;for(var i in n.__set__&&n.__set__.exclude(this),u.unbind("raphael.*.*."+this.id),this.gradient&&n.defs.removeChild(this.gradient),t._tear(this,n),e.parentNode.removeChild(e),this.removeData(),this)this[i]="function"==typeof this[i]?t._removedFactory(i):null;this.removed=!0}},E._getBBox=function(){if("none"==this.node.style.display){this.show();var t=!0}var e,n=!1;this.paper.canvas.parentElement?e=this.paper.canvas.parentElement.style:this.paper.canvas.parentNode&&(e=this.paper.canvas.parentNode.style),e&&"none"==e.display&&(n=!0,e.display="");var i={};try{i=this.node.getBBox()}catch(t){i={x:this.node.clientLeft,y:this.node.clientTop,width:this.node.clientWidth,height:this.node.clientHeight}}finally{i=i||{},n&&(e.display="none")}return t&&this.hide(),i},E.attr=function(n,i){if(this.removed)return this;if(null==n){var r={};for(var o in this.attrs)this.attrs[e](o)&&(r[o]=this.attrs[o]);return r.gradient&&"none"==r.fill&&(r.fill=r.gradient)&&delete r.gradient,r.transform=this._.transform,r}if(null==i&&t.is(n,"string")){if("fill"==n&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==n)return this._.transform;for(var a=n.split(c),s={},l=0,f=a.length;l<f;l++)(n=a[l])in this.attrs?s[n]=this.attrs[n]:t.is(this.paper.customAttributes[n],"function")?s[n]=this.paper.customAttributes[n].def:s[n]=t._availableAttrs[n];return f-1?s:s[a[0]]}if(null==i&&t.is(n,"array")){for(s={},l=0,f=n.length;l<f;l++)s[n[l]]=this.attr(n[l]);return s}if(null!=i){var d={};d[n]=i}else null!=n&&t.is(n,"object")&&(d=n);for(var h in d)u("raphael.attr."+h+"."+this.id,this,d[h]);for(h in this.paper.customAttributes)if(this.paper.customAttributes[e](h)&&d[e](h)&&t.is(this.paper.customAttributes[h],"function")){var p=this.paper.customAttributes[h].apply(this,[].concat(d[h]));for(var m in this.attrs[h]=d[h],p)p[e](m)&&(d[m]=p[m])}return k(this,d),this},E.toFront=function(){if(this.removed)return this;var e=O(this.node);e.parentNode.appendChild(e);var n=this.paper;return n.top!=this&&t._tofront(this,n),this},E.toBack=function(){if(this.removed)return this;var e=O(this.node),n=e.parentNode;return n.insertBefore(e,n.firstChild),t._toback(this,this.paper),this.paper,this},E.insertAfter=function(e){if(this.removed||!e)return this;var n=O(this.node),i=O(e.node||e[e.length-1].node);return i.nextSibling?i.parentNode.insertBefore(n,i.nextSibling):i.parentNode.appendChild(n),t._insertafter(this,e,this.paper),this},E.insertBefore=function(e){if(this.removed||!e)return this;var n=O(this.node),i=O(e.node||e[0].node);return i.parentNode.insertBefore(n,i),t._insertbefore(this,e,this.paper),this},E.blur=function(e){var n=this;if(0!=+e){var i=g("filter"),r=g("feGaussianBlur");n.attrs.blur=e,i.id=t.createUUID(),g(r,{stdDeviation:+e||1.5}),i.appendChild(r),n.paper.defs.appendChild(i),n._blur=i,g(n.node,{filter:"url(#"+i.id+")"})}else n._blur&&(n._blur.parentNode.removeChild(n._blur),delete n._blur,delete n.attrs.blur),n.node.removeAttribute("filter");return n},t._engine.circle=function(t,e,n,i){var r=g("circle");t.canvas&&t.canvas.appendChild(r);var o=new C(r,t);return o.attrs={cx:e,cy:n,r:i,fill:"none",stroke:"#000"},o.type="circle",g(r,o.attrs),o},t._engine.rect=function(t,e,n,i,r,o){var a=g("rect");t.canvas&&t.canvas.appendChild(a);var s=new C(a,t);return s.attrs={x:e,y:n,width:i,height:r,rx:o||0,ry:o||0,fill:"none",stroke:"#000"},s.type="rect",g(a,s.attrs),s},t._engine.ellipse=function(t,e,n,i,r){var o=g("ellipse");t.canvas&&t.canvas.appendChild(o);var a=new C(o,t);return a.attrs={cx:e,cy:n,rx:i,ry:r,fill:"none",stroke:"#000"},a.type="ellipse",g(o,a.attrs),a},t._engine.image=function(t,e,n,i,r,o){var a=g("image");g(a,{x:n,y:i,width:r,height:o,preserveAspectRatio:"none"}),a.setAttributeNS(h,"href",e),t.canvas&&t.canvas.appendChild(a);var s=new C(a,t);return s.attrs={x:n,y:i,width:r,height:o,src:e},s.type="image",s},t._engine.text=function(e,n,i,r){var o=g("text");e.canvas&&e.canvas.appendChild(o);var a=new C(o,e);return a.attrs={x:n,y:i,"text-anchor":"middle",text:r,"font-family":t._availableAttrs["font-family"],"font-size":t._availableAttrs["font-size"],stroke:"none",fill:"#000"},a.type="text",k(a,a.attrs),a},t._engine.setSize=function(t,e){return this.width=t||this.width,this.height=e||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},t._engine.create=function(){var e=t._getContainer.apply(0,arguments),n=e&&e.container;if(!n)throw new Error("SVG container not found.");var i,r=e.x,o=e.y,a=e.width,s=e.height,l=g("svg"),c="overflow:hidden;";return r=r||0,o=o||0,g(l,{height:s=s||342,version:1.1,width:a=a||512,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),1==n?(l.style.cssText=c+"position:absolute;left:"+r+"px;top:"+o+"px",t._g.doc.body.appendChild(l),i=1):(l.style.cssText=c+"position:relative",n.firstChild?n.insertBefore(l,n.firstChild):n.appendChild(l)),(n=new t._Paper).width=a,n.height=s,n.canvas=l,n.clear(),n._left=n._top=0,i&&(n.renderfix=function(){}),n.renderfix(),n},t._engine.setViewBox=function(t,e,n,i,r){u("raphael.setViewBox",this,this._viewBox,[t,e,n,i,r]);var o,s,l=this.getSize(),c=a(n/l.width,i/l.height),f=this.top,h=r?"xMidYMid meet":"xMinYMin";for(null==t?(this._vbSize&&(c=1),delete this._vbSize,o="0 0 "+this.width+d+this.height):(this._vbSize=c,o=t+d+e+d+n+d+i),g(this.canvas,{viewBox:o,preserveAspectRatio:h});c&&f;)s="stroke-width"in f.attrs?f.attrs["stroke-width"]:1,f.attr({"stroke-width":s}),f._.dirty=1,f._.dirtyT=1,f=f.prev;return this._viewBox=[t,e,n,i,!!r],this},t.prototype.renderfix=function(){var t,e=this.canvas,n=e.style;try{t=e.getScreenCTM()||e.createSVGMatrix()}catch(n){t=e.createSVGMatrix()}var i=-t.e%1,r=-t.f%1;(i||r)&&(i&&(this._left=(this._left+i)%1,n.left=this._left+"px"),r&&(this._top=(this._top+r)%1,n.top=this._top+"px"))},t.prototype.clear=function(){t.eve("raphael.clear",this);for(var e=this.canvas;e.firstChild;)e.removeChild(e.firstChild);this.bottom=this.top=null,(this.desc=g("desc")).appendChild(t._g.doc.createTextNode("Created with Raphaël "+t.version)),e.appendChild(this.desc),e.appendChild(this.defs=g("defs"))},t.prototype.remove=function(){for(var e in u("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this)this[e]="function"==typeof this[e]?t._removedFactory(e):null};var D=t.st;for(var T in E)E[e](T)&&!D[e](T)&&(D[T]=function(t){return function(){var e=arguments;return this.forEach((function(n){n[t].apply(n,e)}))}}(T))}}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(0)],void 0===(r=function(t){if(!t||t.vml){var e="hasOwnProperty",n=String,i=parseFloat,r=Math,o=r.round,a=r.max,s=r.min,l=r.abs,c=/[, ]+/,u=t.eve,f=" ",d="",h={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},p=/([clmz]),?([^clmz]*)/gi,m=/ progid:\S+Blur\([^\)]+\)/g,g=/-?[^,\s-]+/g,v="position:absolute;left:0;top:0;width:1px;height:1px;behavior:url(#default#VML)",y=21600,b={path:1,rect:1,image:1},_={circle:1,ellipse:1},x=function(e,n,i){var r=t.matrix();return r.rotate(-e,.5,.5),{dx:r.x(n,i),dy:r.y(n,i)}},w=function(t,e,n,i,r,o){var a=t._,s=t.matrix,c=a.fillpos,u=t.node,d=u.style,h=1,p="",m=y/e,g=y/n;if(d.visibility="hidden",e&&n){if(u.coordsize=l(m)+f+l(g),d.rotation=o*(e*n<0?-1:1),o){var v=x(o,i,r);i=v.dx,r=v.dy}if(e<0&&(p+="x"),n<0&&(p+=" y")&&(h=-1),d.flip=p,u.coordorigin=i*-m+f+r*-g,c||a.fillsize){var b=u.getElementsByTagName("fill");b=b&&b[0],u.removeChild(b),c&&(v=x(o,s.x(c[0],c[1]),s.y(c[0],c[1])),b.position=v.dx*h+f+v.dy*h),a.fillsize&&(b.size=a.fillsize[0]*l(e)+f+a.fillsize[1]*l(n)),u.appendChild(b)}d.visibility="visible"}};t.toString=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};var k,S=function(t,e,i){for(var r=n(e).toLowerCase().split("-"),o=i?"end":"start",a=r.length,s="classic",l="medium",c="medium";a--;)switch(r[a]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":s=r[a];break;case"wide":case"narrow":c=r[a];break;case"long":case"short":l=r[a]}var u=t.node.getElementsByTagName("stroke")[0];u[o+"arrow"]=s,u[o+"arrowlength"]=l,u[o+"arrowwidth"]=c},O=function(r,l){r.attrs=r.attrs||{};var u=r.node,m=r.attrs,v=u.style,x=b[r.type]&&(l.x!=m.x||l.y!=m.y||l.width!=m.width||l.height!=m.height||l.cx!=m.cx||l.cy!=m.cy||l.rx!=m.rx||l.ry!=m.ry||l.r!=m.r),O=_[r.type]&&(m.cx!=l.cx||m.cy!=l.cy||m.r!=l.r||m.rx!=l.rx||m.ry!=l.ry),E=r;for(var D in l)l[e](D)&&(m[D]=l[D]);if(x&&(m.path=t._getPath[r.type](r),r._.dirty=1),l.href&&(u.href=l.href),l.title&&(u.title=l.title),l.target&&(u.target=l.target),l.cursor&&(v.cursor=l.cursor),"blur"in l&&r.blur(l.blur),(l.path&&"path"==r.type||x)&&(u.path=function(e){var i=/[ahqstv]/gi,r=t._pathToAbsolute;if(n(e).match(i)&&(r=t._path2curve),i=/[clmz]/g,r==t._pathToAbsolute&&!n(e).match(i)){var a=n(e).replace(p,(function(t,e,n){var i=[],r="m"==e.toLowerCase(),a=h[e];return n.replace(g,(function(t){r&&2==i.length&&(a+=i+h["m"==e?"l":"L"],i=[]),i.push(o(t*y))})),a+i}));return a}var s,l,c=r(e);a=[];for(var u=0,m=c.length;u<m;u++){s=c[u],"z"==(l=c[u][0].toLowerCase())&&(l="x");for(var v=1,b=s.length;v<b;v++)l+=o(s[v]*y)+(v!=b-1?",":d);a.push(l)}return a.join(f)}(~n(m.path).toLowerCase().indexOf("r")?t._pathToAbsolute(m.path):m.path),r._.dirty=1,"image"==r.type&&(r._.fillpos=[m.x,m.y],r._.fillsize=[m.width,m.height],w(r,1,1,0,0,0))),"transform"in l&&r.transform(l.transform),O){var T=+m.cx,N=+m.cy,M=+m.rx||+m.r||0,A=+m.ry||+m.r||0;u.path=t.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",o((T-M)*y),o((N-A)*y),o((T+M)*y),o((N+A)*y),o(T*y)),r._.dirty=1}if("clip-rect"in l){var j=n(l["clip-rect"]).split(c);if(4==j.length){j[2]=+j[2]+ +j[0],j[3]=+j[3]+ +j[1];var P=u.clipRect||t._g.doc.createElement("div"),$=P.style;$.clip=t.format("rect({1}px {2}px {3}px {0}px)",j),u.clipRect||($.position="absolute",$.top=0,$.left=0,$.width=r.paper.width+"px",$.height=r.paper.height+"px",u.parentNode.insertBefore(P,u),P.appendChild(u),u.clipRect=P)}l["clip-rect"]||u.clipRect&&(u.clipRect.style.clip="auto")}if(r.textpath){var I=r.textpath.style;l.font&&(I.font=l.font),l["font-family"]&&(I.fontFamily='"'+l["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,d)+'"'),l["font-size"]&&(I.fontSize=l["font-size"]),l["font-weight"]&&(I.fontWeight=l["font-weight"]),l["font-style"]&&(I.fontStyle=l["font-style"])}if("arrow-start"in l&&S(E,l["arrow-start"]),"arrow-end"in l&&S(E,l["arrow-end"],1),null!=l.opacity||null!=l.fill||null!=l.src||null!=l.stroke||null!=l["stroke-width"]||null!=l["stroke-opacity"]||null!=l["fill-opacity"]||null!=l["stroke-dasharray"]||null!=l["stroke-miterlimit"]||null!=l["stroke-linejoin"]||null!=l["stroke-linecap"]){var L=u.getElementsByTagName("fill");if(!(L=L&&L[0])&&(L=k("fill")),"image"==r.type&&l.src&&(L.src=l.src),l.fill&&(L.on=!0),null!=L.on&&"none"!=l.fill&&null!==l.fill||(L.on=!1),L.on&&l.fill){var R=n(l.fill).match(t._ISURL);if(R){L.parentNode==u&&u.removeChild(L),L.rotate=!0,L.src=R[1],L.type="tile";var B=r.getBBox(1);L.position=B.x+f+B.y,r._.fillpos=[B.x,B.y],t._preload(R[1],(function(){r._.fillsize=[this.offsetWidth,this.offsetHeight]}))}else L.color=t.getRGB(l.fill).hex,L.src=d,L.type="solid",t.getRGB(l.fill).error&&(E.type in{circle:1,ellipse:1}||"r"!=n(l.fill).charAt())&&C(E,l.fill,L)&&(m.fill="none",m.gradient=l.fill,L.rotate=!1)}if("fill-opacity"in l||"opacity"in l){var q=((+m["fill-opacity"]+1||2)-1)*((+m.opacity+1||2)-1)*((+t.getRGB(l.fill).o+1||2)-1);q=s(a(q,0),1),L.opacity=q,L.src&&(L.color="none")}u.appendChild(L);var F=u.getElementsByTagName("stroke")&&u.getElementsByTagName("stroke")[0],z=!1;!F&&(z=F=k("stroke")),(l.stroke&&"none"!=l.stroke||l["stroke-width"]||null!=l["stroke-opacity"]||l["stroke-dasharray"]||l["stroke-miterlimit"]||l["stroke-linejoin"]||l["stroke-linecap"])&&(F.on=!0),("none"==l.stroke||null===l.stroke||null==F.on||0==l.stroke||0==l["stroke-width"])&&(F.on=!1);var V=t.getRGB(l.stroke);F.on&&l.stroke&&(F.color=V.hex),q=((+m["stroke-opacity"]+1||2)-1)*((+m.opacity+1||2)-1)*((+V.o+1||2)-1);var U=.75*(i(l["stroke-width"])||1);if(q=s(a(q,0),1),null==l["stroke-width"]&&(U=m["stroke-width"]),l["stroke-width"]&&(F.weight=U),U&&U<1&&(q*=U)&&(F.weight=1),F.opacity=q,l["stroke-linejoin"]&&(F.joinstyle=l["stroke-linejoin"]||"miter"),F.miterlimit=l["stroke-miterlimit"]||8,l["stroke-linecap"]&&(F.endcap="butt"==l["stroke-linecap"]?"flat":"square"==l["stroke-linecap"]?"square":"round"),"stroke-dasharray"in l){var K={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};F.dashstyle=K[e](l["stroke-dasharray"])?K[l["stroke-dasharray"]]:d}z&&u.appendChild(F)}if("text"==E.type){E.paper.canvas.style.display=d;var H=E.paper.span,W=m.font&&m.font.match(/\d+(?:\.\d*)?(?=px)/);v=H.style,m.font&&(v.font=m.font),m["font-family"]&&(v.fontFamily=m["font-family"]),m["font-weight"]&&(v.fontWeight=m["font-weight"]),m["font-style"]&&(v.fontStyle=m["font-style"]),W=i(m["font-size"]||W&&W[0])||10,v.fontSize=100*W+"px",E.textpath.string&&(H.innerHTML=n(E.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var G=H.getBoundingClientRect();E.W=m.w=(G.right-G.left)/100,E.H=m.h=(G.bottom-G.top)/100,E.X=m.x,E.Y=m.y+E.H/2,("x"in l||"y"in l)&&(E.path.v=t.format("m{0},{1}l{2},{1}",o(m.x*y),o(m.y*y),o(m.x*y)+1));for(var J=["x","y","text","font","font-family","font-weight","font-style","font-size"],Y=0,X=J.length;Y<X;Y++)if(J[Y]in l){E._.dirty=1;break}switch(m["text-anchor"]){case"start":E.textpath.style["v-text-align"]="left",E.bbx=E.W/2;break;case"end":E.textpath.style["v-text-align"]="right",E.bbx=-E.W/2;break;default:E.textpath.style["v-text-align"]="center",E.bbx=0}E.textpath.style["v-text-kern"]=!0}},C=function(e,o,a){e.attrs=e.attrs||{},e.attrs;var s=Math.pow,l="linear",c=".5 .5";if(e.attrs.gradient=o,o=(o=n(o).replace(t._radial_gradient,(function(t,e,n){return l="radial",e&&n&&(e=i(e),n=i(n),s(e-.5,2)+s(n-.5,2)>.25&&(n=r.sqrt(.25-s(e-.5,2))*(2*(n>.5)-1)+.5),c=e+f+n),d}))).split(/\s*\-\s*/),"linear"==l){var u=o.shift();if(u=-i(u),isNaN(u))return null}var h=t._parseDots(o);if(!h)return null;if(e=e.shape||e.node,h.length){e.removeChild(a),a.on=!0,a.method="none",a.color=h[0].color,a.color2=h[h.length-1].color;for(var p=[],m=0,g=h.length;m<g;m++)h[m].offset&&p.push(h[m].offset+f+h[m].color);a.colors=p.length?p.join():"0% "+a.color,"radial"==l?(a.type="gradientTitle",a.focus="100%",a.focussize="0 0",a.focusposition=c,a.angle=0):(a.type="gradient",a.angle=(270-u)%360),e.appendChild(a)}return 1},E=function(e,n){this[0]=this.node=e,e.raphael=!0,this.id=t._oid++,e.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=n,this.matrix=t.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!n.bottom&&(n.bottom=this),this.prev=n.top,n.top&&(n.top.next=this),n.top=this,this.next=null},D=t.el;E.prototype=D,D.constructor=E,D.transform=function(e){if(null==e)return this._.transform;var i,r=this.paper._viewBoxShift,o=r?"s"+[r.scale,r.scale]+"-1-1t"+[r.dx,r.dy]:d;r&&(i=e=n(e).replace(/\.{3}|\u2026/g,this._.transform||d)),t._extractTransform(this,o+e);var a,s=this.matrix.clone(),l=this.skew,c=this.node,u=~n(this.attrs.fill).indexOf("-"),h=!n(this.attrs.fill).indexOf("url(");if(s.translate(1,1),h||u||"image"==this.type)if(l.matrix="1 0 0 1",l.offset="0 0",a=s.split(),u&&a.noRotation||!a.isSimple){c.style.filter=s.toFilter();var p=this.getBBox(),m=this.getBBox(1),g=p.x-m.x,v=p.y-m.y;c.coordorigin=g*-y+f+v*-y,w(this,1,1,g,v,0)}else c.style.filter=d,w(this,a.scalex,a.scaley,a.dx,a.dy,a.rotate);else c.style.filter=d,l.matrix=n(s),l.offset=s.offset();return null!==i&&(this._.transform=i,t._extractTransform(this,i)),this},D.rotate=function(t,e,r){if(this.removed)return this;if(null!=t){if((t=n(t).split(c)).length-1&&(e=i(t[1]),r=i(t[2])),t=i(t[0]),null==r&&(e=r),null==e||null==r){var o=this.getBBox(1);e=o.x+o.width/2,r=o.y+o.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",t,e,r]])),this}},D.translate=function(t,e){return this.removed||((t=n(t).split(c)).length-1&&(e=i(t[1])),t=i(t[0])||0,e=+e||0,this._.bbox&&(this._.bbox.x+=t,this._.bbox.y+=e),this.transform(this._.transform.concat([["t",t,e]]))),this},D.scale=function(t,e,r,o){if(this.removed)return this;if((t=n(t).split(c)).length-1&&(e=i(t[1]),r=i(t[2]),o=i(t[3]),isNaN(r)&&(r=null),isNaN(o)&&(o=null)),t=i(t[0]),null==e&&(e=t),null==o&&(r=o),null==r||null==o)var a=this.getBBox(1);return r=null==r?a.x+a.width/2:r,o=null==o?a.y+a.height/2:o,this.transform(this._.transform.concat([["s",t,e,r,o]])),this._.dirtyT=1,this},D.hide=function(){return!this.removed&&(this.node.style.display="none"),this},D.show=function(){return!this.removed&&(this.node.style.display=d),this},D.auxGetBBox=t.el.getBBox,D.getBBox=function(){var t=this.auxGetBBox();if(this.paper&&this.paper._viewBoxShift){var e={},n=1/this.paper._viewBoxShift.scale;return e.x=t.x-this.paper._viewBoxShift.dx,e.x*=n,e.y=t.y-this.paper._viewBoxShift.dy,e.y*=n,e.width=t.width*n,e.height=t.height*n,e.x2=e.x+e.width,e.y2=e.y+e.height,e}return t},D._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},D.remove=function(){if(!this.removed&&this.node.parentNode){for(var e in this.paper.__set__&&this.paper.__set__.exclude(this),t.eve.unbind("raphael.*.*."+this.id),t._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape),this)this[e]="function"==typeof this[e]?t._removedFactory(e):null;this.removed=!0}},D.attr=function(n,i){if(this.removed)return this;if(null==n){var r={};for(var o in this.attrs)this.attrs[e](o)&&(r[o]=this.attrs[o]);return r.gradient&&"none"==r.fill&&(r.fill=r.gradient)&&delete r.gradient,r.transform=this._.transform,r}if(null==i&&t.is(n,"string")){if("fill"==n&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var a=n.split(c),s={},l=0,f=a.length;l<f;l++)(n=a[l])in this.attrs?s[n]=this.attrs[n]:t.is(this.paper.customAttributes[n],"function")?s[n]=this.paper.customAttributes[n].def:s[n]=t._availableAttrs[n];return f-1?s:s[a[0]]}if(this.attrs&&null==i&&t.is(n,"array")){for(s={},l=0,f=n.length;l<f;l++)s[n[l]]=this.attr(n[l]);return s}var d;for(var h in null!=i&&((d={})[n]=i),null==i&&t.is(n,"object")&&(d=n),d)u("raphael.attr."+h+"."+this.id,this,d[h]);if(d){for(h in this.paper.customAttributes)if(this.paper.customAttributes[e](h)&&d[e](h)&&t.is(this.paper.customAttributes[h],"function")){var p=this.paper.customAttributes[h].apply(this,[].concat(d[h]));for(var m in this.attrs[h]=d[h],p)p[e](m)&&(d[m]=p[m])}d.text&&"text"==this.type&&(this.textpath.string=d.text),O(this,d)}return this},D.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&t._tofront(this,this.paper),this},D.toBack=function(){return this.removed||this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),t._toback(this,this.paper)),this},D.insertAfter=function(e){return this.removed||(e.constructor==t.st.constructor&&(e=e[e.length-1]),e.node.nextSibling?e.node.parentNode.insertBefore(this.node,e.node.nextSibling):e.node.parentNode.appendChild(this.node),t._insertafter(this,e,this.paper)),this},D.insertBefore=function(e){return this.removed||(e.constructor==t.st.constructor&&(e=e[0]),e.node.parentNode.insertBefore(this.node,e.node),t._insertbefore(this,e,this.paper)),this},D.blur=function(e){var n=this.node.runtimeStyle,i=n.filter;return i=i.replace(m,d),0!=+e?(this.attrs.blur=e,n.filter=i+f+" progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+e||1.5)+")",n.margin=t.format("-{0}px 0 0 -{0}px",o(+e||1.5))):(n.filter=i,n.margin=0,delete this.attrs.blur),this},t._engine.path=function(t,e){var n=k("shape");n.style.cssText=v,n.coordsize=y+f+y,n.coordorigin=e.coordorigin;var i=new E(n,e),r={fill:"none",stroke:"#000"};t&&(r.path=t),i.type="path",i.path=[],i.Path=d,O(i,r),e.canvas&&e.canvas.appendChild(n);var o=k("skew");return o.on=!0,n.appendChild(o),i.skew=o,i.transform(d),i},t._engine.rect=function(e,n,i,r,o,a){var s=t._rectPath(n,i,r,o,a),l=e.path(s),c=l.attrs;return l.X=c.x=n,l.Y=c.y=i,l.W=c.width=r,l.H=c.height=o,c.r=a,c.path=s,l.type="rect",l},t._engine.ellipse=function(t,e,n,i,r){var o=t.path();return o.attrs,o.X=e-i,o.Y=n-r,o.W=2*i,o.H=2*r,o.type="ellipse",O(o,{cx:e,cy:n,rx:i,ry:r}),o},t._engine.circle=function(t,e,n,i){var r=t.path();return r.attrs,r.X=e-i,r.Y=n-i,r.W=r.H=2*i,r.type="circle",O(r,{cx:e,cy:n,r:i}),r},t._engine.image=function(e,n,i,r,o,a){var s=t._rectPath(i,r,o,a),l=e.path(s).attr({stroke:"none"}),c=l.attrs,u=l.node,f=u.getElementsByTagName("fill")[0];return c.src=n,l.X=c.x=i,l.Y=c.y=r,l.W=c.width=o,l.H=c.height=a,c.path=s,l.type="image",f.parentNode==u&&u.removeChild(f),f.rotate=!0,f.src=n,f.type="tile",l._.fillpos=[i,r],l._.fillsize=[o,a],u.appendChild(f),w(l,1,1,0,0,0),l},t._engine.text=function(e,i,r,a){var s=k("shape"),l=k("path"),c=k("textpath");i=i||0,r=r||0,a=a||"",l.v=t.format("m{0},{1}l{2},{1}",o(i*y),o(r*y),o(i*y)+1),l.textpathok=!0,c.string=n(a),c.on=!0,s.style.cssText=v,s.coordsize=y+f+y,s.coordorigin="0 0";var u=new E(s,e),h={fill:"#000",stroke:"none",font:t._availableAttrs.font,text:a};u.shape=s,u.path=l,u.textpath=c,u.type="text",u.attrs.text=n(a),u.attrs.x=i,u.attrs.y=r,u.attrs.w=1,u.attrs.h=1,O(u,h),s.appendChild(c),s.appendChild(l),e.canvas.appendChild(s);var p=k("skew");return p.on=!0,s.appendChild(p),u.skew=p,u.transform(d),u},t._engine.setSize=function(e,n){var i=this.canvas.style;return this.width=e,this.height=n,e==+e&&(e+="px"),n==+n&&(n+="px"),i.width=e,i.height=n,i.clip="rect(0 "+e+" "+n+" 0)",this._viewBox&&t._engine.setViewBox.apply(this,this._viewBox),this},t._engine.setViewBox=function(e,n,i,r,o){t.eve("raphael.setViewBox",this,this._viewBox,[e,n,i,r,o]);var a,s,l=this.getSize(),c=l.width,u=l.height;return o&&(i*(a=u/r)<c&&(e-=(c-i*a)/2/a),r*(s=c/i)<u&&(n-=(u-r*s)/2/s)),this._viewBox=[e,n,i,r,!!o],this._viewBoxShift={dx:-e,dy:-n,scale:l},this.forEach((function(t){t.transform("...")})),this},t._engine.initWin=function(t){var e=t.document;e.styleSheets.length<31?e.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)"):e.styleSheets[0].addRule(".rvml","behavior:url(#default#VML)");try{!e.namespaces.rvml&&e.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),k=function(t){return e.createElement("<rvml:"+t+' class="rvml">')}}catch(t){k=function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},t._engine.initWin(t._g.win),t._engine.create=function(){var e=t._getContainer.apply(0,arguments),n=e.container,i=e.height,r=e.width,o=e.x,a=e.y;if(!n)throw new Error("VML container not found.");var s=new t._Paper,l=s.canvas=t._g.doc.createElement("div"),c=l.style;return o=o||0,a=a||0,r=r||512,i=i||342,s.width=r,s.height=i,r==+r&&(r+="px"),i==+i&&(i+="px"),s.coordsize=216e5+f+216e5,s.coordorigin="0 0",s.span=t._g.doc.createElement("span"),s.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",l.appendChild(s.span),c.cssText=t.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",r,i),1==n?(t._g.doc.body.appendChild(l),c.left=o+"px",c.top=a+"px",c.position="absolute"):n.firstChild?n.insertBefore(l,n.firstChild):n.appendChild(l),s.renderfix=function(){},s},t.prototype.clear=function(){t.eve("raphael.clear",this),this.canvas.innerHTML=d,this.span=t._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},t.prototype.remove=function(){for(var e in t.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas),this)this[e]="function"==typeof this[e]?t._removedFactory(e):null;return!0};var T=t.st;for(var N in D)D[e](N)&&!T[e](N)&&(T[N]=function(t){return function(){var e=arguments;return this.forEach((function(n){n[t].apply(n,e)}))}}(N))}}.apply(e,i))||(t.exports=r)}])}))},,,function(t,e,n){var i={"./101.png":525,"./101_s.png":590,"./102.png":528,"./102_s.png":591,"./103.png":529,"./103_s.png":592,"./104.png":577,"./104_s.png":593,"./105.png":578,"./105_s.png":594,"./106.png":579,"./106_s.png":595,"./107.png":580,"./107_s.png":596,"./108.png":581,"./108_s.png":597,"./109.png":832,"./109_s.png":598,"./201.png":524,"./201_s.png":599,"./202.png":833,"./203.png":834,"./204.png":582,"./204_s.png":600,"./299.png":576,"./299_s.png":601,"./301.png":526,"./301_s.png":602,"./302.png":527,"./302_s.png":603,"./401.png":583,"./402.png":584,"./403.png":585,"./addLane.png":643,"./bgs.png":835,"./bgs1.png":836,"./bm.png":837,"./default-header.png":244,"./event-abnormal.png":838,"./event-end.png":839,"./event-start.png":840,"./event-timing.png":841,"./head_logo.png":513,"./mark.png":586,"./risk.png":587,"./ry.png":842,"./ry1.png":489,"./status-2.png":483,"./status-3.png":484,"./status-4.png":485,"./status0.png":486,"./status1.png":487,"./status2.png":488};function r(t){var e=o(t);return n(e)}function o(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}r.keys=function(){return Object.keys(i)},r.resolve=o,t.exports=r,r.id=499},,function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(8),core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_array_index_of_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(23),core_js_modules_es_array_index_of_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_array_index_of_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(38),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(202),core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(16),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(10),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(565),core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_6__),monacoLoader=__webpack_require__(706);__webpack_exports__["a"]={name:"MonacoEditor",props:{width:{type:[String,Number],default:"100%"},height:{type:[String,Number],default:"100%"},code:{type:String,default:""},srcPath:{type:String,default:""},language:{type:String,default:"javascript"},theme:{type:String,default:"vs-dark"},options:{type:Object,default:function(){}},changeThrottle:{type:Number,default:0}},data:function(){return{defaults:{selectOnLineNumbers:!0,roundedSelection:!1,readOnly:!1,cursorStyle:"line",automaticLayout:!1,glyphMargin:!0}}},computed:{style:function(){var t=this.width,e=this.height,n=-1!==t.toString().indexOf("%")?t:"".concat(t,"px"),i=-1!==e.toString().indexOf("%")?e:"".concat(e,"px");return{width:n,height:i}},editorOptions:function(){return Object.assign({},this.defaults,this.options,{language:this.language,theme:this.theme,wrappingColumn:0,wrappingIndent:"indent",autoIndent:"keep",insertSpaces:!0,tabSize:2})}},mounted:function(){this.$props,this.fetchEditor()},destroyed:function(){this.destroyMonaco()},methods:{getContent:function(){return this.editor.getValue()},setContent:function(t){this.editor&&this.editor.setValue(t)},editorHasLoaded:function(t,e){var n=this;this.editor=t,this.monaco=e,this.editor.onDidChangeModelContent((function(e){return n.codeChangeHandler(t,e)})),this.$emit("mounted",t)},codeChangeHandler:function(t){this.codeChangeEmitter||(this.codeChangeEmitter=_.debounce((function(t){this.$emit("codeChange",t)}),this.changeThrottle)),this.codeChangeEmitter(t)},fetchEditor:function(){monacoLoader.load(this.srcPath,this.createMonaco)},createMonaco:function createMonaco(){var isDs=!1,isDSFContext=!1;this.editor=window.monaco.editor.create(this.$el,this.editorOptions),this.editor.setValue(this.code),this.editorHasLoaded(this.editor,window.monaco),["javascript"].map((function(item){window.monaco.languages.registerCompletionItemProvider(item,{provideCompletionItems:function provideCompletionItems(model,position){var line=position.lineNumber,content=model.getLineContent(line);if(isDs=content.match(/\bds$/g),isDs)return{suggestions:[{label:"dsf",kind:window.monaco.languages.CompletionItemKind["Function"],insertText:"dsf",detail:""}]};if(isDSFContext=content.match(/\bdsf(\.|\.([$a-zA-Z_][$a-zA-Z0-9_]*)\.)$/g),isDSFContext){var kinds=window.monaco.languages.CompletionItemKind,arr=[],obj=eval(isDSFContext[0].substr(0,isDSFContext[0].length-1));if(obj){for(var k in obj)arr.push({label:k,kind:"function"==dsf.type(obj[k])?kinds["Function"]:kinds["Module"],insertText:k,detail:""});return{suggestions:arr}}return{suggestions:arr}}},triggerCharacters:["."]})})),this.editor.onKeyDown((function(t){t.keyCode===window.monaco.KeyCode.KEY_S&&(dsf.client.isMac?t.metaKey:t.ctrlKey)&&t.preventDefault()}))},insertContent:function(t){if(this.editor){var e=this.editor.getSelection(),n=new monaco.Range(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),i={range:n,text:t,forceMoveMarkers:!0};this.editor.executeEdits("",[i]),this.editor.focus()}},destroyMonaco:function(){"undefined"!==typeof this.editor&&this.editor.dispose()},layout:function(){this.editor.layout()}}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n(187),r=n(188),o=(n(15),n(128),n(2)),a=function(){function t(e,n){Object(i["a"])(this,t),this.name=e.name,this.url=e.url,this.type=e.type,this.sort=e.sort,this.id=e.id||o["i"].uuid(),this.offset=e.offset||(n?{x:n.offsetX,y:n.offsetY}:{x:0,y:0}),this.point=e.point||{x:e.x,y:e.y},this.width=e.width||32,this.height=e.height||32,this.img=e.img||{width:32,height:32},e.from&&(this.from=e.from),this.direction=e.direction,this.index=e.index,this.out=e.out||[],this.isHide=e.isHide||!1,this.attributes=e.attributes||{Name:this.name,ID:this.id,Type:this.type},this.nodeId=e.nodeId,this.edit=!1}return Object(r["a"])(t,[{key:"setAttributes",value:function(t){this.attributes=t}},{key:"getAttributes",value:function(){return this.attributes}}]),t}()},,,,,,,,function(t,e,n){"use strict";var i=n(17),r=n(461),o=n(462);i({target:"String",proto:!0,forced:o("bold")},{bold:function(){return r(this,"b","","")}})},,,function(t,e,n){t.exports=n.p+"modules/platform/img/head_logo.png"},,,,,,function(t,e,n){(function(e){
/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */
(function(e,n){t.exports=n()})("undefined"!==typeof self&&self,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=109)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(17),r=n(18),o=n(19),a=n(45),s=n(46),l=n(47),c=n(48),u=n(49),f=n(12),d=n(32),h=n(33),p=n(31),m=n(1),g={Scope:m.Scope,create:m.create,find:m.find,query:m.query,register:m.register,Container:i.default,Format:r.default,Leaf:o.default,Embed:c.default,Scroll:a.default,Block:l.default,Inline:s.default,Text:u.default,Attributor:{Attribute:f.default,Class:d.default,Style:h.default,Store:p.default}};e.default=g},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(e){var n=this;return e="[Parchment] "+e,n=t.call(this,e)||this,n.message=e,n.name=n.constructor.name,n}return i(e,t),e}(Error);e.ParchmentError=r;var o,a={},s={},l={},c={};function u(t,e){var n=d(t);if(null==n)throw new r("Unable to create "+t+" blot");var i=n,o=t instanceof Node||t["nodeType"]===Node.TEXT_NODE?t:i.create(e);return new i(o,e)}function f(t,n){return void 0===n&&(n=!1),null==t?null:null!=t[e.DATA_KEY]?t[e.DATA_KEY].blot:n?f(t.parentNode,n):null}function d(t,e){var n;if(void 0===e&&(e=o.ANY),"string"===typeof t)n=c[t]||a[t];else if(t instanceof Text||t["nodeType"]===Node.TEXT_NODE)n=c["text"];else if("number"===typeof t)t&o.LEVEL&o.BLOCK?n=c["block"]:t&o.LEVEL&o.INLINE&&(n=c["inline"]);else if(t instanceof HTMLElement){var i=(t.getAttribute("class")||"").split(/\s+/);for(var r in i)if(n=s[i[r]],n)break;n=n||l[t.tagName]}return null==n?null:e&o.LEVEL&n.scope&&e&o.TYPE&n.scope?n:null}function h(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length>1)return t.map((function(t){return h(t)}));var n=t[0];if("string"!==typeof n.blotName&&"string"!==typeof n.attrName)throw new r("Invalid definition");if("abstract"===n.blotName)throw new r("Cannot register abstract class");if(c[n.blotName||n.attrName]=n,"string"===typeof n.keyName)a[n.keyName]=n;else if(null!=n.className&&(s[n.className]=n),null!=n.tagName){Array.isArray(n.tagName)?n.tagName=n.tagName.map((function(t){return t.toUpperCase()})):n.tagName=n.tagName.toUpperCase();var i=Array.isArray(n.tagName)?n.tagName:[n.tagName];i.forEach((function(t){null!=l[t]&&null!=n.className||(l[t]=n)}))}return n}e.DATA_KEY="__blot",function(t){t[t["TYPE"]=3]="TYPE",t[t["LEVEL"]=12]="LEVEL",t[t["ATTRIBUTE"]=13]="ATTRIBUTE",t[t["BLOT"]=14]="BLOT",t[t["INLINE"]=7]="INLINE",t[t["BLOCK"]=11]="BLOCK",t[t["BLOCK_BLOT"]=10]="BLOCK_BLOT",t[t["INLINE_BLOT"]=6]="INLINE_BLOT",t[t["BLOCK_ATTRIBUTE"]=9]="BLOCK_ATTRIBUTE",t[t["INLINE_ATTRIBUTE"]=5]="INLINE_ATTRIBUTE",t[t["ANY"]=15]="ANY"}(o=e.Scope||(e.Scope={})),e.create=u,e.find=f,e.query=d,e.register=h},function(t,e,n){var i=n(51),r=n(11),o=n(3),a=n(20),s=String.fromCharCode(0),l=function(t){Array.isArray(t)?this.ops=t:null!=t&&Array.isArray(t.ops)?this.ops=t.ops:this.ops=[]};l.prototype.insert=function(t,e){var n={};return 0===t.length?this:(n.insert=t,null!=e&&"object"===typeof e&&Object.keys(e).length>0&&(n.attributes=e),this.push(n))},l.prototype["delete"]=function(t){return t<=0?this:this.push({delete:t})},l.prototype.retain=function(t,e){if(t<=0)return this;var n={retain:t};return null!=e&&"object"===typeof e&&Object.keys(e).length>0&&(n.attributes=e),this.push(n)},l.prototype.push=function(t){var e=this.ops.length,n=this.ops[e-1];if(t=o(!0,{},t),"object"===typeof n){if("number"===typeof t["delete"]&&"number"===typeof n["delete"])return this.ops[e-1]={delete:n["delete"]+t["delete"]},this;if("number"===typeof n["delete"]&&null!=t.insert&&(e-=1,n=this.ops[e-1],"object"!==typeof n))return this.ops.unshift(t),this;if(r(t.attributes,n.attributes)){if("string"===typeof t.insert&&"string"===typeof n.insert)return this.ops[e-1]={insert:n.insert+t.insert},"object"===typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this;if("number"===typeof t.retain&&"number"===typeof n.retain)return this.ops[e-1]={retain:n.retain+t.retain},"object"===typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this}}return e===this.ops.length?this.ops.push(t):this.ops.splice(e,0,t),this},l.prototype.chop=function(){var t=this.ops[this.ops.length-1];return t&&t.retain&&!t.attributes&&this.ops.pop(),this},l.prototype.filter=function(t){return this.ops.filter(t)},l.prototype.forEach=function(t){this.ops.forEach(t)},l.prototype.map=function(t){return this.ops.map(t)},l.prototype.partition=function(t){var e=[],n=[];return this.forEach((function(i){var r=t(i)?e:n;r.push(i)})),[e,n]},l.prototype.reduce=function(t,e){return this.ops.reduce(t,e)},l.prototype.changeLength=function(){return this.reduce((function(t,e){return e.insert?t+a.length(e):e.delete?t-e.delete:t}),0)},l.prototype.length=function(){return this.reduce((function(t,e){return t+a.length(e)}),0)},l.prototype.slice=function(t,e){t=t||0,"number"!==typeof e&&(e=1/0);var n=[],i=a.iterator(this.ops),r=0;while(r<e&&i.hasNext()){var o;r<t?o=i.next(t-r):(o=i.next(e-r),n.push(o)),r+=a.length(o)}return new l(n)},l.prototype.compose=function(t){var e=a.iterator(this.ops),n=a.iterator(t.ops),i=[],o=n.peek();if(null!=o&&"number"===typeof o.retain&&null==o.attributes){var s=o.retain;while("insert"===e.peekType()&&e.peekLength()<=s)s-=e.peekLength(),i.push(e.next());o.retain-s>0&&n.next(o.retain-s)}var c=new l(i);while(e.hasNext()||n.hasNext())if("insert"===n.peekType())c.push(n.next());else if("delete"===e.peekType())c.push(e.next());else{var u=Math.min(e.peekLength(),n.peekLength()),f=e.next(u),d=n.next(u);if("number"===typeof d.retain){var h={};"number"===typeof f.retain?h.retain=u:h.insert=f.insert;var p=a.attributes.compose(f.attributes,d.attributes,"number"===typeof f.retain);if(p&&(h.attributes=p),c.push(h),!n.hasNext()&&r(c.ops[c.ops.length-1],h)){var m=new l(e.rest());return c.concat(m).chop()}}else"number"===typeof d["delete"]&&"number"===typeof f.retain&&c.push(d)}return c.chop()},l.prototype.concat=function(t){var e=new l(this.ops.slice());return t.ops.length>0&&(e.push(t.ops[0]),e.ops=e.ops.concat(t.ops.slice(1))),e},l.prototype.diff=function(t,e){if(this.ops===t.ops)return new l;var n=[this,t].map((function(e){return e.map((function(n){if(null!=n.insert)return"string"===typeof n.insert?n.insert:s;var i=e===t?"on":"with";throw new Error("diff() called "+i+" non-document")})).join("")})),o=new l,c=i(n[0],n[1],e),u=a.iterator(this.ops),f=a.iterator(t.ops);return c.forEach((function(t){var e=t[1].length;while(e>0){var n=0;switch(t[0]){case i.INSERT:n=Math.min(f.peekLength(),e),o.push(f.next(n));break;case i.DELETE:n=Math.min(e,u.peekLength()),u.next(n),o["delete"](n);break;case i.EQUAL:n=Math.min(u.peekLength(),f.peekLength(),e);var s=u.next(n),l=f.next(n);r(s.insert,l.insert)?o.retain(n,a.attributes.diff(s.attributes,l.attributes)):o.push(l)["delete"](n);break}e-=n}})),o.chop()},l.prototype.eachLine=function(t,e){e=e||"\n";var n=a.iterator(this.ops),i=new l,r=0;while(n.hasNext()){if("insert"!==n.peekType())return;var o=n.peek(),s=a.length(o)-n.peekLength(),c="string"===typeof o.insert?o.insert.indexOf(e,s)-s:-1;if(c<0)i.push(n.next());else if(c>0)i.push(n.next(c));else{if(!1===t(i,n.next(1).attributes||{},r))return;r+=1,i=new l}}i.length()>0&&t(i,{},r)},l.prototype.transform=function(t,e){if(e=!!e,"number"===typeof t)return this.transformPosition(t,e);var n=a.iterator(this.ops),i=a.iterator(t.ops),r=new l;while(n.hasNext()||i.hasNext())if("insert"!==n.peekType()||!e&&"insert"===i.peekType())if("insert"===i.peekType())r.push(i.next());else{var o=Math.min(n.peekLength(),i.peekLength()),s=n.next(o),c=i.next(o);if(s["delete"])continue;c["delete"]?r.push(c):r.retain(o,a.attributes.transform(s.attributes,c.attributes,e))}else r.retain(a.length(n.next()));return r.chop()},l.prototype.transformPosition=function(t,e){e=!!e;var n=a.iterator(this.ops),i=0;while(n.hasNext()&&i<=t){var r=n.peekLength(),o=n.peekType();n.next(),"delete"!==o?("insert"===o&&(i<t||!e)&&(t+=r),i+=r):t-=Math.min(r,t-i)}return t},t.exports=l},function(t,e){"use strict";var n=Object.prototype.hasOwnProperty,i=Object.prototype.toString,r=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=function(t){return"function"===typeof Array.isArray?Array.isArray(t):"[object Array]"===i.call(t)},s=function(t){if(!t||"[object Object]"!==i.call(t))return!1;var e,r=n.call(t,"constructor"),o=t.constructor&&t.constructor.prototype&&n.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!o)return!1;for(e in t);return"undefined"===typeof e||n.call(t,e)},l=function(t,e){r&&"__proto__"===e.name?r(t,e.name,{enumerable:!0,configurable:!0,value:e.newValue,writable:!0}):t[e.name]=e.newValue},c=function(t,e){if("__proto__"===e){if(!n.call(t,e))return;if(o)return o(t,e).value}return t[e]};t.exports=function t(){var e,n,i,r,o,u,f=arguments[0],d=1,h=arguments.length,p=!1;for("boolean"===typeof f&&(p=f,f=arguments[1]||{},d=2),(null==f||"object"!==typeof f&&"function"!==typeof f)&&(f={});d<h;++d)if(e=arguments[d],null!=e)for(n in e)i=c(f,n),r=c(e,n),f!==r&&(p&&r&&(s(r)||(o=a(r)))?(o?(o=!1,u=i&&a(i)?i:[]):u=i&&s(i)?i:{},l(f,{name:n,newValue:t(p,u,r)})):"undefined"!==typeof r&&l(f,{name:n,newValue:r}));return f}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BlockEmbed=e.bubbleFormats=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=n(3),a=v(o),s=n(2),l=v(s),c=n(0),u=v(c),f=n(16),d=v(f),h=n(6),p=v(h),m=n(7),g=v(m);function v(t){return t&&t.__esModule?t:{default:t}}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function _(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var x=1,w=function(t){function e(){return y(this,e),b(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _(e,t),i(e,[{key:"attach",value:function(){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"attach",this).call(this),this.attributes=new u.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new l.default).insert(this.value(),(0,a.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(t,e){var n=u.default.query(t,u.default.Scope.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,e)}},{key:"formatAt",value:function(t,e,n,i){this.format(n,i)}},{key:"insertAt",value:function(t,n,i){if("string"===typeof n&&n.endsWith("\n")){var o=u.default.create(k.blotName);this.parent.insertBefore(o,0===t?this:this.next),o.insertAt(0,n.slice(0,-1))}else r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,n,i)}}]),e}(u.default.Embed);w.scope=u.default.Scope.BLOCK_BLOT;var k=function(t){function e(t){y(this,e);var n=b(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.cache={},n}return _(e,t),i(e,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(u.default.Leaf).reduce((function(t,e){return 0===e.length()?t:t.insert(e.value(),S(e))}),new l.default).insert("\n",S(this))),this.cache.delta}},{key:"deleteAt",value:function(t,n){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deleteAt",this).call(this,t,n),this.cache={}}},{key:"formatAt",value:function(t,n,i,o){n<=0||(u.default.query(i,u.default.Scope.BLOCK)?t+n===this.length()&&this.format(i,o):r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,Math.min(n,this.length()-t-1),i,o),this.cache={})}},{key:"insertAt",value:function(t,n,i){if(null!=i)return r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,n,i);if(0!==n.length){var o=n.split("\n"),a=o.shift();a.length>0&&(t<this.length()-1||null==this.children.tail?r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,Math.min(t,this.length()-1),a):this.children.tail.insertAt(this.children.tail.length(),a),this.cache={});var s=this;o.reduce((function(t,e){return s=s.split(t,!0),s.insertAt(0,e),e.length}),t+a.length)}}},{key:"insertBefore",value:function(t,n){var i=this.children.head;r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,n),i instanceof d.default&&i.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"length",this).call(this)+x),this.cache.length}},{key:"moveChildren",value:function(t,n){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"moveChildren",this).call(this,t,n),this.cache={}}},{key:"optimize",value:function(t){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t),this.cache={}}},{key:"path",value:function(t){return r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"path",this).call(this,t,!0)}},{key:"removeChild",value:function(t){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removeChild",this).call(this,t),this.cache={}}},{key:"split",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n&&(0===t||t>=this.length()-x)){var i=this.clone();return 0===t?(this.parent.insertBefore(i,this),this):(this.parent.insertBefore(i,this.next),i)}var o=r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"split",this).call(this,t,n);return this.cache={},o}}]),e}(u.default.Block);function S(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==t?e:("function"===typeof t.formats&&(e=(0,a.default)(e,t.formats())),null==t.parent||"scroll"==t.parent.blotName||t.parent.statics.scope!==t.statics.scope?e:S(t.parent,e))}k.blotName="block",k.tagName="P",k.defaultChild="break",k.allowedChildren=[p.default,u.default.Embed,g.default],e.bubbleFormats=S,e.BlockEmbed=w,e.default=k},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.overload=e.expandConfig=void 0;var i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done);i=!0)if(n.push(a.value),e&&n.length===e)break}catch(err){r=!0,o=err}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();n(50);var a=n(2),s=S(a),l=n(14),c=S(l),u=n(8),f=S(u),d=n(9),h=S(d),p=n(0),m=S(p),g=n(15),v=S(g),y=n(3),b=S(y),_=n(10),x=S(_),w=n(34),k=S(w);function S(t){return t&&t.__esModule?t:{default:t}}function O(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var E=(0,x.default)("quill"),D=function(){function t(e){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(C(this,t),this.options=T(e,i),this.container=this.options.container,null==this.container)return E.error("Invalid Quill container",e);this.options.debug&&t.debug(this.options.debug);var r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new f.default,this.scroll=m.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new c.default(this.scroll),this.selection=new v.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(f.default.events.EDITOR_CHANGE,(function(t){t===f.default.events.TEXT_CHANGE&&n.root.classList.toggle("ql-blank",n.editor.isBlank())})),this.emitter.on(f.default.events.SCROLL_UPDATE,(function(t,e){var i=n.selection.lastRange,r=i&&0===i.length?i.index:void 0;N.call(n,(function(){return n.editor.update(null,e,r)}),t)}));var o=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+r+"<p><br></p></div>");this.setContents(o),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return o(t,null,[{key:"debug",value:function(t){!0===t&&(t="log"),x.default.level(t)}},{key:"find",value:function(t){return t.__quill||m.default.find(t)}},{key:"import",value:function(t){return null==this.imports[t]&&E.error("Cannot import "+t+". Are you sure it was registered?"),this.imports[t]}},{key:"register",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!==typeof t){var r=t.attrName||t.blotName;"string"===typeof r?this.register("formats/"+r,t,e):Object.keys(t).forEach((function(i){n.register(i,t[i],e)}))}else null==this.imports[t]||i||E.warn("Overwriting "+t+" with",e),this.imports[t]=e,(t.startsWith("blots/")||t.startsWith("formats/"))&&"abstract"!==e.blotName?m.default.register(e):t.startsWith("modules")&&"function"===typeof e.register&&e.register()}}]),o(t,[{key:"addContainer",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"===typeof t){var n=t;t=document.createElement("div"),t.classList.add(n)}return this.container.insertBefore(t,e),t}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(t,e,n){var i=this,o=M(t,e,n),a=r(o,4);return t=a[0],e=a[1],n=a[3],N.call(this,(function(){return i.editor.deleteText(t,e)}),n,t,-1*e)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}},{key:"focus",value:function(){var t=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=t,this.scrollIntoView()}},{key:"format",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.default.sources.API;return N.call(this,(function(){var i=n.getSelection(!0),r=new s.default;if(null==i)return r;if(m.default.query(t,m.default.Scope.BLOCK))r=n.editor.formatLine(i.index,i.length,O({},t,e));else{if(0===i.length)return n.selection.format(t,e),r;r=n.editor.formatText(i.index,i.length,O({},t,e))}return n.setSelection(i,f.default.sources.SILENT),r}),i)}},{key:"formatLine",value:function(t,e,n,i,o){var a=this,s=void 0,l=M(t,e,n,i,o),c=r(l,4);return t=c[0],e=c[1],s=c[2],o=c[3],N.call(this,(function(){return a.editor.formatLine(t,e,s)}),o,t,0)}},{key:"formatText",value:function(t,e,n,i,o){var a=this,s=void 0,l=M(t,e,n,i,o),c=r(l,4);return t=c[0],e=c[1],s=c[2],o=c[3],N.call(this,(function(){return a.editor.formatText(t,e,s)}),o,t,0)}},{key:"getBounds",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=void 0;n="number"===typeof t?this.selection.getBounds(t,e):this.selection.getBounds(t.index,t.length);var i=this.container.getBoundingClientRect();return{bottom:n.bottom-i.top,height:n.height,left:n.left-i.left,right:n.right-i.left,top:n.top-i.top,width:n.width}}},{key:"getContents",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t,n=M(t,e),i=r(n,2);return t=i[0],e=i[1],this.editor.getContents(t,e)}},{key:"getFormat",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"===typeof t?this.editor.getFormat(t,e):this.editor.getFormat(t.index,t.length)}},{key:"getIndex",value:function(t){return t.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(t){return this.scroll.leaf(t)}},{key:"getLine",value:function(t){return this.scroll.line(t)}},{key:"getLines",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!==typeof t?this.scroll.lines(t.index,t.length):this.scroll.lines(t,e)}},{key:"getModule",value:function(t){return this.theme.modules[t]}},{key:"getSelection",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t,n=M(t,e),i=r(n,2);return t=i[0],e=i[1],this.editor.getText(t,e)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(e,n,i){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.sources.API;return N.call(this,(function(){return r.editor.insertEmbed(e,n,i)}),o,e)}},{key:"insertText",value:function(t,e,n,i,o){var a=this,s=void 0,l=M(t,0,n,i,o),c=r(l,4);return t=c[0],s=c[2],o=c[3],N.call(this,(function(){return a.editor.insertText(t,e,s)}),o,t,e.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(t,e,n){this.clipboard.dangerouslyPasteHTML(t,e,n)}},{key:"removeFormat",value:function(t,e,n){var i=this,o=M(t,e,n),a=r(o,4);return t=a[0],e=a[1],n=a[3],N.call(this,(function(){return i.editor.removeFormat(t,e)}),n,t)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.default.sources.API;return N.call(this,(function(){t=new s.default(t);var n=e.getLength(),i=e.editor.deleteText(0,n),r=e.editor.applyDelta(t),o=r.ops[r.ops.length-1];null!=o&&"string"===typeof o.insert&&"\n"===o.insert[o.insert.length-1]&&(e.editor.deleteText(e.getLength()-1,1),r.delete(1));var a=i.compose(r);return a}),n)}},{key:"setSelection",value:function(e,n,i){if(null==e)this.selection.setRange(null,n||t.sources.API);else{var o=M(e,n,i),a=r(o,4);e=a[0],n=a[1],i=a[3],this.selection.setRange(new g.Range(e,n),i),i!==f.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.default.sources.API,n=(new s.default).insert(t);return this.setContents(n,e)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.default.sources.USER,e=this.scroll.update(t);return this.selection.update(t),e}},{key:"updateContents",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.default.sources.API;return N.call(this,(function(){return t=new s.default(t),e.editor.applyDelta(t,n)}),n,!0)}}]),t}();function T(t,e){if(e=(0,b.default)(!0,{container:t,modules:{clipboard:!0,keyboard:!0,history:!0}},e),e.theme&&e.theme!==D.DEFAULTS.theme){if(e.theme=D.import("themes/"+e.theme),null==e.theme)throw new Error("Invalid theme "+e.theme+". Did you register it?")}else e.theme=k.default;var n=(0,b.default)(!0,{},e.theme.DEFAULTS);[n,e].forEach((function(t){t.modules=t.modules||{},Object.keys(t.modules).forEach((function(e){!0===t.modules[e]&&(t.modules[e]={})}))}));var i=Object.keys(n.modules).concat(Object.keys(e.modules)),r=i.reduce((function(t,e){var n=D.import("modules/"+e);return null==n?E.error("Cannot load "+e+" module. Are you sure you registered it?"):t[e]=n.DEFAULTS||{},t}),{});return null!=e.modules&&e.modules.toolbar&&e.modules.toolbar.constructor!==Object&&(e.modules.toolbar={container:e.modules.toolbar}),e=(0,b.default)(!0,{},D.DEFAULTS,{modules:r},n,e),["bounds","container","scrollingContainer"].forEach((function(t){"string"===typeof e[t]&&(e[t]=document.querySelector(e[t]))})),e.modules=Object.keys(e.modules).reduce((function(t,n){return e.modules[n]&&(t[n]=e.modules[n]),t}),{}),e}function N(t,e,n,i){if(this.options.strict&&!this.isEnabled()&&e===f.default.sources.USER)return new s.default;var r=null==n?null:this.getSelection(),o=this.editor.delta,a=t();if(null!=r&&(!0===n&&(n=r.index),null==i?r=A(r,a,e):0!==i&&(r=A(r,n,i,e)),this.setSelection(r,f.default.sources.SILENT)),a.length()>0){var l,c,u=[f.default.events.TEXT_CHANGE,a,o,e];if((l=this.emitter).emit.apply(l,[f.default.events.EDITOR_CHANGE].concat(u)),e!==f.default.sources.SILENT)(c=this.emitter).emit.apply(c,u)}return a}function M(t,e,n,r,o){var a={};return"number"===typeof t.index&&"number"===typeof t.length?"number"!==typeof e?(o=r,r=n,n=e,e=t.length,t=t.index):(e=t.length,t=t.index):"number"!==typeof e&&(o=r,r=n,n=e,e=0),"object"===("undefined"===typeof n?"undefined":i(n))?(a=n,o=r):"string"===typeof n&&(null!=r?a[n]=r:o=n),o=o||f.default.sources.API,[t,e,a,o]}function A(t,e,n,i){if(null==t)return null;var o=void 0,a=void 0;if(e instanceof s.default){var l=[t.index,t.index+t.length].map((function(t){return e.transformPosition(t,i!==f.default.sources.USER)})),c=r(l,2);o=c[0],a=c[1]}else{var u=[t.index,t.index+t.length].map((function(t){return t<e||t===e&&i===f.default.sources.USER?t:n>=0?t+n:Math.max(e,t+n)})),d=r(u,2);o=d[0],a=d[1]}return new g.Range(o,a-o)}D.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},D.events=f.default.events,D.sources=f.default.sources,D.version="1.3.7",D.imports={delta:s.default,parchment:m.default,"core/module":h.default,"core/theme":k.default},e.expandConfig=T,e.overload=M,e.default=D},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=n(7),a=c(o),s=n(0),l=c(s);function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function d(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var h=function(t){function e(){return u(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return d(e,t),i(e,[{key:"formatAt",value:function(t,n,i,o){if(e.compare(this.statics.blotName,i)<0&&l.default.query(i,l.default.Scope.BLOT)){var a=this.isolate(t,n);o&&a.wrap(i,o)}else r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,n,i,o)}},{key:"optimize",value:function(t){if(r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t),this.parent instanceof e&&e.compare(this.statics.blotName,this.parent.statics.blotName)>0){var n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}}],[{key:"compare",value:function(t,n){var i=e.order.indexOf(t),r=e.order.indexOf(n);return i>=0||r>=0?i-r:t===n?0:t<n?-1:1}}]),e}(l.default.Inline);h.allowedChildren=[h,l.default.Embed,a.default],h.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=o(i);function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function l(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(t){function e(){return a(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),e}(r.default.Text);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=n(54),a=c(o),s=n(10),l=c(s);function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function d(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var h=(0,l.default)("quill:events"),p=["selectionchange","mousedown","mouseup","click"];p.forEach((function(t){document.addEventListener(t,(function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];[].slice.call(document.querySelectorAll(".ql-container")).forEach((function(t){var n;t.__quill&&t.__quill.emitter&&(n=t.__quill.emitter).handleDOM.apply(n,e)}))}))}));var m=function(t){function e(){u(this,e);var t=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.listeners={},t.on("error",h.error),t}return d(e,t),i(e,[{key:"emit",value:function(){h.log.apply(h,arguments),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];(this.listeners[t.type]||[]).forEach((function(e){var i=e.node,r=e.handler;(t.target===i||i.contains(t.target))&&r.apply(void 0,[t].concat(n))}))}},{key:"listenDOM",value:function(t,e,n){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push({node:e,handler:n})}}]),e}(a.default);m.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},m.sources={API:"api",SILENT:"silent",USER:"user"},e.default=m},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t),this.quill=e,this.options=n};r.DEFAULTS={},e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=["error","warn","log","info"],r="warn";function o(t){if(i.indexOf(t)<=i.indexOf(r)){for(var e,n=arguments.length,o=Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];(e=console)[t].apply(e,o)}}function a(t){return i.reduce((function(e,n){return e[n]=o.bind(console,n,t),e}),{})}o.level=a.level=function(t){r=t},e.default=a},function(t,e,n){var i=Array.prototype.slice,r=n(52),o=n(53),a=t.exports=function(t,e,n){return n||(n={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=typeof t&&"object"!=typeof e?n.strict?t===e:t==e:c(t,e,n))};function s(t){return null===t||void 0===t}function l(t){return!(!t||"object"!==typeof t||"number"!==typeof t.length)&&("function"===typeof t.copy&&"function"===typeof t.slice&&!(t.length>0&&"number"!==typeof t[0]))}function c(t,e,n){var c,u;if(s(t)||s(e))return!1;if(t.prototype!==e.prototype)return!1;if(o(t))return!!o(e)&&(t=i.call(t),e=i.call(e),a(t,e,n));if(l(t)){if(!l(e))return!1;if(t.length!==e.length)return!1;for(c=0;c<t.length;c++)if(t[c]!==e[c])return!1;return!0}try{var f=r(t),d=r(e)}catch(h){return!1}if(f.length!=d.length)return!1;for(f.sort(),d.sort(),c=f.length-1;c>=0;c--)if(f[c]!=d[c])return!1;for(c=f.length-1;c>=0;c--)if(u=f[c],!a(t[u],e[u],n))return!1;return typeof t===typeof e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=function(){function t(t,e,n){void 0===n&&(n={}),this.attrName=t,this.keyName=e;var r=i.Scope.TYPE&i.Scope.ATTRIBUTE;null!=n.scope?this.scope=n.scope&i.Scope.LEVEL|r:this.scope=i.Scope.ATTRIBUTE,null!=n.whitelist&&(this.whitelist=n.whitelist)}return t.keys=function(t){return[].map.call(t.attributes,(function(t){return t.name}))},t.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(t.setAttribute(this.keyName,e),!0)},t.prototype.canAdd=function(t,e){var n=i.query(t,i.Scope.BLOT&(this.scope|i.Scope.TYPE));return null!=n&&(null==this.whitelist||("string"===typeof e?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1))},t.prototype.remove=function(t){t.removeAttribute(this.keyName)},t.prototype.value=function(t){var e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Code=void 0;var i=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done);i=!0)if(n.push(a.value),e&&n.length===e)break}catch(err){r=!0,o=err}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=n(2),s=g(a),l=n(0),c=g(l),u=n(4),f=g(u),d=n(6),h=g(d),p=n(7),m=g(p);function g(t){return t&&t.__esModule?t:{default:t}}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function b(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _=function(t){function e(){return v(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return b(e,t),e}(h.default);_.blotName="code",_.tagName="CODE";var x=function(t){function e(){return v(this,e),y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return b(e,t),r(e,[{key:"delta",value:function(){var t=this,e=this.domNode.textContent;return e.endsWith("\n")&&(e=e.slice(0,-1)),e.split("\n").reduce((function(e,n){return e.insert(n).insert("\n",t.formats())}),new s.default)}},{key:"format",value:function(t,n){if(t!==this.statics.blotName||!n){var r=this.descendant(m.default,this.length()-1),a=i(r,1),s=a[0];null!=s&&s.deleteAt(s.length()-1,1),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n)}}},{key:"formatAt",value:function(t,n,i,r){if(0!==n&&null!=c.default.query(i,c.default.Scope.BLOCK)&&(i!==this.statics.blotName||r!==this.statics.formats(this.domNode))){var o=this.newlineIndex(t);if(!(o<0||o>=t+n)){var a=this.newlineIndex(t,!0)+1,s=o-a+1,l=this.isolate(a,s),u=l.next;l.format(i,r),u instanceof e&&u.formatAt(0,t-a+n-s,i,r)}}}},{key:"insertAt",value:function(t,e,n){if(null==n){var r=this.descendant(m.default,t),o=i(r,2),a=o[0],s=o[1];a.insertAt(s,e)}}},{key:"length",value:function(){var t=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?t:t+1}},{key:"newlineIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e)return this.domNode.textContent.slice(0,t).lastIndexOf("\n");var n=this.domNode.textContent.slice(t).indexOf("\n");return n>-1?t+n:-1}},{key:"optimize",value:function(t){this.domNode.textContent.endsWith("\n")||this.appendChild(c.default.create("text","\n")),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===n.statics.formats(n.domNode)&&(n.optimize(t),n.moveChildren(this),n.remove())}},{key:"replace",value:function(t){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replace",this).call(this,t),[].slice.call(this.domNode.querySelectorAll("*")).forEach((function(t){var e=c.default.find(t);null==e?t.parentNode.removeChild(t):e instanceof c.default.Embed?e.remove():e.unwrap()}))}}],[{key:"create",value:function(t){var n=o(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return n.setAttribute("spellcheck",!1),n}},{key:"formats",value:function(){return!0}}]),e}(f.default);x.blotName="code-block",x.tagName="PRE",x.TAB="  ",e.Code=_,e.default=x},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done);i=!0)if(n.push(a.value),e&&n.length===e)break}catch(err){r=!0,o=err}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(2),s=C(a),l=n(20),c=C(l),u=n(0),f=C(u),d=n(13),h=C(d),p=n(24),m=C(p),g=n(4),v=C(g),y=n(16),b=C(y),_=n(21),x=C(_),w=n(11),k=C(w),S=n(3),O=C(S);function C(t){return t&&t.__esModule?t:{default:t}}function E(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var T=/^[ -~]*$/,N=function(){function t(e){D(this,t),this.scroll=e,this.delta=this.getDelta()}return o(t,[{key:"applyDelta",value:function(t){var e=this,n=!1;this.scroll.update();var o=this.scroll.length();return this.scroll.batchStart(),t=A(t),t.reduce((function(t,a){var s=a.retain||a.delete||a.insert.length||1,l=a.attributes||{};if(null!=a.insert){if("string"===typeof a.insert){var u=a.insert;u.endsWith("\n")&&n&&(n=!1,u=u.slice(0,-1)),t>=o&&!u.endsWith("\n")&&(n=!0),e.scroll.insertAt(t,u);var d=e.scroll.line(t),h=r(d,2),p=h[0],m=h[1],y=(0,O.default)({},(0,g.bubbleFormats)(p));if(p instanceof v.default){var b=p.descendant(f.default.Leaf,m),_=r(b,1),x=_[0];y=(0,O.default)(y,(0,g.bubbleFormats)(x))}l=c.default.attributes.diff(y,l)||{}}else if("object"===i(a.insert)){var w=Object.keys(a.insert)[0];if(null==w)return t;e.scroll.insertAt(t,w,a.insert[w])}o+=s}return Object.keys(l).forEach((function(n){e.scroll.formatAt(t,s,n,l[n])})),t+s}),0),t.reduce((function(t,n){return"number"===typeof n.delete?(e.scroll.deleteAt(t,n.delete),t):t+(n.retain||n.insert.length||1)}),0),this.scroll.batchEnd(),this.update(t)}},{key:"deleteText",value:function(t,e){return this.scroll.deleteAt(t,e),this.update((new s.default).retain(t).delete(e))}},{key:"formatLine",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(i).forEach((function(r){if(null==n.scroll.whitelist||n.scroll.whitelist[r]){var o=n.scroll.lines(t,Math.max(e,1)),a=e;o.forEach((function(e){var o=e.length();if(e instanceof h.default){var s=t-e.offset(n.scroll),l=e.newlineIndex(s+a)-s+1;e.formatAt(s,l,r,i[r])}else e.format(r,i[r]);a-=o}))}})),this.scroll.optimize(),this.update((new s.default).retain(t).retain(e,(0,x.default)(i)))}},{key:"formatText",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(i).forEach((function(r){n.scroll.formatAt(t,e,r,i[r])})),this.update((new s.default).retain(t).retain(e,(0,x.default)(i)))}},{key:"getContents",value:function(t,e){return this.delta.slice(t,t+e)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce((function(t,e){return t.concat(e.delta())}),new s.default)}},{key:"getFormat",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],i=[];0===e?this.scroll.path(t).forEach((function(t){var e=r(t,1),o=e[0];o instanceof v.default?n.push(o):o instanceof f.default.Leaf&&i.push(o)})):(n=this.scroll.lines(t,e),i=this.scroll.descendants(f.default.Leaf,t,e));var o=[n,i].map((function(t){if(0===t.length)return{};var e=(0,g.bubbleFormats)(t.shift());while(Object.keys(e).length>0){var n=t.shift();if(null==n)return e;e=M((0,g.bubbleFormats)(n),e)}return e}));return O.default.apply(O.default,o)}},{key:"getText",value:function(t,e){return this.getContents(t,e).filter((function(t){return"string"===typeof t.insert})).map((function(t){return t.insert})).join("")}},{key:"insertEmbed",value:function(t,e,n){return this.scroll.insertAt(t,e,n),this.update((new s.default).retain(t).insert(E({},e,n)))}},{key:"insertText",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(t,e),Object.keys(i).forEach((function(r){n.scroll.formatAt(t,e.length,r,i[r])})),this.update((new s.default).retain(t).insert(e,(0,x.default)(i)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var t=this.scroll.children.head;return t.statics.blotName===v.default.blotName&&(!(t.children.length>1)&&t.children.head instanceof b.default)}},{key:"removeFormat",value:function(t,e){var n=this.getText(t,e),i=this.scroll.line(t+e),o=r(i,2),a=o[0],l=o[1],c=0,u=new s.default;null!=a&&(c=a instanceof h.default?a.newlineIndex(l)-l+1:a.length()-l,u=a.delta().slice(l,l+c-1).insert("\n"));var f=this.getContents(t,e+c),d=f.diff((new s.default).insert(n).concat(u)),p=(new s.default).retain(t).concat(d);return this.applyDelta(p)}},{key:"update",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=this.delta;if(1===e.length&&"characterData"===e[0].type&&e[0].target.data.match(T)&&f.default.find(e[0].target)){var r=f.default.find(e[0].target),o=(0,g.bubbleFormats)(r),a=r.offset(this.scroll),l=e[0].oldValue.replace(m.default.CONTENTS,""),c=(new s.default).insert(l),u=(new s.default).insert(r.value()),d=(new s.default).retain(a).concat(c.diff(u,n));t=d.reduce((function(t,e){return e.insert?t.insert(e.insert,o):t.push(e)}),new s.default),this.delta=i.compose(t)}else this.delta=this.getDelta(),t&&(0,k.default)(i.compose(t),this.delta)||(t=i.diff(this.delta,n));return t}}]),t}();function M(t,e){return Object.keys(e).reduce((function(n,i){return null==t[i]||(e[i]===t[i]?n[i]=e[i]:Array.isArray(e[i])?e[i].indexOf(t[i])<0&&(n[i]=e[i].concat([t[i]])):n[i]=[e[i],t[i]]),n}),{})}function A(t){return t.reduce((function(t,e){if(1===e.insert){var n=(0,x.default)(e.attributes);return delete n["image"],t.insert({image:e.attributes.image},n)}if(null==e.attributes||!0!==e.attributes.list&&!0!==e.attributes.bullet||(e=(0,x.default)(e),e.attributes.list?e.attributes.list="ordered":(e.attributes.list="bullet",delete e.attributes.bullet)),"string"===typeof e.insert){var i=e.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return t.insert(i,e.attributes)}return t.push(e)}),new s.default)}e.default=N},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Range=void 0;var i=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done);i=!0)if(n.push(a.value),e&&n.length===e)break}catch(err){r=!0,o=err}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(0),a=m(o),s=n(21),l=m(s),c=n(11),u=m(c),f=n(8),d=m(f),h=n(10),p=m(h);function m(t){return t&&t.__esModule?t:{default:t}}function g(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var y=(0,p.default)("quill:selection"),b=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;v(this,t),this.index=e,this.length=n},_=function(){function t(e,n){var i=this;v(this,t),this.emitter=n,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=a.default.create("cursor",this),this.lastRange=this.savedRange=new b(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(function(){i.mouseDown||setTimeout(i.update.bind(i,d.default.sources.USER),1)})),this.emitter.on(d.default.events.EDITOR_CHANGE,(function(t,e){t===d.default.events.TEXT_CHANGE&&e.length()>0&&i.update(d.default.sources.SILENT)})),this.emitter.on(d.default.events.SCROLL_BEFORE_UPDATE,(function(){if(i.hasFocus()){var t=i.getNativeRange();null!=t&&t.start.node!==i.cursor.textNode&&i.emitter.once(d.default.events.SCROLL_UPDATE,(function(){try{i.setNativeRange(t.start.node,t.start.offset,t.end.node,t.end.offset)}catch(e){}}))}})),this.emitter.on(d.default.events.SCROLL_OPTIMIZE,(function(t,e){if(e.range){var n=e.range,r=n.startNode,o=n.startOffset,a=n.endNode,s=n.endOffset;i.setNativeRange(r,o,a,s)}})),this.update(d.default.sources.SILENT)}return r(t,[{key:"handleComposition",value:function(){var t=this;this.root.addEventListener("compositionstart",(function(){t.composing=!0})),this.root.addEventListener("compositionend",(function(){if(t.composing=!1,t.cursor.parent){var e=t.cursor.restore();if(!e)return;setTimeout((function(){t.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)}),1)}}))}},{key:"handleDragging",value:function(){var t=this;this.emitter.listenDOM("mousedown",document.body,(function(){t.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(function(){t.mouseDown=!1,t.update(d.default.sources.USER)}))}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(t,e){if(null==this.scroll.whitelist||this.scroll.whitelist[t]){this.scroll.update();var n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!a.default.query(t,a.default.Scope.BLOCK)){if(n.start.node!==this.cursor.textNode){var i=a.default.find(n.start.node,!1);if(null==i)return;if(i instanceof a.default.Leaf){var r=i.split(n.start.offset);i.parent.insertBefore(this.cursor,r)}else i.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(t,e),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.scroll.length();t=Math.min(t,n-1),e=Math.min(t+e,n-1)-t;var r=void 0,o=this.scroll.leaf(t),a=i(o,2),s=a[0],l=a[1];if(null==s)return null;var c=s.position(l,!0),u=i(c,2);r=u[0],l=u[1];var f=document.createRange();if(e>0){f.setStart(r,l);var d=this.scroll.leaf(t+e),h=i(d,2);if(s=h[0],l=h[1],null==s)return null;var p=s.position(l,!0),m=i(p,2);return r=m[0],l=m[1],f.setEnd(r,l),f.getBoundingClientRect()}var g="left",v=void 0;return r instanceof Text?(l<r.data.length?(f.setStart(r,l),f.setEnd(r,l+1)):(f.setStart(r,l-1),f.setEnd(r,l),g="right"),v=f.getBoundingClientRect()):(v=s.domNode.getBoundingClientRect(),l>0&&(g="right")),{bottom:v.top+v.height,height:v.height,left:v[g],right:v[g],top:v.top,width:0}}},{key:"getNativeRange",value:function(){var t=document.getSelection();if(null==t||t.rangeCount<=0)return null;var e=t.getRangeAt(0);if(null==e)return null;var n=this.normalizeNative(e);return y.info("getNativeRange",n),n}},{key:"getRange",value:function(){var t=this.getNativeRange();if(null==t)return[null,null];var e=this.normalizedToRange(t);return[e,t]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(t){var e=this,n=[[t.start.node,t.start.offset]];t.native.collapsed||n.push([t.end.node,t.end.offset]);var r=n.map((function(t){var n=i(t,2),r=n[0],o=n[1],s=a.default.find(r,!0),l=s.offset(e.scroll);return 0===o?l:s instanceof a.default.Container?l+s.length():l+s.index(r,o)})),o=Math.min(Math.max.apply(Math,g(r)),this.scroll.length()-1),s=Math.min.apply(Math,[o].concat(g(r)));return new b(s,o-s)}},{key:"normalizeNative",value:function(t){if(!x(this.root,t.startContainer)||!t.collapsed&&!x(this.root,t.endContainer))return null;var e={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[e.start,e.end].forEach((function(t){var e=t.node,n=t.offset;while(!(e instanceof Text)&&e.childNodes.length>0)if(e.childNodes.length>n)e=e.childNodes[n],n=0;else{if(e.childNodes.length!==n)break;e=e.lastChild,n=e instanceof Text?e.data.length:e.childNodes.length+1}t.node=e,t.offset=n})),e}},{key:"rangeToNative",value:function(t){var e=this,n=t.collapsed?[t.index]:[t.index,t.index+t.length],r=[],o=this.scroll.length();return n.forEach((function(t,n){t=Math.min(o-1,t);var a=void 0,s=e.scroll.leaf(t),l=i(s,2),c=l[0],u=l[1],f=c.position(u,0!==n),d=i(f,2);a=d[0],u=d[1],r.push(a,u)})),r.length<2&&(r=r.concat(r)),r}},{key:"scrollIntoView",value:function(t){var e=this.lastRange;if(null!=e){var n=this.getBounds(e.index,e.length);if(null!=n){var r=this.scroll.length()-1,o=this.scroll.line(Math.min(e.index,r)),a=i(o,1),s=a[0],l=s;if(e.length>0){var c=this.scroll.line(Math.min(e.index+e.length,r)),u=i(c,1);l=u[0]}if(null!=s&&null!=l){var f=t.getBoundingClientRect();n.top<f.top?t.scrollTop-=f.top-n.top:n.bottom>f.bottom&&(t.scrollTop+=n.bottom-f.bottom)}}}}},{key:"setNativeRange",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(y.info("setNativeRange",t,e,n,i),null==t||null!=this.root.parentNode&&null!=t.parentNode&&null!=n.parentNode){var o=document.getSelection();if(null!=o)if(null!=t){this.hasFocus()||this.root.focus();var a=(this.getNativeRange()||{}).native;if(null==a||r||t!==a.startContainer||e!==a.startOffset||n!==a.endContainer||i!==a.endOffset){"BR"==t.tagName&&(e=[].indexOf.call(t.parentNode.childNodes,t),t=t.parentNode),"BR"==n.tagName&&(i=[].indexOf.call(n.parentNode.childNodes,n),n=n.parentNode);var s=document.createRange();s.setStart(t,e),s.setEnd(n,i),o.removeAllRanges(),o.addRange(s)}}else o.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.default.sources.API;if("string"===typeof e&&(n=e,e=!1),y.info("setRange",t),null!=t){var i=this.rangeToNative(t);this.setNativeRange.apply(this,g(i).concat([e]))}else this.setNativeRange(null);this.update(n)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.default.sources.USER,e=this.lastRange,n=this.getRange(),r=i(n,2),o=r[0],a=r[1];if(this.lastRange=o,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,u.default)(e,this.lastRange)){var s;!this.composing&&null!=a&&a.native.collapsed&&a.start.node!==this.cursor.textNode&&this.cursor.restore();var c,f=[d.default.events.SELECTION_CHANGE,(0,l.default)(this.lastRange),(0,l.default)(e),t];if((s=this.emitter).emit.apply(s,[d.default.events.EDITOR_CHANGE].concat(f)),t!==d.default.sources.SILENT)(c=this.emitter).emit.apply(c,f)}}}]),t}();function x(t,e){try{e.parentNode}catch(n){return!1}return e instanceof Text&&(e=e.parentNode),t.contains(e)}e.Range=b,e.default=_},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=n(0),a=s(o);function s(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function u(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(t){function e(){return l(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,t),i(e,[{key:"insertInto",value:function(t,n){0===t.children.length?r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertInto",this).call(this,t,n):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),e}(a.default.Embed);f.blotName="break",f.tagName="BR",e.default=f},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(44),o=n(30),a=n(1),s=function(t){function e(e){var n=t.call(this,e)||this;return n.build(),n}return i(e,t),e.prototype.appendChild=function(t){this.insertBefore(t)},e.prototype.attach=function(){t.prototype.attach.call(this),this.children.forEach((function(t){t.attach()}))},e.prototype.build=function(){var t=this;this.children=new r.default,[].slice.call(this.domNode.childNodes).reverse().forEach((function(e){try{var n=l(e);t.insertBefore(n,t.children.head||void 0)}catch(err){if(err instanceof a.ParchmentError)return;throw err}}))},e.prototype.deleteAt=function(t,e){if(0===t&&e===this.length())return this.remove();this.children.forEachAt(t,e,(function(t,e,n){t.deleteAt(e,n)}))},e.prototype.descendant=function(t,n){var i=this.children.find(n),r=i[0],o=i[1];return null==t.blotName&&t(r)||null!=t.blotName&&r instanceof t?[r,o]:r instanceof e?r.descendant(t,o):[null,-1]},e.prototype.descendants=function(t,n,i){void 0===n&&(n=0),void 0===i&&(i=Number.MAX_VALUE);var r=[],o=i;return this.children.forEachAt(n,i,(function(n,i,a){(null==t.blotName&&t(n)||null!=t.blotName&&n instanceof t)&&r.push(n),n instanceof e&&(r=r.concat(n.descendants(t,i,o))),o-=a})),r},e.prototype.detach=function(){this.children.forEach((function(t){t.detach()})),t.prototype.detach.call(this)},e.prototype.formatAt=function(t,e,n,i){this.children.forEachAt(t,e,(function(t,e,r){t.formatAt(e,r,n,i)}))},e.prototype.insertAt=function(t,e,n){var i=this.children.find(t),r=i[0],o=i[1];if(r)r.insertAt(o,e,n);else{var s=null==n?a.create("text",e):a.create(e,n);this.appendChild(s)}},e.prototype.insertBefore=function(t,e){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some((function(e){return t instanceof e})))throw new a.ParchmentError("Cannot insert "+t.statics.blotName+" into "+this.statics.blotName);t.insertInto(this,e)},e.prototype.length=function(){return this.children.reduce((function(t,e){return t+e.length()}),0)},e.prototype.moveChildren=function(t,e){this.children.forEach((function(n){t.insertBefore(n,e)}))},e.prototype.optimize=function(e){if(t.prototype.optimize.call(this,e),0===this.children.length)if(null!=this.statics.defaultChild){var n=a.create(this.statics.defaultChild);this.appendChild(n),n.optimize(e)}else this.remove()},e.prototype.path=function(t,n){void 0===n&&(n=!1);var i=this.children.find(t,n),r=i[0],o=i[1],a=[[this,t]];return r instanceof e?a.concat(r.path(o,n)):(null!=r&&a.push([r,o]),a)},e.prototype.removeChild=function(t){this.children.remove(t)},e.prototype.replace=function(n){n instanceof e&&n.moveChildren(this),t.prototype.replace.call(this,n)},e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t)return this;if(t===this.length())return this.next}var n=this.clone();return this.parent.insertBefore(n,this.next),this.children.forEachAt(t,this.length(),(function(t,i,r){t=t.split(i,e),n.appendChild(t)})),n},e.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},e.prototype.update=function(t,e){var n=this,i=[],r=[];t.forEach((function(t){t.target===n.domNode&&"childList"===t.type&&(i.push.apply(i,t.addedNodes),r.push.apply(r,t.removedNodes))})),r.forEach((function(t){if(!(null!=t.parentNode&&"IFRAME"!==t.tagName&&document.body.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var e=a.find(t);null!=e&&(null!=e.domNode.parentNode&&e.domNode.parentNode!==n.domNode||e.detach())}})),i.filter((function(t){return t.parentNode==n.domNode})).sort((function(t,e){return t===e?0:t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1})).forEach((function(t){var e=null;null!=t.nextSibling&&(e=a.find(t.nextSibling));var i=l(t);i.next==e&&null!=i.next||(null!=i.parent&&i.parent.removeChild(n),n.insertBefore(i,e||void 0))}))},e}(o.default);function l(t){var e=a.find(t);if(null==e)try{e=a.create(t)}catch(n){e=a.create(a.Scope.INLINE),[].slice.call(t.childNodes).forEach((function(t){e.domNode.appendChild(t)})),t.parentNode&&t.parentNode.replaceChild(e.domNode,t),e.attach()}return e}e.default=s},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(12),o=n(31),a=n(17),s=n(1),l=function(t){function e(e){var n=t.call(this,e)||this;return n.attributes=new o.default(n.domNode),n}return i(e,t),e.formats=function(t){return"string"===typeof this.tagName||(Array.isArray(this.tagName)?t.tagName.toLowerCase():void 0)},e.prototype.format=function(t,e){var n=s.query(t);n instanceof r.default?this.attributes.attribute(n,e):e&&(null==n||t===this.statics.blotName&&this.formats()[t]===e||this.replaceWith(t,e))},e.prototype.formats=function(){var t=this.attributes.values(),e=this.statics.formats(this.domNode);return null!=e&&(t[this.statics.blotName]=e),t},e.prototype.replaceWith=function(e,n){var i=t.prototype.replaceWith.call(this,e,n);return this.attributes.copy(i),i},e.prototype.update=function(e,n){var i=this;t.prototype.update.call(this,e,n),e.some((function(t){return t.target===i.domNode&&"attributes"===t.type}))&&this.attributes.build()},e.prototype.wrap=function(n,i){var r=t.prototype.wrap.call(this,n,i);return r instanceof e&&r.statics.scope===this.statics.scope&&this.attributes.move(r),r},e}(a.default);e.default=l},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(30),o=n(1),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.value=function(t){return!0},e.prototype.index=function(t,e){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1},e.prototype.position=function(t,e){var n=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return t>0&&(n+=1),[this.parent.domNode,n]},e.prototype.value=function(){var t;return t={},t[this.statics.blotName]=this.statics.value(this.domNode)||!0,t},e.scope=o.Scope.INLINE_BLOT,e}(r.default);e.default=a},function(t,e,n){var i=n(11),r=n(3),o={attributes:{compose:function(t,e,n){"object"!==typeof t&&(t={}),"object"!==typeof e&&(e={});var i=r(!0,{},e);for(var o in n||(i=Object.keys(i).reduce((function(t,e){return null!=i[e]&&(t[e]=i[e]),t}),{})),t)void 0!==t[o]&&void 0===e[o]&&(i[o]=t[o]);return Object.keys(i).length>0?i:void 0},diff:function(t,e){"object"!==typeof t&&(t={}),"object"!==typeof e&&(e={});var n=Object.keys(t).concat(Object.keys(e)).reduce((function(n,r){return i(t[r],e[r])||(n[r]=void 0===e[r]?null:e[r]),n}),{});return Object.keys(n).length>0?n:void 0},transform:function(t,e,n){if("object"!==typeof t)return e;if("object"===typeof e){if(!n)return e;var i=Object.keys(e).reduce((function(n,i){return void 0===t[i]&&(n[i]=e[i]),n}),{});return Object.keys(i).length>0?i:void 0}}},iterator:function(t){return new a(t)},length:function(t){return"number"===typeof t["delete"]?t["delete"]:"number"===typeof t.retain?t.retain:"string"===typeof t.insert?t.insert.length:1}};function a(t){this.ops=t,this.index=0,this.offset=0}a.prototype.hasNext=function(){return this.peekLength()<1/0},a.prototype.next=function(t){t||(t=1/0);var e=this.ops[this.index];if(e){var n=this.offset,i=o.length(e);if(t>=i-n?(t=i-n,this.index+=1,this.offset=0):this.offset+=t,"number"===typeof e["delete"])return{delete:t};var r={};return e.attributes&&(r.attributes=e.attributes),"number"===typeof e.retain?r.retain=t:"string"===typeof e.insert?r.insert=e.insert.substr(n,t):r.insert=e.insert,r}return{retain:1/0}},a.prototype.peek=function(){return this.ops[this.index]},a.prototype.peekLength=function(){return this.ops[this.index]?o.length(this.ops[this.index])-this.offset:1/0},a.prototype.peekType=function(){return this.ops[this.index]?"number"===typeof this.ops[this.index]["delete"]?"delete":"number"===typeof this.ops[this.index].retain?"retain":"insert":"retain"},a.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var t=this.offset,e=this.index,n=this.next(),i=this.ops.slice(this.index);return this.offset=t,this.index=e,[n].concat(i)}return[]},t.exports=o},function(t,n){var i=function(){"use strict";function t(t,e){return null!=e&&t instanceof e}var n,i,r;try{n=Map}catch(_){n=function(){}}try{i=Set}catch(_){i=function(){}}try{r=Promise}catch(_){r=function(){}}function o(a,s,l,c,f){"object"===typeof s&&(l=s.depth,c=s.prototype,f=s.includeNonEnumerable,s=s.circular);var d=[],h=[],p="undefined"!=typeof e;function m(a,l){if(null===a)return null;if(0===l)return a;var g,v;if("object"!=typeof a)return a;if(t(a,n))g=new n;else if(t(a,i))g=new i;else if(t(a,r))g=new r((function(t,e){a.then((function(e){t(m(e,l-1))}),(function(t){e(m(t,l-1))}))}));else if(o.__isArray(a))g=[];else if(o.__isRegExp(a))g=new RegExp(a.source,u(a)),a.lastIndex&&(g.lastIndex=a.lastIndex);else if(o.__isDate(a))g=new Date(a.getTime());else{if(p&&e.isBuffer(a))return g=e.allocUnsafe?e.allocUnsafe(a.length):new e(a.length),a.copy(g),g;t(a,Error)?g=Object.create(a):"undefined"==typeof c?(v=Object.getPrototypeOf(a),g=Object.create(v)):(g=Object.create(c),v=c)}if(s){var y=d.indexOf(a);if(-1!=y)return h[y];d.push(a),h.push(g)}for(var b in t(a,n)&&a.forEach((function(t,e){var n=m(e,l-1),i=m(t,l-1);g.set(n,i)})),t(a,i)&&a.forEach((function(t){var e=m(t,l-1);g.add(e)})),a){var _;v&&(_=Object.getOwnPropertyDescriptor(v,b)),_&&null==_.set||(g[b]=m(a[b],l-1))}if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(a);for(b=0;b<x.length;b++){var w=x[b],k=Object.getOwnPropertyDescriptor(a,w);(!k||k.enumerable||f)&&(g[w]=m(a[w],l-1),k.enumerable||Object.defineProperty(g,w,{enumerable:!1}))}}if(f){var S=Object.getOwnPropertyNames(a);for(b=0;b<S.length;b++){var O=S[b];k=Object.getOwnPropertyDescriptor(a,O);k&&k.enumerable||(g[O]=m(a[O],l-1),Object.defineProperty(g,O,{enumerable:!1}))}}return g}return"undefined"==typeof s&&(s=!0),"undefined"==typeof l&&(l=1/0),m(a,l)}function a(t){return Object.prototype.toString.call(t)}function s(t){return"object"===typeof t&&"[object Date]"===a(t)}function l(t){return"object"===typeof t&&"[object Array]"===a(t)}function c(t){return"object"===typeof t&&"[object RegExp]"===a(t)}function u(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return o.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},o.__objToStr=a,o.__isDate=s,o.__isArray=l,o.__isRegExp=c,o.__getRegExpFlags=u,o}();"object"===typeof t&&t.exports&&(t.exports=i)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done);i=!0)if(n.push(a.value),e&&n.length===e)break}catch(err){r=!0,o=err}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=n(0),s=y(a),l=n(8),c=y(l),u=n(4),f=y(u),d=n(16),h=y(d),p=n(13),m=y(p),g=n(25),v=y(g);function y(t){return t&&t.__esModule?t:{default:t}}function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function x(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function w(t){return t instanceof f.default||t instanceof u.BlockEmbed}var k=function(t){function e(t,n){b(this,e);var i=_(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.emitter=n.emitter,Array.isArray(n.whitelist)&&(i.whitelist=n.whitelist.reduce((function(t,e){return t[e]=!0,t}),{})),i.domNode.addEventListener("DOMNodeInserted",(function(){})),i.optimize(),i.enable(),i}return x(e,t),r(e,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(t,n){var r=this.line(t),a=i(r,2),s=a[0],l=a[1],c=this.line(t+n),f=i(c,1),d=f[0];if(o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deleteAt",this).call(this,t,n),null!=d&&s!==d&&l>0){if(s instanceof u.BlockEmbed||d instanceof u.BlockEmbed)return void this.optimize();if(s instanceof m.default){var p=s.newlineIndex(s.length(),!0);if(p>-1&&(s=s.split(p+1),s===d))return void this.optimize()}else if(d instanceof m.default){var g=d.newlineIndex(0);g>-1&&d.split(g+1)}var v=d.children.head instanceof h.default?null:d.children.head;s.moveChildren(d,v),s.remove()}this.optimize()}},{key:"enable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",t)}},{key:"formatAt",value:function(t,n,i,r){(null==this.whitelist||this.whitelist[i])&&(o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,n,i,r),this.optimize())}},{key:"insertAt",value:function(t,n,i){if(null==i||null==this.whitelist||this.whitelist[n]){if(t>=this.length())if(null==i||null==s.default.query(n,s.default.Scope.BLOCK)){var r=s.default.create(this.statics.defaultChild);this.appendChild(r),null==i&&n.endsWith("\n")&&(n=n.slice(0,-1)),r.insertAt(0,n,i)}else{var a=s.default.create(n,i);this.appendChild(a)}else o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,n,i);this.optimize()}}},{key:"insertBefore",value:function(t,n){if(t.statics.scope===s.default.Scope.INLINE_BLOT){var i=s.default.create(this.statics.defaultChild);i.appendChild(t),t=i}o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,n)}},{key:"leaf",value:function(t){return this.path(t).pop()||[null,-1]}},{key:"line",value:function(t){return t===this.length()?this.line(t-1):this.descendant(w,t)}},{key:"lines",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,n=function t(e,n,i){var r=[],o=i;return e.children.forEachAt(n,i,(function(e,n,i){w(e)?r.push(e):e instanceof s.default.Container&&(r=r.concat(t(e,n,o))),o-=i})),r};return n(this,t,e)}},{key:"optimize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t,n),t.length>0&&this.emitter.emit(c.default.events.SCROLL_OPTIMIZE,t,n))}},{key:"path",value:function(t){return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"path",this).call(this,t).slice(1)}},{key:"update",value:function(t){if(!0!==this.batch){var n=c.default.sources.USER;"string"===typeof t&&(n=t),Array.isArray(t)||(t=this.observer.takeRecords()),t.length>0&&this.emitter.emit(c.default.events.SCROLL_BEFORE_UPDATE,n,t),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"update",this).call(this,t.concat([])),t.length>0&&this.emitter.emit(c.default.events.SCROLL_UPDATE,n,t)}}}]),e}(s.default.Scroll);k.blotName="scroll",k.className="ql-editor",k.tagName="DIV",k.defaultChild="block",k.allowedChildren=[f.default,u.BlockEmbed,v.default],e.default=k},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SHORTKEY=e.default=void 0;var i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done);i=!0)if(n.push(a.value),e&&n.length===e)break}catch(err){r=!0,o=err}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(21),s=S(a),l=n(11),c=S(l),u=n(3),f=S(u),d=n(2),h=S(d),p=n(20),m=S(p),g=n(0),v=S(g),y=n(5),b=S(y),_=n(10),x=S(_),w=n(9),k=S(w);function S(t){return t&&t.__esModule?t:{default:t}}function O(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function D(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var T=(0,x.default)("quill:keyboard"),N=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",M=function(t){function e(t,n){C(this,e);var i=E(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.bindings={},Object.keys(i.options.bindings).forEach((function(e){("list autofill"!==e||null==t.scroll.whitelist||t.scroll.whitelist["list"])&&i.options.bindings[e]&&i.addBinding(i.options.bindings[e])})),i.addBinding({key:e.keys.ENTER,shiftKey:null},I),i.addBinding({key:e.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},(function(){})),/Firefox/i.test(navigator.userAgent)?(i.addBinding({key:e.keys.BACKSPACE},{collapsed:!0},j),i.addBinding({key:e.keys.DELETE},{collapsed:!0},P)):(i.addBinding({key:e.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},j),i.addBinding({key:e.keys.DELETE},{collapsed:!0,suffix:/^.?$/},P)),i.addBinding({key:e.keys.BACKSPACE},{collapsed:!1},$),i.addBinding({key:e.keys.DELETE},{collapsed:!1},$),i.addBinding({key:e.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},j),i.listen(),i}return D(e,t),o(e,null,[{key:"match",value:function(t,e){return e=B(e),!["altKey","ctrlKey","metaKey","shiftKey"].some((function(n){return!!e[n]!==t[n]&&null!==e[n]}))&&e.key===(t.which||t.keyCode)}}]),o(e,[{key:"addBinding",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=B(t);if(null==i||null==i.key)return T.warn("Attempted to add invalid keyboard binding",i);"function"===typeof e&&(e={handler:e}),"function"===typeof n&&(n={handler:n}),i=(0,f.default)(i,e,n),this.bindings[i.key]=this.bindings[i.key]||[],this.bindings[i.key].push(i)}},{key:"listen",value:function(){var t=this;this.quill.root.addEventListener("keydown",(function(n){if(!n.defaultPrevented){var o=n.which||n.keyCode,a=(t.bindings[o]||[]).filter((function(t){return e.match(n,t)}));if(0!==a.length){var s=t.quill.getSelection();if(null!=s&&t.quill.hasFocus()){var l=t.quill.getLine(s.index),u=r(l,2),f=u[0],d=u[1],h=t.quill.getLeaf(s.index),p=r(h,2),m=p[0],g=p[1],y=0===s.length?[m,g]:t.quill.getLeaf(s.index+s.length),b=r(y,2),_=b[0],x=b[1],w=m instanceof v.default.Text?m.value().slice(0,g):"",k=_ instanceof v.default.Text?_.value().slice(x):"",S={collapsed:0===s.length,empty:0===s.length&&f.length()<=1,format:t.quill.getFormat(s),offset:d,prefix:w,suffix:k},O=a.some((function(e){if(null!=e.collapsed&&e.collapsed!==S.collapsed)return!1;if(null!=e.empty&&e.empty!==S.empty)return!1;if(null!=e.offset&&e.offset!==S.offset)return!1;if(Array.isArray(e.format)){if(e.format.every((function(t){return null==S.format[t]})))return!1}else if("object"===i(e.format)&&!Object.keys(e.format).every((function(t){return!0===e.format[t]?null!=S.format[t]:!1===e.format[t]?null==S.format[t]:(0,c.default)(e.format[t],S.format[t])})))return!1;return!(null!=e.prefix&&!e.prefix.test(S.prefix))&&(!(null!=e.suffix&&!e.suffix.test(S.suffix))&&!0!==e.handler.call(t,s,S))}));O&&n.preventDefault()}}}}))}}]),e}(k.default);function A(t,e){var n,i=t===M.keys.LEFT?"prefix":"suffix";return n={key:t,shiftKey:e,altKey:null},O(n,i,/^$/),O(n,"handler",(function(n){var i=n.index;t===M.keys.RIGHT&&(i+=n.length+1);var o=this.quill.getLeaf(i),a=r(o,1),s=a[0];return!(s instanceof v.default.Embed)||(t===M.keys.LEFT?e?this.quill.setSelection(n.index-1,n.length+1,b.default.sources.USER):this.quill.setSelection(n.index-1,b.default.sources.USER):e?this.quill.setSelection(n.index,n.length+1,b.default.sources.USER):this.quill.setSelection(n.index+n.length+1,b.default.sources.USER),!1)})),n}function j(t,e){if(!(0===t.index||this.quill.getLength()<=1)){var n=this.quill.getLine(t.index),i=r(n,1),o=i[0],a={};if(0===e.offset){var s=this.quill.getLine(t.index-1),l=r(s,1),c=l[0];if(null!=c&&c.length()>1){var u=o.formats(),f=this.quill.getFormat(t.index-1,1);a=m.default.attributes.diff(u,f)||{}}}var d=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;this.quill.deleteText(t.index-d,d,b.default.sources.USER),Object.keys(a).length>0&&this.quill.formatLine(t.index-d,d,a,b.default.sources.USER),this.quill.focus()}}function P(t,e){var n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;if(!(t.index>=this.quill.getLength()-n)){var i={},o=0,a=this.quill.getLine(t.index),s=r(a,1),l=s[0];if(e.offset>=l.length()-1){var c=this.quill.getLine(t.index+1),u=r(c,1),f=u[0];if(f){var d=l.formats(),h=this.quill.getFormat(t.index,1);i=m.default.attributes.diff(d,h)||{},o=f.length()}}this.quill.deleteText(t.index,n,b.default.sources.USER),Object.keys(i).length>0&&this.quill.formatLine(t.index+o-1,n,i,b.default.sources.USER)}}function $(t){var e=this.quill.getLines(t),n={};if(e.length>1){var i=e[0].formats(),r=e[e.length-1].formats();n=m.default.attributes.diff(r,i)||{}}this.quill.deleteText(t,b.default.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(t.index,1,n,b.default.sources.USER),this.quill.setSelection(t.index,b.default.sources.SILENT),this.quill.focus()}function I(t,e){var n=this;t.length>0&&this.quill.scroll.deleteAt(t.index,t.length);var i=Object.keys(e.format).reduce((function(t,n){return v.default.query(n,v.default.Scope.BLOCK)&&!Array.isArray(e.format[n])&&(t[n]=e.format[n]),t}),{});this.quill.insertText(t.index,"\n",i,b.default.sources.USER),this.quill.setSelection(t.index+1,b.default.sources.SILENT),this.quill.focus(),Object.keys(e.format).forEach((function(t){null==i[t]&&(Array.isArray(e.format[t])||"link"!==t&&n.quill.format(t,e.format[t],b.default.sources.USER))}))}function L(t){return{key:M.keys.TAB,shiftKey:!t,format:{"code-block":!0},handler:function(e){var n=v.default.query("code-block"),i=e.index,o=e.length,a=this.quill.scroll.descendant(n,i),s=r(a,2),l=s[0],c=s[1];if(null!=l){var u=this.quill.getIndex(l),f=l.newlineIndex(c,!0)+1,d=l.newlineIndex(u+c+o),h=l.domNode.textContent.slice(f,d).split("\n");c=0,h.forEach((function(e,r){t?(l.insertAt(f+c,n.TAB),c+=n.TAB.length,0===r?i+=n.TAB.length:o+=n.TAB.length):e.startsWith(n.TAB)&&(l.deleteAt(f+c,n.TAB.length),c-=n.TAB.length,0===r?i-=n.TAB.length:o-=n.TAB.length),c+=e.length+1})),this.quill.update(b.default.sources.USER),this.quill.setSelection(i,o,b.default.sources.SILENT)}}}}function R(t){return{key:t[0].toUpperCase(),shortKey:!0,handler:function(e,n){this.quill.format(t,!n.format[t],b.default.sources.USER)}}}function B(t){if("string"===typeof t||"number"===typeof t)return B({key:t});if("object"===("undefined"===typeof t?"undefined":i(t))&&(t=(0,s.default)(t,!1)),"string"===typeof t.key)if(null!=M.keys[t.key.toUpperCase()])t.key=M.keys[t.key.toUpperCase()];else{if(1!==t.key.length)return null;t.key=t.key.toUpperCase().charCodeAt(0)}return t.shortKey&&(t[N]=t.shortKey,delete t.shortKey),t}M.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},M.DEFAULTS={bindings:{bold:R("bold"),italic:R("italic"),underline:R("underline"),indent:{key:M.keys.TAB,format:["blockquote","indent","list"],handler:function(t,e){if(e.collapsed&&0!==e.offset)return!0;this.quill.format("indent","+1",b.default.sources.USER)}},outdent:{key:M.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(t,e){if(e.collapsed&&0!==e.offset)return!0;this.quill.format("indent","-1",b.default.sources.USER)}},"outdent backspace":{key:M.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(t,e){null!=e.format.indent?this.quill.format("indent","-1",b.default.sources.USER):null!=e.format.list&&this.quill.format("list",!1,b.default.sources.USER)}},"indent code-block":L(!0),"outdent code-block":L(!1),"remove tab":{key:M.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(t){this.quill.deleteText(t.index-1,1,b.default.sources.USER)}},tab:{key:M.keys.TAB,handler:function(t){this.quill.history.cutoff();var e=(new h.default).retain(t.index).delete(t.length).insert("\t");this.quill.updateContents(e,b.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index+1,b.default.sources.SILENT)}},"list empty enter":{key:M.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(t,e){this.quill.format("list",!1,b.default.sources.USER),e.format.indent&&this.quill.format("indent",!1,b.default.sources.USER)}},"checklist enter":{key:M.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(t){var e=this.quill.getLine(t.index),n=r(e,2),i=n[0],o=n[1],a=(0,f.default)({},i.formats(),{list:"checked"}),s=(new h.default).retain(t.index).insert("\n",a).retain(i.length()-o-1).retain(1,{list:"unchecked"});this.quill.updateContents(s,b.default.sources.USER),this.quill.setSelection(t.index+1,b.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:M.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(t,e){var n=this.quill.getLine(t.index),i=r(n,2),o=i[0],a=i[1],s=(new h.default).retain(t.index).insert("\n",e.format).retain(o.length()-a-1).retain(1,{header:null});this.quill.updateContents(s,b.default.sources.USER),this.quill.setSelection(t.index+1,b.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(t,e){var n=e.prefix.length,i=this.quill.getLine(t.index),o=r(i,2),a=o[0],s=o[1];if(s>n)return!0;var l=void 0;switch(e.prefix.trim()){case"[]":case"[ ]":l="unchecked";break;case"[x]":l="checked";break;case"-":case"*":l="bullet";break;default:l="ordered"}this.quill.insertText(t.index," ",b.default.sources.USER),this.quill.history.cutoff();var c=(new h.default).retain(t.index-s).delete(n+1).retain(a.length()-2-s).retain(1,{list:l});this.quill.updateContents(c,b.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index-n,b.default.sources.SILENT)}},"code exit":{key:M.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(t){var e=this.quill.getLine(t.index),n=r(e,2),i=n[0],o=n[1],a=(new h.default).retain(t.index+i.length()-o-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(a,b.default.sources.USER)}},"embed left":A(M.keys.LEFT,!1),"embed left shift":A(M.keys.LEFT,!0),"embed right":A(M.keys.RIGHT,!1),"embed right shift":A(M.keys.RIGHT,!0)}},e.default=M,e.SHORTKEY=N},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done);i=!0)if(n.push(a.value),e&&n.length===e)break}catch(err){r=!0,o=err}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(0),s=u(a),l=n(7),c=u(l);function u(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function h(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var p=function(t){function e(t,n){f(this,e);var i=d(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.selection=n,i.textNode=document.createTextNode(e.CONTENTS),i.domNode.appendChild(i.textNode),i._length=0,i}return h(e,t),o(e,null,[{key:"value",value:function(){}}]),o(e,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(t,n){if(0!==this._length)return r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n);var i=this,o=0;while(null!=i&&i.statics.scope!==s.default.Scope.BLOCK_BLOT)o+=i.offset(i.parent),i=i.parent;null!=i&&(this._length=e.CONTENTS.length,i.optimize(),i.formatAt(o,e.CONTENTS.length,t,n),this._length=0)}},{key:"index",value:function(t,n){return t===this.textNode?0:r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"index",this).call(this,t,n)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var t=this.textNode,n=this.selection.getNativeRange(),r=void 0,o=void 0,a=void 0;if(null!=n&&n.start.node===t&&n.end.node===t){var l=[t,n.start.offset,n.end.offset];r=l[0],o=l[1],a=l[2]}while(null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==e.CONTENTS){var u=this.textNode.data.split(e.CONTENTS).join("");this.next instanceof c.default?(r=this.next.domNode,this.next.insertAt(0,u),this.textNode.data=e.CONTENTS):(this.textNode.data=u,this.parent.insertBefore(s.default.create(this.textNode),this),this.textNode=document.createTextNode(e.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=o){var f=[o,a].map((function(t){return Math.max(0,Math.min(r.data.length,t-1))})),d=i(f,2);return o=d[0],a=d[1],{startNode:r,startOffset:o,endNode:r,endOffset:a}}}}},{key:"update",value:function(t,e){var n=this;if(t.some((function(t){return"characterData"===t.type&&t.target===n.textNode}))){var i=this.restore();i&&(e.range=i)}}},{key:"value",value:function(){return""}}]),e}(s.default.Embed);p.blotName="cursor",p.className="ql-cursor",p.tagName="span",p.CONTENTS="\ufeff",e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=s(i),o=n(4),a=s(o);function s(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function u(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(t){function e(){return l(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,t),e}(r.default.Container);f.allowedChildren=[a.default,o.BlockEmbed,f],e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorStyle=e.ColorClass=e.ColorAttributor=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=n(0),a=s(o);function s(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function u(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(t){function e(){return l(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,t),i(e,[{key:"value",value:function(t){var n=r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+n.split(",").map((function(t){return("00"+parseInt(t).toString(16)).slice(-2)})).join("")):n}}]),e}(a.default.Attributor.Style),d=new a.default.Attributor.Class("color","ql-color",{scope:a.default.Scope.INLINE}),h=new f("color","color",{scope:a.default.Scope.INLINE});e.ColorAttributor=f,e.ColorClass=d,e.ColorStyle=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sanitize=e.default=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=n(6),a=s(o);function s(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function u(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(t){function e(){return l(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,t),i(e,[{key:"format",value:function(t,n){if(t!==this.statics.blotName||!n)return r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n);n=this.constructor.sanitize(n),this.domNode.setAttribute("href",n)}}],[{key:"create",value:function(t){var n=r(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return t=this.sanitize(t),n.setAttribute("href",t),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("target","_blank"),n}},{key:"formats",value:function(t){return t.getAttribute("href")}},{key:"sanitize",value:function(t){return d(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}}]),e}(a.default);function d(t,e){var n=document.createElement("a");n.href=t;var i=n.href.slice(0,n.href.indexOf(":"));return e.indexOf(i)>-1}f.blotName="link",f.tagName="A",f.SANITIZED_URL="about:blank",f.PROTOCOL_WHITELIST=["http","https","mailto","tel"],e.default=f,e.sanitize=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(23),a=c(o),s=n(107),l=c(s);function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var f=0;function d(t,e){t.setAttribute(e,!("true"===t.getAttribute(e)))}var h=function(){function t(e){var n=this;u(this,t),this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",(function(){n.togglePicker()})),this.label.addEventListener("keydown",(function(t){switch(t.keyCode){case a.default.keys.ENTER:n.togglePicker();break;case a.default.keys.ESCAPE:n.escape(),t.preventDefault();break;default:}})),this.select.addEventListener("change",this.update.bind(this))}return r(t,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),d(this.label,"aria-expanded"),d(this.options,"aria-hidden")}},{key:"buildItem",value:function(t){var e=this,n=document.createElement("span");return n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item"),t.hasAttribute("value")&&n.setAttribute("data-value",t.getAttribute("value")),t.textContent&&n.setAttribute("data-label",t.textContent),n.addEventListener("click",(function(){e.selectItem(n,!0)})),n.addEventListener("keydown",(function(t){switch(t.keyCode){case a.default.keys.ENTER:e.selectItem(n,!0),t.preventDefault();break;case a.default.keys.ESCAPE:e.escape(),t.preventDefault();break;default:}})),n}},{key:"buildLabel",value:function(){var t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML=l.default,t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}},{key:"buildOptions",value:function(){var t=this,e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id="ql-picker-options-"+f,f+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,[].slice.call(this.select.options).forEach((function(n){var i=t.buildItem(n);e.appendChild(i),!0===n.selected&&t.selectItem(i)})),this.container.appendChild(e)}},{key:"buildPicker",value:function(){var t=this;[].slice.call(this.select.attributes).forEach((function(e){t.container.setAttribute(e.name,e.value)})),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var t=this;this.close(),setTimeout((function(){return t.label.focus()}),1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.container.querySelector(".ql-selected");if(t!==n&&(null!=n&&n.classList.remove("ql-selected"),null!=t&&(t.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(t.parentNode.children,t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),e))){if("function"===typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"===typeof Event?"undefined":i(Event))){var r=document.createEvent("Event");r.initEvent("change",!0,!0),this.select.dispatchEvent(r)}this.close()}}},{key:"update",value:function(){var t=void 0;if(this.select.selectedIndex>-1){var e=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(e)}else this.selectItem(null);var n=null!=t&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}]),t}();e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=T(i),o=n(5),a=T(o),s=n(4),l=T(s),c=n(16),u=T(c),f=n(25),d=T(f),h=n(24),p=T(h),m=n(35),g=T(m),v=n(6),y=T(v),b=n(22),_=T(b),x=n(7),w=T(x),k=n(55),S=T(k),O=n(42),C=T(O),E=n(23),D=T(E);function T(t){return t&&t.__esModule?t:{default:t}}a.default.register({"blots/block":l.default,"blots/block/embed":s.BlockEmbed,"blots/break":u.default,"blots/container":d.default,"blots/cursor":p.default,"blots/embed":g.default,"blots/inline":y.default,"blots/scroll":_.default,"blots/text":w.default,"modules/clipboard":S.default,"modules/history":C.default,"modules/keyboard":D.default}),r.default.register(l.default,u.default,p.default,y.default,_.default,w.default),e.default=a.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=function(){function t(t){this.domNode=t,this.domNode[i.DATA_KEY]={blot:this}}return Object.defineProperty(t.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),t.create=function(t){if(null==this.tagName)throw new i.ParchmentError("Blot definition missing tagName");var e;return Array.isArray(this.tagName)?("string"===typeof t&&(t=t.toUpperCase(),parseInt(t).toString()===t&&(t=parseInt(t))),e="number"===typeof t?document.createElement(this.tagName[t-1]):this.tagName.indexOf(t)>-1?document.createElement(t):document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e},t.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},t.prototype.clone=function(){var t=this.domNode.cloneNode(!1);return i.create(t)},t.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[i.DATA_KEY]},t.prototype.deleteAt=function(t,e){var n=this.isolate(t,e);n.remove()},t.prototype.formatAt=function(t,e,n,r){var o=this.isolate(t,e);if(null!=i.query(n,i.Scope.BLOT)&&r)o.wrap(n,r);else if(null!=i.query(n,i.Scope.ATTRIBUTE)){var a=i.create(this.statics.scope);o.wrap(a),a.format(n,r)}},t.prototype.insertAt=function(t,e,n){var r=null==n?i.create("text",e):i.create(e,n),o=this.split(t);this.parent.insertBefore(r,o)},t.prototype.insertInto=function(t,e){void 0===e&&(e=null),null!=this.parent&&this.parent.children.remove(this);var n=null;t.children.insertBefore(this,e),null!=e&&(n=e.domNode),this.domNode.parentNode==t.domNode&&this.domNode.nextSibling==n||t.domNode.insertBefore(this.domNode,n),this.parent=t,this.attach()},t.prototype.isolate=function(t,e){var n=this.split(t);return n.split(e),n},t.prototype.length=function(){return 1},t.prototype.offset=function(t){return void 0===t&&(t=this.parent),null==this.parent||this==t?0:this.parent.children.offset(this)+this.parent.offset(t)},t.prototype.optimize=function(t){null!=this.domNode[i.DATA_KEY]&&delete this.domNode[i.DATA_KEY].mutations},t.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},t.prototype.replace=function(t){null!=t.parent&&(t.parent.insertBefore(this,t.next),t.remove())},t.prototype.replaceWith=function(t,e){var n="string"===typeof t?i.create(t,e):t;return n.replace(this),n},t.prototype.split=function(t,e){return 0===t?this:this.next},t.prototype.update=function(t,e){},t.prototype.wrap=function(t,e){var n="string"===typeof t?i.create(t,e):t;return null!=this.parent&&this.parent.insertBefore(n,this.next),n.appendChild(this),n},t.blotName="abstract",t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(12),r=n(32),o=n(33),a=n(1),s=function(){function t(t){this.attributes={},this.domNode=t,this.build()}return t.prototype.attribute=function(t,e){e?t.add(this.domNode,e)&&(null!=t.value(this.domNode)?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])},t.prototype.build=function(){var t=this;this.attributes={};var e=i.default.keys(this.domNode),n=r.default.keys(this.domNode),s=o.default.keys(this.domNode);e.concat(n).concat(s).forEach((function(e){var n=a.query(e,a.Scope.ATTRIBUTE);n instanceof i.default&&(t.attributes[n.attrName]=n)}))},t.prototype.copy=function(t){var e=this;Object.keys(this.attributes).forEach((function(n){var i=e.attributes[n].value(e.domNode);t.format(n,i)}))},t.prototype.move=function(t){var e=this;this.copy(t),Object.keys(this.attributes).forEach((function(t){e.attributes[t].remove(e.domNode)})),this.attributes={}},t.prototype.values=function(){var t=this;return Object.keys(this.attributes).reduce((function(e,n){return e[n]=t.attributes[n].value(t.domNode),e}),{})},t}();e.default=s},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(12);function o(t,e){var n=t.getAttribute("class")||"";return n.split(/\s+/).filter((function(t){return 0===t.indexOf(e+"-")}))}var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.keys=function(t){return(t.getAttribute("class")||"").split(/\s+/).map((function(t){return t.split("-").slice(0,-1).join("-")}))},e.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(this.remove(t),t.classList.add(this.keyName+"-"+e),!0)},e.prototype.remove=function(t){var e=o(t,this.keyName);e.forEach((function(e){t.classList.remove(e)})),0===t.classList.length&&t.removeAttribute("class")},e.prototype.value=function(t){var e=o(t,this.keyName)[0]||"",n=e.slice(this.keyName.length+1);return this.canAdd(t,n)?n:""},e}(r.default);e.default=a},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(12);function o(t){var e=t.split("-"),n=e.slice(1).map((function(t){return t[0].toUpperCase()+t.slice(1)})).join("");return e[0]+n}var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.keys=function(t){return(t.getAttribute("style")||"").split(";").map((function(t){var e=t.split(":");return e[0].trim()}))},e.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(t.style[o(this.keyName)]=e,!0)},e.prototype.remove=function(t){t.style[o(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")},e.prototype.value=function(t){var e=t.style[o(this.keyName)];return this.canAdd(t,e)?e:""},e}(r.default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(e,n){r(this,t),this.quill=e,this.options=n,this.modules={}}return i(t,[{key:"init",value:function(){var t=this;Object.keys(this.options.modules).forEach((function(e){null==t.modules[e]&&t.addModule(e)}))}},{key:"addModule",value:function(t){var e=this.quill.constructor.import("modules/"+t);return this.modules[t]=new e(this.quill,this.options.modules[t]||{}),this.modules[t]}}]),t}();o.DEFAULTS={modules:{}},o.themes={default:o},e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=n(0),a=c(o),s=n(7),l=c(s);function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function d(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var h="\ufeff",p=function(t){function e(t){u(this,e);var n=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.contentNode=document.createElement("span"),n.contentNode.setAttribute("contenteditable",!1),[].slice.call(n.domNode.childNodes).forEach((function(t){n.contentNode.appendChild(t)})),n.leftGuard=document.createTextNode(h),n.rightGuard=document.createTextNode(h),n.domNode.appendChild(n.leftGuard),n.domNode.appendChild(n.contentNode),n.domNode.appendChild(n.rightGuard),n}return d(e,t),i(e,[{key:"index",value:function(t,n){return t===this.leftGuard?0:t===this.rightGuard?1:r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"index",this).call(this,t,n)}},{key:"restore",value:function(t){var e=void 0,n=void 0,i=t.data.split(h).join("");if(t===this.leftGuard)if(this.prev instanceof l.default){var r=this.prev.length();this.prev.insertAt(r,i),e={startNode:this.prev.domNode,startOffset:r+i.length}}else n=document.createTextNode(i),this.parent.insertBefore(a.default.create(n),this),e={startNode:n,startOffset:i.length};else t===this.rightGuard&&(this.next instanceof l.default?(this.next.insertAt(0,i),e={startNode:this.next.domNode,startOffset:i.length}):(n=document.createTextNode(i),this.parent.insertBefore(a.default.create(n),this.next),e={startNode:n,startOffset:i.length}));return t.data=h,e}},{key:"update",value:function(t,e){var n=this;t.forEach((function(t){if("characterData"===t.type&&(t.target===n.leftGuard||t.target===n.rightGuard)){var i=n.restore(t.target);i&&(e.range=i)}}))}}]),e}(a.default.Embed);e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AlignStyle=e.AlignClass=e.AlignAttribute=void 0;var i=n(0),r=o(i);function o(t){return t&&t.__esModule?t:{default:t}}var a={scope:r.default.Scope.BLOCK,whitelist:["right","center","justify"]},s=new r.default.Attributor.Attribute("align","align",a),l=new r.default.Attributor.Class("align","ql-align",a),c=new r.default.Attributor.Style("align","text-align",a);e.AlignAttribute=s,e.AlignClass=l,e.AlignStyle=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BackgroundStyle=e.BackgroundClass=void 0;var i=n(0),r=a(i),o=n(26);function a(t){return t&&t.__esModule?t:{default:t}}var s=new r.default.Attributor.Class("background","ql-bg",{scope:r.default.Scope.INLINE}),l=new o.ColorAttributor("background","background-color",{scope:r.default.Scope.INLINE});e.BackgroundClass=s,e.BackgroundStyle=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DirectionStyle=e.DirectionClass=e.DirectionAttribute=void 0;var i=n(0),r=o(i);function o(t){return t&&t.__esModule?t:{default:t}}var a={scope:r.default.Scope.BLOCK,whitelist:["rtl"]},s=new r.default.Attributor.Attribute("direction","dir",a),l=new r.default.Attributor.Class("direction","ql-direction",a),c=new r.default.Attributor.Style("direction","direction",a);e.DirectionAttribute=s,e.DirectionClass=l,e.DirectionStyle=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontClass=e.FontStyle=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=n(0),a=s(o);function s(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function u(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f={scope:a.default.Scope.INLINE,whitelist:["serif","monospace"]},d=new a.default.Attributor.Class("font","ql-font",f),h=function(t){function e(){return l(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,t),i(e,[{key:"value",value:function(t){return r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t).replace(/["']/g,"")}}]),e}(a.default.Attributor.Style),p=new h("font","font-family",f);e.FontStyle=p,e.FontClass=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SizeStyle=e.SizeClass=void 0;var i=n(0),r=o(i);function o(t){return t&&t.__esModule?t:{default:t}}var a=new r.default.Attributor.Class("size","ql-size",{scope:r.default.Scope.INLINE,whitelist:["small","large","huge"]}),s=new r.default.Attributor.Style("size","font-size",{scope:r.default.Scope.INLINE,whitelist:["10px","18px","32px"]});e.SizeClass=a,e.SizeStyle=s},function(t,e,n){"use strict";t.exports={align:{"":n(76),center:n(77),right:n(78),justify:n(79)},background:n(80),blockquote:n(81),bold:n(82),clean:n(83),code:n(58),"code-block":n(58),color:n(84),direction:{"":n(85),rtl:n(86)},float:{center:n(87),full:n(88),left:n(89),right:n(90)},formula:n(91),header:{1:n(92),2:n(93)},italic:n(94),image:n(95),indent:{"+1":n(96),"-1":n(97)},link:n(98),list:{ordered:n(99),bullet:n(100),check:n(101)},script:{sub:n(102),super:n(103)},strike:n(104),underline:n(105),video:n(106)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLastChangeIndex=e.default=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(0),o=u(r),a=n(5),s=u(a),l=n(9),c=u(l);function u(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function h(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var p=function(t){function e(t,n){f(this,e);var i=d(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.lastRecorded=0,i.ignoreChange=!1,i.clear(),i.quill.on(s.default.events.EDITOR_CHANGE,(function(t,e,n,r){t!==s.default.events.TEXT_CHANGE||i.ignoreChange||(i.options.userOnly&&r!==s.default.sources.USER?i.transform(e):i.record(e,n))})),i.quill.keyboard.addBinding({key:"Z",shortKey:!0},i.undo.bind(i)),i.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},i.redo.bind(i)),/Win/i.test(navigator.platform)&&i.quill.keyboard.addBinding({key:"Y",shortKey:!0},i.redo.bind(i)),i}return h(e,t),i(e,[{key:"change",value:function(t,e){if(0!==this.stack[t].length){var n=this.stack[t].pop();this.stack[e].push(n),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n[t],s.default.sources.USER),this.ignoreChange=!1;var i=g(n[t]);this.quill.setSelection(i)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(t,e){if(0!==t.ops.length){this.stack.redo=[];var n=this.quill.getContents().diff(e),i=Date.now();if(this.lastRecorded+this.options.delay>i&&this.stack.undo.length>0){var r=this.stack.undo.pop();n=n.compose(r.undo),t=r.redo.compose(t)}else this.lastRecorded=i;this.stack.undo.push({redo:t,undo:n}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(t){this.stack.undo.forEach((function(e){e.undo=t.transform(e.undo,!0),e.redo=t.transform(e.redo,!0)})),this.stack.redo.forEach((function(e){e.undo=t.transform(e.undo,!0),e.redo=t.transform(e.redo,!0)}))}},{key:"undo",value:function(){this.change("undo","redo")}}]),e}(c.default);function m(t){var e=t.ops[t.ops.length-1];return null!=e&&(null!=e.insert?"string"===typeof e.insert&&e.insert.endsWith("\n"):null!=e.attributes&&Object.keys(e.attributes).some((function(t){return null!=o.default.query(t,o.default.Scope.BLOCK)})))}function g(t){var e=t.reduce((function(t,e){return t+=e.delete||0,t}),0),n=t.length()-e;return m(t)&&(n-=1),n}p.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},e.default=p,e.getLastChangeIndex=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BaseTooltip=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=n(3),a=k(o),s=n(2),l=k(s),c=n(8),u=k(c),f=n(23),d=k(f),h=n(34),p=k(h),m=n(59),g=k(m),v=n(60),y=k(v),b=n(28),_=k(b),x=n(61),w=k(x);function k(t){return t&&t.__esModule?t:{default:t}}function S(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function C(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var E=[!1,"center","right","justify"],D=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],T=[!1,"serif","monospace"],N=["1","2","3",!1],M=["small",!1,"large","huge"],A=function(t){function e(t,n){S(this,e);var i=O(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),r=function e(n){if(!document.body.contains(t.root))return document.body.removeEventListener("click",e);null==i.tooltip||i.tooltip.root.contains(n.target)||document.activeElement===i.tooltip.textbox||i.quill.hasFocus()||i.tooltip.hide(),null!=i.pickers&&i.pickers.forEach((function(t){t.container.contains(n.target)||t.close()}))};return t.emitter.listenDOM("click",document.body,r),i}return C(e,t),i(e,[{key:"addModule",value:function(t){var n=r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addModule",this).call(this,t);return"toolbar"===t&&this.extendToolbar(n),n}},{key:"buildButtons",value:function(t,e){t.forEach((function(t){var n=t.getAttribute("class")||"";n.split(/\s+/).forEach((function(n){if(n.startsWith("ql-")&&(n=n.slice("ql-".length),null!=e[n]))if("direction"===n)t.innerHTML=e[n][""]+e[n]["rtl"];else if("string"===typeof e[n])t.innerHTML=e[n];else{var i=t.value||"";null!=i&&e[n][i]&&(t.innerHTML=e[n][i])}}))}))}},{key:"buildPickers",value:function(t,e){var n=this;this.pickers=t.map((function(t){if(t.classList.contains("ql-align"))return null==t.querySelector("option")&&$(t,E),new y.default(t,e.align);if(t.classList.contains("ql-background")||t.classList.contains("ql-color")){var n=t.classList.contains("ql-background")?"background":"color";return null==t.querySelector("option")&&$(t,D,"background"===n?"#ffffff":"#000000"),new g.default(t,e[n])}return null==t.querySelector("option")&&(t.classList.contains("ql-font")?$(t,T):t.classList.contains("ql-header")?$(t,N):t.classList.contains("ql-size")&&$(t,M)),new _.default(t)}));var i=function(){n.pickers.forEach((function(t){t.update()}))};this.quill.on(u.default.events.EDITOR_CHANGE,i)}}]),e}(p.default);A.DEFAULTS=(0,a.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var t=this,e=this.container.querySelector("input.ql-image[type=file]");null==e&&(e=document.createElement("input"),e.setAttribute("type","file"),e.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),e.classList.add("ql-image"),e.addEventListener("change",(function(){if(null!=e.files&&null!=e.files[0]){var n=new FileReader;n.onload=function(n){var i=t.quill.getSelection(!0);t.quill.updateContents((new l.default).retain(i.index).delete(i.length).insert({image:n.target.result}),u.default.sources.USER),t.quill.setSelection(i.index+1,u.default.sources.SILENT),e.value=""},n.readAsDataURL(e.files[0])}})),this.container.appendChild(e)),e.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var j=function(t){function e(t,n){S(this,e);var i=O(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.textbox=i.root.querySelector('input[type="text"]'),i.listen(),i}return C(e,t),i(e,[{key:"listen",value:function(){var t=this;this.textbox.addEventListener("keydown",(function(e){d.default.match(e,"enter")?(t.save(),e.preventDefault()):d.default.match(e,"escape")&&(t.cancel(),e.preventDefault())}))}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=e?this.textbox.value=e:t!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+t)||""),this.root.setAttribute("data-mode",t)}},{key:"restoreFocus",value:function(){var t=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=t}},{key:"save",value:function(){var t=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var e=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",t,u.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",t,u.default.sources.USER)),this.quill.root.scrollTop=e;break;case"video":t=P(t);case"formula":if(!t)break;var n=this.quill.getSelection(!0);if(null!=n){var i=n.index+n.length;this.quill.insertEmbed(i,this.root.getAttribute("data-mode"),t,u.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(i+1," ",u.default.sources.USER),this.quill.setSelection(i+2,u.default.sources.USER)}break;default:}this.textbox.value="",this.hide()}}]),e}(w.default);function P(t){var e=t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return e?(e[1]||"https")+"://www.youtube.com/embed/"+e[2]+"?showinfo=0":(e=t.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(e[1]||"https")+"://player.vimeo.com/video/"+e[2]+"/":t}function $(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.forEach((function(e){var i=document.createElement("option");e===n?i.setAttribute("selected","selected"):i.setAttribute("value",e),t.appendChild(i)}))}e.BaseTooltip=j,e.default=A},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this.head=this.tail=null,this.length=0}return t.prototype.append=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.insertBefore(t[0],null),t.length>1&&this.append.apply(this,t.slice(1))},t.prototype.contains=function(t){var e,n=this.iterator();while(e=n())if(e===t)return!0;return!1},t.prototype.insertBefore=function(t,e){t&&(t.next=e,null!=e?(t.prev=e.prev,null!=e.prev&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):null!=this.tail?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)},t.prototype.offset=function(t){var e=0,n=this.head;while(null!=n){if(n===t)return e;e+=n.length(),n=n.next}return-1},t.prototype.remove=function(t){this.contains(t)&&(null!=t.prev&&(t.prev.next=t.next),null!=t.next&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)},t.prototype.iterator=function(t){return void 0===t&&(t=this.head),function(){var e=t;return null!=t&&(t=t.next),e}},t.prototype.find=function(t,e){void 0===e&&(e=!1);var n,i=this.iterator();while(n=i()){var r=n.length();if(t<r||e&&t===r&&(null==n.next||0!==n.next.length()))return[n,t];t-=r}return[null,0]},t.prototype.forEach=function(t){var e,n=this.iterator();while(e=n())t(e)},t.prototype.forEachAt=function(t,e,n){if(!(e<=0)){var i,r=this.find(t),o=r[0],a=r[1],s=t-a,l=this.iterator(o);while((i=l())&&s<t+e){var c=i.length();t>s?n(i,t-s,Math.min(e,s+c-t)):n(i,0,Math.min(c,t+e-s)),s+=c}}},t.prototype.map=function(t){return this.reduce((function(e,n){return e.push(t(n)),e}),[])},t.prototype.reduce=function(t,e){var n,i=this.iterator();while(n=i())e=t(e,n);return e},t}();e.default=i},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(17),o=n(1),a={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},s=100,l=function(t){function e(e){var n=t.call(this,e)||this;return n.scroll=n,n.observer=new MutationObserver((function(t){n.update(t)})),n.observer.observe(n.domNode,a),n.attach(),n}return i(e,t),e.prototype.detach=function(){t.prototype.detach.call(this),this.observer.disconnect()},e.prototype.deleteAt=function(e,n){this.update(),0===e&&n===this.length()?this.children.forEach((function(t){t.remove()})):t.prototype.deleteAt.call(this,e,n)},e.prototype.formatAt=function(e,n,i,r){this.update(),t.prototype.formatAt.call(this,e,n,i,r)},e.prototype.insertAt=function(e,n,i){this.update(),t.prototype.insertAt.call(this,e,n,i)},e.prototype.optimize=function(e,n){var i=this;void 0===e&&(e=[]),void 0===n&&(n={}),t.prototype.optimize.call(this,n);var a=[].slice.call(this.observer.takeRecords());while(a.length>0)e.push(a.pop());for(var l=function(t,e){void 0===e&&(e=!0),null!=t&&t!==i&&null!=t.domNode.parentNode&&(null==t.domNode[o.DATA_KEY].mutations&&(t.domNode[o.DATA_KEY].mutations=[]),e&&l(t.parent))},c=function(t){null!=t.domNode[o.DATA_KEY]&&null!=t.domNode[o.DATA_KEY].mutations&&(t instanceof r.default&&t.children.forEach(c),t.optimize(n))},u=e,f=0;u.length>0;f+=1){if(f>=s)throw new Error("[Parchment] Maximum optimize iterations reached");u.forEach((function(t){var e=o.find(t.target,!0);null!=e&&(e.domNode===t.target&&("childList"===t.type?(l(o.find(t.previousSibling,!1)),[].forEach.call(t.addedNodes,(function(t){var e=o.find(t,!1);l(e,!1),e instanceof r.default&&e.children.forEach((function(t){l(t,!1)}))}))):"attributes"===t.type&&l(e.prev)),l(e))})),this.children.forEach(c),u=[].slice.call(this.observer.takeRecords()),a=u.slice();while(a.length>0)e.push(a.pop())}},e.prototype.update=function(e,n){var i=this;void 0===n&&(n={}),e=e||this.observer.takeRecords(),e.map((function(t){var e=o.find(t.target,!0);return null==e?null:null==e.domNode[o.DATA_KEY].mutations?(e.domNode[o.DATA_KEY].mutations=[t],e):(e.domNode[o.DATA_KEY].mutations.push(t),null)})).forEach((function(t){null!=t&&t!==i&&null!=t.domNode[o.DATA_KEY]&&t.update(t.domNode[o.DATA_KEY].mutations||[],n)})),null!=this.domNode[o.DATA_KEY].mutations&&t.prototype.update.call(this,this.domNode[o.DATA_KEY].mutations,n),this.optimize(e,n)},e.blotName="scroll",e.defaultChild="block",e.scope=o.Scope.BLOCK_BLOT,e.tagName="DIV",e}(r.default);e.default=l},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(18),o=n(1);function a(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t)if(t[n]!==e[n])return!1;return!0}var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.formats=function(n){if(n.tagName!==e.tagName)return t.formats.call(this,n)},e.prototype.format=function(n,i){var o=this;n!==this.statics.blotName||i?t.prototype.format.call(this,n,i):(this.children.forEach((function(t){t instanceof r.default||(t=t.wrap(e.blotName,!0)),o.attributes.copy(t)})),this.unwrap())},e.prototype.formatAt=function(e,n,i,r){if(null!=this.formats()[i]||o.query(i,o.Scope.ATTRIBUTE)){var a=this.isolate(e,n);a.format(i,r)}else t.prototype.formatAt.call(this,e,n,i,r)},e.prototype.optimize=function(n){t.prototype.optimize.call(this,n);var i=this.formats();if(0===Object.keys(i).length)return this.unwrap();var r=this.next;r instanceof e&&r.prev===this&&a(i,r.formats())&&(r.moveChildren(this),r.remove())},e.blotName="inline",e.scope=o.Scope.INLINE_BLOT,e.tagName="SPAN",e}(r.default);e.default=s},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(18),o=n(1),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.formats=function(n){var i=o.query(e.blotName).tagName;if(n.tagName!==i)return t.formats.call(this,n)},e.prototype.format=function(n,i){null!=o.query(n,o.Scope.BLOCK)&&(n!==this.statics.blotName||i?t.prototype.format.call(this,n,i):this.replaceWith(e.blotName))},e.prototype.formatAt=function(e,n,i,r){null!=o.query(i,o.Scope.BLOCK)?this.format(i,r):t.prototype.formatAt.call(this,e,n,i,r)},e.prototype.insertAt=function(e,n,i){if(null==i||null!=o.query(n,o.Scope.INLINE))t.prototype.insertAt.call(this,e,n,i);else{var r=this.split(e),a=o.create(n,i);r.parent.insertBefore(a,r)}},e.prototype.update=function(e,n){navigator.userAgent.match(/Trident/)?this.build():t.prototype.update.call(this,e,n)},e.blotName="block",e.scope=o.Scope.BLOCK_BLOT,e.tagName="P",e}(r.default);e.default=a},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(19),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.formats=function(t){},e.prototype.format=function(e,n){t.prototype.formatAt.call(this,0,this.length(),e,n)},e.prototype.formatAt=function(e,n,i,r){0===e&&n===this.length()?this.format(i,r):t.prototype.formatAt.call(this,e,n,i,r)},e.prototype.formats=function(){return this.statics.formats(this.domNode)},e}(r.default);e.default=o},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(19),o=n(1),a=function(t){function e(e){var n=t.call(this,e)||this;return n.text=n.statics.value(n.domNode),n}return i(e,t),e.create=function(t){return document.createTextNode(t)},e.value=function(t){var e=t.data;return e["normalize"]&&(e=e["normalize"]()),e},e.prototype.deleteAt=function(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)},e.prototype.index=function(t,e){return this.domNode===t?e:-1},e.prototype.insertAt=function(e,n,i){null==i?(this.text=this.text.slice(0,e)+n+this.text.slice(e),this.domNode.data=this.text):t.prototype.insertAt.call(this,e,n,i)},e.prototype.length=function(){return this.text.length},e.prototype.optimize=function(n){t.prototype.optimize.call(this,n),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof e&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},e.prototype.position=function(t,e){return void 0===e&&(e=!1),[this.domNode,t]},e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t)return this;if(t===this.length())return this.next}var n=o.create(this.domNode.splitText(t));return this.parent.insertBefore(n,this.next),this.text=this.statics.value(this.domNode),n},e.prototype.update=function(t,e){var n=this;t.some((function(t){return"characterData"===t.type&&t.target===n.domNode}))&&(this.text=this.statics.value(this.domNode))},e.prototype.value=function(){return this.text},e.blotName="text",e.scope=o.Scope.INLINE_BLOT,e}(r.default);e.default=a},function(t,e,n){"use strict";var i=document.createElement("div");if(i.classList.toggle("test-class",!1),i.classList.contains("test-class")){var r=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return arguments.length>1&&!this.contains(t)===!e?e:r.call(this,t)}}String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return e=e||0,this.substr(e,t.length)===t}),String.prototype.endsWith||(String.prototype.endsWith=function(t,e){var n=this.toString();("number"!==typeof e||!isFinite(e)||Math.floor(e)!==e||e>n.length)&&(e=n.length),e-=t.length;var i=n.indexOf(t,e);return-1!==i&&i===e}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!==typeof t)throw new TypeError("predicate must be a function");for(var e,n=Object(this),i=n.length>>>0,r=arguments[1],o=0;o<i;o++)if(e=n[o],t.call(r,e,o,n))return e}}),document.addEventListener("DOMContentLoaded",(function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)}))},function(t,e){var n=-1,i=1,r=0;function o(t,e,n){if(t==e)return t?[[r,t]]:[];(n<0||t.length<n)&&(n=null);var i=c(t,e),o=t.substring(0,i);t=t.substring(i),e=e.substring(i),i=u(t,e);var s=t.substring(t.length-i);t=t.substring(0,t.length-i),e=e.substring(0,e.length-i);var l=a(t,e);return o&&l.unshift([r,o]),s&&l.push([r,s]),d(l),null!=n&&(l=m(l,n)),l=g(l),l}function a(t,e){var a;if(!t)return[[i,e]];if(!e)return[[n,t]];var l=t.length>e.length?t:e,c=t.length>e.length?e:t,u=l.indexOf(c);if(-1!=u)return a=[[i,l.substring(0,u)],[r,c],[i,l.substring(u+c.length)]],t.length>e.length&&(a[0][0]=a[2][0]=n),a;if(1==c.length)return[[n,t],[i,e]];var d=f(t,e);if(d){var h=d[0],p=d[1],m=d[2],g=d[3],v=d[4],y=o(h,m),b=o(p,g);return y.concat([[r,v]],b)}return s(t,e)}function s(t,e){for(var r=t.length,o=e.length,a=Math.ceil((r+o)/2),s=a,c=2*a,u=new Array(c),f=new Array(c),d=0;d<c;d++)u[d]=-1,f[d]=-1;u[s+1]=0,f[s+1]=0;for(var h=r-o,p=h%2!=0,m=0,g=0,v=0,y=0,b=0;b<a;b++){for(var _=-b+m;_<=b-g;_+=2){var x=s+_;E=_==-b||_!=b&&u[x-1]<u[x+1]?u[x+1]:u[x-1]+1;var w=E-_;while(E<r&&w<o&&t.charAt(E)==e.charAt(w))E++,w++;if(u[x]=E,E>r)g+=2;else if(w>o)m+=2;else if(p){var k=s+h-_;if(k>=0&&k<c&&-1!=f[k]){var S=r-f[k];if(E>=S)return l(t,e,E,w)}}}for(var O=-b+v;O<=b-y;O+=2){k=s+O;S=O==-b||O!=b&&f[k-1]<f[k+1]?f[k+1]:f[k-1]+1;var C=S-O;while(S<r&&C<o&&t.charAt(r-S-1)==e.charAt(o-C-1))S++,C++;if(f[k]=S,S>r)y+=2;else if(C>o)v+=2;else if(!p){x=s+h-O;if(x>=0&&x<c&&-1!=u[x]){var E=u[x];w=s+E-x;if(S=r-S,E>=S)return l(t,e,E,w)}}}}return[[n,t],[i,e]]}function l(t,e,n,i){var r=t.substring(0,n),a=e.substring(0,i),s=t.substring(n),l=e.substring(i),c=o(r,a),u=o(s,l);return c.concat(u)}function c(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;var n=0,i=Math.min(t.length,e.length),r=i,o=0;while(n<r)t.substring(o,r)==e.substring(o,r)?(n=r,o=n):i=r,r=Math.floor((i-n)/2+n);return r}function u(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;var n=0,i=Math.min(t.length,e.length),r=i,o=0;while(n<r)t.substring(t.length-r,t.length-o)==e.substring(e.length-r,e.length-o)?(n=r,o=n):i=r,r=Math.floor((i-n)/2+n);return r}function f(t,e){var n=t.length>e.length?t:e,i=t.length>e.length?e:t;if(n.length<4||2*i.length<n.length)return null;function r(t,e,n){var i,r,o,a,s=t.substring(n,n+Math.floor(t.length/4)),l=-1,f="";while(-1!=(l=e.indexOf(s,l+1))){var d=c(t.substring(n),e.substring(l)),h=u(t.substring(0,n),e.substring(0,l));f.length<h+d&&(f=e.substring(l-h,l)+e.substring(l,l+d),i=t.substring(0,n-h),r=t.substring(n+d),o=e.substring(0,l-h),a=e.substring(l+d))}return 2*f.length>=t.length?[i,r,o,a,f]:null}var o,a,s,l,f,d=r(n,i,Math.ceil(n.length/4)),h=r(n,i,Math.ceil(n.length/2));if(!d&&!h)return null;o=h?d&&d[4].length>h[4].length?d:h:d,t.length>e.length?(a=o[0],s=o[1],l=o[2],f=o[3]):(l=o[0],f=o[1],a=o[2],s=o[3]);var p=o[4];return[a,s,l,f,p]}function d(t){t.push([r,""]);var e,o=0,a=0,s=0,l="",f="";while(o<t.length)switch(t[o][0]){case i:s++,f+=t[o][1],o++;break;case n:a++,l+=t[o][1],o++;break;case r:a+s>1?(0!==a&&0!==s&&(e=c(f,l),0!==e&&(o-a-s>0&&t[o-a-s-1][0]==r?t[o-a-s-1][1]+=f.substring(0,e):(t.splice(0,0,[r,f.substring(0,e)]),o++),f=f.substring(e),l=l.substring(e)),e=u(f,l),0!==e&&(t[o][1]=f.substring(f.length-e)+t[o][1],f=f.substring(0,f.length-e),l=l.substring(0,l.length-e))),0===a?t.splice(o-s,a+s,[i,f]):0===s?t.splice(o-a,a+s,[n,l]):t.splice(o-a-s,a+s,[n,l],[i,f]),o=o-a-s+(a?1:0)+(s?1:0)+1):0!==o&&t[o-1][0]==r?(t[o-1][1]+=t[o][1],t.splice(o,1)):o++,s=0,a=0,l="",f="";break}""===t[t.length-1][1]&&t.pop();var h=!1;o=1;while(o<t.length-1)t[o-1][0]==r&&t[o+1][0]==r&&(t[o][1].substring(t[o][1].length-t[o-1][1].length)==t[o-1][1]?(t[o][1]=t[o-1][1]+t[o][1].substring(0,t[o][1].length-t[o-1][1].length),t[o+1][1]=t[o-1][1]+t[o+1][1],t.splice(o-1,1),h=!0):t[o][1].substring(0,t[o+1][1].length)==t[o+1][1]&&(t[o-1][1]+=t[o+1][1],t[o][1]=t[o][1].substring(t[o+1][1].length)+t[o+1][1],t.splice(o+1,1),h=!0)),o++;h&&d(t)}var h=o;function p(t,e){if(0===e)return[r,t];for(var i=0,o=0;o<t.length;o++){var a=t[o];if(a[0]===n||a[0]===r){var s=i+a[1].length;if(e===s)return[o+1,t];if(e<s){t=t.slice();var l=e-i,c=[a[0],a[1].slice(0,l)],u=[a[0],a[1].slice(l)];return t.splice(o,1,c,u),[o+1,t]}i=s}}throw new Error("cursor_pos is out of bounds!")}function m(t,e){var n=p(t,e),i=n[1],o=n[0],a=i[o],s=i[o+1];if(null==a)return t;if(a[0]!==r)return t;if(null!=s&&a[1]+s[1]===s[1]+a[1])return i.splice(o,2,s,a),v(i,o,2);if(null!=s&&0===s[1].indexOf(a[1])){i.splice(o,2,[s[0],a[1]],[0,a[1]]);var l=s[1].slice(a[1].length);return l.length>0&&i.splice(o+2,0,[s[0],l]),v(i,o,3)}return t}function g(t){for(var e=!1,o=function(t){return t.charCodeAt(0)>=56320&&t.charCodeAt(0)<=57343},a=function(t){return t.charCodeAt(t.length-1)>=55296&&t.charCodeAt(t.length-1)<=56319},s=2;s<t.length;s+=1)t[s-2][0]===r&&a(t[s-2][1])&&t[s-1][0]===n&&o(t[s-1][1])&&t[s][0]===i&&o(t[s][1])&&(e=!0,t[s-1][1]=t[s-2][1].slice(-1)+t[s-1][1],t[s][1]=t[s-2][1].slice(-1)+t[s][1],t[s-2][1]=t[s-2][1].slice(0,-1));if(!e)return t;var l=[];for(s=0;s<t.length;s+=1)t[s][1].length>0&&l.push(t[s]);return l}function v(t,e,n){for(var i=e+n-1;i>=0&&i>=e-1;i--)if(i+1<t.length){var r=t[i],o=t[i+1];r[0]===o[1]&&t.splice(i,2,[r[0],r[1]+o[1]])}return t}h.INSERT=i,h.DELETE=n,h.EQUAL=r,t.exports=h},function(t,e){function n(t){var e=[];for(var n in t)e.push(n);return e}e=t.exports="function"===typeof Object.keys?Object.keys:n,e.shim=n},function(t,e){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function i(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function r(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}e=t.exports=n?i:r,e.supported=i,e.unsupported=r},function(t,e){"use strict";var n=Object.prototype.hasOwnProperty,i="~";function r(){}function o(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(i=!1)),a.prototype.eventNames=function(){var t,e,r=[];if(0===this._eventsCount)return r;for(e in t=this._events)n.call(t,e)&&r.push(i?e.slice(1):e);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},a.prototype.listeners=function(t,e){var n=i?i+t:t,r=this._events[n];if(e)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var o=0,a=r.length,s=new Array(a);o<a;o++)s[o]=r[o].fn;return s},a.prototype.emit=function(t,e,n,r,o,a){var s=i?i+t:t;if(!this._events[s])return!1;var l,c,u=this._events[s],f=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),f){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,n),!0;case 4:return u.fn.call(u.context,e,n,r),!0;case 5:return u.fn.call(u.context,e,n,r,o),!0;case 6:return u.fn.call(u.context,e,n,r,o,a),!0}for(c=1,l=new Array(f-1);c<f;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var d,h=u.length;for(c=0;c<h;c++)switch(u[c].once&&this.removeListener(t,u[c].fn,void 0,!0),f){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,e);break;case 3:u[c].fn.call(u[c].context,e,n);break;case 4:u[c].fn.call(u[c].context,e,n,r);break;default:if(!l)for(d=1,l=new Array(f-1);d<f;d++)l[d-1]=arguments[d];u[c].fn.apply(u[c].context,l)}}return!0},a.prototype.on=function(t,e,n){var r=new o(e,n||this),a=i?i+t:t;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],r]:this._events[a].push(r):(this._events[a]=r,this._eventsCount++),this},a.prototype.once=function(t,e,n){var r=new o(e,n||this,!0),a=i?i+t:t;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],r]:this._events[a].push(r):(this._events[a]=r,this._eventsCount++),this},a.prototype.removeListener=function(t,e,n,o){var a=i?i+t:t;if(!this._events[a])return this;if(!e)return 0===--this._eventsCount?this._events=new r:delete this._events[a],this;var s=this._events[a];if(s.fn)s.fn!==e||o&&!s.once||n&&s.context!==n||(0===--this._eventsCount?this._events=new r:delete this._events[a]);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==e||o&&!s[l].once||n&&s[l].context!==n)&&c.push(s[l]);c.length?this._events[a]=1===c.length?c[0]:c:0===--this._eventsCount?this._events=new r:delete this._events[a]}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&(0===--this._eventsCount?this._events=new r:delete this._events[e])):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=i,a.EventEmitter=a,"undefined"!==typeof t&&(t.exports=a)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchText=e.matchSpacing=e.matchNewline=e.matchBlot=e.matchAttributor=e.default=void 0;var i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done);i=!0)if(n.push(a.value),e&&n.length===e)break}catch(err){r=!0,o=err}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(3),s=C(a),l=n(2),c=C(l),u=n(0),f=C(u),d=n(5),h=C(d),p=n(10),m=C(p),g=n(9),v=C(g),y=n(36),b=n(37),_=n(13),x=C(_),w=n(26),k=n(38),S=n(39),O=n(40);function C(t){return t&&t.__esModule?t:{default:t}}function E(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function N(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var M=(0,m.default)("quill:clipboard"),A="__ql-matcher",j=[[Node.TEXT_NODE,X],[Node.TEXT_NODE,G],["br",K],[Node.ELEMENT_NODE,G],[Node.ELEMENT_NODE,U],[Node.ELEMENT_NODE,J],[Node.ELEMENT_NODE,V],[Node.ELEMENT_NODE,Y],["li",W],["b",z.bind(z,"bold")],["i",z.bind(z,"italic")],["style",H]],P=[y.AlignAttribute,k.DirectionAttribute].reduce((function(t,e){return t[e.keyName]=e,t}),{}),$=[y.AlignStyle,b.BackgroundStyle,w.ColorStyle,k.DirectionStyle,S.FontStyle,O.SizeStyle].reduce((function(t,e){return t[e.keyName]=e,t}),{}),I=function(t){function e(t,n){D(this,e);var i=T(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.quill.root.addEventListener("paste",i.onPaste.bind(i)),i.container=i.quill.addContainer("ql-clipboard"),i.container.setAttribute("contenteditable",!0),i.container.setAttribute("tabindex",-1),i.matchers=[],j.concat(i.options.matchers).forEach((function(t){var e=r(t,2),o=e[0],a=e[1];(n.matchVisual||a!==J)&&i.addMatcher(o,a)})),i}return N(e,t),o(e,[{key:"addMatcher",value:function(t,e){this.matchers.push([t,e])}},{key:"convert",value:function(t){if("string"===typeof t)return this.container.innerHTML=t.replace(/\>\r?\n +\</g,"><"),this.convert();var e=this.quill.getFormat(this.quill.selection.savedRange.index);if(e[x.default.blotName]){var n=this.container.innerText;return this.container.innerHTML="",(new c.default).insert(n,E({},x.default.blotName,e[x.default.blotName]))}var i=this.prepareMatching(),o=r(i,2),a=o[0],s=o[1],l=F(this.container,a,s);return B(l,"\n")&&null==l.ops[l.ops.length-1].attributes&&(l=l.compose((new c.default).retain(l.length()-1).delete(1))),M.log("convert",this.container.innerHTML,l),this.container.innerHTML="",l}},{key:"dangerouslyPasteHTML",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.default.sources.API;if("string"===typeof t)this.quill.setContents(this.convert(t),e),this.quill.setSelection(0,h.default.sources.SILENT);else{var i=this.convert(e);this.quill.updateContents((new c.default).retain(t).concat(i),n),this.quill.setSelection(t+i.length(),h.default.sources.SILENT)}}},{key:"onPaste",value:function(t){var e=this;if(!t.defaultPrevented&&this.quill.isEnabled()){var n=this.quill.getSelection(),i=(new c.default).retain(n.index),r=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(h.default.sources.SILENT),setTimeout((function(){i=i.concat(e.convert()).delete(n.length),e.quill.updateContents(i,h.default.sources.USER),e.quill.setSelection(i.length()-n.length,h.default.sources.SILENT),e.quill.scrollingContainer.scrollTop=r,e.quill.focus()}),1)}}},{key:"prepareMatching",value:function(){var t=this,e=[],n=[];return this.matchers.forEach((function(i){var o=r(i,2),a=o[0],s=o[1];switch(a){case Node.TEXT_NODE:n.push(s);break;case Node.ELEMENT_NODE:e.push(s);break;default:[].forEach.call(t.container.querySelectorAll(a),(function(t){t[A]=t[A]||[],t[A].push(s)}));break}})),[e,n]}}]),e}(v.default);function L(t,e,n){return"object"===("undefined"===typeof e?"undefined":i(e))?Object.keys(e).reduce((function(t,n){return L(t,n,e[n])}),t):t.reduce((function(t,i){return i.attributes&&i.attributes[e]?t.push(i):t.insert(i.insert,(0,s.default)({},E({},e,n),i.attributes))}),new c.default)}function R(t){if(t.nodeType!==Node.ELEMENT_NODE)return{};var e="__ql-computed-style";return t[e]||(t[e]=window.getComputedStyle(t))}function B(t,e){for(var n="",i=t.ops.length-1;i>=0&&n.length<e.length;--i){var r=t.ops[i];if("string"!==typeof r.insert)break;n=r.insert+n}return n.slice(-1*e.length)===e}function q(t){if(0===t.childNodes.length)return!1;var e=R(t);return["block","list-item"].indexOf(e.display)>-1}function F(t,e,n){return t.nodeType===t.TEXT_NODE?n.reduce((function(e,n){return n(t,e)}),new c.default):t.nodeType===t.ELEMENT_NODE?[].reduce.call(t.childNodes||[],(function(i,r){var o=F(r,e,n);return r.nodeType===t.ELEMENT_NODE&&(o=e.reduce((function(t,e){return e(r,t)}),o),o=(r[A]||[]).reduce((function(t,e){return e(r,t)}),o)),i.concat(o)}),new c.default):new c.default}function z(t,e,n){return L(n,t,!0)}function V(t,e){var n=f.default.Attributor.Attribute.keys(t),i=f.default.Attributor.Class.keys(t),r=f.default.Attributor.Style.keys(t),o={};return n.concat(i).concat(r).forEach((function(e){var n=f.default.query(e,f.default.Scope.ATTRIBUTE);null!=n&&(o[n.attrName]=n.value(t),o[n.attrName])||(n=P[e],null==n||n.attrName!==e&&n.keyName!==e||(o[n.attrName]=n.value(t)||void 0),n=$[e],null==n||n.attrName!==e&&n.keyName!==e||(n=$[e],o[n.attrName]=n.value(t)||void 0))})),Object.keys(o).length>0&&(e=L(e,o)),e}function U(t,e){var n=f.default.query(t);if(null==n)return e;if(n.prototype instanceof f.default.Embed){var i={},r=n.value(t);null!=r&&(i[n.blotName]=r,e=(new c.default).insert(i,n.formats(t)))}else"function"===typeof n.formats&&(e=L(e,n.blotName,n.formats(t)));return e}function K(t,e){return B(e,"\n")||e.insert("\n"),e}function H(){return new c.default}function W(t,e){var n=f.default.query(t);if(null==n||"list-item"!==n.blotName||!B(e,"\n"))return e;var i=-1,r=t.parentNode;while(!r.classList.contains("ql-clipboard"))"list"===(f.default.query(r)||{}).blotName&&(i+=1),r=r.parentNode;return i<=0?e:e.compose((new c.default).retain(e.length()-1).retain(1,{indent:i}))}function G(t,e){return B(e,"\n")||(q(t)||e.length()>0&&t.nextSibling&&q(t.nextSibling))&&e.insert("\n"),e}function J(t,e){if(q(t)&&null!=t.nextElementSibling&&!B(e,"\n\n")){var n=t.offsetHeight+parseFloat(R(t).marginTop)+parseFloat(R(t).marginBottom);t.nextElementSibling.offsetTop>t.offsetTop+1.5*n&&e.insert("\n")}return e}function Y(t,e){var n={},i=t.style||{};return i.fontStyle&&"italic"===R(t).fontStyle&&(n.italic=!0),i.fontWeight&&(R(t).fontWeight.startsWith("bold")||parseInt(R(t).fontWeight)>=700)&&(n.bold=!0),Object.keys(n).length>0&&(e=L(e,n)),parseFloat(i.textIndent||0)>0&&(e=(new c.default).insert("\t").concat(e)),e}function X(t,e){var n=t.data;if("O:P"===t.parentNode.tagName)return e.insert(n.trim());if(0===n.trim().length&&t.parentNode.classList.contains("ql-clipboard"))return e;if(!R(t.parentNode).whiteSpace.startsWith("pre")){var i=function(t,e){return e=e.replace(/[^\u00a0]/g,""),e.length<1&&t?" ":e};n=n.replace(/\r\n/g," ").replace(/\n/g," "),n=n.replace(/\s\s+/g,i.bind(i,!0)),(null==t.previousSibling&&q(t.parentNode)||null!=t.previousSibling&&q(t.previousSibling))&&(n=n.replace(/^\s+/,i.bind(i,!1))),(null==t.nextSibling&&q(t.parentNode)||null!=t.nextSibling&&q(t.nextSibling))&&(n=n.replace(/\s+$/,i.bind(i,!1)))}return e.insert(n)}I.DEFAULTS={matchers:[],matchVisual:!0},e.default=I,e.matchAttributor=V,e.matchBlot=U,e.matchNewline=G,e.matchSpacing=J,e.matchText=X},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=n(6),a=s(o);function s(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function u(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(t){function e(){return l(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,t),i(e,[{key:"optimize",value:function(t){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return r(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),e}(a.default);f.blotName="bold",f.tagName=["STRONG","B"],e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addControls=e.default=void 0;var i=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done);i=!0)if(n.push(a.value),e&&n.length===e)break}catch(err){r=!0,o=err}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(2),a=m(o),s=n(0),l=m(s),c=n(5),u=m(c),f=n(10),d=m(f),h=n(9),p=m(h);function m(t){return t&&t.__esModule?t:{default:t}}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function b(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _=(0,d.default)("quill:toolbar"),x=function(t){function e(t,n){v(this,e);var r,o=y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));if(Array.isArray(o.options.container)){var a=document.createElement("div");k(a,o.options.container),t.container.parentNode.insertBefore(a,t.container),o.container=a}else"string"===typeof o.options.container?o.container=document.querySelector(o.options.container):o.container=o.options.container;return o.container instanceof HTMLElement?(o.container.classList.add("ql-toolbar"),o.controls=[],o.handlers={},Object.keys(o.options.handlers).forEach((function(t){o.addHandler(t,o.options.handlers[t])})),[].forEach.call(o.container.querySelectorAll("button, select"),(function(t){o.attach(t)})),o.quill.on(u.default.events.EDITOR_CHANGE,(function(t,e){t===u.default.events.SELECTION_CHANGE&&o.update(e)})),o.quill.on(u.default.events.SCROLL_OPTIMIZE,(function(){var t=o.quill.selection.getRange(),e=i(t,1),n=e[0];o.update(n)})),o):(r=_.error("Container required for toolbar",o.options),y(o,r))}return b(e,t),r(e,[{key:"addHandler",value:function(t,e){this.handlers[t]=e}},{key:"attach",value:function(t){var e=this,n=[].find.call(t.classList,(function(t){return 0===t.indexOf("ql-")}));if(n){if(n=n.slice("ql-".length),"BUTTON"===t.tagName&&t.setAttribute("type","button"),null==this.handlers[n]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[n])return void _.warn("ignoring attaching to disabled format",n,t);if(null==l.default.query(n))return void _.warn("ignoring attaching to nonexistent format",n,t)}var r="SELECT"===t.tagName?"change":"click";t.addEventListener(r,(function(r){var o=void 0;if("SELECT"===t.tagName){if(t.selectedIndex<0)return;var s=t.options[t.selectedIndex];o=!s.hasAttribute("selected")&&(s.value||!1)}else o=!t.classList.contains("ql-active")&&(t.value||!t.hasAttribute("value")),r.preventDefault();e.quill.focus();var c=e.quill.selection.getRange(),f=i(c,1),d=f[0];if(null!=e.handlers[n])e.handlers[n].call(e,o);else if(l.default.query(n).prototype instanceof l.default.Embed){if(o=prompt("Enter "+n),!o)return;e.quill.updateContents((new a.default).retain(d.index).delete(d.length).insert(g({},n,o)),u.default.sources.USER)}else e.quill.format(n,o,u.default.sources.USER);e.update(d)})),this.controls.push([n,t])}}},{key:"update",value:function(t){var e=null==t?{}:this.quill.getFormat(t);this.controls.forEach((function(n){var r=i(n,2),o=r[0],a=r[1];if("SELECT"===a.tagName){var s=void 0;if(null==t)s=null;else if(null==e[o])s=a.querySelector("option[selected]");else if(!Array.isArray(e[o])){var l=e[o];"string"===typeof l&&(l=l.replace(/\"/g,'\\"')),s=a.querySelector('option[value="'+l+'"]')}null==s?(a.value="",a.selectedIndex=-1):s.selected=!0}else if(null==t)a.classList.remove("ql-active");else if(a.hasAttribute("value")){var c=e[o]===a.getAttribute("value")||null!=e[o]&&e[o].toString()===a.getAttribute("value")||null==e[o]&&!a.getAttribute("value");a.classList.toggle("ql-active",c)}else a.classList.toggle("ql-active",null!=e[o])}))}}]),e}(p.default);function w(t,e,n){var i=document.createElement("button");i.setAttribute("type","button"),i.classList.add("ql-"+e),null!=n&&(i.value=n),t.appendChild(i)}function k(t,e){Array.isArray(e[0])||(e=[e]),e.forEach((function(e){var n=document.createElement("span");n.classList.add("ql-formats"),e.forEach((function(t){if("string"===typeof t)w(n,t);else{var e=Object.keys(t)[0],i=t[e];Array.isArray(i)?S(n,e,i):w(n,e,i)}})),t.appendChild(n)}))}function S(t,e,n){var i=document.createElement("select");i.classList.add("ql-"+e),n.forEach((function(t){var e=document.createElement("option");!1!==t?e.setAttribute("value",t):e.setAttribute("selected","selected"),i.appendChild(e)})),t.appendChild(i)}x.DEFAULTS={},x.DEFAULTS={container:null,handlers:{clean:function(){var t=this,e=this.quill.getSelection();if(null!=e)if(0==e.length){var n=this.quill.getFormat();Object.keys(n).forEach((function(e){null!=l.default.query(e,l.default.Scope.INLINE)&&t.quill.format(e,!1)}))}else this.quill.removeFormat(e,u.default.sources.USER)},direction:function(t){var e=this.quill.getFormat()["align"];"rtl"===t&&null==e?this.quill.format("align","right",u.default.sources.USER):t||"right"!==e||this.quill.format("align",!1,u.default.sources.USER),this.quill.format("direction",t,u.default.sources.USER)},indent:function(t){var e=this.quill.getSelection(),n=this.quill.getFormat(e),i=parseInt(n.indent||0);if("+1"===t||"-1"===t){var r="+1"===t?1:-1;"rtl"===n.direction&&(r*=-1),this.quill.format("indent",i+r,u.default.sources.USER)}},link:function(t){!0===t&&(t=prompt("Enter link URL:")),this.quill.format("link",t,u.default.sources.USER)},list:function(t){var e=this.quill.getSelection(),n=this.quill.getFormat(e);"check"===t?"checked"===n["list"]||"unchecked"===n["list"]?this.quill.format("list",!1,u.default.sources.USER):this.quill.format("list","unchecked",u.default.sources.USER):this.quill.format("list",t,u.default.sources.USER)}}},e.default=x,e.addControls=k},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=n(28),a=s(o);function s(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function u(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(t){function e(t,n){l(this,e);var i=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.label.innerHTML=n,i.container.classList.add("ql-color-picker"),[].slice.call(i.container.querySelectorAll(".ql-picker-item"),0,7).forEach((function(t){t.classList.add("ql-primary")})),i}return u(e,t),i(e,[{key:"buildItem",value:function(t){var n=r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"buildItem",this).call(this,t);return n.style.backgroundColor=t.getAttribute("value")||"",n}},{key:"selectItem",value:function(t,n){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"selectItem",this).call(this,t,n);var i=this.label.querySelector(".ql-color-label"),o=t&&t.getAttribute("data-value")||"";i&&("line"===i.tagName?i.style.stroke=o:i.style.fill=o)}}]),e}(a.default);e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=n(28),a=s(o);function s(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function u(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(t){function e(t,n){l(this,e);var i=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.container.classList.add("ql-icon-picker"),[].forEach.call(i.container.querySelectorAll(".ql-picker-item"),(function(t){t.innerHTML=n[t.getAttribute("data-value")||""]})),i.defaultItem=i.container.querySelector(".ql-selected"),i.selectItem(i.defaultItem),i}return u(e,t),i(e,[{key:"selectItem",value:function(t,n){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"selectItem",this).call(this,t,n),t=t||this.defaultItem,this.label.innerHTML=t.innerHTML}}]),e}(a.default);e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(e,n){var i=this;r(this,t),this.quill=e,this.boundsContainer=n||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",(function(){i.root.style.marginTop=-1*i.quill.root.scrollTop+"px"})),this.hide()}return i(t,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(t){var e=t.left+t.width/2-this.root.offsetWidth/2,n=t.bottom+this.quill.root.scrollTop;this.root.style.left=e+"px",this.root.style.top=n+"px",this.root.classList.remove("ql-flip");var i=this.boundsContainer.getBoundingClientRect(),r=this.root.getBoundingClientRect(),o=0;if(r.right>i.right&&(o=i.right-r.right,this.root.style.left=e+o+"px"),r.left<i.left&&(o=i.left-r.left,this.root.style.left=e+o+"px"),r.bottom>i.bottom){var a=r.bottom-r.top,s=t.bottom-t.top+a;this.root.style.top=n-s+"px",this.root.classList.add("ql-flip")}return o}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done);i=!0)if(n.push(a.value),e&&n.length===e)break}catch(err){r=!0,o=err}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=n(3),s=v(a),l=n(8),c=v(l),u=n(43),f=v(u),d=n(27),h=v(d),p=n(15),m=n(41),g=v(m);function v(t){return t&&t.__esModule?t:{default:t}}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function _(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var x=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],w=function(t){function e(t,n){y(this,e),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=x);var i=b(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.quill.container.classList.add("ql-snow"),i}return _(e,t),o(e,[{key:"extendToolbar",value:function(t){t.container.classList.add("ql-snow"),this.buildButtons([].slice.call(t.container.querySelectorAll("button")),g.default),this.buildPickers([].slice.call(t.container.querySelectorAll("select")),g.default),this.tooltip=new k(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},(function(e,n){t.handlers["link"].call(t,!n.format.link)}))}}]),e}(f.default);w.DEFAULTS=(0,s.default)(!0,{},f.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(t){if(t){var e=this.quill.getSelection();if(null==e||0==e.length)return;var n=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(n)&&0!==n.indexOf("mailto:")&&(n="mailto:"+n);var i=this.quill.theme.tooltip;i.edit("link",n)}else this.quill.format("link",!1)}}}}});var k=function(t){function e(t,n){y(this,e);var i=b(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.preview=i.root.querySelector("a.ql-preview"),i}return _(e,t),o(e,[{key:"listen",value:function(){var t=this;r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",(function(e){t.root.classList.contains("ql-editing")?t.save():t.edit("link",t.preview.textContent),e.preventDefault()})),this.root.querySelector("a.ql-remove").addEventListener("click",(function(e){if(null!=t.linkRange){var n=t.linkRange;t.restoreFocus(),t.quill.formatText(n,"link",!1,c.default.sources.USER),delete t.linkRange}e.preventDefault(),t.hide()})),this.quill.on(c.default.events.SELECTION_CHANGE,(function(e,n,r){if(null!=e){if(0===e.length&&r===c.default.sources.USER){var o=t.quill.scroll.descendant(h.default,e.index),a=i(o,2),s=a[0],l=a[1];if(null!=s){t.linkRange=new p.Range(e.index-l,s.length());var u=h.default.formats(s.domNode);return t.preview.textContent=u,t.preview.setAttribute("href",u),t.show(),void t.position(t.quill.getBounds(t.linkRange))}}else delete t.linkRange;t.hide()}}))}},{key:"show",value:function(){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),e}(u.BaseTooltip);k.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),e.default=w},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(29),r=nt(i),o=n(36),a=n(38),s=n(64),l=n(65),c=nt(l),u=n(66),f=nt(u),d=n(67),h=nt(d),p=n(37),m=n(26),g=n(39),v=n(40),y=n(56),b=nt(y),_=n(68),x=nt(_),w=n(27),k=nt(w),S=n(69),O=nt(S),C=n(70),E=nt(C),D=n(71),T=nt(D),N=n(72),M=nt(N),A=n(73),j=nt(A),P=n(13),$=nt(P),I=n(74),L=nt(I),R=n(75),B=nt(R),q=n(57),F=nt(q),z=n(41),V=nt(z),U=n(28),K=nt(U),H=n(59),W=nt(H),G=n(60),J=nt(G),Y=n(61),X=nt(Y),Z=n(108),Q=nt(Z),tt=n(62),et=nt(tt);function nt(t){return t&&t.__esModule?t:{default:t}}r.default.register({"attributors/attribute/direction":a.DirectionAttribute,"attributors/class/align":o.AlignClass,"attributors/class/background":p.BackgroundClass,"attributors/class/color":m.ColorClass,"attributors/class/direction":a.DirectionClass,"attributors/class/font":g.FontClass,"attributors/class/size":v.SizeClass,"attributors/style/align":o.AlignStyle,"attributors/style/background":p.BackgroundStyle,"attributors/style/color":m.ColorStyle,"attributors/style/direction":a.DirectionStyle,"attributors/style/font":g.FontStyle,"attributors/style/size":v.SizeStyle},!0),r.default.register({"formats/align":o.AlignClass,"formats/direction":a.DirectionClass,"formats/indent":s.IndentClass,"formats/background":p.BackgroundStyle,"formats/color":m.ColorStyle,"formats/font":g.FontClass,"formats/size":v.SizeClass,"formats/blockquote":c.default,"formats/code-block":$.default,"formats/header":f.default,"formats/list":h.default,"formats/bold":b.default,"formats/code":P.Code,"formats/italic":x.default,"formats/link":k.default,"formats/script":O.default,"formats/strike":E.default,"formats/underline":T.default,"formats/image":M.default,"formats/video":j.default,"formats/list/item":d.ListItem,"modules/formula":L.default,"modules/syntax":B.default,"modules/toolbar":F.default,"themes/bubble":Q.default,"themes/snow":et.default,"ui/icons":V.default,"ui/picker":K.default,"ui/icon-picker":J.default,"ui/color-picker":W.default,"ui/tooltip":X.default},!0),e.default=r.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentClass=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=n(0),a=s(o);function s(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function u(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(t){function e(){return l(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,t),i(e,[{key:"add",value:function(t,n){if("+1"===n||"-1"===n){var i=this.value(t)||0;n="+1"===n?i+1:i-1}return 0===n?(this.remove(t),!0):r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"add",this).call(this,t,n)}},{key:"canAdd",value:function(t,n){return r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"canAdd",this).call(this,t,n)||r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"canAdd",this).call(this,t,parseInt(n))}},{key:"value",value:function(t){return parseInt(r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t))||void 0}}]),e}(a.default.Attributor.Class),d=new f("indent","ql-indent",{scope:a.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});e.IndentClass=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),r=o(i);function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function l(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(t){function e(){return a(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),e}(r.default);c.blotName="blockquote",c.tagName="blockquote",e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(4),o=a(r);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function c(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(t){function e(){return s(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return c(e,t),i(e,null,[{key:"formats",value:function(t){return this.tagName.indexOf(t.tagName)+1}}]),e}(o.default);u.blotName="header",u.tagName=["H1","H2","H3","H4","H5","H6"],e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ListItem=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=n(0),a=f(o),s=n(4),l=f(s),c=n(25),u=f(c);function f(t){return t&&t.__esModule?t:{default:t}}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function m(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var g=function(t){function e(){return h(this,e),p(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return m(e,t),i(e,[{key:"format",value:function(t,n){t!==v.blotName||n?r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n):this.replaceWith(a.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(t,n){return this.parent.isolate(this.offset(this.parent),this.length()),t===this.parent.statics.blotName?(this.parent.replaceWith(t,n),this):(this.parent.unwrap(),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replaceWith",this).call(this,t,n))}}],[{key:"formats",value:function(t){return t.tagName===this.tagName?void 0:r(e.__proto__||Object.getPrototypeOf(e),"formats",this).call(this,t)}}]),e}(l.default);g.blotName="list-item",g.tagName="LI";var v=function(t){function e(t){h(this,e);var n=p(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),i=function(e){if(e.target.parentNode===t){var i=n.statics.formats(t),r=a.default.find(e.target);"checked"===i?r.format("list","unchecked"):"unchecked"===i&&r.format("list","checked")}};return t.addEventListener("touchstart",i),t.addEventListener("mousedown",i),n}return m(e,t),i(e,null,[{key:"create",value:function(t){var n="ordered"===t?"OL":"UL",i=r(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,n);return"checked"!==t&&"unchecked"!==t||i.setAttribute("data-checked","checked"===t),i}},{key:"formats",value:function(t){return"OL"===t.tagName?"ordered":"UL"===t.tagName?t.hasAttribute("data-checked")?"true"===t.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),i(e,[{key:"format",value:function(t,e){this.children.length>0&&this.children.tail.format(t,e)}},{key:"formats",value:function(){return d({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(t,n){if(t instanceof g)r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,n);else{var i=null==n?this.length():n.offset(this),o=this.split(i);o.parent.insertBefore(t,o)}}},{key:"optimize",value:function(t){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&n.domNode.tagName===this.domNode.tagName&&n.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(n.moveChildren(this),n.remove())}},{key:"replace",value:function(t){if(t.statics.blotName!==this.statics.blotName){var n=a.default.create(this.statics.defaultChild);t.moveChildren(n),this.appendChild(n)}r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replace",this).call(this,t)}}]),e}(u.default);v.blotName="list",v.scope=a.default.Scope.BLOCK_BLOT,v.tagName=["OL","UL"],v.defaultChild="list-item",v.allowedChildren=[g],e.ListItem=g,e.default=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(56),r=o(i);function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function l(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(t){function e(){return a(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),e}(r.default);c.blotName="italic",c.tagName=["EM","I"],e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=n(6),a=s(o);function s(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function u(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(t){function e(){return l(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u(e,t),i(e,null,[{key:"create",value:function(t){return"super"===t?document.createElement("sup"):"sub"===t?document.createElement("sub"):r(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t)}},{key:"formats",value:function(t){return"SUB"===t.tagName?"sub":"SUP"===t.tagName?"super":void 0}}]),e}(a.default);f.blotName="script",f.tagName=["SUB","SUP"],e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),r=o(i);function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function l(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(t){function e(){return a(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),e}(r.default);c.blotName="strike",c.tagName="S",e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),r=o(i);function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function l(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(t){function e(){return a(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),e}(r.default);c.blotName="underline",c.tagName="U",e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=n(0),a=l(o),s=n(27);function l(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function f(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var d=["alt","height","width"],h=function(t){function e(){return c(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return f(e,t),i(e,[{key:"format",value:function(t,n){d.indexOf(t)>-1?n?this.domNode.setAttribute(t,n):this.domNode.removeAttribute(t):r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n)}}],[{key:"create",value:function(t){var n=r(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return"string"===typeof t&&n.setAttribute("src",this.sanitize(t)),n}},{key:"formats",value:function(t){return d.reduce((function(e,n){return t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e}),{})}},{key:"match",value:function(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}},{key:"sanitize",value:function(t){return(0,s.sanitize)(t,["http","https","data"])?t:"//:0"}},{key:"value",value:function(t){return t.getAttribute("src")}}]),e}(a.default.Embed);h.blotName="image",h.tagName="IMG",e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=n(4),a=n(27),s=l(a);function l(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function f(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var d=["height","width"],h=function(t){function e(){return c(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return f(e,t),i(e,[{key:"format",value:function(t,n){d.indexOf(t)>-1?n?this.domNode.setAttribute(t,n):this.domNode.removeAttribute(t):r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n)}}],[{key:"create",value:function(t){var n=r(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen",!0),n.setAttribute("src",this.sanitize(t)),n}},{key:"formats",value:function(t){return d.reduce((function(e,n){return t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e}),{})}},{key:"sanitize",value:function(t){return s.default.sanitize(t)}},{key:"value",value:function(t){return t.getAttribute("src")}}]),e}(o.BlockEmbed);h.blotName="video",h.className="ql-video",h.tagName="IFRAME",e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.FormulaBlot=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=n(35),a=f(o),s=n(5),l=f(s),c=n(9),u=f(c);function f(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function p(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var m=function(t){function e(){return d(this,e),h(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return p(e,t),i(e,null,[{key:"create",value:function(t){var n=r(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return"string"===typeof t&&(window.katex.render(t,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",t)),n}},{key:"value",value:function(t){return t.getAttribute("data-value")}}]),e}(a.default);m.blotName="formula",m.className="ql-formula",m.tagName="SPAN";var g=function(t){function e(){d(this,e);var t=h(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return t}return p(e,t),i(e,null,[{key:"register",value:function(){l.default.register(m,!0)}}]),e}(u.default);e.FormulaBlot=m,e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.CodeToken=e.CodeBlock=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=n(0),a=h(o),s=n(5),l=h(s),c=n(9),u=h(c),f=n(13),d=h(f);function h(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function g(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var v=function(t){function e(){return p(this,e),m(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return g(e,t),i(e,[{key:"replaceWith",value:function(t){this.domNode.textContent=this.domNode.textContent,this.attach(),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replaceWith",this).call(this,t)}},{key:"highlight",value:function(t){var e=this.domNode.textContent;this.cachedText!==e&&((e.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=t(e),this.domNode.normalize(),this.attach()),this.cachedText=e)}}]),e}(d.default);v.className="ql-syntax";var y=new a.default.Attributor.Class("token","hljs",{scope:a.default.Scope.INLINE}),b=function(t){function e(t,n){p(this,e);var i=m(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));if("function"!==typeof i.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var r=null;return i.quill.on(l.default.events.SCROLL_OPTIMIZE,(function(){clearTimeout(r),r=setTimeout((function(){i.highlight(),r=null}),i.options.interval)})),i.highlight(),i}return g(e,t),i(e,null,[{key:"register",value:function(){l.default.register(y,!0),l.default.register(v,!0)}}]),i(e,[{key:"highlight",value:function(){var t=this;if(!this.quill.selection.composing){this.quill.update(l.default.sources.USER);var e=this.quill.getSelection();this.quill.scroll.descendants(v).forEach((function(e){e.highlight(t.options.highlight)})),this.quill.update(l.default.sources.SILENT),null!=e&&this.quill.setSelection(e,l.default.sources.SILENT)}}}]),e}(u.default);b.DEFAULTS={highlight:function(){return null==window.hljs?null:function(t){var e=window.hljs.highlightAuto(t);return e.value}}(),interval:1e3},e.CodeBlock=v,e.CodeToken=y,e.default=b},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(t,e){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(t,e){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(t,e){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(t,e){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BubbleTooltip=void 0;var i=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(3),a=p(o),s=n(8),l=p(s),c=n(43),u=p(c),f=n(15),d=n(41),h=p(d);function p(t){return t&&t.__esModule?t:{default:t}}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function v(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var y=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],b=function(t){function e(t,n){m(this,e),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=y);var i=g(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.quill.container.classList.add("ql-bubble"),i}return v(e,t),r(e,[{key:"extendToolbar",value:function(t){this.tooltip=new _(this.quill,this.options.bounds),this.tooltip.root.appendChild(t.container),this.buildButtons([].slice.call(t.container.querySelectorAll("button")),h.default),this.buildPickers([].slice.call(t.container.querySelectorAll("select")),h.default)}}]),e}(u.default);b.DEFAULTS=(0,a.default)(!0,{},u.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(t){t?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var _=function(t){function e(t,n){m(this,e);var i=g(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.quill.on(l.default.events.EDITOR_CHANGE,(function(t,e,n,r){if(t===l.default.events.SELECTION_CHANGE)if(null!=e&&e.length>0&&r===l.default.sources.USER){i.show(),i.root.style.left="0px",i.root.style.width="",i.root.style.width=i.root.offsetWidth+"px";var o=i.quill.getLines(e.index,e.length);if(1===o.length)i.position(i.quill.getBounds(e));else{var a=o[o.length-1],s=i.quill.getIndex(a),c=Math.min(a.length()-1,e.index+e.length-s),u=i.quill.getBounds(new f.Range(s,c));i.position(u)}}else document.activeElement!==i.textbox&&i.quill.hasFocus()&&i.hide()})),i}return v(e,t),r(e,[{key:"listen",value:function(){var t=this;i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",(function(){t.root.classList.remove("ql-editing")})),this.quill.on(l.default.events.SCROLL_OPTIMIZE,(function(){setTimeout((function(){if(!t.root.classList.contains("ql-hidden")){var e=t.quill.getSelection();null!=e&&t.position(t.quill.getBounds(e))}}),1)}))}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(t){var n=i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"position",this).call(this,t),r=this.root.querySelector(".ql-tooltip-arrow");if(r.style.marginLeft="",0===n)return n;r.style.marginLeft=-1*n-r.offsetWidth/2+"px"}}]),e}(c.BaseTooltip);_.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),e.BubbleTooltip=_,e.default=b},function(t,e,n){t.exports=n(63)}])["default"]}))}).call(this,n(520).Buffer)},function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var i=n(521),r=n(522),o=n(523);function a(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"===typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}function s(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function l(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=c.prototype):(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,n){if(!c.TYPED_ARRAY_SUPPORT&&!(this instanceof c))return new c(t,e,n);if("number"===typeof t){if("string"===typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return u(this,t,e,n)}function u(t,e,n,i){if("number"===typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer?g(t,e,n,i):"string"===typeof e?p(t,e,n):v(t,e)}function f(t){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function d(t,e,n,i){return f(e),e<=0?l(t,e):void 0!==n?"string"===typeof i?l(t,e).fill(n,i):l(t,e).fill(n):l(t,e)}function h(t,e){if(f(e),t=l(t,e<0?0:0|y(e)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function p(t,e,n){if("string"===typeof n&&""!==n||(n="utf8"),!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|_(e,n);t=l(t,i);var r=t.write(e,n);return r!==i&&(t=t.slice(0,r)),t}function m(t,e){var n=e.length<0?0:0|y(e.length);t=l(t,n);for(var i=0;i<n;i+=1)t[i]=255&e[i];return t}function g(t,e,n,i){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i),c.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=c.prototype):t=m(t,e),t}function v(t,e){if(c.isBuffer(e)){var n=0|y(e.length);return t=l(t,n),0===t.length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!==typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!==typeof e.length||et(e.length)?l(t,0):m(t,e);if("Buffer"===e.type&&o(e.data))return m(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function y(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function b(t){return+t!=t&&(t=0),c.alloc(+t)}function _(t,e){if(c.isBuffer(t))return t.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!==typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return Y(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Q(t).length;default:if(i)return Y(t).length;e=(""+e).toLowerCase(),i=!0}}function x(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";t||(t="utf8");while(1)switch(t){case"hex":return L(this,e,n);case"utf8":case"utf-8":return A(this,e,n);case"ascii":return $(this,e,n);case"latin1":case"binary":return I(this,e,n);case"base64":return M(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function w(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function k(t,e,n,i,r){if(0===t.length)return-1;if("string"===typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(r)return-1;n=t.length-1}else if(n<0){if(!r)return-1;n=0}if("string"===typeof e&&(e=c.from(e,i)),c.isBuffer(e))return 0===e.length?-1:S(t,e,n,i,r);if("number"===typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):S(t,[e],n,i,r);throw new TypeError("val must be string, number or Buffer")}function S(t,e,n,i,r){var o,a=1,s=t.length,l=e.length;if(void 0!==i&&(i=String(i).toLowerCase(),"ucs2"===i||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;a=2,s/=2,l/=2,n/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(r){var u=-1;for(o=n;o<s;o++)if(c(t,o)===c(e,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===l)return u*a}else-1!==u&&(o-=o-u),u=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){for(var f=!0,d=0;d<l;d++)if(c(t,o+d)!==c(e,d)){f=!1;break}if(f)return o}return-1}function O(t,e,n,i){n=Number(n)||0;var r=t.length-n;i?(i=Number(i),i>r&&(i=r)):i=r;var o=e.length;if(o%2!==0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var a=0;a<i;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function C(t,e,n,i){return tt(Y(e,t.length-n),t,n,i)}function E(t,e,n,i){return tt(X(e),t,n,i)}function D(t,e,n,i){return E(t,e,n,i)}function T(t,e,n,i){return tt(Q(e),t,n,i)}function N(t,e,n,i){return tt(Z(e,t.length-n),t,n,i)}function M(t,e,n){return 0===e&&n===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,n))}function A(t,e,n){n=Math.min(t.length,n);var i=[],r=e;while(r<n){var o,a,s,l,c=t[r],u=null,f=c>239?4:c>223?3:c>191?2:1;if(r+f<=n)switch(f){case 1:c<128&&(u=c);break;case 2:o=t[r+1],128===(192&o)&&(l=(31&c)<<6|63&o,l>127&&(u=l));break;case 3:o=t[r+1],a=t[r+2],128===(192&o)&&128===(192&a)&&(l=(15&c)<<12|(63&o)<<6|63&a,l>2047&&(l<55296||l>57343)&&(u=l));break;case 4:o=t[r+1],a=t[r+2],s=t[r+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(l=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s,l>65535&&l<1114112&&(u=l))}null===u?(u=65533,f=1):u>65535&&(u-=65536,i.push(u>>>10&1023|55296),u=56320|1023&u),i.push(u),r+=f}return P(i)}e.Buffer=c,e.SlowBuffer=b,e.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:a(),e.kMaxLength=s(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,n){return u(null,t,e,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,n){return d(null,t,e,n)},c.allocUnsafe=function(t){return h(null,t)},c.allocUnsafeSlow=function(t){return h(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,r=0,o=Math.min(n,i);r<o;++r)if(t[r]!==e[r]){n=t[r],i=e[r];break}return n<i?-1:i<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=c.allocUnsafe(e),r=0;for(n=0;n<t.length;++n){var a=t[n];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,r),r+=a.length}return i},c.byteLength=_,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)w(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)w(this,e,e+3),w(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)w(this,e,e+7),w(this,e+1,e+6),w(this,e+2,e+5),w(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?A(this,0,t):x.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,n,i,r){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),e<0||n>t.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&e>=n)return 0;if(i>=r)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,i>>>=0,r>>>=0,this===t)return 0;for(var o=r-i,a=n-e,s=Math.min(o,a),l=this.slice(i,r),u=t.slice(e,n),f=0;f<s;++f)if(l[f]!==u[f]){o=l[f],a=u[f];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return k(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return k(this,t,e,n,!1)},c.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"===typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-e;if((void 0===n||n>r)&&(n=r),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return O(this,t,e,n);case"utf8":case"utf-8":return C(this,t,e,n);case"ascii":return E(this,t,e,n);case"latin1":case"binary":return D(this,t,e,n);case"base64":return T(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var j=4096;function P(t){var e=t.length;if(e<=j)return String.fromCharCode.apply(String,t);var n="",i=0;while(i<e)n+=String.fromCharCode.apply(String,t.slice(i,i+=j));return n}function $(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(127&t[r]);return i}function I(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(t[r]);return i}function L(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=e;o<n;++o)r+=J(t[o]);return r}function R(t,e,n){for(var i=t.slice(e,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function B(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function q(t,e,n,i,r,o){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<o)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function F(t,e,n,i){e<0&&(e=65535+e+1);for(var r=0,o=Math.min(t.length-n,2);r<o;++r)t[n+r]=(e&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function z(t,e,n,i){e<0&&(e=4294967295+e+1);for(var r=0,o=Math.min(t.length-n,4);r<o;++r)t[n+r]=e>>>8*(i?r:3-r)&255}function V(t,e,n,i,r,o){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function U(t,e,n,i,o){return o||V(t,e,n,4,34028234663852886e22,-34028234663852886e22),r.write(t,e,n,i,23,4),n+4}function K(t,e,n,i,o){return o||V(t,e,n,8,17976931348623157e292,-17976931348623157e292),r.write(t,e,n,i,52,8),n+8}c.prototype.slice=function(t,e){var n,i=this.length;if(t=~~t,e=void 0===e?i:~~e,t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)n=this.subarray(t,e),n.__proto__=c.prototype;else{var r=e-t;n=new c(r,void 0);for(var o=0;o<r;++o)n[o]=this[o+t]}return n},c.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||B(t,e,this.length);var i=this[t],r=1,o=0;while(++o<e&&(r*=256))i+=this[t+o]*r;return i},c.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||B(t,e,this.length);var i=this[t+--e],r=1;while(e>0&&(r*=256))i+=this[t+--e]*r;return i},c.prototype.readUInt8=function(t,e){return e||B(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||B(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||B(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||B(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||B(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||B(t,e,this.length);var i=this[t],r=1,o=0;while(++o<e&&(r*=256))i+=this[t+o]*r;return r*=128,i>=r&&(i-=Math.pow(2,8*e)),i},c.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||B(t,e,this.length);var i=e,r=1,o=this[t+--i];while(i>0&&(r*=256))o+=this[t+--i]*r;return r*=128,o>=r&&(o-=Math.pow(2,8*e)),o},c.prototype.readInt8=function(t,e){return e||B(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||B(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){e||B(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return e||B(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||B(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||B(t,4,this.length),r.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||B(t,4,this.length),r.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||B(t,8,this.length),r.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||B(t,8,this.length),r.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,n,i){if(t=+t,e|=0,n|=0,!i){var r=Math.pow(2,8*n)-1;q(this,t,e,n,r,0)}var o=1,a=0;this[e]=255&t;while(++a<n&&(o*=256))this[e+a]=t/o&255;return e+n},c.prototype.writeUIntBE=function(t,e,n,i){if(t=+t,e|=0,n|=0,!i){var r=Math.pow(2,8*n)-1;q(this,t,e,n,r,0)}var o=n-1,a=1;this[e+o]=255&t;while(--o>=0&&(a*=256))this[e+o]=t/a&255;return e+n},c.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||q(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||q(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):F(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||q(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):F(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||q(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):z(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||q(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):z(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);q(this,t,e,n,r-1,-r)}var o=0,a=1,s=0;this[e]=255&t;while(++o<n&&(a*=256))t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},c.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);q(this,t,e,n,r-1,-r)}var o=n-1,a=1,s=0;this[e+o]=255&t;while(--o>=0&&(a*=256))t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||q(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||q(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):F(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||q(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):F(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||q(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):z(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||q(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):z(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,n){return U(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return U(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return K(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return K(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var r,o=i-n;if(this===t&&n<e&&e<i)for(r=o-1;r>=0;--r)t[r+e]=this[r+n];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)t[r+e]=this[r+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},c.prototype.fill=function(t,e,n,i){if("string"===typeof t){if("string"===typeof e?(i=e,e=0,n=this.length):"string"===typeof n&&(i=n,n=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==i&&"string"!==typeof i)throw new TypeError("encoding must be a string");if("string"===typeof i&&!c.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"===typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"===typeof t)for(o=e;o<n;++o)this[o]=t;else{var a=c.isBuffer(t)?t:Y(new c(t,i).toString()),s=a.length;for(o=0;o<n-e;++o)this[o+e]=a[o%s]}return this};var H=/[^+\/0-9A-Za-z-_]/g;function W(t){if(t=G(t).replace(H,""),t.length<2)return"";while(t.length%4!==0)t+="=";return t}function G(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function J(t){return t<16?"0"+t.toString(16):t.toString(16)}function Y(t,e){var n;e=e||1/0;for(var i=t.length,r=null,o=[],a=0;a<i;++a){if(n=t.charCodeAt(a),n>55295&&n<57344){if(!r){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===i){(e-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function X(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function Z(t,e){for(var n,i,r,o=[],a=0;a<t.length;++a){if((e-=2)<0)break;n=t.charCodeAt(a),i=n>>8,r=n%256,o.push(r),o.push(i)}return o}function Q(t){return i.toByteArray(W(t))}function tt(t,e,n,i){for(var r=0;r<i;++r){if(r+n>=e.length||r>=t.length)break;e[r+n]=t[r]}return r}function et(t){return t!==t}}).call(this,n(250))},function(t,e,n){"use strict";e.byteLength=u,e.toByteArray=d,e.fromByteArray=m;for(var i=[],r=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)i[s]=a[s],r[a.charCodeAt(s)]=s;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");-1===n&&(n=e);var i=n===e?0:4-n%4;return[n,i]}function u(t){var e=c(t),n=e[0],i=e[1];return 3*(n+i)/4-i}function f(t,e,n){return 3*(e+n)/4-n}function d(t){var e,n,i=c(t),a=i[0],s=i[1],l=new o(f(t,a,s)),u=0,d=s>0?a-4:a;for(n=0;n<d;n+=4)e=r[t.charCodeAt(n)]<<18|r[t.charCodeAt(n+1)]<<12|r[t.charCodeAt(n+2)]<<6|r[t.charCodeAt(n+3)],l[u++]=e>>16&255,l[u++]=e>>8&255,l[u++]=255&e;return 2===s&&(e=r[t.charCodeAt(n)]<<2|r[t.charCodeAt(n+1)]>>4,l[u++]=255&e),1===s&&(e=r[t.charCodeAt(n)]<<10|r[t.charCodeAt(n+1)]<<4|r[t.charCodeAt(n+2)]>>2,l[u++]=e>>8&255,l[u++]=255&e),l}function h(t){return i[t>>18&63]+i[t>>12&63]+i[t>>6&63]+i[63&t]}function p(t,e,n){for(var i,r=[],o=e;o<n;o+=3)i=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),r.push(h(i));return r.join("")}function m(t){for(var e,n=t.length,r=n%3,o=[],a=16383,s=0,l=n-r;s<l;s+=a)o.push(p(t,s,s+a>l?l:s+a));return 1===r?(e=t[n-1],o.push(i[e>>2]+i[e<<4&63]+"==")):2===r&&(e=(t[n-2]<<8)+t[n-1],o.push(i[e>>10]+i[e>>4&63]+i[e<<2&63]+"=")),o.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(t,e){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,n,i,r){var o,a,s=8*r-i-1,l=(1<<s)-1,c=l>>1,u=-7,f=n?r-1:0,d=n?-1:1,h=t[e+f];for(f+=d,o=h&(1<<-u)-1,h>>=-u,u+=s;u>0;o=256*o+t[e+f],f+=d,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=i;u>0;a=256*a+t[e+f],f+=d,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,i),o-=c}return(h?-1:1)*a*Math.pow(2,o-i)},e.write=function(t,e,n,i,r,o){var a,s,l,c=8*o-r-1,u=(1<<c)-1,f=u>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,h=i?0:o-1,p=i?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),e+=a+f>=1?d/l:d*Math.pow(2,1-f),e*l>=2&&(a++,l/=2),a+f>=u?(s=0,a=u):a+f>=1?(s=(e*l-1)*Math.pow(2,r),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,r),a=0));r>=8;t[n+h]=255&s,h+=p,s/=256,r-=8);for(a=a<<r|s,c+=r;c>0;t[n+h]=255&a,h+=p,a/=256,c-=8);t[n+h-p]|=128*m}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){t.exports=n.p+"modules/platform/img/201.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/101.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/301.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/302.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/102.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/103.png"},function(t,e,n){"use strict";n.r(e),n.d(e,"dropCursor",(function(){return o}));var i=n(7),r=n(51);function o(t){return void 0===t&&(t={}),new i["Plugin"]({view:function(e){return new a(e,t)}})}var a=function(t,e){var n=this;this.editorView=t,this.width=e.width||1,this.color=e.color||"black",this.class=e.class,this.cursorPos=null,this.element=null,this.timeout=null,this.handlers=["dragover","dragend","drop","dragleave"].map((function(e){var i=function(t){return n[e](t)};return t.dom.addEventListener(e,i),{name:e,handler:i}}))};a.prototype.destroy=function(){var t=this;this.handlers.forEach((function(e){var n=e.name,i=e.handler;return t.editorView.dom.removeEventListener(n,i)}))},a.prototype.update=function(t,e){null!=this.cursorPos&&e.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())},a.prototype.setCursor=function(t){t!=this.cursorPos&&(this.cursorPos=t,null==t?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())},a.prototype.updateOverlay=function(){var t,e=this.editorView.state.doc.resolve(this.cursorPos);if(!e.parent.inlineContent){var n=e.nodeBefore,i=e.nodeAfter;if(n||i){var r=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0)).getBoundingClientRect(),o=n?r.bottom:r.top;n&&i&&(o=(o+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),t={left:r.left,right:r.right,top:o-this.width/2,bottom:o+this.width/2}}}if(!t){var a=this.editorView.coordsAtPos(this.cursorPos);t={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}var s,l,c=this.editorView.dom.offsetParent;if(this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color),!c||c==document.body&&"static"==getComputedStyle(c).position)s=-pageXOffset,l=-pageYOffset;else{var u=c.getBoundingClientRect();s=u.left-c.scrollLeft,l=u.top-c.scrollTop}this.element.style.left=t.left-s+"px",this.element.style.top=t.top-l+"px",this.element.style.width=t.right-t.left+"px",this.element.style.height=t.bottom-t.top+"px"},a.prototype.scheduleRemoval=function(t){var e=this;clearTimeout(this.timeout),this.timeout=setTimeout((function(){return e.setCursor(null)}),t)},a.prototype.dragover=function(t){if(this.editorView.editable){var e=this.editorView.posAtCoords({left:t.clientX,top:t.clientY});if(e){var n=e.pos;if(this.editorView.dragging&&this.editorView.dragging.slice&&(n=Object(r["h"])(this.editorView.state.doc,n,this.editorView.dragging.slice),null==n))return this.setCursor(null);this.setCursor(n),this.scheduleRemoval(5e3)}}},a.prototype.dragend=function(){this.scheduleRemoval(20)},a.prototype.drop=function(){this.scheduleRemoval(20)},a.prototype.dragleave=function(t){t.target!=this.editorView.dom&&this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)}},function(t,e,n){"use strict";n.r(e),n.d(e,"GapCursor",(function(){return s})),n.d(e,"gapCursor",(function(){return f}));var i=n(259),r=n(7),o=n(103),a=n(4),s=function(t){function e(e){t.call(this,e,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(n,i){var r=n.resolve(i.map(this.head));return e.valid(r)?new e(r):t.near(r)},e.prototype.content=function(){return a["Slice"].empty},e.prototype.eq=function(t){return t instanceof e&&t.head==this.head},e.prototype.toJSON=function(){return{type:"gapcursor",pos:this.head}},e.fromJSON=function(t,n){if("number"!=typeof n.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new e(t.resolve(n.pos))},e.prototype.getBookmark=function(){return new l(this.anchor)},e.valid=function(t){var e=t.parent;if(e.isTextblock||!c(t)||!u(t))return!1;var n=e.type.spec.allowGapCursor;if(null!=n)return n;var i=e.contentMatchAt(t.index()).defaultType;return i&&i.isTextblock},e.findFrom=function(t,n,i){t:for(;;){if(!i&&e.valid(t))return t;for(var o=t.pos,a=null,s=t.depth;;s--){var l=t.node(s);if(n>0?t.indexAfter(s)<l.childCount:t.index(s)>0){a=l.child(n>0?t.indexAfter(s):t.index(s)-1);break}if(0==s)return null;o+=n;var c=t.doc.resolve(o);if(e.valid(c))return c}for(;;){var u=n>0?a.firstChild:a.lastChild;if(!u){if(a.isAtom&&!a.isText&&!r["NodeSelection"].isSelectable(a)){t=t.doc.resolve(o+a.nodeSize*n),i=!1;continue t}break}a=u,o+=n;var f=t.doc.resolve(o);if(e.valid(f))return f}return null}},e}(r["Selection"]);s.prototype.visible=!1,r["Selection"].jsonID("gapcursor",s);var l=function(t){this.pos=t};function c(t){for(var e=t.depth;e>=0;e--){var n=t.index(e);if(0!=n)for(var i=t.node(e).child(n-1);;i=i.lastChild){if(0==i.childCount&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function u(t){for(var e=t.depth;e>=0;e--){var n=t.indexAfter(e),i=t.node(e);if(n!=i.childCount)for(var r=i.child(n);;r=r.firstChild){if(0==r.childCount&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}l.prototype.map=function(t){return new l(t.map(this.pos))},l.prototype.resolve=function(t){var e=t.resolve(this.pos);return s.valid(e)?new s(e):r["Selection"].near(e)};var f=function(){return new r["Plugin"]({props:{decorations:m,createSelectionBetween:function(t,e,n){if(e.pos==n.pos&&s.valid(n))return new s(n)},handleClick:p,handleKeyDown:d}})},d=Object(i["keydownHandler"])({ArrowLeft:h("horiz",-1),ArrowRight:h("horiz",1),ArrowUp:h("vert",-1),ArrowDown:h("vert",1)});function h(t,e){var n="vert"==t?e>0?"down":"up":e>0?"right":"left";return function(t,i,o){var a=t.selection,l=e>0?a.$to:a.$from,c=a.empty;if(a instanceof r["TextSelection"]){if(!o.endOfTextblock(n)||0==l.depth)return!1;c=!1,l=t.doc.resolve(e>0?l.after():l.before())}var u=s.findFrom(l,e,c);return!!u&&(i&&i(t.tr.setSelection(new s(u))),!0)}}function p(t,e,n){if(!t.editable)return!1;var i=t.state.doc.resolve(e);if(!s.valid(i))return!1;var o=t.posAtCoords({left:n.clientX,top:n.clientY}),a=o.inside;return!(a>-1&&r["NodeSelection"].isSelectable(t.state.doc.nodeAt(a)))&&(t.dispatch(t.state.tr.setSelection(new s(i))),!0)}function m(t){if(!(t.selection instanceof s))return null;var e=document.createElement("div");return e.className="ProseMirror-gapcursor",o["DecorationSet"].create(t.doc,[o["Decoration"].widget(t.selection.head,e,{key:"gapcursor"})])}},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadding,expression:"loadding"}],staticStyle:{width:"100%",height:"100%",overflow:"hidden"}},[n("iframe",{ref:"iframe",staticStyle:{"border-style":"none",width:"100%",height:"100%"},attrs:{src:t.url}})])},r=[];i._withStripped=!0;var o={name:"DesStaticListData",mixins:[$mixins.propertyDialogSetting],props:{designer:{type:Object,default:function(){return null}},value:{type:Object,default:function(){return{}}}},data:function(){return{loadding:!1,url:""}},beforeCreate:function(){},created:function(){},beforeMount:function(){},mounted:function(){var t=this,e=this;this.loadding=!0,this.$refs.iframe.getValue=function(){return t.value},this.$refs.iframe.onload=function(){e.loadding=!1},this.url=dsf.url.getWebPath("$/html/staticListData.html")},methods:{yes:function(){var t=this.$refs.iframe.contentWindow,e=t.yes();return e}},beforeDestroy:function(){this.$refs.iframe.getValue=null},destroyed:function(){}},a=o,s=(n(698),n(0)),l=Object(s["a"])(a,i,r,!1,null,null,null);l.options.__file="designer/setting/staticListData.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"select-dept"},[t.showSearch?n("div",{staticClass:"dsf-tree-search"},[n("el-input",{attrs:{disabled:t.loading,placeholder:"输入名称"},on:{input:t.search},model:{value:t.searchKey,callback:function(e){t.searchKey=e},expression:"searchKey"}},[n("i",{staticClass:"iconfont el-input__icon icon-Magnifier",attrs:{slot:"suffix"},slot:"suffix"})])],1):t._e(),n("div",{staticClass:"dsf-select-tree",style:{height:t.showSearch?"340px":"100%"}},[t.loading?n("div",{staticClass:"loading"},[t._v("数据加载中.....")]):n("el-tree",{ref:"treeForm",attrs:{data:t.treeData,props:t.defaultProps,"node-key":"id","show-checkbox":!t.hideCheckbox,"default-expand-all":t.expandAll,"default-expanded-keys":t.defaultKeys,"default-checked-keys":t.checked,"check-strictly":!t.multi,"check-on-click-node":!0,"expand-on-click-node":!1,"filter-node-method":t.filterData},on:{"check-change":t.selectTree,"node-click":t.choose},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.node,r=e.data;return n("div",{staticClass:"custom-tree-node"},[void 0!==r[t.defaultProps.children]?[n("i",{staticClass:"iconfont",class:[i.expanded?"icon-dakai":"icon-wenjianjia"]}),n("span",{domProps:{innerHTML:t._s(r[t.defaultProps.label])}})]:[n("i",{staticClass:"iconfont icon-shiyongwendang"}),n("span",{domProps:{innerHTML:t._s(r[t.defaultProps.label])}})]],2)}}])})],1)])},r=[];i._withStripped=!0;n(28),n(23);var o={name:"SelectTree",props:{treeData:{type:Array,default:function(){return[]}},select:{type:[Object,Array],default:function(){return{}}},checked:{type:Array,default:function(){return[]}},defaultKeys:{type:Array,default:function(){return[]}},expandAll:{type:Boolean,default:function(){return!0}},showSearch:{type:Boolean,default:function(){return!1}},hideCheckbox:{type:Boolean,default:function(){return!1}},multi:{type:Boolean,default:function(){return!1}},formSearchKey:{type:String,default:function(){return""}},loading:{type:Boolean,default:function(){return!1}}},data:function(){return{searchKey:"",defaultProps:{children:"children",label:"label"}}},created:function(){},mounted:function(){},methods:{selectTree:function(t,e,n){1!=e||this.multi||this.$refs.treeForm.setCheckedNodes([t]);var i=this.$refs.treeForm.getCheckedNodes();i=i.filter((function(t){return!t.disabled})),this.$emit("update:select",this.multi?i:i[0])},filterData:function(t,e){return!t||-1!==e.label.indexOf(t)},search:function(){this.$refs.treeForm.filter(this.searchKey)},choose:function(t){this.$emit("change",t)}}},a=o,s=(n(739),n(0)),l=Object(s["a"])(a,i,r,!1,null,"3d8920e6",null);l.options.__file="designer/setting/flow/selectTree.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ds-question-formwrap"},[n("div",{staticClass:"example"},[n("el-form",{attrs:{"label-position":"top"}},[n("el-form-item",{attrs:{prop:"value",rules:t.exampleRules},scopedSlots:t._u([{key:"label",fn:function(){return[n("span",{domProps:{innerHTML:t._s(t.example)}})]},proxy:!0}])})],1)],1),n("el-form",{ref:"form",staticClass:"form",attrs:{model:t.form,rules:t.rules,"label-width":"auto","label-position":"left"}},[n("el-row",{attrs:{gutter:15}},[n("el-col",{attrs:{span:24}},[n("el-form-item",{attrs:{prop:"questionBody","label-width":"0"}},[n("el-input",{attrs:{placeholder:"请输入题干"},model:{value:t.form.questionBody,callback:function(e){t.$set(t.form,"questionBody",e)},expression:"form.questionBody"}})],1)],1),n("el-col",{staticClass:"alert",attrs:{span:24}},[n("div",[t._v("注: 题干中输入()系统自动识别为填空内容")]),n("el-button",{on:{click:t.addCode}},[t._v("插入填空符")])],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{prop:"isNumber",label:"输入框是否数字:"}},[n("el-switch",{model:{value:t.form.isNumber,callback:function(e){t.$set(t.form,"isNumber",e)},expression:"form.isNumber"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{prop:"readOnly",label:"本题不允许填写:"}},[n("el-switch",{model:{value:t.form.readOnly,callback:function(e){t.$set(t.form,"readOnly",e)},expression:"form.readOnly"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{prop:"visible",label:"本题是否显示:"}},[n("el-switch",{model:{value:t.form.visible,callback:function(e){t.$set(t.form,"visible",e)},expression:"form.visible"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{prop:"required",label:"必填标识:"}},[n("el-switch",{model:{value:t.form.required,callback:function(e){t.$set(t.form,"required",e)},expression:"form.required"}})],1)],1),n("el-col",{attrs:{span:24}},[n("div",{staticClass:"ljsz"},[n("span",{staticClass:"label"},[t._v("逻辑设置:")]),n("span",{staticClass:"btn",on:{click:t.showRela}},[t._v("题目关联")])])])],1)],1)],1)},r=[];i._withStripped=!0;n(10),n(35),n(20);var o={mixins:[$mixins.questionConfig],props:["owner"],data:function(){return{form:{questionBody:"请输入题干",isNumber:!1,readOnly:!1,visible:!0,required:!0},rules:{questionBody:[{required:!0,message:"请输入题干"}]}}},computed:{example:function(){var t=this.form.questionBody.replace(/\(\)|\（\）/g,'\n          <input type="text" placeholder="请输入" class="ds-qi-fill">\n        ');return"".concat(this.owner.questionIndex,".").concat(t)},exampleRules:function(){return this.form.required?[{required:!0,trigger:"change"}]:null}},methods:{addCode:function(){this.form.questionBody+="()"}}},a=o,s=n(0),l=Object(s["a"])(a,i,r,!1,null,null,null);l.options.__file="designer/setting/questionConfig/fill.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ds-question-formwrap"},[n("div",{staticClass:"example"},[n("el-form",{attrs:{"label-position":"top"}},[n("el-form-item",{attrs:{prop:"value",label:t.exampleLabel,rules:t.exampleRules}},[n("el-input",{attrs:{maxlength:t.form.maxLength,readonly:"",placeholder:"输入框效果展示",rows:5,type:t.isTextArea?"textarea":"text","show-word-limit":""}})],1)],1)],1),n("el-form",{ref:"form",staticClass:"form",attrs:{model:t.form,rules:t.rules,"label-width":"auto","label-position":"left"}},[n("el-row",{attrs:{gutter:15}},[n("el-col",{attrs:{span:24}},[n("el-form-item",{attrs:{prop:"questionBody","label-width":"0"}},[n("el-input",{attrs:{placeholder:"请输入题干"},model:{value:t.form.questionBody,callback:function(e){t.$set(t.form,"questionBody",e)},expression:"form.questionBody"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{prop:"isTextArea",label:"使用多行文本框:"}},[n("el-switch",{model:{value:t.form.isTextArea,callback:function(e){t.$set(t.form,"isTextArea",e)},expression:"form.isTextArea"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{prop:"readOnly",label:"本题不允许填写:"}},[n("el-switch",{model:{value:t.form.readOnly,callback:function(e){t.$set(t.form,"readOnly",e)},expression:"form.readOnly"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{prop:"visible",label:"本题是否显示:"}},[n("el-switch",{model:{value:t.form.visible,callback:function(e){t.$set(t.form,"visible",e)},expression:"form.visible"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{prop:"required",label:"必填标识:"}},[n("el-switch",{model:{value:t.form.required,callback:function(e){t.$set(t.form,"required",e)},expression:"form.required"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{prop:"maxLength",label:"可输入字数最大限制:"}},[n("el-input-number",{attrs:{min:1,max:200},model:{value:t.form.maxLength,callback:function(e){t.$set(t.form,"maxLength",e)},expression:"form.maxLength"}})],1)],1),n("el-col",{attrs:{span:24}},[n("div",{staticClass:"ljsz"},[n("span",{staticClass:"label"},[t._v("逻辑设置:")]),n("span",{staticClass:"btn",on:{click:t.showRela}},[t._v("题目关联")])])])],1)],1)],1)},r=[];i._withStripped=!0;n(20);var o={mixins:[$mixins.questionConfig],props:["owner"],data:function(){return{form:{questionBody:"请输入题干",isTextArea:!1,readOnly:!1,visible:!0,maxLength:200,required:!0},rules:{questionBody:[{required:!0,message:"请输入题干"}]}}},computed:{isTextArea:function(){return this.form.isTextArea},exampleLabel:function(){return"".concat(this.owner.questionIndex,".").concat(this.form.questionBody)},exampleRules:function(){return this.form.required?[{required:!0,trigger:"change"}]:null}},methods:{}},a=o,s=n(0),l=Object(s["a"])(a,i,r,!1,null,null,null);l.options.__file="designer/setting/questionConfig/qa.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ds-question-formwrap"},[n("div",{staticClass:"example"},[n("el-form",{attrs:{"label-position":"top"}},[n("el-form-item",{attrs:{prop:"value",label:t.exampleLabel,rules:t.exampleRules}},["0"==t.form.layout?n("el-checkbox-group",{attrs:{value:[]}},t._l(t.exampleItems,(function(e){return n("el-checkbox",{key:e.value,attrs:{label:e.value}},[t._v(t._s(e.text))])})),1):n("el-checkbox-group",{attrs:{value:[]}},[n("el-row",t._l(t.exampleItems,(function(e){return n("el-col",{key:e.value,attrs:{span:t.getColSpan}},[n("el-checkbox",{attrs:{label:e.value}},[t._v(t._s(e.text))])],1)})),1)],1)],1)],1)],1),n("el-form",{ref:"form",staticClass:"form",attrs:{model:t.form,rules:t.rules,"label-width":"auto","label-position":"left"}},[n("el-row",{attrs:{gutter:15}},[n("el-col",{attrs:{span:24}},[n("el-form-item",{attrs:{prop:"questionBody","label-width":"0"}},[n("el-input",{attrs:{placeholder:"请输入题干"},model:{value:t.form.questionBody,callback:function(e){t.$set(t.form,"questionBody",e)},expression:"form.questionBody"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{prop:"isOther",label:"是否含有'其他'选项:"}},[n("el-switch",{model:{value:t.form.isOther,callback:function(e){t.$set(t.form,"isOther",e)},expression:"form.isOther"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{prop:"readOnly",label:"本题不允许填写:"}},[n("el-switch",{model:{value:t.form.readOnly,callback:function(e){t.$set(t.form,"readOnly",e)},expression:"form.readOnly"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{prop:"visible",label:"本题是否显示:"}},[n("el-switch",{model:{value:t.form.visible,callback:function(e){t.$set(t.form,"visible",e)},expression:"form.visible"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{prop:"required",label:"必填标识:"}},[n("el-switch",{model:{value:t.form.required,callback:function(e){t.$set(t.form,"required",e)},expression:"form.required"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{staticClass:"keep-bottom",attrs:{prop:"maxCheckNum",label:"最多选择数量:"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.maxCheckNum,callback:function(e){t.$set(t.form,"maxCheckNum",e)},expression:"form.maxCheckNum"}},t._l(t.maxSelectOptions,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{staticClass:"keep-bottom",attrs:{prop:"layout",label:"排列样式:"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.layout,callback:function(e){t.$set(t.form,"layout",e)},expression:"form.layout"}},[n("el-option",{attrs:{label:"自适应",value:"0"}}),n("el-option",{attrs:{label:"竖向排列",value:"1"}}),n("el-option-group",{attrs:{label:"横向排列"}},[n("el-option",{attrs:{label:"每行2列",value:"2"}}),n("el-option",{attrs:{label:"每行3列",value:"3"}}),n("el-option",{attrs:{label:"每行4列",value:"4"}}),n("el-option",{attrs:{label:"每行5列",value:"5"}})],1)],1)],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{prop:"mustCheckNum",label:"限制选择数量:"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.mustCheckNum,callback:function(e){t.$set(t.form,"mustCheckNum",e)},expression:"form.mustCheckNum"}},t._l(t.mustSelectOptions,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",[n("el-button",{attrs:{icon:"el-icon-plus"},on:{click:t.addOption}},[t._v("添加选项")]),n("el-button",{attrs:{icon:"el-icon-circle-plus-outline"},on:{click:t.batchAddOption}},[t._v("批量添加")])],1)],1),n("el-col",{staticStyle:{padding:"15px 0"},attrs:{span:24}},[n("el-table",{attrs:{data:t.form.items}},[n("el-table-column",{attrs:{type:"index",width:"50"}}),n("el-table-column",{attrs:{label:"选项"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-form-item",{attrs:{size:"small",prop:"items."+e.$index+".value","label-width":"0",rules:[{required:!0,message:"请输入"}]}},[n("el-input",{attrs:{placeholder:"请输入"},on:{change:function(n){t.optionChange(t.form.items[e.$index],n)}},model:{value:t.form.items[e.$index].text,callback:function(n){t.$set(t.form.items[e.$index],"text",n)},expression:"form.items[scope.$index].text"}})],1)]}}])}),n("el-table-column",{attrs:{label:"操作",width:"180",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{directives:[{name:"show",rawName:"v-show",value:0===e.$index,expression:"scope.$index === 0"}],attrs:{circle:"",size:"small",icon:"el-icon-circle-plus-outline"},on:{click:t.addOption}}),n("el-button",{attrs:{circle:"",size:"small",icon:"el-icon-remove-outline"},on:{click:function(n){return t.remove(e)}}}),n("el-button",{attrs:{circle:"",size:"small",icon:"el-icon-top",disabled:0===e.$index},on:{click:function(n){return t.toggle(e,"up")}}}),n("el-button",{attrs:{circle:"",size:"small",icon:"el-icon-bottom",disabled:e.$index===t.form.items.length-1},on:{click:function(n){return t.toggle(e,"down")}}})]}}])})],1)],1),n("el-col",{attrs:{span:24}},[n("div",{staticClass:"ljsz"},[n("span",{staticClass:"label"},[t._v("逻辑设置:")]),n("span",{staticClass:"btn",on:{click:t.showRela}},[t._v("题目关联")])])])],1)],1),n("el-dialog",{attrs:{title:"添加选项",visible:t.dialogVisible,modal:!0,"append-to-body":!0,"modal-append-to-body":!1,"before-close":t.handleClose,width:"500px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("el-input",{attrs:{type:"textarea",rows:15,placeholder:"多个选项使用换行分割"},model:{value:t.optionText,callback:function(e){t.optionText=e},expression:"optionText"}}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("dsf-button",{attrs:{type:"plain"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),n("dsf-button",{on:{click:t.sure}},[t._v("确 定")])],1)],1)],1)},r=[];i._withStripped=!0;var o=n(5),a=(n(16),n(20),n(33),n(10),n(36),n(35),{mixins:[$mixins.questionConfig],props:["owner"],data:function(){var t=this,e=function(e,n,i){t.form.mustCheckNum>0&&n!=t.form.mustCheckNum?i(new Error("最多选择数量必须等于限选数量")):i()},n=function(e,n,i){t.form.maxCheckNum>0&&n>t.form.maxCheckNum?i(new Error("限选数量不能大于最多选择数量")):i()};return{form:{questionBody:"请输入题干",readOnly:!1,visible:!0,required:!0,isOther:!1,layout:"0",items:[],mustCheckNum:0,maxCheckNum:0},rules:{questionBody:[{required:!0,message:"请输入题干"}],mustCheckNum:[{validator:n,trigger:"change"}],maxCheckNum:[{validator:e,trigger:"change"}]},optionText:"",dialogVisible:!1}},computed:{mustSelectOptions:function(){var t=this.exampleItems.map((function(t,e){var n=e+1;return{label:"限选".concat(n,"项"),value:n}}));return[{label:"不限制",value:0}].concat(Object(o["a"])(t))},maxSelectOptions:function(){var t=this.exampleItems.map((function(t,e){var n=e+1;return{label:"最多选".concat(n,"项"),value:n}}));return[{label:"不限制",value:0}].concat(Object(o["a"])(t))},exampleItems:function(){var t=this.form.items;return this.form.isOther&&(t=[].concat(Object(o["a"])(t),[{text:"其他",value:"其他"}])),t},getColSpan:function(){switch(this.form.layout){case"1":return 24;case"2":return 12;case"3":return 8;case"4":return 6;case"5":return 4;default:return 24}},exampleLabel:function(){return"".concat(this.owner.questionIndex,".").concat(this.form.questionBody)},exampleRules:function(){return this.form.required?[{required:!0,trigger:"blur"}]:null}},created:function(){this.owner.layout=this.owner.layout+""},methods:{optionChange:function(t,e){t.value=e},addOption:function(){var t=this.form.items.length;this.form.items.push({text:"选项".concat(t+1),value:"选项".concat(t+1),attach_text:""})},batchAddOption:function(){this.optionText="",this.dialogVisible=!0},handleClose:function(){this.dialogVisible=!1},toggle:function(t,e){var n,i=t.$index,r=Object(o["a"])(this.form.items),a=this.form.items[i];i===this.form.items.length-1&&"down"===e||0===i&&"up"===e||(n="up"===e?i-1:i+1,r.splice(i,1),r.splice(n,0,a),this.form.items=r)},remove:function(t){this.form.items.splice(t.$index,1)},sure:function(){var t=this.optionText.replace(/^\s|\s$/g,"").split(/\n/).map((function(t){var e=t.replace(/^\s|\s$/g,"").split("|");return{text:e[0],value:e[1]?e[1]:e[0],attach_text:""}}));this.form.items=[].concat(Object(o["a"])(this.form.items),Object(o["a"])(t)),this.dialogVisible=!1}}}),s=a,l=n(0),c=Object(l["a"])(s,i,r,!1,null,null,null);c.options.__file="designer/setting/questionConfig/qsCheckBox.vue";e["default"]=c.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ds-question-formwrap"},[n("div",{ref:"UEditor",staticClass:"editor"})])},r=[];i._withStripped=!0;var o={mixins:[$mixins.questionConfig],props:["owner"],data:function(){return{ueId:"",toolBar:["fullscreen","undo","redo","bold","italic","underline","removeformat","formatmatch","pasteplain","forecolor","backcolor","insertorderedlist","insertunorderedlist","selectall","cleardoc","rowspacingtop","rowspacingbottom","lineheight","customstyle","paragraph","fontfamily","fontsize","indent","justifyleft","justifycenter","justifyright","justifyjustify","link","unlink","anchor","imagenone","imageleft","imageright","imagecenter","simpleupload","insertimage","insertvideo","inserttable","autotypeset"]}},mounted:function(){var t=this,e=dsf.uuid();this.$refs.UEditor.id=e,this.ueId=e;var n=dsf.url.getWebPath("$/js/libs/UEditor/ueditor.config.js"),i=dsf.url.getWebPath("$/js/libs/UEditor/ueditor.all.js");this.$http.importFiles([n,i]).then((function(){t.renderEditor()})).catch((function(t){dsf.layer.alert("加载UEditor.js文件出错")}))},methods:{renderEditor:function(){var t=this;this.$ue&&this.$ue.destroy(),this.$ue=UE.getEditor(this.ueId,{autoHeightEnabled:!0,toolbars:[this.toolBar],zIndex:2e4,UEDITOR_HOME_URL:dsf.url.getWebPath("$/js/libs/UEditor/")}),this.$ue.ready((function(){t.$ue.setContent(t.owner.questionBody)}))}}},a=o,s=n(0),l=Object(s["a"])(a,i,r,!1,null,null,null);l.options.__file="designer/setting/questionConfig/qsHelloMsg.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ds-question-formwrap"},[n("div",{staticClass:"example"},[n("el-form",{attrs:{"label-position":"top"}},[n("el-form-item",{attrs:{prop:"value",label:t.exampleLabel,rules:t.exampleRules}},["0"==t.form.layout?n("el-radio-group",t._l(t.exampleItems,(function(e){return n("el-radio",{key:e.value,attrs:{label:e.value}},[t._v(t._s(e.text))])})),1):n("el-radio-group",[n("el-row",t._l(t.exampleItems,(function(e){return n("el-col",{key:e.value,attrs:{span:t.getColSpan}},[n("el-radio",{attrs:{label:e.value}},[t._v(t._s(e.text))])],1)})),1)],1)],1)],1)],1),n("el-form",{ref:"form",staticClass:"form",attrs:{model:t.form,rules:t.rules,"label-width":"auto","label-position":"left"}},[n("el-row",{attrs:{gutter:15}},[n("el-col",{attrs:{span:24}},[n("el-form-item",{attrs:{prop:"questionBody","label-width":"0"}},[n("el-input",{attrs:{placeholder:"请输入题干"},model:{value:t.form.questionBody,callback:function(e){t.$set(t.form,"questionBody",e)},expression:"form.questionBody"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{prop:"isOther",label:"是否含有'其他'选项:"}},[n("el-switch",{model:{value:t.form.isOther,callback:function(e){t.$set(t.form,"isOther",e)},expression:"form.isOther"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{prop:"readOnly",label:"本题不允许填写:"}},[n("el-switch",{model:{value:t.form.readOnly,callback:function(e){t.$set(t.form,"readOnly",e)},expression:"form.readOnly"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{prop:"visible",label:"本题是否显示:"}},[n("el-switch",{model:{value:t.form.visible,callback:function(e){t.$set(t.form,"visible",e)},expression:"form.visible"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{prop:"required",label:"必填标识:"}},[n("el-switch",{model:{value:t.form.required,callback:function(e){t.$set(t.form,"required",e)},expression:"form.required"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{prop:"layout",label:"排列样式:"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.layout,callback:function(e){t.$set(t.form,"layout",e)},expression:"form.layout"}},[n("el-option",{attrs:{label:"自适应",value:"0"}}),n("el-option",{attrs:{label:"竖向排列",value:"1"}}),n("el-option-group",{attrs:{label:"横向排列"}},[n("el-option",{attrs:{label:"每行2列",value:"2"}}),n("el-option",{attrs:{label:"每行3列",value:"3"}}),n("el-option",{attrs:{label:"每行4列",value:"4"}}),n("el-option",{attrs:{label:"每行5列",value:"5"}})],1)],1)],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",[n("el-button",{attrs:{icon:"el-icon-plus"},on:{click:t.addOption}},[t._v("添加选项")]),n("el-button",{attrs:{icon:"el-icon-circle-plus-outline"},on:{click:t.batchAddOption}},[t._v("批量添加")])],1)],1),n("el-col",{staticStyle:{padding:"15px 0"},attrs:{span:24}},[n("el-table",{attrs:{data:t.form.items}},[n("el-table-column",{attrs:{type:"index",width:"50"}}),n("el-table-column",{attrs:{label:"选项"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-form-item",{attrs:{size:"small",prop:"items."+e.$index+".value","label-width":"0",rules:[{required:!0,message:"请输入"}]}},[n("el-input",{attrs:{placeholder:"请输入"},on:{change:function(n){t.optionChange(t.form.items[e.$index],n)}},model:{value:t.form.items[e.$index].value,callback:function(n){t.$set(t.form.items[e.$index],"value",n)},expression:"form.items[scope.$index].value"}})],1)]}}])}),n("el-table-column",{attrs:{label:"操作",width:"180",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{directives:[{name:"show",rawName:"v-show",value:0===e.$index,expression:"scope.$index === 0"}],attrs:{circle:"",size:"small",icon:"el-icon-circle-plus-outline"},on:{click:t.addOption}}),n("el-button",{attrs:{circle:"",size:"small",icon:"el-icon-remove-outline"},on:{click:function(n){return t.remove(e)}}}),n("el-button",{attrs:{circle:"",size:"small",icon:"el-icon-top",disabled:0===e.$index},on:{click:function(n){return t.toggle(e,"up")}}}),n("el-button",{attrs:{circle:"",size:"small",icon:"el-icon-bottom",disabled:e.$index===t.form.items.length-1},on:{click:function(n){return t.toggle(e,"down")}}})]}}])})],1)],1),n("el-col",{attrs:{span:24}},[n("div",{staticClass:"ljsz"},[n("span",{staticClass:"label"},[t._v("逻辑设置:")]),n("span",{staticClass:"btn",on:{click:t.showRela}},[t._v("题目关联")]),n("span",{staticClass:"btn",on:{click:t.showLogic}},[t._v("跳题逻辑")])])])],1)],1),n("el-dialog",{attrs:{title:"添加选项",visible:t.dialogVisible,modal:!0,"append-to-body":!0,"modal-append-to-body":!1,"before-close":t.handleClose,width:"500px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("el-input",{attrs:{type:"textarea",rows:15,placeholder:"多个选项使用换行分割"},model:{value:t.optionText,callback:function(e){t.optionText=e},expression:"optionText"}}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("dsf-button",{attrs:{type:"plain"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),n("dsf-button",{on:{click:t.sure}},[t._v("确 定")])],1)],1)],1)},r=[];i._withStripped=!0;var o=n(5),a=(n(20),n(38),n(202),n(33),n(16),n(10),n(36),n(35),{mixins:[$mixins.questionConfig],props:["owner"],data:function(){return{form:{questionBody:"请输入题干",readOnly:!1,visible:!0,required:!0,isOther:!1,layout:"0",items:[]},rules:{questionBody:[{required:!0,message:"请输入题干"}]},optionText:"",dialogVisible:!1}},computed:{exampleItems:function(){var t=this.form.items;return this.form.isOther&&(t=[].concat(Object(o["a"])(t),[{text:"其他",value:"其他"}])),t},getColSpan:function(){switch(this.form.layout.toString()){case"1":return 24;case"2":return 12;case"3":return 8;case"4":return 6;case"5":return 4;default:return 24}},exampleLabel:function(){return"".concat(this.owner.questionIndex,".").concat(this.form.questionBody)},exampleRules:function(){return this.form.required?[{required:!0,trigger:"change"}]:null}},created:function(){this.owner.layout=this.owner.layout+""},methods:{optionChange:function(t,e){t.text=e},addOption:function(){var t=this.form.items.length;this.form.items.push({text:"选项".concat(t+1),value:"选项".concat(t+1),attach_text:""})},batchAddOption:function(){this.optionText="",this.dialogVisible=!0},handleClose:function(){this.dialogVisible=!1},toggle:function(t,e){var n,i=t.$index,r=Object(o["a"])(this.form.items),a=this.form.items[i];i===this.form.items.length-1&&"down"===e||0===i&&"up"===e||(n="up"===e?i-1:i+1,r.splice(i,1),r.splice(n,0,a),this.form.items=r)},remove:function(t){this.form.items.splice(t.$index,1)},sure:function(){var t=this.optionText.replace(/^\s|\s$/g,"").split(/\n/).map((function(t){var e=t.replace(/^\s|\s$/g,"").split("|");return{text:e[0],value:e[1]?e[1]:e[0],attach_text:""}}));this.form.items=[].concat(Object(o["a"])(this.form.items),Object(o["a"])(t)),this.dialogVisible=!1},showLogic:function(){this.$emit("showDialog","logic")}}}),s=a,l=n(0),c=Object(l["a"])(s,i,r,!1,null,null,null);c.options.__file="designer/setting/questionConfig/qsRadio.vue";e["default"]=c.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ds-question-formwrap ds-question-item"},[n("div",{staticClass:"example"},[n("el-form",{attrs:{"label-position":"top"}},[n("el-form-item",{attrs:{prop:"value",label:t.exampleLabel,rules:t.exampleRules}},[n("el-rate",{attrs:{max:t.form.starLength,"show-text":t.form.showText}})],1)],1)],1),n("el-form",{ref:"form",staticClass:"form",attrs:{model:t.form,rules:t.rules,"label-width":"auto","label-position":"left"}},[n("el-row",{attrs:{gutter:15}},[n("el-col",{attrs:{span:24}},[n("el-form-item",{attrs:{prop:"questionBody","label-width":"0"}},[n("el-input",{attrs:{placeholder:"请输入题干"},model:{value:t.form.questionBody,callback:function(e){t.$set(t.form,"questionBody",e)},expression:"form.questionBody"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{prop:"starLength",label:"星星数量:"}},[n("el-input-number",{attrs:{min:1},model:{value:t.form.starLength,callback:function(e){t.$set(t.form,"starLength",e)},expression:"form.starLength"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{prop:"readOnly",label:"本题不允许填写:"}},[n("el-switch",{model:{value:t.form.readOnly,callback:function(e){t.$set(t.form,"readOnly",e)},expression:"form.readOnly"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{prop:"visible",label:"本题是否显示:"}},[n("el-switch",{model:{value:t.form.visible,callback:function(e){t.$set(t.form,"visible",e)},expression:"form.visible"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{prop:"required",label:"必填标识:"}},[n("el-switch",{model:{value:t.form.required,callback:function(e){t.$set(t.form,"required",e)},expression:"form.required"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{prop:"maxLength",label:"显示评分对应星级:"}},[n("el-switch",{model:{value:t.form.showText,callback:function(e){t.$set(t.form,"showText",e)},expression:"form.showText"}})],1)],1),n("el-col",{attrs:{span:24}},[n("div",{staticClass:"ljsz"},[n("span",{staticClass:"label"},[t._v("逻辑设置:")]),n("span",{staticClass:"btn",on:{click:t.showRela}},[t._v("题目关联")])])])],1)],1)],1)},r=[];i._withStripped=!0;n(20);var o={mixins:[$mixins.questionConfig],props:["owner"],data:function(){return{form:{questionBody:"请输入题干",starLength:5,readOnly:!1,visible:!0,required:!0,showText:!1},rules:{questionBody:[{required:!0,message:"请输入题干"}]}}},computed:{exampleLabel:function(){return"".concat(this.owner.questionIndex,".").concat(this.form.questionBody)},exampleRules:function(){return this.form.required?[{required:!0,trigger:"change"}]:null}},methods:{}},a=o,s=n(0),l=Object(s["a"])(a,i,r,!1,null,null,null);l.options.__file="designer/setting/questionConfig/qsRate.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ds-question-formwrap ds-question-item"},[n("div",{staticClass:"example question-slider"},[n("el-form",{attrs:{"label-position":"top"}},[n("el-form-item",{attrs:{prop:"value",label:t.exampleLabel}},[n("el-slider",{attrs:{min:t.form.min,max:t.form.max,disabled:t.form.readOnly,step:t.form.step},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)],1)],1),n("el-form",{ref:"form",staticClass:"form",attrs:{model:t.form,rules:t.rules,"label-width":"auto","label-position":"left"}},[n("el-row",{attrs:{gutter:15}},[n("el-col",{attrs:{span:24}},[n("el-form-item",{attrs:{prop:"questionBody","label-width":"0"}},[n("el-input",{attrs:{placeholder:"请输入题干"},model:{value:t.form.questionBody,callback:function(e){t.$set(t.form,"questionBody",e)},expression:"form.questionBody"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{prop:"step",label:"最小滑动单位:"}},[n("el-input-number",{attrs:{min:t.form.min,max:t.form.max},model:{value:t.form.step,callback:function(e){t.$set(t.form,"step",e)},expression:"form.step"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{prop:"min",label:"最小值:"}},[n("el-input-number",{attrs:{min:0,max:t.form.max},model:{value:t.form.min,callback:function(e){t.$set(t.form,"min",e)},expression:"form.min"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{prop:"max",label:"最大值:"}},[n("el-input-number",{attrs:{min:t.form.min},model:{value:t.form.max,callback:function(e){t.$set(t.form,"max",e)},expression:"form.max"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{prop:"minText",label:"最小值显示文本:"}},[n("el-input",{attrs:{placeholder:"请输入"},model:{value:t.form.minText,callback:function(e){t.$set(t.form,"minText",e)},expression:"form.minText"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{prop:"maxText",label:"最大值显示文本:"}},[n("el-input",{attrs:{placeholder:"请输入"},model:{value:t.form.maxText,callback:function(e){t.$set(t.form,"maxText",e)},expression:"form.maxText"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{prop:"readOnly",label:"本题不允许填写:"}},[n("el-switch",{model:{value:t.form.readOnly,callback:function(e){t.$set(t.form,"readOnly",e)},expression:"form.readOnly"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{prop:"visible",label:"本题是否显示:"}},[n("el-switch",{model:{value:t.form.visible,callback:function(e){t.$set(t.form,"visible",e)},expression:"form.visible"}})],1)],1),n("el-col",{attrs:{span:24}},[n("div",{staticClass:"ljsz"},[n("span",{staticClass:"label"},[t._v("逻辑设置:")]),n("span",{staticClass:"btn",on:{click:t.showRela}},[t._v("题目关联")])])])],1)],1)],1)},r=[];i._withStripped=!0;n(20);var o={mixins:[$mixins.questionConfig],props:["owner"],data:function(){return{value:0,form:{questionBody:"请输入题干",step:1,readOnly:!1,visible:!0,min:0,max:100,minText:"",maxText:""},rules:{questionBody:[{required:!0,message:"请输入题干"}]}}},computed:{exampleLabel:function(){return"".concat(this.owner.questionIndex,".").concat(this.form.questionBody,"(").concat(this.value,")")},exampleRules:function(){return this.form.required?[{required:!0,trigger:"change"}]:null}},methods:{}},a=o,s=n(0),l=Object(s["a"])(a,i,r,!1,null,null,null);l.options.__file="designer/setting/questionConfig/qsSlider.vue";e["default"]=l.exports},function(t,e,n){"use strict";var i=n(701),r=n(702);e.highlight=a,e.highlightAuto=s,e.registerLanguage=l,e.listLanguages=c,e.registerAlias=u,f.prototype.addText=p,f.prototype.addKeyword=d,f.prototype.addSublanguage=h,f.prototype.openNode=m,f.prototype.closeNode=g,f.prototype.closeAllNodes=y,f.prototype.finalize=y,f.prototype.toHTML=v;var o="hljs-";function a(t,e,n){var a,s=i.configure({}),l=n||{},c=l.prefix;if("string"!==typeof t)throw r("Expected `string` for name, got `%s`",t);if(!i.getLanguage(t))throw r("Unknown language: `%s` is not registered",t);if("string"!==typeof e)throw r("Expected `string` for value, got `%s`",e);if(null!==c&&void 0!==c||(c=o),i.configure({__emitter:f,classPrefix:c}),a=i.highlight(e,{language:t,ignoreIllegals:!0}),i.configure(s||{}),a.errorRaised)throw a.errorRaised;return{relevance:a.relevance,language:a.language,value:a.emitter.rootNode.children}}function s(t,e){var n,s,l,c,u=e||{},f=u.subset||i.listLanguages(),d=u.prefix,h=f.length,p=-1;if(null!==d&&void 0!==d||(d=o),"string"!==typeof t)throw r("Expected `string` for value, got `%s`",t);s={relevance:0,language:null,value:[]},n={relevance:0,language:null,value:[]};while(++p<h)c=f[p],i.getLanguage(c)&&(l=a(c,t,e),l.language=c,l.relevance>s.relevance&&(s=l),l.relevance>n.relevance&&(s=n,n=l));return s.language&&(n.secondBest=s),n}function l(t,e){i.registerLanguage(t,e)}function c(){return i.listLanguages()}function u(t,e){var n,r=t;for(n in e&&(r={},r[t]=e),r)i.registerAliases(r[n],{languageName:n})}function f(t){this.options=t,this.rootNode={children:[]},this.stack=[this.rootNode]}function d(t,e){this.openNode(e),this.addText(t),this.closeNode()}function h(t,e){var n=this.stack,i=n[n.length-1],r=t.rootNode.children,o=e?{type:"element",tagName:"span",properties:{className:[e]},children:r}:r;i.children=i.children.concat(o)}function p(t){var e,n,i=this.stack;""!==t&&(e=i[i.length-1],n=e.children[e.children.length-1],n&&"text"===n.type?n.value+=t:e.children.push({type:"text",value:t}))}function m(t){var e=this.stack,n=this.options.classPrefix+t,i=e[e.length-1],r={type:"element",tagName:"span",properties:{className:[n]},children:[]};i.children.push(r),e.push(r)}function g(){this.stack.pop()}function v(){return""}function y(){}},,,,function(t,e,n){"use strict";function i(t){var e=[{value:0,text:"单人办理"},{value:1,text:"会签（多人同时处理）"},{value:2,text:"多人依次处理"},{value:3,text:"抄送（需提交）"},{value:4,text:"抄送（不需提交）"},{value:5,text:"抢办（按人数）"},{value:6,text:"抢办（按比例）"}];return void 0!==t?r(e,t):e}function r(t,e){if(e+""&&$.isNumeric(e))for(var n=0;n<t.length;n++)if(e==t[n].value)return t[n].text||t[n].label}function o(t){var e=[{label:"人工选择",value:0},{label:"默认选中",value:1},{label:"必选",value:2}];return void 0!==t?r(e,t):e}n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o})),n.d(e,"e",(function(){return d})),n.d(e,"d",(function(){return u})),n.d(e,"c",(function(){return f}));var a=[{name:"开始事件",sort:"event",type:201,img:n(524)},{name:"用户任务",sort:"task",type:101,img:n(525)},{name:"条件网关",sort:"gateway",type:301,img:n(526)},{name:"跳转网关",sort:"gateway",type:302,img:n(527)},{name:"子流程任务",sort:"task",type:102,img:n(528)},{name:"脚本任务",sort:"task",type:103,img:n(529)},{name:"结束事件",sort:"event",type:299,img:n(576)}],s=[{name:"用户任务",sort:"task",type:101,img:n(525)},{name:"子流程任务",sort:"task",type:102,img:n(528)},{name:"脚本任务",sort:"task",type:103,img:n(529)},{name:"web服务任务",sort:"task",type:104,img:n(577)},{name:"消息任务",sort:"task",type:105,img:n(578)},{name:"python任务",sort:"task",type:106,img:n(579)},{name:"shell任务",sort:"task",type:107,img:n(580)},{name:"SQL任务",sort:"task",type:108,img:n(581)}],l=[{name:"开始事件",sort:"event",type:201,img:n(524)},{name:"结束事件",sort:"event",type:299,img:n(582)}],c=[{name:"条件网关",sort:"gateway",type:301,img:n(526)},{name:"跳转网关",sort:"gateway",type:302,img:n(527)}],u=[{name:"终止事件",sort:"boundaryEvent",type:401,url:n(583)},{name:"超时事件",sort:"boundaryEvent",type:402,url:n(584)},{name:"异常事件",sort:"boundaryEvent",type:403,url:n(585)}],f=[{name:"标注",sort:"attached",type:"mark",url:n(586)},{name:"风险控制",sort:"attached",type:"risk",url:n(587)}],d=[{title:"基础",data:a},{title:"任务",data:s},{title:"事件",data:l},{title:"网关",data:c}]},,,,,,,,,,,,,,,,,function(t,e,n){var i=n(697);"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=n(40).default;r("0fef7d20",i,!1,{sourceMap:!1,shadowMode:!1})},function(t,e,n){var i=n(699);"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=n(40).default;r("36fe3abe",i,!1,{sourceMap:!1,shadowMode:!1})},function(t,e,n){var i=n(705);"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=n(40).default;r("651d74ee",i,!1,{sourceMap:!1,shadowMode:!1})},function(t,e,n){"use strict";var i=n(181),r=n(47),o=n(49),a=n(60),s=n(241),l=n(182);i("match",(function(t,e,n){return[function(e){var n=a(this),i=void 0==e?void 0:e[t];return void 0!==i?i.call(e,n):new RegExp(e)[t](String(n))},function(t){var i=n(e,this,t);if(i.done)return i.value;var a=r(this),c=String(t);if(!a.global)return l(a,c);var u=a.unicode;a.lastIndex=0;var f,d=[],h=0;while(null!==(f=l(a,c))){var p=String(f[0]);d[h]=p,""===p&&(a.lastIndex=s(c,o(a.lastIndex),u)),h++}return 0===h?null:d}]}))},function(t,e,n){var i=n(708);"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=n(40).default;r("2ac3b366",i,!1,{sourceMap:!1,shadowMode:!1})},function(t,e,n){var i=n(711);"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=n(40).default;r("4e0ce4b1",i,!1,{sourceMap:!1,shadowMode:!1})},function(t,e,n){var i=n(713);"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=n(40).default;r("2abc25ce",i,!1,{sourceMap:!1,shadowMode:!1})},function(t,e,n){var i=n(715);"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=n(40).default;r("5fcd1f6b",i,!1,{sourceMap:!1,shadowMode:!1})},function(t,e,n){var i=n(717);"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=n(40).default;r("4baa59ec",i,!1,{sourceMap:!1,shadowMode:!1})},function(t,e,n){var i=n(719);"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=n(40).default;r("9c45edfc",i,!1,{sourceMap:!1,shadowMode:!1})},function(t,e,n){var i=n(721);"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=n(40).default;r("0e242e59",i,!1,{sourceMap:!1,shadowMode:!1})},function(t,e,n){var i=n(723);"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=n(40).default;r("597f5b15",i,!1,{sourceMap:!1,shadowMode:!1})},function(t,e,n){var i=n(725);"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=n(40).default;r("60e99b7a",i,!1,{sourceMap:!1,shadowMode:!1})},function(t,e,n){var i=n(729);"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=n(40).default;r("9e262c3c",i,!1,{sourceMap:!1,shadowMode:!1})},function(t,e,n){t.exports=n.p+"modules/platform/img/299.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/104.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/105.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/106.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/107.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/108.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/204.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/401.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/402.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/403.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/mark.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/risk.png"},function(t,e,n){var i=n(731);"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=n(40).default;r("12033ff1",i,!1,{sourceMap:!1,shadowMode:!1})},function(t,e,n){var i=n(733);"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=n(40).default;r("a6861fc2",i,!1,{sourceMap:!1,shadowMode:!1})},function(t,e,n){t.exports=n.p+"modules/platform/img/101_s.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/102_s.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/103_s.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/104_s.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/105_s.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/106_s.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/107_s.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/108_s.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/109_s.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/201_s.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/204_s.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/299_s.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/301_s.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/302_s.png"},function(t,e,n){var i=n(736);"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=n(40).default;r("4a51f27a",i,!1,{sourceMap:!1,shadowMode:!1})},function(t,e,n){var i=n(738);"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=n(40).default;r("66a84e04",i,!1,{sourceMap:!1,shadowMode:!1})},function(t,e,n){var i=n(740);"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=n(40).default;r("7f071bf8",i,!1,{sourceMap:!1,shadowMode:!1})},function(t,e,n){var i=n(742);"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=n(40).default;r("076ef3ef",i,!1,{sourceMap:!1,shadowMode:!1})},function(t,e,n){var i=n(744);"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=n(40).default;r("2e13df36",i,!1,{sourceMap:!1,shadowMode:!1})},function(t,e,n){var i=n(746);"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=n(40).default;r("5353dc0f",i,!1,{sourceMap:!1,shadowMode:!1})},function(t,e,n){var i=n(748);"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=n(40).default;r("1299afba",i,!1,{sourceMap:!1,shadowMode:!1})},function(t,e,n){var i=n(750);"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=n(40).default;r("1019a619",i,!1,{sourceMap:!1,shadowMode:!1})},function(t,e,n){var i=n(752);"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=n(40).default;r("6c6a9f82",i,!1,{sourceMap:!1,shadowMode:!1})},function(t,e,n){var i=n(755);"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=n(40).default;r("6da0e1b5",i,!1,{sourceMap:!1,shadowMode:!1})},function(t,e,n){var i=n(757);"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=n(40).default;r("0edc68b6",i,!1,{sourceMap:!1,shadowMode:!1})},function(t,e,n){var i=n(759);"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=n(40).default;r("0de8028f",i,!1,{sourceMap:!1,shadowMode:!1})},function(t,e,n){var i=n(761);"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=n(40).default;r("70190a80",i,!1,{sourceMap:!1,shadowMode:!1})},function(t,e,n){var i=n(829);"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=n(40).default;r("738ad784",i,!1,{sourceMap:!1,shadowMode:!1})},function(t,e,n){var i=n(831);"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=n(40).default;r("4f513ddf",i,!1,{sourceMap:!1,shadowMode:!1})},function(t,e,n){var i=n(847);"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=n(40).default;r("08f39169",i,!1,{sourceMap:!1,shadowMode:!1})},function(t,e,n){var i=n(849);"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=n(40).default;r("79a3a788",i,!1,{sourceMap:!1,shadowMode:!1})},function(t,e,n){var i=n(851);"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=n(40).default;r("7405b01f",i,!1,{sourceMap:!1,shadowMode:!1})},function(t,e,n){var i=n(852);"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=n(40).default;r("14098f90",i,!1,{sourceMap:!1,shadowMode:!1})},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"lines",staticClass:"lines",style:{height:t.isSub?"calc(100% - "+t.toPx(t.parentNode.imgHeight+2*t.parentNode.padding)+")":"100%",top:t.isSub?t.toPx(t.parentNode.imgHeight+2*t.parentNode.padding):0}},[n("LinesProperty",{attrs:{lines:t.lines,isSub:t.isSub,parentNode:t.parentNode,checked:t.checked}})],1)},r=[];i._withStripped=!0;var o=n(5),a=n(6),s=(n(24),n(25),n(23),n(140),n(33),n(20),n(644),n(16),n(10),n(36),n(15),n(28),n(46),n(266)),l=n(496),c=n.n(l),u=n(2),f=function(t,e,n){var i,r=null,o=null,a={path:[],from:null,to:null,strokeWidth:2,stroke:null===t||void 0===t||null===(i=t.Path)||void 0===i?void 0:i.stroke,"stroke-dasharray":n["stroke-dasharray"]};a=Object.assign(a,n),this.id=null,this.path=a.path,this.from=a.from,this.to=a.to,this.linkInfo=a.linkInfo||{},this.render=function(){for(var t=[],n=0;n<this.path.length;n++){var i=this.path[n];0==n?t.push(["M",i.x,i.y]):t.push(["L",i.x,i.y])}if(t.length>1){var s={sp:{x:t[t.length-2][1],y:t[t.length-2][2]},ep:{x:t[t.length-1][1],y:t[t.length-1][2]}};s.sp.y==s.ep.y?s.ep.x=s.ep.x-(s.sp.x<s.ep.x?2:-2):s.ep.y=s.ep.y-(s.sp.y<s.ep.y?2:-2);try{r?(r.attr({path:t,"stroke-width":a.strokeWidth,stroke:a.stroke}),o&&o.attr({path:u["i"].drawArrow(s),"stroke-width":a.strokeWidth,stroke:a.stroke,fill:a.stroke})):(r=e.path(t).attr({"stroke-width":a.strokeWidth,stroke:a.stroke,"stroke-dasharray":a["stroke-dasharray"]}),o=e.path(u["i"].drawArrow(s)).attr({"stroke-width":a.strokeWidth,stroke:a.stroke,fill:a.stroke}),this.isRender=!0)}catch(l){}}},this.remove=function(){r&&r.remove(),o&&o.remove()}},d=f,h=n(492),m=n(473),g=n(502),v=(n(128),function(t,e,n){var i=null,r=null,o=[],a=t;this.sp=null,this.ep=null,this.type=null,this.isLast=!1,this.index=n,this.direction=null,this.hasTransition=!1,this.getLine=function(){return a},this.render=function(){this.sp.x=parseFloat(this.sp.x),this.sp.y=parseFloat(this.sp.y),this.ep.x=parseFloat(this.ep.x),this.ep.y=parseFloat(this.ep.y);var t=[],n={type:"point",data:{x:this.sp.x,y:this.sp.y}},s={type:"point",data:{x:this.ep.x,y:this.ep.y}},l=[];this.remove();var c={sp:{x:n.data.x,y:n.data.y},ep:{x:s.data.x,y:s.data.y}};this.sp.y==this.ep.y?(this.type=u["d"].horizontal,this.isLast&&(c.ep.x=c.ep.x-(n.data.x<s.data.x?2:-2))):(this.type=u["d"].vertical,this.isLast&&(c.ep.y=c.ep.y-(n.data.y<s.data.y?2:-2)));var f=a.getPreLine(this);if(f&&f.type!=this.type&&f.hasTransition&&(this.type==u["d"].horizontal?n.data.x="left"==this.direction?n.data.x-u["j"]:n.data.x+u["j"]:n.data.y="top"==this.direction?n.data.y-u["j"]:n.data.y+u["j"]),this.type==u["d"].horizontal&&o.length>0){var d=5,h="right";this.sp.x>this.ep.x&&(h="left"),o=o.sort((function(t,e){return"right"==h?t.x<e.x?-1:1:t.x<e.x?1:-1})),t.push(n);for(var p=0;p<o.length;p++){var m=o[p],g={type:"point",data:{x:m.x-("right"==h?d:-d),y:m.y}},v={type:"point",data:{x:m.x+("right"==h?d:-d),y:m.y}};t.push(g),t.push({type:"arc",data:{radius:d,overX:v.data.x,overY:v.data.y,sweep:"right"==h?1:0}}),t.push(v)}}else t.push(n);var y=a.getNextLine(this);if(y&&y.type!=this.type){var b=0;b=u["i"].getLineLength(this.sp,this.ep);var _=u["i"].getLineLength(y.sp,y.ep),x=2*u["j"];if(b<=x||_<=x)t.push(s),this.hasTransition=!1;else{var w;if(b=u["i"].getLineLength(y.sp,y.ep),this.type==u["d"].vertical){w={type:"point",data:{x:this.ep.x,y:this.ep.y-("top"==this.direction?-u["j"]:u["j"])}},t.push(w);var k=null;"bottom"==this.direction&&"left"==y.direction||"top"==this.direction&&"right"==y.direction?k=1:("top"==this.direction&&"left"==y.direction||"bottom"==this.direction&&"right"==y.direction)&&(k=0),t.push({type:"arc",data:{radius:u["j"],overX:this.ep.x-("left"==y.direction?u["j"]:-u["j"]),overY:this.ep.y,sweep:k}})}else{w={type:"point",data:{x:this.ep.x-("right"==this.direction?u["j"]:-u["j"]),y:this.ep.y}},t.push(w);var S=null;"left"==this.direction&&"top"==y.direction||"right"==this.direction&&"bottom"==y.direction?S=1:("left"==this.direction&&"bottom"==y.direction||"right"==this.direction&&"top"==y.direction)&&(S=0),t.push({type:"arc",data:{radius:u["j"],overX:this.ep.x,overY:this.ep.y-("top"==y.direction?u["j"]:-u["j"]),sweep:S}})}this.hasTransition=!0}}else t.push(s),this.hasTransition=!1;for(var O=0;O<t.length;O++){var C=t[O];0==O&&"point"==C.type?l.push(["M",C.data.x,C.data.y]):"point"==C.type?l.push(["L",C.data.x,C.data.y]):"arc"==C.type&&l.push(["A",C.data.radius,C.data.radius,0,0,C.data.sweep,C.data.overX,C.data.overY])}try{i=e.path(l).attr({"stroke-width":a.strokeWidth,stroke:a.stroke,"stroke-dasharray":a.strokeDasharray}),this.isLast&&(r=e.path(u["i"].drawArrow(c)).attr({"stroke-width":a.strokeWidth,stroke:a.stroke,fill:a.stroke}))}catch(E){}i&&$(i[0]).data("object",this),r&&$(r[0]).data("object",this)},this.setIntersection=function(t){o.push(t)},this.clearIntersection=function(){o=[]},this.getIntersection=function(){return o},this.remove=function(){i&&i.remove(),r&&r.remove()},this.refresh=function(){i&&i.attr({"stroke-width":a.strokeWidth,stroke:a.stroke,"stroke-dasharray":a.strokeDasharray}),r&&r.attr({"stroke-width":a.strokeWidth,stroke:a.stroke,fill:a.stroke})},this.hide=function(){i&&i.hide(),r&&r.hide()},this.show=function(){i&&i.show(),r&&r.show()}}),y=v,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"lines-property"},[t._l(t.lines,(function(e,i){return[e.edit.show&&(e.edit.isEdit&&t.checked===e||e.edit.name1)?n("div",{key:i,staticClass:"line-property",style:{top:t.toPx(e.propertyPos.y),left:t.toPx(e.propertyPos.x)},attrs:{draggable:"true"},on:{dragstart:function(n){return t.drag(n,e)},dblclick:function(n){return t.edit(e,n)}}},[n("div",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"line-name1",attrs:{contenteditable:e.edit.editName,draggable:"false"},domProps:{innerHTML:t._s(e.edit.name1)},on:{blur:function(n){return t.editBlur(e,n)}}})]):t._e()]}))],2)},x=[];b._withStripped=!0;n(97),n(64);var w=n(31),k={name:"LinesProperty",props:{lines:{type:Array,default:function(){return[]}},isSub:{type:Boolean,default:function(){return!1}},parentNode:{type:Object,default:function(){return null}},checked:{type:Object,default:function(){return{}}}},data:function(){return{isDrag:!0,dragProperty:null,cloneObj:null,current:null}},computed:Object(a["a"])({},Object(s["mapState"])({page:function(t){return t.flow.page},scale:function(t){return t.flow.page.scale},flowModel:function(t){return t.flow.flowModel}})),mounted:function(){var t=this;document.addEventListener("dragover",(function(e){t.dragProperty&&t.move(e,t.dragProperty)})),document.addEventListener("dragend",(function(e){t.dragProperty&&(t.dragProperty&&document.body.removeChild(t.dragProperty),t.dragPropertyEnd(e),t.dragProperty=null)}))},methods:{toPx:w["i"],edit:function(t,e){t.edit.editName=!0,this.$nextTick((function(){var t;e.target.focus();var n=window.getSelection(),i=null===n||void 0===n||null===(t=n.getRangeAt)||void 0===t?void 0:t.call(n,0);null===i||void 0===i||i.setStart(i.startContainer,e.target.innerText.length)})),this.$bus.$emit("update-checked",t)},editBlur:function(t,e){var n=e.target.innerText.trim();t.edit.name1=n,t.attributes.BaseInfo.Name=n||t.name},drag:function(t,e){e.isDrag=!0,t.dataTransfer&&t.dataTransfer.setDragImage(new Image,0,0),"dragstart"===t.type?t=event||t:event.touches&&(t=event.touches[0]?event.touches[0]:event),this.offset={x:t.offsetX,y:t.offsetY},this.dragProperty=t.target.cloneNode(!0),this.dragProperty.className="ds_tool_event_drag",this.dragProperty.setAttribute("draggable",!0),this.cloneObj=_.cloneDeep(e),this.current=e,Object.assign(this.dragProperty.style,{position:"absolute",zIndex:9999,top:this.toPx(t.pageY-t.offsetY),left:this.toPx(t.pageX-t.offsetX),transform:"scale(".concat(this.scale,") translate(-50%, -50%)"),transformOrigin:"left top"}),document.body.appendChild(this.dragProperty),this.$bus.$emit("update-checked",e)},dragPropertyEnd:function(t){if("drop"===t.type?(t=event||t,t.preventDefault()):event.touches&&(t=event.touches[0]?event.touches[0]:event),this.cloneObj){if(this.cloneObj.inLine){var e=this.cloneObj.endPoint;Object.assign(this.current.propertyPos,{isMove:!0},e)}this.cloneObj=null}},move:function(t){if(!this.isDrag)return!1;for(var e,n,i,r=this.$store.getters["flow/getMousePointByCanvas"]({x:t.pageX,y:t.pageY}),o=this.cloneObj.getSegmenList(),a=0;a<o.length;a++){var s=o[a].sp,l=o[a].ep,c=this.getLine(s,l),u=c.A,f=c.B,d=c.C,h=this.getLength(u,f,d,r);if(h<=20){t.preventDefault(),e=o[a];break}}if(e){var p=e.sp,m=e.ep,g=this.getPoint(p,m,r),v=this.$store.getters["flow/getMousePointByPoint"](g);n=v.y,i=v.x,this.cloneObj.endPoint=g,this.cloneObj.inLine=!0}else n=t.pageY,i=t.pageX,this.cloneObj.endPoint=null,this.cloneObj.inLine=!1;var y=this.dragProperty;y.style.top=this.toPx(n),y.style.left=this.toPx(i)},getLine:function(t,e){return{A:e.y-t.y,B:t.x-e.x,C:e.x*t.y-t.x*e.y}},getLength:function(t,e,n,i){return Math.abs(t*i.x+e*i.y+n)/Math.sqrt(Math.pow(t,2)+Math.pow(e,2))},getPoint:function(t,e,n){if(t.x===e.x){var i=Math.max(t.y,e.y),r=Math.min(t.y,e.y);r<=n.y&&n.y<=i&&(n.x=parseInt(t.x))}else{var o=this.getLine(t,e),a=o.A,s=o.B,l=o.C,c=(s*s*n.x-a*s*n.y-a*l)/(a*a+s*s),u=(-a*s*n.x+a*a*n.y-s*l)/(a*a+s*s);n.x=parseInt(c),n.y=parseInt(u)}return n}}},S=k,O=n(0),C=Object(O["a"])(S,b,x,!1,null,null,null);C.options.__file="designer/flow/LinesProperty.vue";var E=C.exports,D=n(460),T={name:"Lines",components:{LinesProperty:E},props:{lines:{type:Array,default:function(){return[]}},nodes:{type:Array,default:function(){return[]}},events:{type:Array,default:function(){return[]}},isDrawLine:{type:Boolean,default:function(){return!1}},checked:{type:Object,default:function(){return{}}},isSub:{type:Boolean,default:function(){return!1}},parentNode:{type:Object,default:function(){return null}}},data:function(){return{paper:null,start:!1,currentMouseDrawingLine:null,startInfo:null,startPoint:null,down_direction:null,currentLineInfo:null,centerOffset:10,dragSize:20,maxWidth:0,maxHeight:0,maxSizeOffset:50,currentDragLine:{},isDrag:!1,type:"drawLine",mp:null,startTime:0}},watch:{checked:function(t){this.lines.forEach((function(e){e===t?t.selected():e.unSelected()}))}},computed:Object(a["a"])({},Object(s["mapState"])({page:function(t){return t.flow.page},scale:function(t){return t.flow.page.scale},flowModel:function(t){return t.flow.flowModel},config:function(t){return t.flow.lineDefault}})),mounted:function(){var t=this;this.paper=new c.a(this.$refs.lines,"100%","100%"),this.$refs.lines.addEventListener("mousedown",(function(e){var n=(new Date).getTime();n-t.startTime<400&&t.editName(),t.startTime=n,t.mousedown(e)})),document.addEventListener("mousemove",(function(e){t.mousemove(e)})),document.addEventListener("mouseup",(function(e){t.mouseup(e),t.updateIntersection()})),this.$bus.$on("startDraw".concat(this.isSub?this.parentNode.id:""),this.startDraw),this.$bus.$on("nodeMove".concat(this.isSub?this.parentNode.id:""),this.nodeMove),this.$bus.$on("eventMove".concat(this.isSub?this.parentNode.id:""),this.eventMove),this.$bus.$on("addLine".concat(this.isSub?this.parentNode.id:""),this.addLine),this.$bus.$on("showSubNode".concat(this.isSub?this.parentNode.id:""),this.showSubNode),this.$bus.$on("hideLines",this.hideLines),this.$bus.$on("updateIntersection",this.updateIntersection),this.$bus.$on("updateNodeName".concat(this.isSub?this.parentNode.id:""),this.resetLineName),this.$bus.$on("cutOffLine".concat(this.isSub?this.parentNode.id:""),this.cutOffLine),this.$bus.$on("changeLineShape".concat(this.isSub?this.parentNode.id:""),this.changeLineShape)},methods:{toPx:w["i"],verifySub:w["j"],editName:function(){this.checked instanceof m["a"]&&!this.checked.edit.isEdit&&(this.checked.edit.isEdit=!0,this.checked.edit.name1||(this.checked.edit.editName=!0))},startDraw:function(t,e){if(!this.verifySub(this.parentNode)){this.isDrawLine&&this.$bus.$emit("isDrewingLine".concat(this.isSub?this.parentNode.id:""),"end"),this.isDrawLine&&this.checked instanceof h["a"]&&e&&(this.start=!0,this.mouseDrawLine(t),this.type="drawLine");var n=e;this.isDrawLine&&n&&this.checked instanceof g["a"]&&(this.start=!0,this.eventDrawLine(t),this.type="drawLine")}},mousedown:function(t){if("path"==t.target.tagName){var e=Object(w["g"])(t.target);if(e){var n=e.getLine();if(this.$bus.$emit("update-checked",n),n){if(n.readOnly)return;this.lineMouseDownHandler(t,n)}}}},mousemove:function(t){if(this.start&&!this.verifySub(this.parentNode))return"drawLine"===this.type?(this.drawLine(t),!1):(this.dragLine(t),!1)},addLine:function(t){var e,n,i,r=Object.assign({type:0},t),o=new m["a"](this.config,r);if(r.from&&(n="event"===r.fromType?Object(w["d"])(this.events,r.from):Object(w["d"])(this.nodes,r.from)),r.to&&(i=Object(w["d"])(this.nodes,r.to)),0===(null===o||void 0===o||null===(e=o.path)||void 0===e?void 0:e.length)){var a=this.getPathPoints(o,n,i);a&&a.length>0&&(o.path=a)}this.addToPanel(o,n,i)},showSubNode:function(t){var e=[],n=function(n,i){var r=n.linkInfo;t.open.show?(n.unFold=r[i],n.fold?r[i]=n.fold:r[i]=r[i]):(n.fold=r[i],n.unFold?r[i]=n.unFold:r[i]=0),e.push(n.id)};this.lines.forEach((function(i){i.from!==t.id&&i.to!==t.id||(n(i,i.from===t.id?"fromOffset":"toOffset"),e.push(i.id))})),e.length>0&&this.renderLines(e),this.updateIntersection()},hideLines:function(t,e){var n=this;t.forEach((function(t){n.lines.forEach((function(n){t===n.id&&(n.isHide=e,e?n.hide():n.show(),n.edit.show=!e)}))}))},drawLine:function(t){var e,n=this.scale,i=this.parentNode?{x:t.pageX-this.parentNode.point.x*n,y:t.pageY-(this.parentNode.point.y+this.parentNode.imgHeight+2*this.parentNode.padding)*n}:{x:t.pageX,y:t.pageY},r=this.$store.getters["flow/getMousePointByCanvas"](i);r.x=r.x/n,r.y=r.y/n;var o=t.target;if(this.currentLineInfo&&(this.currentLineInfo.endPoint=null,this.currentLineInfo.targetNode=null,this.currentLineInfo.targetDirection=null),"IMG"==(null===o||void 0===o?void 0:o.tagName)||"DIV"==(null===o||void 0===o?void 0:o.tagName)&&-1!==(null===o||void 0===o||null===(e=o.className)||void 0===e?void 0:e.indexOf("task-node"))){var a=Object(w["f"])(this.nodes,o);if(a){var s=this.getDrawLineEndPointInfo(a,i),l=!1;if(this.currentLineInfo.fromNode==a?this.currentLineInfo.fromDirection!=s.direction&&(l=!0):l=!0,l){this.currentLineInfo.endPoint=s.point,this.currentLineInfo.targetNode=a,this.currentLineInfo.targetDirection=s.direction;var c=Object(D["a"])(this.currentLineInfo);c&&(this.currentMouseDrawingLine.path=c,this.currentMouseDrawingLine.render())}}}else{var u=Object(D["b"])(this.currentLineInfo,r);u&&(this.currentMouseDrawingLine.path=u,this.currentMouseDrawingLine.render())}this.$bus.$emit("autoScroll",{type:"line",data:this.currentMouseDrawingLine,mouse:{x:t.pageX,y:t.pageY}})},dragLine:function(t){var e=this.mp,n=this.$store.getters["flow/getMousePointByCanvas"]({x:t.pageX,y:t.pageY});if(Math.abs(n.x-e.x)<2&&Math.abs(n.y-e.y)<2)return!1;var i=t.target,r=null,o=null,a=this.currentDragLine,s=this.checked;if(a.changeJoinDriection){if("start"==a.dragPosition?(o=Object(w["d"])(this.nodes,s.to),this.$bus.$emit("isDrewingLine".concat(this.isSub?this.parentNode.id:""),"start")):"end"==a.dragPosition&&(r=Object(w["d"])(this.nodes,s.from),this.$bus.$emit("isDrewingLine".concat(this.isSub?this.parentNode.id:""),"end")),"IMG"==i.tagName||"DIV"==i.tagName&&-1!==i.className.indexOf("task-node")){var l=Object(w["f"])(this.nodes,i);l&&("start"==a.dragPosition?(r=l,o=Object(w["d"])(this.nodes,s.to)):"end"==a.dragPosition&&(r="event"===s.fromType?Object(w["d"])(this.events,s.from):Object(w["d"])(this.nodes,s.from),o=l))}else"start"==a.dragPosition?o=Object(w["d"])(this.nodes,s.to):r="event"===s.fromType?Object(w["d"])(this.events,s.from):Object(w["d"])(this.nodes,s.from);this.mouseDragLine(r,o,t)}else r="event"===s.fromType?Object(w["d"])(this.events,s.from):Object(w["d"])(this.nodes,s.from),o=Object(w["d"])(this.nodes,s.to),this.mouseDragLine(r,o,t);this.isDrag=!0,this.$bus.$emit("autoScroll",{type:"line",data:a,mouse:{x:t.pageX,y:t.pageY}}),t.preventDefault()},mouseup:function(t){return t.stopPropagation(),t.preventDefault(),this.start=!1,this.$bus.$emit("isDrewingLine".concat(this.isSub?this.parentNode.id:""),null),"drawLine"===this.type?(this.drawRealLine(),!1):(this.dragRealLine(),!1)},drawRealLine:function(){if(!this.currentLineInfo)return!1;try{var t=this.currentLineInfo.fromNode,e=this.currentLineInfo.targetNode,n={paper:this.paper};t&&t instanceof g["a"]&&(n.fromType="event");var i=new m["a"](this.config,n);this.isSub&&(i.parentNodeId=this.parentNode.id),i.path=this.currentLineInfo.path||this.currentMouseDrawingLine.path,e?(this.updateLineLinkInfo(i,t,e,this.currentLineInfo.fromDirection,this.currentLineInfo.targetDirection),this.currentMouseDrawingLine&&this.currentMouseDrawingLine.remove(),this.addToPanel(i,t,e)):this.currentMouseDrawingLine&&this.currentMouseDrawingLine.remove()}catch(r){}finally{this.currentLineInfo=null}},addToPanel:function(t,e,n){var i=this.maxSizeOffset;t.paper=this.paper,this.lines.push(t);for(var r=!1,o=0;o<t.path.length;o++){var a=t.path[o];parseFloat(a.x)+i>this.maxWidth&&(this.maxWidth=parseFloat(a.x)+i,r=!0),parseFloat(a.y)+i>this.maxWidth&&(this.maxHeight=parseFloat(a.y)+i,r=!0)}r&&this.$bus.$emit("resize"),t.id||(t.id=u["i"].uuid()),this.render(t),t.isHide?t.hide():t.show(),this.updateIntersection(),this.setNodeLinkNodeInfo(e,n,t),t.setAttributes(e,n)},dragRealLine:function(){var t=this.currentDragLine,e=this.checked;try{if(this.isDrag){var n,i,r,o;if(t.changeJoinDriection){if(t.fromNode&&t.toNode){n=t.fromNode?t.fromNode:"event"===e.fromType?Object(w["d"])(this.events,e.from):Object(w["d"])(this.nodes,e.from),i=t.toNode?t.toNode:Object(w["d"])(this.nodes,e.to),r=t.fromDirection?t.fromDirection:e.linkInfo.fromDirection,o=t.toDirection?t.toDirection:e.linkInfo.toDirection;var a=!0;if(n==i&&r==o&&(a=!1),a){var s=t.proxy.path;if(s&&s.length>0&&(e.path=s,this.render(e)),e.id){var l;if(e.from)if(l="event"===e.fromType?Object(w["d"])(this.events,e.from):Object(w["d"])(this.nodes,e.from),l){var c,u=null===(c=l["out"])||void 0===c?void 0:c.indexOf(e.id);u>=0&&l["out"].splice(u,1)}if(e.to){var f=Object(w["d"])(this.nodes,e.to);if(f){var d,h=null===(d=f["in"])||void 0===d?void 0:d.indexOf(e.id);h>=0&&f["in"].splice(h,1)}}}}}}else{n="event"===e.fromType?Object(w["d"])(this.events,e.from):Object(w["d"])(this.nodes,e.from),i=Object(w["d"])(this.nodes,e.to),r=t.fromDirection?t.fromDirection:e.linkInfo.fromDirection,o=t.toDirection?t.toDirection:e.linkInfo.toDirection;var p=t.proxy.path;p&&p.length>0&&(e.path=p,this.render(e))}n&&i&&(this.updateLineLinkInfo(e,n,i,r,o),this.setNodeLinkNodeInfo(n,i,e),e.setAttributes(n,i),this.updateIntersection())}}catch(m){}finally{this.isDrag=!1,t.proxy.remove(),t=null,this.$bus.$emit("resize")}},mouseDrawLine:function(t){var e=this.scale;this.currentMouseDrawingLine=null;var n=this.checked;this.currentMouseDrawingLine=new d(this.config,this.paper,{strokeWidth:2,from:n.id});var i=this.parentNode?{x:t.pageX-this.parentNode.point.x*e,y:t.pageY-(this.parentNode.point.y+this.parentNode.imgHeight+2*this.parentNode.padding)*e}:{x:t.pageX,y:t.pageY};this.startInfo=this.getDrawLineStartPointInfo(n,i),this.startPoint=this.startInfo.point,this.down_direction=this.startInfo.direction,this.currentMouseDrawingLine.path.push(this.startPoint),this.currentLineInfo={startPoint:this.startPoint,fromDirection:this.down_direction,fromNode:n}},eventDrawLine:function(t){this.currentMouseDrawingLine=null;var e=this.checked;this.currentMouseDrawingLine=new d(this.config,this.paper,{strokeWidth:2,from:e.id}),this.startInfo=this.getEventLineStartPointInfo(e,{x:t.pageX,y:t.pageY}),this.startPoint=this.startInfo.point,this.down_direction=this.startInfo.direction,this.currentMouseDrawingLine.path.push(this.startPoint),this.currentLineInfo={startPoint:this.startPoint,fromDirection:this.down_direction,fromNode:e}},getDrawLineStartPointInfo:function(t,e){var n=this.$store.getters["flow/getMousePointByCanvas"]({x:e.x,y:e.y}),i=this.scale;n.x=n.x/i,n.y=n.y/i;var r=u["i"].getNodeDirection(t,n),o=u["i"].getNodeCenter(t);r==u["b"].Right&&(n.x=o.x+t.width/2,n.y<t.point.y&&(n.y=t.point.y),n.y>t.point.y+t.height&&(n.y=t.point.y+t.height),Math.abs(n.y-o.y)<this.centerOffset?n.y=o.y:n.y=Object(w["c"])(n).y),r==u["b"].Left?(n.x=t.point.x,n.y<t.point.y&&(n.y=t.point.y),n.y>t.point.y+t.height&&(n.y=t.point.y+t.height),Math.abs(n.y-o.y)<this.centerOffset?n.y=o.y:n.y=Object(w["c"])(n).y):r==u["b"].Bottom?(n.y=t.point.y+t.height,n.x<t.point.x&&(n.x=t.point.x),n.x>t.point.x+t.width&&(n.x=t.point.x+t.width),Math.abs(n.x-o.x)<this.centerOffset?n.x=o.x:n.x=Object(w["c"])(n).x):r==u["b"].Top&&(n.y=t.point.y,n.x<t.point.x&&(n.x=t.point.x),n.x>t.point.x+t.width&&(n.x=t.point.x+t.width),Math.abs(n.x-o.x)<this.centerOffset?n.x=o.x:n.x=Object(w["c"])(n).x);var a={x:n.x,y:n.y},s={point:a,direction:r};return s},getDrawLineEndPointInfo:function(t,e){var n=this.$store.getters["flow/getMousePointByCanvas"]({x:e.x,y:e.y}),i=this.scale;n.x=n.x/i,n.y=n.y/i;var r=u["i"].getNodeCenter(t),o=u["i"].getNodeDirection(t,n);o==u["b"].Left?(n.y<t.point.y&&(n.y=t.point.y),n.y>t.point.y+t.height&&(n.y=t.point.y+t.height),Math.abs(n.y-r.y)<this.centerOffset?n.y=r.y:n.y=Object(w["c"])(n).y,n.x=t.point.x):o==u["b"].Right?(n.y<t.point.y&&(n.y=t.point.y),n.y>t.point.y+t.height&&(n.y=t.point.y+t.height),Math.abs(n.y-r.y)<this.centerOffset?n.y=r.y:n.y=Object(w["c"])(n).y,n.x=t.point.x+t.width):o==u["b"].Top?(n.x<t.point.x&&(n.x=t.point.x),n.x>t.point.x+t.width&&(n.x=t.point.x+t.width),Math.abs(n.x-r.x)<this.centerOffset?n.x=r.x:n.x=Object(w["c"])(n).x,n.y=t.point.y):o==u["b"].Bottom&&(n.x<t.point.x&&(n.x=t.point.x),n.x>t.point.x+t.width&&(n.x=t.point.x+t.width),Math.abs(n.x-r.x)<this.centerOffset?n.x=r.x:n.x=Object(w["c"])(n).x,n.y=t.point.y+t.height);var a={x:n.x,y:n.y},s={point:a,direction:o};return s},getEventLineStartPointInfo:function(t,e){var n=this.$store.getters["flow/getMousePointByCanvas"]({x:e.x,y:e.y}),i=this.scale;n.x=n.x/i,n.y=n.y/i;var r=t.direction;r==u["b"].Right?(n.x=t.point.x+t.width/2+t.img.width/2,n.y=t.point.y+t.img.width/2):r==u["b"].Left?(n.x=t.point.x+t.width/2-t.img.width/2,n.y=t.point.y+t.img.width/2):r==u["b"].Top?(n.x=t.point.x+t.width/2,n.y=t.point.y):(n.x=t.point.x+t.width/2,n.y=t.point.y+t.img.width);var o={x:n.x,y:n.y},a={point:o,direction:r};return a},updateLineLinkInfo:function(t,e,n,i,r){if("string"==typeof e&&(e=Object(w["d"])(this.nodes,e)),"string"==typeof n&&(n=Object(w["d"])(this.nodes,n)),e&&n){var o=0,a=0,s={x:t.path[0].x,y:t.path[0].y},l={x:t.path[t.path.length-1].x,y:t.path[t.path.length-1].y},c=u["i"].getNodeCenter(e),f=u["i"].getNodeCenter(n);i==u["b"].Top||i==u["b"].Bottom?o=s.x-c.x:i!=u["b"].Left&&i!=u["b"].Right||(o=s.y-c.y),r==u["b"].Top||r==u["b"].Bottom?a=l.x-f.x:r!=u["b"].Left&&r!=u["b"].Right||(a=l.y-f.y),t.linkInfo={fromDirection:i,toDirection:r,fromOffset:o,toOffset:a}}},updateIntersection:function(){for(var t=this.getAllSegments(),e=t.v_segments,n=t.h_segments,i=0;i<n.length;i++){var r=n[i],o=r.getIntersection().length>0;r.clearIntersection();for(var a=0;a<e.length;a++){var s=e[a],l=u["i"].segmentsIntr(r.sp,r.ep,s.sp,s.ep),c=u["j"]+5;if(l){if(Math.abs(l.x-r.sp.x)<=c||Math.abs(l.x-r.ep.x)<=c)continue;if(Math.abs(l.y-s.sp.y)<=c||Math.abs(l.y-s.ep.y)<=c)continue;for(var f=r.getIntersection(),d=!1,h=0;h<f.length;h++)if(f[h].x==l.x&&f[h].y==l.y){d=!0;break}d||r.setIntersection(l)}}if(r.getIntersection().length>0||o){r.render();var p=r.getLine();p.isHide&&r.hide()}}},getAllSegments:function(){for(var t=[],e=[],n=0;n<this.lines.length;n++)for(var i=this.lines[n].getSegmenList(),r=0;r<i.length;r++){var o=i[r],a=this.getLineType(o);a==u["d"].horizontal?e.push(o):t.push(o)}return{v_segments:t,h_segments:e}},getLineType:function(t){return t.sp.y==t.ep.y?u["d"].horizontal:t.sp.x==t.ep.x?u["d"].vertical:void 0},nodeMove:function(t){var e=[].concat(Object(o["a"])(t.in),Object(o["a"])(t.out));this.renderLines(e,!0),this.updateIntersection()},renderLines:function(t,e){if(t&&(!t||0!=t.length))for(var n=0;n<t.length;n++){var i=t[n],r=Object(w["d"])(this.lines,i),o=void 0;o="event"===r.fromType?Object(w["d"])(this.events,r.from):Object(w["d"])(this.nodes,r.from);var a=Object(w["d"])(this.nodes,r.to),s=this.getPathPoints(r,o,a);s&&s.length>0&&("single"===r.attributes.BaseInfo.LineShape&&s.length>2&&s.splice(1,s.length-2),e&&r.propertyPos&&(r.propertyPos.isMove=!1),r.path=s,this.render(r),this.hideOrShowSubNodeLines(r,o,a))}},getPathPoints:function(t,e,n){var i=t.linkInfo,r=("event"===t.fromType?this.getEventPointByLineOffset:this.getPointByLineOffset)(t,e,i.fromDirection),o=this.getPointByLineOffset(t,n,i.toDirection);if(r&&o){var a={fromNode:e,targetNode:n,startPoint:r,endPoint:o,fromDirection:i.fromDirection,targetDirection:i.toDirection};return Object(D["a"])(a)}return[]},hideOrShowSubNodeLines:function(t,e,n){t.isHide=!1,"event"===t.fromType&&(e.hide||n.hide)?(t.hide(),t.isHide=!0):t.show()},eventMove:function(t){if(t.out&&t.out.length>0)for(var e=0;e<t.out.length;e++){var n=t.out[e],i=Object(w["d"])(this.lines,n),r=Object(w["d"])(this.events,i.from),o=Object(w["d"])(this.nodes,i.to),a=i.linkInfo,s=0,l=0;s=this.getEventPointByLineOffset(i,r,a.fromDirection),l=this.getPointByLineOffset(i,o,a.toDirection);if(s&&l){var c={fromNode:r,targetNode:o,startPoint:s,endPoint:l,fromDirection:a.fromDirection,targetDirection:a.toDirection},u=Object(D["a"])(c);u&&u.length>0&&(i.path=u,this.render(i),this.hideOrShowSubNodeLines(i,r,o))}}this.updateIntersection()},getPointByLineOffset:function(t,e,n){var i=null,r=u["i"].getNodeCenter(e),o=t.from===e.id?"from":t.to===e.id?"to":null;if(!o)return null;var a="from"==o?t.linkInfo.fromOffset:t.linkInfo.toOffset;return i=n==u["b"].Top?{x:r.x+a,y:e.point.y}:n==u["b"].Bottom?{x:r.x+a,y:e.point.y+e.height}:n==u["b"].Left?{x:e.point.x,y:r.y+a}:{x:e.point.x+e.width,y:r.y+a},i},getEventPointByLineOffset:function(t,e,n){var i=null;return i=n==u["b"].Top?{x:e.point.x+e.width/2,y:e.point.y}:n==u["b"].Bottom?{x:e.point.x+e.width/2,y:e.point.y+e.img.height}:n==u["b"].Left?{x:e.point.x+e.width/2-e.img.height/2,y:e.point.y+e.img.height/2}:{x:e.point.x+e.width/2+e.img.height/2,y:e.point.y+e.img.height/2},i},getPointByFold:function(t,e,n,i,r){if(!i){var o="from"===r?t.linkInfo.fromOffset:t.linkInfo.toOffset,a=u["i"].getNodeCenter(e);return n==u["b"].Top?p={x:a.x+o,y:e.point.y}:n==u["b"].Bottom?p={x:a.x+o,y:e.point.y+e.height}:n==u["b"].Left?p={x:e.point.x,y:a.y+o}:p={x:e.point.x+e.width,y:a.y+o},p}},lineMouseDownHandler:function(t,e){this.type="dragline";var n=Object(w["g"])(t.target);if(n){if(this.start=!0,this.isDrag=!1,!e)return!1;var i={segmen:n,line:e,proxy:new d(this.config,this.paper,{"stroke-dasharray":["-"]}),changeJoinDriection:!1};this.currentDragLine=i;var r=this.mp=this.$store.getters["flow/getMousePointByCanvas"]({x:t.pageX,y:t.pageY});1==e.getSegmenList().length?n.type==u["d"].horizontal?Math.abs(n.sp.x-r.x)<=this.dragSize?(i.changeJoinDriection=!0,i.dragPosition="start"):Math.abs(n.ep.x-r.x)<=this.dragSize&&(i.changeJoinDriection=!0,i.dragPosition="end"):0==n.index&&Math.abs(n.sp.y-r.y)<=this.dragSize?(i.changeJoinDriection=!0,i.dragPosition="start"):n.isLast&&Math.abs(n.ep.y-r.y)<=this.dragSize&&(i.changeJoinDriection=!0,i.dragPosition="end"):e.getSegmenList().length>1&&(n.type==u["d"].horizontal?0==n.index&&Math.abs(n.sp.x-r.x)<=this.dragSize?(i.changeJoinDriection=!0,i.dragPosition="start"):n.isLast&&Math.abs(n.ep.x-r.x)<this.dragSize&&(i.changeJoinDriection=!0,i.dragPosition="end"):0==n.index&&Math.abs(n.sp.y-r.y)<=this.dragSize?(i.changeJoinDriection=!0,i.dragPosition="start"):n.isLast&&Math.abs(n.ep.y-r.y)<=this.dragSize&&(i.changeJoinDriection=!0,i.dragPosition="end"))}},mouseDragLine:function(t,e,n){var i=this.currentDragLine;if(i)if(i.changeJoinDriection){S=i.segmen;if(S){E=S.getLine(),x=this.$store.getters["flow/getMousePointByCanvas"]({x:n.pageX,y:n.pageY});var r=this.scale;if(x.x=x.x/r,x.y=x.y/r,"start"==i.dragPosition){var o=t,a=e,s=null,l=null,c="";if(o)s=this.getDrawLineStartPointInfo(o,{x:n.pageX,y:n.pageY}),l=s.point,c=s.direction;else{var f=Object(w["c"])(x);o={width:0,height:0,point:f,abstract:!0},l=f;var d=u["i"].getNodeDirection(a,f);d==u["c"].Left?c=u["c"].Right:d==u["c"].Right?c=u["c"].Left:d==u["c"].Bottom?c=u["c"].Top:d==u["c"].Top&&(c=u["c"].Bottom)}var h=this.getPointByLineOffset(E,a,E.linkInfo.toDirection),p={startPoint:l,fromDirection:c,fromNode:o,targetNode:a,targetDirection:E.linkInfo.toDirection,endPoint:h};j=Object(D["a"])(p);o.abstract?i.fromNode=null:i.fromNode=o,i.toNode=a,i.fromDirection=c,i.proxy.path=j,i.proxy.render()}else if("end"==i.dragPosition){o=t,a=e;var m=null,v=null,y=null;if(a)m=this.getDrawLineStartPointInfo(a,{x:n.pageX,y:n.pageY}),v=m.point,y=m.direction;else{var b=x;a={width:0,height:0,point:b,abstract:!0},v=b;d=u["i"].getNodeDirection(o,b);d==u["c"].Left?y=u["c"].Right:d==u["c"].Right?y=u["c"].Left:d==u["c"].Bottom?y=u["c"].Top:d==u["c"].Top&&(y=u["c"].Bottom)}var _=(o instanceof g["a"]?this.getEventPointByLineOffset:this.getPointByLineOffset)(E,o,E.linkInfo.fromDirection);p={startPoint:_,fromDirection:E.linkInfo.fromDirection,fromNode:o,targetNode:a,targetDirection:y,endPoint:v},j=Object(D["a"])(p);i.fromNode=o,a.abstract?i.toNode=null:i.toNode=a,i.toDirection=y,i.proxy.path=j,i.proxy.render()}}}else{var x=this.$store.getters["flow/getMousePointByCanvas"]({x:n.pageX,y:n.pageY});x=Object(w["c"])(x),this.parentNode&&(x.x=x.x-this.parentNode.point.x,x.y=x.y-this.parentNode.point.y-this.parentNode.imgHeight);var k=this.scale;x.x=x.x/k,x.y=x.y/k;var S=i.segmen;if(S){var O,C,E=S.getLine();if(S.type==u["d"].vertical)if(0==S.index)O="event"===E.fromType?Object(w["d"])(this.events,E.from):Object(w["d"])(this.nodes,E.from),x.x>=O.point.x&&x.x<=O.point.x+O.width&&(S.ep.x=x.x,S.sp.x=x.x);else if(S.isLast){var T=Object(w["d"])(this.nodes,E.to);x.x>=T.point.x&&x.x<=T.point.x+T.width&&(S.ep.x=x.x,S.sp.x=x.x)}else S.ep.x=x.x,S.sp.x=x.x;else if(0==S.index){if(C="event"===E.fromType?Object(w["d"])(this.events,E.from):Object(w["d"])(this.nodes,E.from),x.y>=C.point.y&&x.y<=C.point.y+C.height){var N=u["i"].getNodeCenter(C);Math.abs(x.y-N.y)<this.centerOffset&&(x.y=N.y),S.ep.y=x.y,S.sp.y=x.y}}else if(S.isLast){T=Object(w["d"])(this.nodes,E.to);if(x.y>=T.point.y&&x.y<=T.point.y+T.height){var M=u["i"].getNodeCenter(T);Math.abs(x.y-M.y)<this.centerOffset&&(x.y=M.y),S.ep.y=x.y,S.sp.y=x.y}}else S.ep.y=x.y,S.sp.y=x.y;var A=E.getSegmenList(),j=this.covertPointBySegmen(A);i.proxy.path=j,i.proxy.render()}}},covertPointBySegmen:function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];e.push(i.sp),n==t.length-1&&e.push(i.ep)}return e},setNodeLinkNodeInfo:function(t,e,n){var i,r;t["out"]&&(null===(i=t["out"])||void 0===i?void 0:i.indexOf(n.id))<0&&t["out"].push(n.id),e["in"]&&(null===(r=e["in"])||void 0===r?void 0:r.indexOf(n.id))<0&&e["in"].push(n.id),n.from=t.id,n.to=e.id},render:function(t){t.remove(),t.stroke=t.getLineStroke();var e=u["i"].convertSegmentByPoint(t.path);t.propertyPos.isMove||this.setLineProperty(t,e);for(var n=0;n<e.length;n++){var i=e[n],r=new y(t,this.paper,n);r.sp=i.sp,r.ep=i.ep,n==e.length-1&&(r.isLast=!0),r.direction=u["i"].getDirection(r.sp,r.ep),t.addElement(r)}for(var o=t.getSegmenList(),a=0;a<o.length;a++)o[a].render()},setLineProperty:function(t,e){if(1===e.length){var n=e[0].sp,i=e[0].ep;return t.propertyPos.x=(n.x+i.x)/2,void(t.propertyPos.y=(n.y+i.y)/2)}if(e.length>=2){for(var r,o=e,a=o.map((function(t){return t.lineLength})).reduce((function(t,e){return t+e})),s=0,l=0;l<o.length;l++){if(s+o[l].lineLength>=a/2){r=o[l];break}s+=o[l].lineLength}var c=r.sp,u=r.ep;return t.propertyPos.x=(c.x+u.x)/2,void(t.propertyPos.y=(c.y+u.y)/2)}},globalMove:function(t,e,n){if(t)for(var i=0;i<this.lines.length;i++){for(var r=this.lines[i],o=0;o<r.path.length;o++)e&&(r.path[o].x+=t.x),n&&(r.path[o].y+=t.y);(e||n)&&this.render(r)}},resetLineName:function(t){this.lines.forEach((function(e){if(e.from===t.id){var n=e.name.split("→");2===n.length&&(e.name=t.name+"→"+n[1],e.attributes.BaseInfo.Name=e.name)}if(e.to===t.id){var i=e.name.split("→");2===i.length&&(e.name=i[0]+"→"+t.name,e.attributes.BaseInfo.Name=e.name)}}))},cutOffLine:function(t){var e,n,i,r,o,a,s=this,l=[t.point,{x:t.point.x+t.width,y:t.point.y},{x:t.point.x,y:t.point.y+t.height},{x:t.point.x+t.width,y:t.point.y+t.height}];if(this.lines.forEach((function(c,u){c.path.reduce((function(f,d,h){var p=s.getLine(f,d),m=p.A,g=p.B,v=p.C,y=l.filter((function(t){return m*t.x+g*t.y+v>0}));return 2===y.length&&(y=y.filter((function(e,n){var s;return f.y===d.y&&(f.x<e.x&&e.x<d.x?(s=!0,0===n&&(i={x:e.x,y:f.y}),1===n&&(o={x:e.x,y:f.y}),r="left",a="right",t.point.y=f.y-t.height/2):d.x<e.x&&e.x<f.x&&(s=!0,1===n&&(i={x:e.x,y:f.y}),0===n&&(o={x:e.x,y:f.y}),r="right",a="left",t.point.y=f.y-t.height/2)),f.x===d.x&&(f.y<e.y&&e.y<d.y?(s=!0,0===n&&(i={x:f.x,y:e.y}),1===n&&(o={x:f.x,y:e.y}),r="top",a="bottom",t.point.x=f.x-t.width/2):d.y<e.y&&e.y<f.y&&(s=!0,1===n&&(i={x:f.x,y:e.y}),0===n&&(o={x:f.x,y:e.y}),r="bottom",a="top",t.point.x=f.x-t.width/2)),s}))),y.length>1&&y.length<l.length&&(e=c,u,n=h),d}))})),e&&e.path.length>=2){var c=e.path.slice(0,n);c.push(i);var u=e.fromType?this.events.filter((function(t){return t.id===e.from})):this.nodes.filter((function(t){return t.id===e.from}));this.currentLineInfo={endPoint:c[c.length-1],fromDirection:e.linkInfo.fromDirection,fromNode:u[0],startPoint:c[0],targetDirection:r,targetNode:t,path:c},this.drawRealLine();var f=e.path.slice(n,e.path.length);f.unshift(o);var d=this.nodes.filter((function(t){return t.id===e.to}));this.currentLineInfo={endPoint:f[c.length-1],fromDirection:a,fromNode:t,startPoint:f[0],targetDirection:e.linkInfo.toDirection,targetNode:d[0],path:f},this.drawRealLine(),this.$bus.$emit("deleteLine",e),this.currentLineInfo=null}},getLine:function(t,e){return{A:e.y-t.y,B:t.x-e.x,C:e.x*t.y-t.x*e.y}},changeLineShape:function(t){if("single"===t.attributes.BaseInfo.LineShape)t.path.splice(1,t.path.length-2);else{var e,n;t.from&&(e="event"===t.fromType?Object(w["d"])(this.events,t.from):Object(w["d"])(this.nodes,t.from)),t.to&&(n=Object(w["d"])(this.nodes,t.to));var i=this.getPathPoints(t,e,n);t.path=i}this.render(t),this.updateIntersection()}}},N=T,M=(n(846),Object(O["a"])(N,i,r,!1,null,"5039a544",null));M.options.__file="designer/flow/Lines.vue";e["a"]=M.exports},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("DsfButton",{attrs:{type:"plain",icon:"shezhi"},on:{click:t.clickHandler}},[t._v("设置")])},r=[];i._withStripped=!0;var o=n(3),a=n.n(o),s=n(9),l=(n(63),{name:"DsfDesignerDialog",inject:{$designer:{default:null}},model:{prop:"args"},props:["attrdata","args","owner","designer"],data:function(){return{cloneArgs:{},dialogVisible:!1,width:"50%"}},created:function(){var t=this.attrdata;this.owner&&this.owner.isQuestionControl&&t&&t.config&&"DesQuestionConfig"===t.config.content&&this.$bus.$on("questionSetting",this.clickHandler)},destroyed:function(){this.$bus.$off("questionSetting",this.clickHandler)},methods:{sure:function(){},cancel:function(){},clickHandler:function(t){var e=this.$designer;this.dialogVisible=!0;var n=this,i=this.owner,r=this.attrdata.config,o=r.title,l=r.content,c=r.width,u=r.height,f=r.overflow,d=r.class;"array"==dsf.type(this.args)?this.cloneArgs=dsf.mix(!0,[],this.args):"object"==dsf.type(this.args)?this.cloneArgs=dsf.mix(!0,{},this.args):this.cloneArgs=this.args;var h=Vue.extend({data:function(){return{dialogVisible:!0,title:o||"设置",content:l,config:r,currentData:n.cloneArgs,width:c||"50%",height:u||"auto",destroyOnClose:!0,owner:i,overflow:f||"auto",params:r.params||{},skin:d||"",designer:e}},methods:{sure:function(){var t=this;return Object(s["a"])(a.a.mark((function e(){var i;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=null,!t.$refs.content){e.next=9;break}if(!1===t.$refs.content.validate()){e.next=9;break}if(!t.$refs.content.yes){e.next=7;break}return e.next=6,t.$refs.content.yes();case 6:i=e.sent;case 7:t.dialogVisible=!1,t.$nextTick((function(){n.$emit("change",i)}));case 9:case"end":return e.stop()}}),e)})))()},close:function(){this.dialogVisible=!1},cancel:function(){var t=this;p&&(p=null),window.setTimeout((function(){t.$destroy()}),0)}},template:'<DsfDialog :class=\'skin\' :title="title" :visible.sync="dialogVisible" :width="width" top="10vh" :close-on-click-modal="false" :append-to-body="true"  @close="close" @closed="cancel" >\n                    <div :style="{\'height\':height,\'overflow\':(overflow||\'auto\')}">\n                     <component :is="content"  v-bind="params" :designer="designer" :current-data="currentData" :owner="owner" :config="config" ref="content"></component>\n                    </div>\n                    <template v-slot:footer>\n                      <DsfButton text="确定" @click="sure" />\n                      <DsfButton text="取消" type="plain" @click="close"/>\n                    </template>\n                  </DsfDialog>'}),p=(new h).$mount()}}}),c=l,u=n(0),f=Object(u["a"])(c,i,r,!1,null,null,null);f.options.__file="designer/propertyEditor/dsfDesignerDialog.vue";e["a"]=f.exports},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"subprocess"},[n("lines",{attrs:{"is-draw-line":t.isDrawLine,"parent-node":t.parentNode,lines:t.lines,nodes:t.nodes,events:t.events,checked:t.checked,"is-sub":!0}}),n("nodes",{attrs:{"is-draw-line":t.isDrawLine,"parent-node":t.parentNode,nodes:t.nodes,checked:t.checked,"is-sub":!0,"data-id":t.parentNode.id}}),n("events",{attrs:{"is-draw-line":t.isDrawLine,"parent-node":t.parentNode,nodes:t.nodes,events:t.events,checked:t.checked,"is-sub":!0}})],1)},r=[];i._withStripped=!0;var o=n(623),a=n(626),s={name:"Subprocess",components:{Lines:o["a"],Events:a["a"]},props:{lines:{type:Array,default:function(){return[]}},nodes:{type:Array,default:function(){return[]}},events:{type:Array,default:function(){return[]}},isDrawLine:{type:Boolean,default:function(){return!1}},checked:{type:Object,default:function(){return{}}},parentNode:{type:Object,default:function(){return{}}}}},l=s,c=n(0),u=Object(c["a"])(l,i,r,!1,null,"1f0f943a",null);u.options.__file="designer/flow/Subprocess.vue";e["a"]=u.exports},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"events",style:{top:t.isSub?t.toPx(t.parentNode.imgHeight+2*t.parentNode.padding):0,zIndex:t.zIndex}},t._l(t.events,(function(e){return i("div",{directives:[{name:"show",rawName:"v-show",value:!e.isHide,expression:"!ev.isHide"},{name:"flow-clickoutside",rawName:"v-flow-clickoutside:hideEdit",value:e,expression:"ev",arg:"hideEdit"}],key:e.id,staticClass:"ds_tool_event_drag tool_event",class:{selected:t.checked===e},style:{width:e.width+"px",height:e.height+"px",top:t.toPx(e.point.y),left:t.toPx(e.point.x)},attrs:{draggable:!t.isDrawLine,"data-id":e.id},on:{mousedown:function(n){return t.selectEvent(n,e)},click:function(n){return t.selectEvent(n,e)},dblclick:function(n){return t.openOrEdit(n,e)},dragstart:function(n){return t.drag(n,e)}}},[i("img",{class:{selected:t.checked===e},style:{width:t.toPx(e.img.width),height:t.toPx(e.img.height)},attrs:{src:n(499)("./"+e.type+".png"),draggable:"false"}}),"attached"===e.sort?i("span",{ref:"name"+e.id,refInFor:!0,staticClass:"name",class:e.type,attrs:{contenteditable:e.edit,draggable:"false"},domProps:{innerHTML:t._s(e.name)},on:{blur:function(n){return t.editBlur(e,n)}}}):t._e()])})),0)},r=[];i._withStripped=!0;var o=n(6),a=(n(128),n(63),n(24),n(25),n(23),n(15),n(31)),s=n(473),l={name:"Events",props:{nodes:{type:Array,default:function(){return[]}},events:{type:Array,default:function(){return[]}},isDrawLine:{type:Boolean,default:function(){return!1}},checked:{type:Object,default:function(){return{}}},isSub:{type:Boolean,default:function(){return!1}},parentNode:{type:Object,default:function(){return null}}},data:function(){return{current:null,crashNode:null}},computed:{zIndex:function(){return this.checked instanceof s["a"]?-1:0}},created:function(){},mounted:function(){this.$bus.$on("showSubNode".concat(this.isSub?this.parentNode.id:""),this.showSubNode),this.$bus.$on("nodeMove".concat(this.isSub?this.parentNode.id:""),this.nodeMove)},methods:{toPx:a["i"],drag:function(t,e){t.dataTransfer&&t.dataTransfer.setDragImage(new Image,0,0),"dragstart"===t.type?t=event||t:event.touches&&(t=event.touches[0]?event.touches[0]:event);var n={x:t.offsetX,y:t.offsetY};this.$bus.$emit("update-checked",e),this.current=Object(o["a"])(Object(o["a"])({},e),{},{offset:n}),this.$bus.$emit("dragCloneEvent",t,this.current)},selectEvent:function(t,e){var n=this;if(t.stopPropagation(),this.$bus.$emit("update-checked",e),this.isDrawLine&&"attached"!==e.sort){var i="startDraw".concat(this.isSub?this.parentNode.id:"");setTimeout((function(){n.$bus.$emit(i,t,e,n.parentNode)}),0)}},nodeMove:function(t){var e=this;if(t&&this.events&&this.events.length>0){this.crashNode=t,this.$store.commit("flow/setPointsByNode",{node:t,obj:this.events[0]});var n=this.$store.getters["flow/getPoints"](t.id),i=[],r=this.$store.state.flow.page.scale;n.forEach((function(n){e.events.forEach((function(o){t.id===o.nodeId&&n.direction===o.direction&&(n.index===o.index||n.isMax&&o.index>=n.index)&&(o=Object.assign(o,n),o.point.x=o.point.x/r,o.point.y=o.point.y/r,o.out&&o.out.length>0&&e.$bus.$emit("eventMove".concat(e.isSub?e.parentNode.id:""),o),i.push(n))}))})),i.forEach((function(i){var r=null===n||void 0===n?void 0:n.indexOf(i);e.$store.commit("flow/deletePoint",{id:t.id,index:r})}))}},showSubNode:function(t){var e=this;this.events.forEach((function(n){n.nodeId===t.id&&(n.isHide=!t.open.show,n.out&&n.out.length>0&&e.$bus.$emit("hideLines",n.out,!t.open.show))}))},globalMove:function(t,e,n){if(t)for(var i=0;i<this.events.length;i++){var r=this.events[i];e&&(r.point.x+=t.x),n&&(r.point.y+=t.y)}},editBlur:function(t,e){t.name=e.target.innerText,t.attributes.Name=e.target.innerText},openOrEdit:function(t,e){var n=this;if("risk"===e.type){var i,r,o=Object(a["d"])(this.nodes,e.nodeId),s=(null===(i=o.attributes)||void 0===i||null===(r=i.InstitutionAndRiskInfoList)||void 0===r?void 0:r.fxkz)||{};dsf.layer.openDialog({title:"风险控制",width:"600px",height:"366px",content:"RiskInfo",params:{value:{fxkz:s}},btns:[{text:"确定",handler:function(t){var e=t.yes();o.attributes.InstitutionAndRiskInfoList?Object.assign(o.attributes.InstitutionAndRiskInfoList,e):o.attributes.InstitutionAndRiskInfoList=e}},{text:"取消"}]})}else"mark"===e.type&&(e.edit=!0,setTimeout((function(){var t;n.$refs["name"+e.id][0].focus();var i=window.getSelection(),r=null===i||void 0===i||null===(t=i.getRangeAt)||void 0===t?void 0:t.call(i,0);null===r||void 0===r||r.setStart(r.startContainer,n.$refs["name"+e.id][0].innerText.length)}),0))},hideEdit:function(t){t.edit=!1}}},c=l,u=(n(848),n(0)),f=Object(u["a"])(c,i,r,!1,null,"69feecb8",null);f.options.__file="designer/flow/Events.vue";e["a"]=f.exports},,,,,,,,,function(t,e,n){(function(e){(function(e,n){t.exports=n()})("undefined"!==typeof self?self:"undefined"!==typeof windows&&window,(function(){return function(){"use strict";var t=[function(t,e,n){var i=n(1),r=n(16),o=n(19);function a(t,e,n,a){return n=n||i,a=a||r,o(t,e,n,a)}a.defaultOptions=o.defaultOptions,t.exports.js=i,t.exports.css=r,t.exports.html=a},function(t,e,n){var i=n(2).Beautifier,r=n(6).Options;function o(t,e){var n=new i(t,e);return n.beautify()}t.exports=o,t.exports.defaultOptions=function(){return new r}},function(t,e,n){var i=n(3).Output,r=n(4).Token,o=n(5),a=n(6).Options,s=n(8).Tokenizer,l=n(8).line_starters,c=n(8).positionable_operators,u=n(8).TOKEN;function f(t,e){return-1!==e.indexOf(t)}function d(t){return t.replace(/^\s+/g,"")}function h(t){for(var e={},n=0;n<t.length;n++)e[t[n].replace(/-/g,"_")]=t[n];return e}function p(t,e){return t&&t.type===u.RESERVED&&t.text===e}function m(t,e){return t&&t.type===u.RESERVED&&f(t.text,e)}var g=["case","return","do","if","throw","else","await","break","continue","async"],v=["before-newline","after-newline","preserve-newline"],y=h(v),b=[y.before_newline,y.preserve_newline],_={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"};function x(t,e){e.multiline_frame||e.mode===_.ForInitializer||e.mode===_.Conditional||t.remove_indent(e.start_line_index)}function w(t){t=t.replace(o.allLineBreaks,"\n");var e=[],n=t.indexOf("\n");while(-1!==n)e.push(t.substring(0,n)),t=t.substring(n+1),n=t.indexOf("\n");return t.length&&e.push(t),e}function k(t){return t===_.ArrayLiteral}function S(t){return f(t,[_.Expression,_.ForInitializer,_.Conditional])}function O(t,e){for(var n=0;n<t.length;n++){var i=t[n].trim();if(i.charAt(0)!==e)return!1}return!0}function C(t,e){for(var n,i=0,r=t.length;i<r;i++)if(n=t[i],n&&0!==n.indexOf(e))return!1;return!0}function E(t,e){e=e||{},this._source_text=t||"",this._output=null,this._tokens=null,this._last_last_text=null,this._flags=null,this._previous_flags=null,this._flag_store=null,this._options=new a(e)}E.prototype.create_flags=function(t,e){var n=0;t&&(n=t.indentation_level,!this._output.just_added_newline()&&t.line_indent_level>n&&(n=t.line_indent_level));var i={mode:e,parent:t,last_token:t?t.last_token:new r(u.START_BLOCK,""),last_word:t?t.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:n,alignment:0,line_indent_level:t?t.line_indent_level:n,start_line_index:this._output.get_line_number(),ternary_depth:0};return i},E.prototype._reset=function(t){var e=t.match(/^[\t ]*/)[0];this._last_last_text="",this._output=new i(this._options,e),this._output.raw=this._options.test_output_raw,this._flag_store=[],this.set_mode(_.BlockStatement);var n=new s(t,this._options);return this._tokens=n.tokenize(),t},E.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t,e=this._reset(this._source_text),n=this._options.eol;"auto"===this._options.eol&&(n="\n",e&&o.lineBreak.test(e||"")&&(n=e.match(o.lineBreak)[0]));var i=this._tokens.next();while(i)this.handle_token(i),this._last_last_text=this._flags.last_token.text,this._flags.last_token=i,i=this._tokens.next();return t=this._output.get_code(n),t},E.prototype.handle_token=function(t,e){t.type===u.START_EXPR?this.handle_start_expr(t):t.type===u.END_EXPR?this.handle_end_expr(t):t.type===u.START_BLOCK?this.handle_start_block(t):t.type===u.END_BLOCK?this.handle_end_block(t):t.type===u.WORD||t.type===u.RESERVED?this.handle_word(t):t.type===u.SEMICOLON?this.handle_semicolon(t):t.type===u.STRING?this.handle_string(t):t.type===u.EQUALS?this.handle_equals(t):t.type===u.OPERATOR?this.handle_operator(t):t.type===u.COMMA?this.handle_comma(t):t.type===u.BLOCK_COMMENT?this.handle_block_comment(t,e):t.type===u.COMMENT?this.handle_comment(t,e):t.type===u.DOT?this.handle_dot(t):t.type===u.EOF?this.handle_eof(t):(t.type,u.UNKNOWN,this.handle_unknown(t,e))},E.prototype.handle_whitespace_and_comments=function(t,e){var n=t.newlines,i=this._options.keep_array_indentation&&k(this._flags.mode);if(t.comments_before){var r=t.comments_before.next();while(r)this.handle_whitespace_and_comments(r,e),this.handle_token(r,e),r=t.comments_before.next()}if(i)for(var o=0;o<n;o+=1)this.print_newline(o>0,e);else if(this._options.max_preserve_newlines&&n>this._options.max_preserve_newlines&&(n=this._options.max_preserve_newlines),this._options.preserve_newlines&&n>1){this.print_newline(!1,e);for(var a=1;a<n;a+=1)this.print_newline(!0,e)}};var D=["async","break","continue","return","throw","yield"];E.prototype.allow_wrap_or_preserved_newline=function(t,e){if(e=void 0!==e&&e,!this._output.just_added_newline()){var n=this._options.preserve_newlines&&t.newlines||e,i=f(this._flags.last_token.text,c)||f(t.text,c);if(i){var r=f(this._flags.last_token.text,c)&&f(this._options.operator_position,b)||f(t.text,c);n=n&&r}if(n)this.print_newline(!1,!0);else if(this._options.wrap_line_length){if(m(this._flags.last_token,D))return;this._output.set_wrap_point()}}},E.prototype.print_newline=function(t,e){if(!e&&";"!==this._flags.last_token.text&&","!==this._flags.last_token.text&&"="!==this._flags.last_token.text&&(this._flags.last_token.type!==u.OPERATOR||"--"===this._flags.last_token.text||"++"===this._flags.last_token.text)){var n=this._tokens.peek();while(this._flags.mode===_.Statement&&(!this._flags.if_block||!p(n,"else"))&&!this._flags.do_block)this.restore_mode()}this._output.add_new_line(t)&&(this._flags.multiline_frame=!0)},E.prototype.print_token_line_indentation=function(t){this._output.just_added_newline()&&(this._options.keep_array_indentation&&t.newlines&&("["===t.text||k(this._flags.mode))?(this._output.current_line.set_indent(-1),this._output.current_line.push(t.whitespace_before),this._output.space_before_token=!1):this._output.set_indent(this._flags.indentation_level,this._flags.alignment)&&(this._flags.line_indent_level=this._flags.indentation_level))},E.prototype.print_token=function(t){if(this._output.raw)this._output.add_raw_token(t);else{if(this._options.comma_first&&t.previous&&t.previous.type===u.COMMA&&this._output.just_added_newline()&&","===this._output.previous_line.last()){var e=this._output.previous_line.pop();this._output.previous_line.is_empty()&&(this._output.previous_line.push(e),this._output.trim(!0),this._output.current_line.pop(),this._output.trim()),this.print_token_line_indentation(t),this._output.add_token(","),this._output.space_before_token=!0}this.print_token_line_indentation(t),this._output.non_breaking_space=!0,this._output.add_token(t.text),this._output.previous_token_wrapped&&(this._flags.multiline_frame=!0)}},E.prototype.indent=function(){this._flags.indentation_level+=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},E.prototype.deindent=function(){this._flags.indentation_level>0&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)&&(this._flags.indentation_level-=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},E.prototype.set_mode=function(t){this._flags?(this._flag_store.push(this._flags),this._previous_flags=this._flags):this._previous_flags=this.create_flags(null,t),this._flags=this.create_flags(this._previous_flags,t),this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},E.prototype.restore_mode=function(){this._flag_store.length>0&&(this._previous_flags=this._flags,this._flags=this._flag_store.pop(),this._previous_flags.mode===_.Statement&&x(this._output,this._previous_flags),this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},E.prototype.start_of_object_property=function(){return this._flags.parent.mode===_.ObjectLiteral&&this._flags.mode===_.Statement&&(":"===this._flags.last_token.text&&0===this._flags.ternary_depth||m(this._flags.last_token,["get","set"]))},E.prototype.start_of_statement=function(t){var e=!1;return e=e||m(this._flags.last_token,["var","let","const"])&&t.type===u.WORD,e=e||p(this._flags.last_token,"do"),e=e||!(this._flags.parent.mode===_.ObjectLiteral&&this._flags.mode===_.Statement)&&m(this._flags.last_token,D)&&!t.newlines,e=e||p(this._flags.last_token,"else")&&!(p(t,"if")&&!t.comments_before),e=e||this._flags.last_token.type===u.END_EXPR&&(this._previous_flags.mode===_.ForInitializer||this._previous_flags.mode===_.Conditional),e=e||this._flags.last_token.type===u.WORD&&this._flags.mode===_.BlockStatement&&!this._flags.in_case&&!("--"===t.text||"++"===t.text)&&"function"!==this._last_last_text&&t.type!==u.WORD&&t.type!==u.RESERVED,e=e||this._flags.mode===_.ObjectLiteral&&(":"===this._flags.last_token.text&&0===this._flags.ternary_depth||m(this._flags.last_token,["get","set"])),!!e&&(this.set_mode(_.Statement),this.indent(),this.handle_whitespace_and_comments(t,!0),this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t,m(t,["do","for","if","while"])),!0)},E.prototype.handle_start_expr=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t);var e=_.Expression;if("["===t.text){if(this._flags.last_token.type===u.WORD||")"===this._flags.last_token.text)return m(this._flags.last_token,l)&&(this._output.space_before_token=!0),this.print_token(t),this.set_mode(e),this.indent(),void(this._options.space_in_paren&&(this._output.space_before_token=!0));e=_.ArrayLiteral,k(this._flags.mode)&&("["!==this._flags.last_token.text&&(","!==this._flags.last_token.text||"]"!==this._last_last_text&&"}"!==this._last_last_text)||this._options.keep_array_indentation||this.print_newline()),f(this._flags.last_token.type,[u.START_EXPR,u.END_EXPR,u.WORD,u.OPERATOR,u.DOT])||(this._output.space_before_token=!0)}else{if(this._flags.last_token.type===u.RESERVED)"for"===this._flags.last_token.text?(this._output.space_before_token=this._options.space_before_conditional,e=_.ForInitializer):f(this._flags.last_token.text,["if","while","switch"])?(this._output.space_before_token=this._options.space_before_conditional,e=_.Conditional):f(this._flags.last_word,["await","async"])?this._output.space_before_token=!0:"import"===this._flags.last_token.text&&""===t.whitespace_before?this._output.space_before_token=!1:(f(this._flags.last_token.text,l)||"catch"===this._flags.last_token.text)&&(this._output.space_before_token=!0);else if(this._flags.last_token.type===u.EQUALS||this._flags.last_token.type===u.OPERATOR)this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t);else if(this._flags.last_token.type===u.WORD){this._output.space_before_token=!1;var n=this._tokens.peek(-3);if(this._options.space_after_named_function&&n){var i=this._tokens.peek(-4);m(n,["async","function"])||"*"===n.text&&m(i,["async","function"])?this._output.space_before_token=!0:this._flags.mode===_.ObjectLiteral&&("{"!==n.text&&","!==n.text&&("*"!==n.text||"{"!==i.text&&","!==i.text)||(this._output.space_before_token=!0))}}else this.allow_wrap_or_preserved_newline(t);(this._flags.last_token.type===u.RESERVED&&("function"===this._flags.last_word||"typeof"===this._flags.last_word)||"*"===this._flags.last_token.text&&(f(this._last_last_text,["function","yield"])||this._flags.mode===_.ObjectLiteral&&f(this._last_last_text,["{",","])))&&(this._output.space_before_token=this._options.space_after_anon_function)}";"===this._flags.last_token.text||this._flags.last_token.type===u.START_BLOCK?this.print_newline():this._flags.last_token.type!==u.END_EXPR&&this._flags.last_token.type!==u.START_EXPR&&this._flags.last_token.type!==u.END_BLOCK&&"."!==this._flags.last_token.text&&this._flags.last_token.type!==u.COMMA||this.allow_wrap_or_preserved_newline(t,t.newlines),this.print_token(t),this.set_mode(e),this._options.space_in_paren&&(this._output.space_before_token=!0),this.indent()},E.prototype.handle_end_expr=function(t){while(this._flags.mode===_.Statement)this.restore_mode();this.handle_whitespace_and_comments(t),this._flags.multiline_frame&&this.allow_wrap_or_preserved_newline(t,"]"===t.text&&k(this._flags.mode)&&!this._options.keep_array_indentation),this._options.space_in_paren&&(this._flags.last_token.type!==u.START_EXPR||this._options.space_in_empty_paren?this._output.space_before_token=!0:(this._output.trim(),this._output.space_before_token=!1)),this.deindent(),this.print_token(t),this.restore_mode(),x(this._output,this._previous_flags),this._flags.do_while&&this._previous_flags.mode===_.Conditional&&(this._previous_flags.mode=_.Expression,this._flags.do_block=!1,this._flags.do_while=!1)},E.prototype.handle_start_block=function(t){this.handle_whitespace_and_comments(t);var e=this._tokens.peek(),n=this._tokens.peek(1);"switch"===this._flags.last_word&&this._flags.last_token.type===u.END_EXPR?(this.set_mode(_.BlockStatement),this._flags.in_case_statement=!0):this._flags.case_body?this.set_mode(_.BlockStatement):n&&(f(n.text,[":",","])&&f(e.type,[u.STRING,u.WORD,u.RESERVED])||f(e.text,["get","set","..."])&&f(n.type,[u.WORD,u.RESERVED]))?f(this._last_last_text,["class","interface"])?this.set_mode(_.BlockStatement):this.set_mode(_.ObjectLiteral):this._flags.last_token.type===u.OPERATOR&&"=>"===this._flags.last_token.text?this.set_mode(_.BlockStatement):f(this._flags.last_token.type,[u.EQUALS,u.START_EXPR,u.COMMA,u.OPERATOR])||m(this._flags.last_token,["return","throw","import","default"])?this.set_mode(_.ObjectLiteral):this.set_mode(_.BlockStatement);var i=!e.comments_before&&"}"===e.text,r=i&&"function"===this._flags.last_word&&this._flags.last_token.type===u.END_EXPR;if(this._options.brace_preserve_inline){var o=0,a=null;this._flags.inline_frame=!0;do{if(o+=1,a=this._tokens.peek(o-1),a.newlines){this._flags.inline_frame=!1;break}}while(a.type!==u.EOF&&(a.type!==u.END_BLOCK||a.opened!==t))}("expand"===this._options.brace_style||"none"===this._options.brace_style&&t.newlines)&&!this._flags.inline_frame?this._flags.last_token.type!==u.OPERATOR&&(r||this._flags.last_token.type===u.EQUALS||m(this._flags.last_token,g)&&"else"!==this._flags.last_token.text)?this._output.space_before_token=!0:this.print_newline(!1,!0):(!k(this._previous_flags.mode)||this._flags.last_token.type!==u.START_EXPR&&this._flags.last_token.type!==u.COMMA||((this._flags.last_token.type===u.COMMA||this._options.space_in_paren)&&(this._output.space_before_token=!0),(this._flags.last_token.type===u.COMMA||this._flags.last_token.type===u.START_EXPR&&this._flags.inline_frame)&&(this.allow_wrap_or_preserved_newline(t),this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame,this._flags.multiline_frame=!1)),this._flags.last_token.type!==u.OPERATOR&&this._flags.last_token.type!==u.START_EXPR&&(this._flags.last_token.type!==u.START_BLOCK||this._flags.inline_frame?this._output.space_before_token=!0:this.print_newline())),this.print_token(t),this.indent(),i||this._options.brace_preserve_inline&&this._flags.inline_frame||this.print_newline()},E.prototype.handle_end_block=function(t){this.handle_whitespace_and_comments(t);while(this._flags.mode===_.Statement)this.restore_mode();var e=this._flags.last_token.type===u.START_BLOCK;this._flags.inline_frame&&!e?this._output.space_before_token=!0:"expand"===this._options.brace_style?e||this.print_newline():e||(k(this._flags.mode)&&this._options.keep_array_indentation?(this._options.keep_array_indentation=!1,this.print_newline(),this._options.keep_array_indentation=!0):this.print_newline()),this.restore_mode(),this.print_token(t)},E.prototype.handle_word=function(t){if(t.type===u.RESERVED)if(f(t.text,["set","get"])&&this._flags.mode!==_.ObjectLiteral)t.type=u.WORD;else if("import"===t.text&&"("===this._tokens.peek().text)t.type=u.WORD;else if(f(t.text,["as","from"])&&!this._flags.import_block)t.type=u.WORD;else if(this._flags.mode===_.ObjectLiteral){var e=this._tokens.peek();":"===e.text&&(t.type=u.WORD)}if(this.start_of_statement(t)?m(this._flags.last_token,["var","let","const"])&&t.type===u.WORD&&(this._flags.declaration_statement=!0):!t.newlines||S(this._flags.mode)||this._flags.last_token.type===u.OPERATOR&&"--"!==this._flags.last_token.text&&"++"!==this._flags.last_token.text||this._flags.last_token.type===u.EQUALS||!this._options.preserve_newlines&&m(this._flags.last_token,["var","let","const","set","get"])?this.handle_whitespace_and_comments(t):(this.handle_whitespace_and_comments(t),this.print_newline()),this._flags.do_block&&!this._flags.do_while){if(p(t,"while"))return this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0,void(this._flags.do_while=!0);this.print_newline(),this._flags.do_block=!1}if(this._flags.if_block)if(!this._flags.else_block&&p(t,"else"))this._flags.else_block=!0;else{while(this._flags.mode===_.Statement)this.restore_mode();this._flags.if_block=!1,this._flags.else_block=!1}if(this._flags.in_case_statement&&m(t,["case","default"]))return this.print_newline(),this._flags.last_token.type!==u.END_BLOCK&&(this._flags.case_body||this._options.jslint_happy)&&this.deindent(),this._flags.case_body=!1,this.print_token(t),void(this._flags.in_case=!0);if(this._flags.last_token.type!==u.COMMA&&this._flags.last_token.type!==u.START_EXPR&&this._flags.last_token.type!==u.EQUALS&&this._flags.last_token.type!==u.OPERATOR||this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t),p(t,"function"))return(f(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!f(this._flags.last_token.text,["(","[","{",":","=",","])&&this._flags.last_token.type!==u.OPERATOR)&&(this._output.just_added_blankline()||t.comments_before||(this.print_newline(),this.print_newline(!0))),this._flags.last_token.type===u.RESERVED||this._flags.last_token.type===u.WORD?m(this._flags.last_token,["get","set","new","export"])||m(this._flags.last_token,D)||p(this._flags.last_token,"default")&&"export"===this._last_last_text||"declare"===this._flags.last_token.text?this._output.space_before_token=!0:this.print_newline():this._flags.last_token.type===u.OPERATOR||"="===this._flags.last_token.text?this._output.space_before_token=!0:(this._flags.multiline_frame||!S(this._flags.mode)&&!k(this._flags.mode))&&this.print_newline(),this.print_token(t),void(this._flags.last_word=t.text);var n="NONE";if(this._flags.last_token.type===u.END_BLOCK?this._previous_flags.inline_frame?n="SPACE":m(t,["else","catch","finally","from"])?"expand"===this._options.brace_style||"end-expand"===this._options.brace_style||"none"===this._options.brace_style&&t.newlines?n="NEWLINE":(n="SPACE",this._output.space_before_token=!0):n="NEWLINE":this._flags.last_token.type===u.SEMICOLON&&this._flags.mode===_.BlockStatement?n="NEWLINE":this._flags.last_token.type===u.SEMICOLON&&S(this._flags.mode)?n="SPACE":this._flags.last_token.type===u.STRING?n="NEWLINE":this._flags.last_token.type===u.RESERVED||this._flags.last_token.type===u.WORD||"*"===this._flags.last_token.text&&(f(this._last_last_text,["function","yield"])||this._flags.mode===_.ObjectLiteral&&f(this._last_last_text,["{",","]))?n="SPACE":this._flags.last_token.type===u.START_BLOCK?n=this._flags.inline_frame?"SPACE":"NEWLINE":this._flags.last_token.type===u.END_EXPR&&(this._output.space_before_token=!0,n="NEWLINE"),m(t,l)&&")"!==this._flags.last_token.text&&(n=this._flags.inline_frame||"else"===this._flags.last_token.text||"export"===this._flags.last_token.text?"SPACE":"NEWLINE"),m(t,["else","catch","finally"]))if((this._flags.last_token.type!==u.END_BLOCK||this._previous_flags.mode!==_.BlockStatement||"expand"===this._options.brace_style||"end-expand"===this._options.brace_style||"none"===this._options.brace_style&&t.newlines)&&!this._flags.inline_frame)this.print_newline();else{this._output.trim(!0);var i=this._output.current_line;"}"!==i.last()&&this.print_newline(),this._output.space_before_token=!0}else"NEWLINE"===n?m(this._flags.last_token,g)||"declare"===this._flags.last_token.text&&m(t,["var","let","const"])?this._output.space_before_token=!0:this._flags.last_token.type!==u.END_EXPR?this._flags.last_token.type===u.START_EXPR&&m(t,["var","let","const"])||":"===this._flags.last_token.text||(p(t,"if")&&p(t.previous,"else")?this._output.space_before_token=!0:this.print_newline()):m(t,l)&&")"!==this._flags.last_token.text&&this.print_newline():this._flags.multiline_frame&&k(this._flags.mode)&&","===this._flags.last_token.text&&"}"===this._last_last_text?this.print_newline():"SPACE"===n&&(this._output.space_before_token=!0);!t.previous||t.previous.type!==u.WORD&&t.previous.type!==u.RESERVED||(this._output.space_before_token=!0),this.print_token(t),this._flags.last_word=t.text,t.type===u.RESERVED&&("do"===t.text?this._flags.do_block=!0:"if"===t.text?this._flags.if_block=!0:"import"===t.text?this._flags.import_block=!0:this._flags.import_block&&p(t,"from")&&(this._flags.import_block=!1))},E.prototype.handle_semicolon=function(t){this.start_of_statement(t)?this._output.space_before_token=!1:this.handle_whitespace_and_comments(t);var e=this._tokens.peek();while(this._flags.mode===_.Statement&&(!this._flags.if_block||!p(e,"else"))&&!this._flags.do_block)this.restore_mode();this._flags.import_block&&(this._flags.import_block=!1),this.print_token(t)},E.prototype.handle_string=function(t){(!t.text.startsWith("`")||0!==t.newlines||""!==t.whitespace_before||")"!==t.previous.text&&this._flags.last_token.type!==u.WORD)&&(this.start_of_statement(t)?this._output.space_before_token=!0:(this.handle_whitespace_and_comments(t),this._flags.last_token.type===u.RESERVED||this._flags.last_token.type===u.WORD||this._flags.inline_frame?this._output.space_before_token=!0:this._flags.last_token.type===u.COMMA||this._flags.last_token.type===u.START_EXPR||this._flags.last_token.type===u.EQUALS||this._flags.last_token.type===u.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t):!t.text.startsWith("`")||this._flags.last_token.type!==u.END_EXPR||"]"!==t.previous.text&&")"!==t.previous.text||0!==t.newlines?this.print_newline():this._output.space_before_token=!0)),this.print_token(t)},E.prototype.handle_equals=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t),this._flags.declaration_statement&&(this._flags.declaration_assignment=!0),this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0},E.prototype.handle_comma=function(t){this.handle_whitespace_and_comments(t,!0),this.print_token(t),this._output.space_before_token=!0,this._flags.declaration_statement?(S(this._flags.parent.mode)&&(this._flags.declaration_assignment=!1),this._flags.declaration_assignment?(this._flags.declaration_assignment=!1,this.print_newline(!1,!0)):this._options.comma_first&&this.allow_wrap_or_preserved_newline(t)):this._flags.mode===_.ObjectLiteral||this._flags.mode===_.Statement&&this._flags.parent.mode===_.ObjectLiteral?(this._flags.mode===_.Statement&&this.restore_mode(),this._flags.inline_frame||this.print_newline()):this._options.comma_first&&this.allow_wrap_or_preserved_newline(t)},E.prototype.handle_operator=function(t){var e="*"===t.text&&(m(this._flags.last_token,["function","yield"])||f(this._flags.last_token.type,[u.START_BLOCK,u.COMMA,u.END_BLOCK,u.SEMICOLON])),n=f(t.text,["-","+"])&&(f(this._flags.last_token.type,[u.START_BLOCK,u.START_EXPR,u.EQUALS,u.OPERATOR])||f(this._flags.last_token.text,l)||","===this._flags.last_token.text);if(this.start_of_statement(t));else{var i=!e;this.handle_whitespace_and_comments(t,i)}if(m(this._flags.last_token,g))return this._output.space_before_token=!0,void this.print_token(t);if("*"!==t.text||this._flags.last_token.type!==u.DOT)if("::"!==t.text){if(this._flags.last_token.type===u.OPERATOR&&f(this._options.operator_position,b)&&this.allow_wrap_or_preserved_newline(t),":"===t.text&&this._flags.in_case)return this.print_token(t),this._flags.in_case=!1,this._flags.case_body=!0,void(this._tokens.peek().type!==u.START_BLOCK?(this.indent(),this.print_newline()):this._output.space_before_token=!0);var r=!0,o=!0,a=!1;if(":"===t.text?0===this._flags.ternary_depth?r=!1:(this._flags.ternary_depth-=1,a=!0):"?"===t.text&&(this._flags.ternary_depth+=1),!n&&!e&&this._options.preserve_newlines&&f(t.text,c)){var s=":"===t.text,d=s&&a,h=s&&!a;switch(this._options.operator_position){case y.before_newline:return this._output.space_before_token=!h,this.print_token(t),s&&!d||this.allow_wrap_or_preserved_newline(t),void(this._output.space_before_token=!0);case y.after_newline:return this._output.space_before_token=!0,!s||d?this._tokens.peek().newlines?this.print_newline(!1,!0):this.allow_wrap_or_preserved_newline(t):this._output.space_before_token=!1,this.print_token(t),void(this._output.space_before_token=!0);case y.preserve_newline:return h||this.allow_wrap_or_preserved_newline(t),r=!(this._output.just_added_newline()||h),this._output.space_before_token=r,this.print_token(t),void(this._output.space_before_token=!0)}}if(e){this.allow_wrap_or_preserved_newline(t),r=!1;var p=this._tokens.peek();o=p&&f(p.type,[u.WORD,u.RESERVED])}else"..."===t.text?(this.allow_wrap_or_preserved_newline(t),r=this._flags.last_token.type===u.START_BLOCK,o=!1):(f(t.text,["--","++","!","~"])||n)&&(this._flags.last_token.type!==u.COMMA&&this._flags.last_token.type!==u.START_EXPR||this.allow_wrap_or_preserved_newline(t),r=!1,o=!1,!t.newlines||"--"!==t.text&&"++"!==t.text||this.print_newline(!1,!0),";"===this._flags.last_token.text&&S(this._flags.mode)&&(r=!0),this._flags.last_token.type===u.RESERVED?r=!0:this._flags.last_token.type===u.END_EXPR?r=!("]"===this._flags.last_token.text&&("--"===t.text||"++"===t.text)):this._flags.last_token.type===u.OPERATOR&&(r=f(t.text,["--","-","++","+"])&&f(this._flags.last_token.text,["--","-","++","+"]),f(t.text,["+","-"])&&f(this._flags.last_token.text,["--","++"])&&(o=!0)),(this._flags.mode!==_.BlockStatement||this._flags.inline_frame)&&this._flags.mode!==_.Statement||"{"!==this._flags.last_token.text&&";"!==this._flags.last_token.text||this.print_newline());this._output.space_before_token=this._output.space_before_token||r,this.print_token(t),this._output.space_before_token=o}else this.print_token(t);else this.print_token(t)},E.prototype.handle_block_comment=function(t,e){return this._output.raw?(this._output.add_raw_token(t),void(t.directives&&"end"===t.directives.preserve&&(this._output.raw=this._options.test_output_raw))):t.directives?(this.print_newline(!1,e),this.print_token(t),"start"===t.directives.preserve&&(this._output.raw=!0),void this.print_newline(!1,!0)):o.newline.test(t.text)||t.newlines?void this.print_block_commment(t,e):(this._output.space_before_token=!0,this.print_token(t),void(this._output.space_before_token=!0))},E.prototype.print_block_commment=function(t,e){var n,i=w(t.text),r=!1,o=!1,a=t.whitespace_before,s=a.length;if(this.print_newline(!1,e),this.print_token_line_indentation(t),this._output.add_token(i[0]),this.print_newline(!1,e),i.length>1){for(i=i.slice(1),r=O(i,"*"),o=C(i,a),r&&(this._flags.alignment=1),n=0;n<i.length;n++)r?(this.print_token_line_indentation(t),this._output.add_token(d(i[n]))):o&&i[n]?(this.print_token_line_indentation(t),this._output.add_token(i[n].substring(s))):(this._output.current_line.set_indent(-1),this._output.add_token(i[n])),this.print_newline(!1,e);this._flags.alignment=0}},E.prototype.handle_comment=function(t,e){t.newlines?this.print_newline(!1,e):this._output.trim(!0),this._output.space_before_token=!0,this.print_token(t),this.print_newline(!1,e)},E.prototype.handle_dot=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t,!0),m(this._flags.last_token,g)?this._output.space_before_token=!1:this.allow_wrap_or_preserved_newline(t,")"===this._flags.last_token.text&&this._options.break_chained_methods),this._options.unindent_chained_methods&&this._output.just_added_newline()&&this.deindent(),this.print_token(t)},E.prototype.handle_unknown=function(t,e){this.print_token(t),"\n"===t.text[t.text.length-1]&&this.print_newline(!1,e)},E.prototype.handle_eof=function(t){while(this._flags.mode===_.Statement)this.restore_mode();this.handle_whitespace_and_comments(t)},t.exports.Beautifier=E},function(t){function e(t){this.__parent=t,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function n(t,e){this.__cache=[""],this.__indent_size=t.indent_size,this.__indent_string=t.indent_char,t.indent_with_tabs||(this.__indent_string=new Array(t.indent_size+1).join(t.indent_char)),e=e||"",t.indent_level>0&&(e=new Array(t.indent_level+1).join(this.__indent_string)),this.__base_string=e,this.__base_string_length=e.length}function i(t,i){this.__indent_cache=new n(t,i),this.raw=!1,this._end_with_newline=t.end_with_newline,this.indent_size=t.indent_size,this.wrap_line_length=t.wrap_line_length,this.indent_empty_lines=t.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new e(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}e.prototype.clone_empty=function(){var t=new e(this.__parent);return t.set_indent(this.__indent_count,this.__alignment_count),t},e.prototype.item=function(t){return t<0?this.__items[this.__items.length+t]:this.__items[t]},e.prototype.has_match=function(t){for(var e=this.__items.length-1;e>=0;e--)if(this.__items[e].match(t))return!0;return!1},e.prototype.set_indent=function(t,e){this.is_empty()&&(this.__indent_count=t||0,this.__alignment_count=e||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},e.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},e.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},e.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var t=this.__parent.current_line;return t.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),t.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),t.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count," "===t.__items[0]&&(t.__items.splice(0,1),t.__character_count-=1),!0}return!1},e.prototype.is_empty=function(){return 0===this.__items.length},e.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},e.prototype.push=function(t){this.__items.push(t);var e=t.lastIndexOf("\n");-1!==e?this.__character_count=t.length-e:this.__character_count+=t.length},e.prototype.pop=function(){var t=null;return this.is_empty()||(t=this.__items.pop(),this.__character_count-=t.length),t},e.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},e.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},e.prototype.trim=function(){while(" "===this.last())this.__items.pop(),this.__character_count-=1},e.prototype.toString=function(){var t="";return this.is_empty()?this.__parent.indent_empty_lines&&(t=this.__parent.get_indent_string(this.__indent_count)):(t=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),t+=this.__items.join("")),t},n.prototype.get_indent_size=function(t,e){var n=this.__base_string_length;return e=e||0,t<0&&(n=0),n+=t*this.__indent_size,n+=e,n},n.prototype.get_indent_string=function(t,e){var n=this.__base_string;return e=e||0,t<0&&(t=0,n=""),e+=t*this.__indent_size,this.__ensure_cache(e),n+=this.__cache[e],n},n.prototype.__ensure_cache=function(t){while(t>=this.__cache.length)this.__add_column()},n.prototype.__add_column=function(){var t=this.__cache.length,e=0,n="";this.__indent_size&&t>=this.__indent_size&&(e=Math.floor(t/this.__indent_size),t-=e*this.__indent_size,n=new Array(e+1).join(this.__indent_string)),t&&(n+=new Array(t+1).join(" ")),this.__cache.push(n)},i.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},i.prototype.get_line_number=function(){return this.__lines.length},i.prototype.get_indent_string=function(t,e){return this.__indent_cache.get_indent_string(t,e)},i.prototype.get_indent_size=function(t,e){return this.__indent_cache.get_indent_size(t,e)},i.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},i.prototype.add_new_line=function(t){return!(this.is_empty()||!t&&this.just_added_newline())&&(this.raw||this.__add_outputline(),!0)},i.prototype.get_code=function(t){this.trim(!0);var e=this.current_line.pop();e&&("\n"===e[e.length-1]&&(e=e.replace(/\n+$/g,"")),this.current_line.push(e)),this._end_with_newline&&this.__add_outputline();var n=this.__lines.join("\n");return"\n"!==t&&(n=n.replace(/[\n]/g,t)),n},i.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},i.prototype.set_indent=function(t,e){return t=t||0,e=e||0,this.next_line.set_indent(t,e),this.__lines.length>1?(this.current_line.set_indent(t,e),!0):(this.current_line.set_indent(),!1)},i.prototype.add_raw_token=function(t){for(var e=0;e<t.newlines;e++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(t.whitespace_before),this.current_line.push(t.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},i.prototype.add_token=function(t){this.__add_space_before_token(),this.current_line.push(t),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},i.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},i.prototype.remove_indent=function(t){var e=this.__lines.length;while(t<e)this.__lines[t]._remove_indent(),t++;this.current_line._remove_wrap_indent()},i.prototype.trim=function(t){t=void 0!==t&&t,this.current_line.trim();while(t&&this.__lines.length>1&&this.current_line.is_empty())this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},i.prototype.just_added_newline=function(){return this.current_line.is_empty()},i.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},i.prototype.ensure_empty_line_above=function(t,n){var i=this.__lines.length-2;while(i>=0){var r=this.__lines[i];if(r.is_empty())break;if(0!==r.item(0).indexOf(t)&&r.item(-1)!==n){this.__lines.splice(i+1,0,new e(this)),this.previous_line=this.__lines[this.__lines.length-2];break}i--}},t.exports.Output=i},function(t){function e(t,e,n,i){this.type=t,this.text=e,this.comments_before=null,this.newlines=n||0,this.whitespace_before=i||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}t.exports.Token=e},function(t,e){var n="\\x23\\x24\\x40\\x41-\\x5a\\x5f\\x61-\\x7a",i="\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a",r="\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc",o="\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f",a="(?:\\\\u[0-9a-fA-F]{4}|["+n+r+"])",s="(?:\\\\u[0-9a-fA-F]{4}|["+i+r+o+"])*";e.identifier=new RegExp(a+s,"g"),e.identifierStart=new RegExp(a),e.identifierMatch=new RegExp("(?:\\\\u[0-9a-fA-F]{4}|["+i+r+o+"])+");e.newline=/[\n\r\u2028\u2029]/,e.lineBreak=new RegExp("\r\n|"+e.newline.source),e.allLineBreaks=new RegExp(e.lineBreak.source,"g")},function(t,e,n){var i=n(7).Options,r=["before-newline","after-newline","preserve-newline"];function o(t){i.call(this,t,"js");var e=this.raw_options.brace_style||null;"expand-strict"===e?this.raw_options.brace_style="expand":"collapse-preserve-inline"===e?this.raw_options.brace_style="collapse,preserve-inline":void 0!==this.raw_options.braces_on_own_line&&(this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse");var n=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_preserve_inline=!1,this.brace_style="collapse";for(var o=0;o<n.length;o++)"preserve-inline"===n[o]?this.brace_preserve_inline=!0:this.brace_style=n[o];this.unindent_chained_methods=this._get_boolean("unindent_chained_methods"),this.break_chained_methods=this._get_boolean("break_chained_methods"),this.space_in_paren=this._get_boolean("space_in_paren"),this.space_in_empty_paren=this._get_boolean("space_in_empty_paren"),this.jslint_happy=this._get_boolean("jslint_happy"),this.space_after_anon_function=this._get_boolean("space_after_anon_function"),this.space_after_named_function=this._get_boolean("space_after_named_function"),this.keep_array_indentation=this._get_boolean("keep_array_indentation"),this.space_before_conditional=this._get_boolean("space_before_conditional",!0),this.unescape_strings=this._get_boolean("unescape_strings"),this.e4x=this._get_boolean("e4x"),this.comma_first=this._get_boolean("comma_first"),this.operator_position=this._get_selection("operator_position",r),this.test_output_raw=this._get_boolean("test_output_raw"),this.jslint_happy&&(this.space_after_anon_function=!0)}o.prototype=new i,t.exports.Options=o},function(t){function e(t,e){this.raw_options=n(t,e),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs","\t"===this.indent_char),this.indent_with_tabs&&(this.indent_char="\t",1===this.indent_size&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}function n(t,e){var n,r={};for(n in t=i(t),t)n!==e&&(r[n]=t[n]);if(e&&t[e])for(n in t[e])r[n]=t[e][n];return r}function i(t){var e,n={};for(e in t){var i=e.replace(/-/g,"_");n[i]=t[e]}return n}e.prototype._get_array=function(t,e){var n=this.raw_options[t],i=e||[];return"object"===typeof n?null!==n&&"function"===typeof n.concat&&(i=n.concat()):"string"===typeof n&&(i=n.split(/[^a-zA-Z0-9_\/\-]+/)),i},e.prototype._get_boolean=function(t,e){var n=this.raw_options[t],i=void 0===n?!!e:!!n;return i},e.prototype._get_characters=function(t,e){var n=this.raw_options[t],i=e||"";return"string"===typeof n&&(i=n.replace(/\\r/,"\r").replace(/\\n/,"\n").replace(/\\t/,"\t")),i},e.prototype._get_number=function(t,e){var n=this.raw_options[t];e=parseInt(e,10),isNaN(e)&&(e=0);var i=parseInt(n,10);return isNaN(i)&&(i=e),i},e.prototype._get_selection=function(t,e,n){var i=this._get_selection_list(t,e,n);if(1!==i.length)throw new Error("Invalid Option Value: The option '"+t+"' can only be one of the following values:\n"+e+"\nYou passed in: '"+this.raw_options[t]+"'");return i[0]},e.prototype._get_selection_list=function(t,e,n){if(!e||0===e.length)throw new Error("Selection list cannot be empty.");if(n=n||[e[0]],!this._is_valid_selection(n,e))throw new Error("Invalid Default Value!");var i=this._get_array(t,n);if(!this._is_valid_selection(i,e))throw new Error("Invalid Option Value: The option '"+t+"' can contain only the following values:\n"+e+"\nYou passed in: '"+this.raw_options[t]+"'");return i},e.prototype._is_valid_selection=function(t,e){return t.length&&e.length&&!t.some((function(t){return-1===e.indexOf(t)}))},t.exports.Options=e,t.exports.normalizeOpts=i,t.exports.mergeOpts=n},function(t,e,n){var i=n(9).InputScanner,r=n(10).Tokenizer,o=n(10).TOKEN,a=n(14).Directives,s=n(5),l=n(13).Pattern,c=n(15).TemplatablePattern;function u(t,e){return-1!==e.indexOf(t)}var f={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:o.START,RAW:o.RAW,EOF:o.EOF},d=new a(/\/\*/,/\*\//),h=/0[xX][0123456789abcdefABCDEF_]*n?|0[oO][01234567_]*n?|0[bB][01_]*n?|\d[\d_]*n|(?:\.\d[\d_]*|\d[\d_]*\.?[\d_]*)(?:[eE][+-]?[\d_]+)?/,p=/[0-9]/,m=/[^\d\.]/,g=">>> === !== << && >= ** != == <= >> || ?? |> < / - + > : & % ? ^ | *".split(" "),v=">>>= ... >>= <<= === >>> !== **= => ^= :: /= << <= == && -= >= >> != -- += ** || ?? ++ %= &= *= |= |> = ! ? > < : / ^ - + * & % ~ |";v=v.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&"),v="\\?\\.(?!\\d) "+v,v=v.replace(/ /g,"|");var y,b=new RegExp(v),_="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(","),x=_.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as"]),w=new RegExp("^(?:"+x.join("|")+")$"),k=function(t,e){r.call(this,t,e),this._patterns.whitespace=this._patterns.whitespace.matching(/\u00A0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff/.source,/\u2028\u2029/.source);var n=new l(this._input),i=new c(this._input).read_options(this._options);this.__patterns={template:i,identifier:i.starting_with(s.identifier).matching(s.identifierMatch),number:n.matching(h),punct:n.matching(b),comment:n.starting_with(/\/\//).until(/[\n\r\u2028\u2029]/),block_comment:n.starting_with(/\/\*/).until_after(/\*\//),html_comment_start:n.matching(/<!--/),html_comment_end:n.matching(/-->/),include:n.starting_with(/#include/).until_after(s.lineBreak),shebang:n.starting_with(/#!/).until_after(s.lineBreak),xml:n.matching(/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[\s\S]+?}|!\[CDATA\[[\s\S]*?\]\]|)(\s+{[\s\S]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{[\s\S]+?}))*\s*(\/?)\s*>/),single_quote:i.until(/['\\\n\r\u2028\u2029]/),double_quote:i.until(/["\\\n\r\u2028\u2029]/),template_text:i.until(/[`\\$]/),template_expression:i.until(/[`}\\]/)}};function S(t){var e="",n=0,r=new i(t),o=null;while(r.hasNext())if(o=r.match(/([\s]|[^\\]|\\\\)+/g),o&&(e+=o[0]),"\\"===r.peek()){if(r.next(),"x"===r.peek())o=r.match(/x([0-9A-Fa-f]{2})/g);else{if("u"!==r.peek()){e+="\\",r.hasNext()&&(e+=r.next());continue}o=r.match(/u([0-9A-Fa-f]{4})/g)}if(!o)return t;if(n=parseInt(o[1],16),n>126&&n<=255&&0===o[0].indexOf("x"))return t;if(n>=0&&n<32){e+="\\"+o[0];continue}e+=34===n||39===n||92===n?"\\"+String.fromCharCode(n):String.fromCharCode(n)}return e}k.prototype=new r,k.prototype._is_comment=function(t){return t.type===f.COMMENT||t.type===f.BLOCK_COMMENT||t.type===f.UNKNOWN},k.prototype._is_opening=function(t){return t.type===f.START_BLOCK||t.type===f.START_EXPR},k.prototype._is_closing=function(t,e){return(t.type===f.END_BLOCK||t.type===f.END_EXPR)&&e&&("]"===t.text&&"["===e.text||")"===t.text&&"("===e.text||"}"===t.text&&"{"===e.text)},k.prototype._reset=function(){y=!1},k.prototype._get_next_token=function(t,e){var n=null;this._readWhitespace();var i=this._input.peek();return null===i?this._create_token(f.EOF,""):(n=n||this._read_non_javascript(i),n=n||this._read_string(i),n=n||this._read_word(t),n=n||this._read_singles(i),n=n||this._read_comment(i),n=n||this._read_regexp(i,t),n=n||this._read_xml(i,t),n=n||this._read_punctuation(),n=n||this._create_token(f.UNKNOWN,this._input.next()),n)},k.prototype._read_word=function(t){var e;return e=this.__patterns.identifier.read(),""!==e?(e=e.replace(s.allLineBreaks,"\n"),t.type!==f.DOT&&(t.type!==f.RESERVED||"set"!==t.text&&"get"!==t.text)&&w.test(e)?"in"===e||"of"===e?this._create_token(f.OPERATOR,e):this._create_token(f.RESERVED,e):this._create_token(f.WORD,e)):(e=this.__patterns.number.read(),""!==e?this._create_token(f.WORD,e):void 0)},k.prototype._read_singles=function(t){var e=null;return"("===t||"["===t?e=this._create_token(f.START_EXPR,t):")"===t||"]"===t?e=this._create_token(f.END_EXPR,t):"{"===t?e=this._create_token(f.START_BLOCK,t):"}"===t?e=this._create_token(f.END_BLOCK,t):";"===t?e=this._create_token(f.SEMICOLON,t):"."===t&&m.test(this._input.peek(1))?e=this._create_token(f.DOT,t):","===t&&(e=this._create_token(f.COMMA,t)),e&&this._input.next(),e},k.prototype._read_punctuation=function(){var t=this.__patterns.punct.read();if(""!==t)return"="===t?this._create_token(f.EQUALS,t):"?."===t?this._create_token(f.DOT,t):this._create_token(f.OPERATOR,t)},k.prototype._read_non_javascript=function(t){var e="";if("#"===t){if(this._is_first_token()&&(e=this.__patterns.shebang.read(),e))return this._create_token(f.UNKNOWN,e.trim()+"\n");if(e=this.__patterns.include.read(),e)return this._create_token(f.UNKNOWN,e.trim()+"\n");t=this._input.next();var n="#";if(this._input.hasNext()&&this._input.testChar(p)){do{t=this._input.next(),n+=t}while(this._input.hasNext()&&"#"!==t&&"="!==t);return"#"===t||("["===this._input.peek()&&"]"===this._input.peek(1)?(n+="[]",this._input.next(),this._input.next()):"{"===this._input.peek()&&"}"===this._input.peek(1)&&(n+="{}",this._input.next(),this._input.next())),this._create_token(f.WORD,n)}this._input.back()}else if("<"===t&&this._is_first_token()){if(e=this.__patterns.html_comment_start.read(),e){while(this._input.hasNext()&&!this._input.testChar(s.newline))e+=this._input.next();return y=!0,this._create_token(f.COMMENT,e)}}else if(y&&"-"===t&&(e=this.__patterns.html_comment_end.read(),e))return y=!1,this._create_token(f.COMMENT,e);return null},k.prototype._read_comment=function(t){var e=null;if("/"===t){var n="";if("*"===this._input.peek(1)){n=this.__patterns.block_comment.read();var i=d.get_directives(n);i&&"start"===i.ignore&&(n+=d.readIgnored(this._input)),n=n.replace(s.allLineBreaks,"\n"),e=this._create_token(f.BLOCK_COMMENT,n),e.directives=i}else"/"===this._input.peek(1)&&(n=this.__patterns.comment.read(),e=this._create_token(f.COMMENT,n))}return e},k.prototype._read_string=function(t){if("`"===t||"'"===t||'"'===t){var e=this._input.next();return this.has_char_escapes=!1,e+="`"===t?this._read_string_recursive("`",!0,"${"):this._read_string_recursive(t),this.has_char_escapes&&this._options.unescape_strings&&(e=S(e)),this._input.peek()===t&&(e+=this._input.next()),e=e.replace(s.allLineBreaks,"\n"),this._create_token(f.STRING,e)}return null},k.prototype._allow_regexp_or_xml=function(t){return t.type===f.RESERVED&&u(t.text,["return","case","throw","else","do","typeof","yield"])||t.type===f.END_EXPR&&")"===t.text&&t.opened.previous.type===f.RESERVED&&u(t.opened.previous.text,["if","while","for"])||u(t.type,[f.COMMENT,f.START_EXPR,f.START_BLOCK,f.START,f.END_BLOCK,f.OPERATOR,f.EQUALS,f.EOF,f.SEMICOLON,f.COMMA])},k.prototype._read_regexp=function(t,e){if("/"===t&&this._allow_regexp_or_xml(e)){var n=this._input.next(),i=!1,r=!1;while(this._input.hasNext()&&(i||r||this._input.peek()!==t)&&!this._input.testChar(s.newline))n+=this._input.peek(),i?i=!1:(i="\\"===this._input.peek(),"["===this._input.peek()?r=!0:"]"===this._input.peek()&&(r=!1)),this._input.next();return this._input.peek()===t&&(n+=this._input.next(),n+=this._input.read(s.identifier)),this._create_token(f.STRING,n)}return null},k.prototype._read_xml=function(t,e){if(this._options.e4x&&"<"===t&&this._allow_regexp_or_xml(e)){var n="",i=this.__patterns.xml.read_match();if(i){var r=i[2].replace(/^{\s+/,"{").replace(/\s+}$/,"}"),o=0===r.indexOf("{"),a=0;while(i){var l=!!i[1],c=i[2],u=!!i[i.length-1]||"![CDATA["===c.slice(0,8);if(!u&&(c===r||o&&c.replace(/^{\s+/,"{").replace(/\s+}$/,"}"))&&(l?--a:++a),n+=i[0],a<=0)break;i=this.__patterns.xml.read_match()}return i||(n+=this._input.match(/[\s\S]*/g)[0]),n=n.replace(s.allLineBreaks,"\n"),this._create_token(f.STRING,n)}}return null},k.prototype._read_string_recursive=function(t,e,n){var i,r;"'"===t?r=this.__patterns.single_quote:'"'===t?r=this.__patterns.double_quote:"`"===t?r=this.__patterns.template_text:"}"===t&&(r=this.__patterns.template_expression);var o=r.read(),a="";while(this._input.hasNext()){if(a=this._input.next(),a===t||!e&&s.newline.test(a)){this._input.back();break}"\\"===a&&this._input.hasNext()?(i=this._input.peek(),"x"===i||"u"===i?this.has_char_escapes=!0:"\r"===i&&"\n"===this._input.peek(1)&&this._input.next(),a+=this._input.next()):n&&("${"===n&&"$"===a&&"{"===this._input.peek()&&(a+=this._input.next()),n===a&&(a+="`"===t?this._read_string_recursive("}",e,"`"):this._read_string_recursive("`",e,"${"),this._input.hasNext()&&(a+=this._input.next()))),a+=r.read(),o+=a}return o},t.exports.Tokenizer=k,t.exports.TOKEN=f,t.exports.positionable_operators=g.slice(),t.exports.line_starters=_.slice()},function(t){var e=RegExp.prototype.hasOwnProperty("sticky");function n(t){this.__input=t||"",this.__input_length=this.__input.length,this.__position=0}n.prototype.restart=function(){this.__position=0},n.prototype.back=function(){this.__position>0&&(this.__position-=1)},n.prototype.hasNext=function(){return this.__position<this.__input_length},n.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__input.charAt(this.__position),this.__position+=1),t},n.prototype.peek=function(t){var e=null;return t=t||0,t+=this.__position,t>=0&&t<this.__input_length&&(e=this.__input.charAt(t)),e},n.prototype.__match=function(t,n){t.lastIndex=n;var i=t.exec(this.__input);return!i||e&&t.sticky||i.index!==n&&(i=null),i},n.prototype.test=function(t,e){return e=e||0,e+=this.__position,e>=0&&e<this.__input_length&&!!this.__match(t,e)},n.prototype.testChar=function(t,e){var n=this.peek(e);return t.lastIndex=0,null!==n&&t.test(n)},n.prototype.match=function(t){var e=this.__match(t,this.__position);return e?this.__position+=e[0].length:e=null,e},n.prototype.read=function(t,e,n){var i,r="";return t&&(i=this.match(t),i&&(r+=i[0])),!e||!i&&t||(r+=this.readUntil(e,n)),r},n.prototype.readUntil=function(t,e){var n="",i=this.__position;t.lastIndex=this.__position;var r=t.exec(this.__input);return r?(i=r.index,e&&(i+=r[0].length)):i=this.__input_length,n=this.__input.substring(this.__position,i),this.__position=i,n},n.prototype.readUntilAfter=function(t){return this.readUntil(t,!0)},n.prototype.get_regexp=function(t,n){var i=null,r="g";return n&&e&&(r="y"),"string"===typeof t&&""!==t?i=new RegExp(t,r):t&&(i=new RegExp(t.source,r)),i},n.prototype.get_literal_regexp=function(t){return RegExp(t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},n.prototype.peekUntilAfter=function(t){var e=this.__position,n=this.readUntilAfter(t);return this.__position=e,n},n.prototype.lookBack=function(t){var e=this.__position-1;return e>=t.length&&this.__input.substring(e-t.length,e).toLowerCase()===t},t.exports.InputScanner=n},function(t,e,n){var i=n(9).InputScanner,r=n(4).Token,o=n(11).TokenStream,a=n(12).WhitespacePattern,s={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},l=function(t,e){this._input=new i(t),this._options=e||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new a(this._input)};l.prototype.tokenize=function(){var t;this._input.restart(),this.__tokens=new o,this._reset();var e=new r(s.START,""),n=null,i=[],a=new o;while(e.type!==s.EOF){t=this._get_next_token(e,n);while(this._is_comment(t))a.add(t),t=this._get_next_token(e,n);a.isEmpty()||(t.comments_before=a,a=new o),t.parent=n,this._is_opening(t)?(i.push(n),n=t):n&&this._is_closing(t,n)&&(t.opened=n,n.closed=t,n=i.pop(),t.parent=n),t.previous=e,e.next=t,this.__tokens.add(t),e=t}return this.__tokens},l.prototype._is_first_token=function(){return this.__tokens.isEmpty()},l.prototype._reset=function(){},l.prototype._get_next_token=function(t,e){this._readWhitespace();var n=this._input.read(/.+/g);return n?this._create_token(s.RAW,n):this._create_token(s.EOF,"")},l.prototype._is_comment=function(t){return!1},l.prototype._is_opening=function(t){return!1},l.prototype._is_closing=function(t,e){return!1},l.prototype._create_token=function(t,e){var n=new r(t,e,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token);return n},l.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},t.exports.Tokenizer=l,t.exports.TOKEN=s},function(t){function e(t){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=t}e.prototype.restart=function(){this.__position=0},e.prototype.isEmpty=function(){return 0===this.__tokens_length},e.prototype.hasNext=function(){return this.__position<this.__tokens_length},e.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__tokens[this.__position],this.__position+=1),t},e.prototype.peek=function(t){var e=null;return t=t||0,t+=this.__position,t>=0&&t<this.__tokens_length&&(e=this.__tokens[t]),e},e.prototype.add=function(t){this.__parent_token&&(t.parent=this.__parent_token),this.__tokens.push(t),this.__tokens_length+=1},t.exports.TokenStream=e},function(t,e,n){var i=n(13).Pattern;function r(t,e){i.call(this,t,e),e?this._line_regexp=this._input.get_regexp(e._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}r.prototype=new i,r.prototype.__set_whitespace_patterns=function(t,e){t+="\\t ",e+="\\n\\r",this._match_pattern=this._input.get_regexp("["+t+e+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+e+"]")},r.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var t=this._input.read(this._match_pattern);if(" "===t)this.whitespace_before_token=" ";else if(t){var e=this.__split(this._newline_regexp,t);this.newline_count=e.length-1,this.whitespace_before_token=e[this.newline_count]}return t},r.prototype.matching=function(t,e){var n=this._create();return n.__set_whitespace_patterns(t,e),n._update(),n},r.prototype._create=function(){return new r(this._input,this)},r.prototype.__split=function(t,e){t.lastIndex=0;var n=0,i=[],r=t.exec(e);while(r)i.push(e.substring(n,r.index)),n=r.index+r[0].length,r=t.exec(e);return n<e.length?i.push(e.substring(n,e.length)):i.push(""),i},t.exports.WhitespacePattern=r},function(t){function e(t,e){this._input=t,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,e&&(this._starting_pattern=this._input.get_regexp(e._starting_pattern,!0),this._match_pattern=this._input.get_regexp(e._match_pattern,!0),this._until_pattern=this._input.get_regexp(e._until_pattern),this._until_after=e._until_after)}e.prototype.read=function(){var t=this._input.read(this._starting_pattern);return this._starting_pattern&&!t||(t+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),t},e.prototype.read_match=function(){return this._input.match(this._match_pattern)},e.prototype.until_after=function(t){var e=this._create();return e._until_after=!0,e._until_pattern=this._input.get_regexp(t),e._update(),e},e.prototype.until=function(t){var e=this._create();return e._until_after=!1,e._until_pattern=this._input.get_regexp(t),e._update(),e},e.prototype.starting_with=function(t){var e=this._create();return e._starting_pattern=this._input.get_regexp(t,!0),e._update(),e},e.prototype.matching=function(t){var e=this._create();return e._match_pattern=this._input.get_regexp(t,!0),e._update(),e},e.prototype._create=function(){return new e(this._input,this)},e.prototype._update=function(){},t.exports.Pattern=e},function(t){function e(t,e){t="string"===typeof t?t:t.source,e="string"===typeof e?e:e.source,this.__directives_block_pattern=new RegExp(t+/ beautify( \w+[:]\w+)+ /.source+e,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(t+/\sbeautify\signore:end\s/.source+e,"g")}e.prototype.get_directives=function(t){if(!t.match(this.__directives_block_pattern))return null;var e={};this.__directive_pattern.lastIndex=0;var n=this.__directive_pattern.exec(t);while(n)e[n[1]]=n[2],n=this.__directive_pattern.exec(t);return e},e.prototype.readIgnored=function(t){return t.readUntilAfter(this.__directives_end_ignore_pattern)},t.exports.Directives=e},function(t,e,n){var i=n(13).Pattern,r={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1};function o(t,e){i.call(this,t,e),this.__template_pattern=null,this._disabled=Object.assign({},r),this._excluded=Object.assign({},r),e&&(this.__template_pattern=this._input.get_regexp(e.__template_pattern),this._excluded=Object.assign(this._excluded,e._excluded),this._disabled=Object.assign(this._disabled,e._disabled));var n=new i(t);this.__patterns={handlebars_comment:n.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:n.starting_with(/{{{/).until_after(/}}}/),handlebars:n.starting_with(/{{/).until_after(/}}/),php:n.starting_with(/<\?(?:[= ]|php)/).until_after(/\?>/),erb:n.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:n.starting_with(/{%/).until_after(/%}/),django_value:n.starting_with(/{{/).until_after(/}}/),django_comment:n.starting_with(/{#/).until_after(/#}/),smarty:n.starting_with(/{(?=[^}{\s\n])/).until_after(/[^\s\n]}/),smarty_comment:n.starting_with(/{\*/).until_after(/\*}/),smarty_literal:n.starting_with(/{literal}/).until_after(/{\/literal}/)}}o.prototype=new i,o.prototype._create=function(){return new o(this._input,this)},o.prototype._update=function(){this.__set_templated_pattern()},o.prototype.disable=function(t){var e=this._create();return e._disabled[t]=!0,e._update(),e},o.prototype.read_options=function(t){var e=this._create();for(var n in r)e._disabled[n]=-1===t.templating.indexOf(n);return e._update(),e},o.prototype.exclude=function(t){var e=this._create();return e._excluded[t]=!0,e._update(),e},o.prototype.read=function(){var t="";t=this._match_pattern?this._input.read(this._starting_pattern):this._input.read(this._starting_pattern,this.__template_pattern);var e=this._read_template();while(e)this._match_pattern?e+=this._input.read(this._match_pattern):e+=this._input.readUntil(this.__template_pattern),t+=e,e=this._read_template();return this._until_after&&(t+=this._input.readUntilAfter(this._until_pattern)),t},o.prototype.__set_templated_pattern=function(){var t=[];this._disabled.php||t.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||t.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||t.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(t.push(this.__patterns.django._starting_pattern.source),t.push(this.__patterns.django_value._starting_pattern.source),t.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||t.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&t.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+t.join("|")+")")},o.prototype._read_template=function(){var t="",e=this._input.peek();if("<"===e){var n=this._input.peek(1);this._disabled.php||this._excluded.php||"?"!==n||(t=t||this.__patterns.php.read()),this._disabled.erb||this._excluded.erb||"%"!==n||(t=t||this.__patterns.erb.read())}else"{"===e&&(this._disabled.handlebars||this._excluded.handlebars||(t=t||this.__patterns.handlebars_comment.read(),t=t||this.__patterns.handlebars_unescaped.read(),t=t||this.__patterns.handlebars.read()),this._disabled.django||(this._excluded.django||this._excluded.handlebars||(t=t||this.__patterns.django_value.read()),this._excluded.django||(t=t||this.__patterns.django_comment.read(),t=t||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(t=t||this.__patterns.smarty_comment.read(),t=t||this.__patterns.smarty_literal.read(),t=t||this.__patterns.smarty.read()));return t},t.exports.TemplatablePattern=o},function(t,e,n){var i=n(17).Beautifier,r=n(18).Options;function o(t,e){var n=new i(t,e);return n.beautify()}t.exports=o,t.exports.defaultOptions=function(){return new r}},function(t,e,n){var i=n(18).Options,r=n(3).Output,o=n(9).InputScanner,a=n(14).Directives,s=new a(/\/\*/,/\*\//),l=/\r\n|[\r\n]/,c=/\r\n|[\r\n]/g,u=/\s/,f=/(?:\s|\n)+/g,d=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g,h=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function p(t,e){this._source_text=t||"",this._options=new i(e),this._ch=null,this._input=null,this.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},this.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0}}p.prototype.eatString=function(t){var e="";this._ch=this._input.next();while(this._ch){if(e+=this._ch,"\\"===this._ch)e+=this._input.next();else if(-1!==t.indexOf(this._ch)||"\n"===this._ch)break;this._ch=this._input.next()}return e},p.prototype.eatWhitespace=function(t){var e=u.test(this._input.peek()),n=0;while(u.test(this._input.peek()))this._ch=this._input.next(),t&&"\n"===this._ch&&(0===n||n<this._options.max_preserve_newlines)&&(n++,this._output.add_new_line(!0));return e},p.prototype.foundNestedPseudoClass=function(){var t=0,e=1,n=this._input.peek(e);while(n){if("{"===n)return!0;if("("===n)t+=1;else if(")"===n){if(0===t)return!1;t-=1}else if(";"===n||"}"===n)return!1;e++,n=this._input.peek(e)}return!1},p.prototype.print_string=function(t){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(t)},p.prototype.preserveSingleSpace=function(t){t&&(this._output.space_before_token=!0)},p.prototype.indent=function(){this._indentLevel++},p.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--},p.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t=this._source_text,e=this._options.eol;"auto"===e&&(e="\n",t&&l.test(t||"")&&(e=t.match(l)[0])),t=t.replace(c,"\n");var n=t.match(/^[\t ]*/)[0];this._output=new r(this._options,n),this._input=new o(t),this._indentLevel=0,this._nestedLevel=0,this._ch=null;var i,a,p,m=0,g=!1,v=!1,y=!1,b=!1,_=!1,x=this._ch;while(1){if(i=this._input.read(f),a=""!==i,p=x,this._ch=this._input.next(),"\\"===this._ch&&this._input.hasNext()&&(this._ch+=this._input.next()),x=this._ch,!this._ch)break;if("/"===this._ch&&"*"===this._input.peek()){this._output.add_new_line(),this._input.back();var w=this._input.read(d),k=s.get_directives(w);k&&"start"===k.ignore&&(w+=s.readIgnored(this._input)),this.print_string(w),this.eatWhitespace(!0),this._output.add_new_line()}else if("/"===this._ch&&"/"===this._input.peek())this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(h)),this.eatWhitespace(!0);else if("@"===this._ch)if(this.preserveSingleSpace(a),"{"===this._input.peek())this.print_string(this._ch+this.eatString("}"));else{this.print_string(this._ch);var S=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);S.match(/[ :]$/)&&(S=this.eatString(": ").replace(/\s$/,""),this.print_string(S),this._output.space_before_token=!0),S=S.replace(/\s$/,""),"extend"===S?b=!0:"import"===S&&(_=!0),S in this.NESTED_AT_RULE?(this._nestedLevel+=1,S in this.CONDITIONAL_GROUP_RULE&&(y=!0)):g||0!==m||-1===S.indexOf(":")||(v=!0,this.indent())}else"#"===this._ch&&"{"===this._input.peek()?(this.preserveSingleSpace(a),this.print_string(this._ch+this.eatString("}"))):"{"===this._ch?(v&&(v=!1,this.outdent()),y?(y=!1,g=this._indentLevel>=this._nestedLevel):g=this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&g&&this._output.previous_line&&"{"!==this._output.previous_line.item(-1)&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,"expand"===this._options.brace_style?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line()):"}"===this._ch?(this.outdent(),this._output.add_new_line(),"{"===p&&this._output.trim(!0),_=!1,b=!1,v&&(this.outdent(),v=!1),this.print_string(this._ch),g=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&"}"!==this._input.peek()&&this._output.add_new_line(!0)):":"===this._ch?!g&&!y||this._input.lookBack("&")||this.foundNestedPseudoClass()||this._input.lookBack("(")||b||0!==m?(this._input.lookBack(" ")&&(this._output.space_before_token=!0),":"===this._input.peek()?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":")):(this.print_string(":"),v||(v=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent())):'"'===this._ch||"'"===this._ch?(this.preserveSingleSpace(a),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)):";"===this._ch?0===m?(v&&(this.outdent(),v=!1),b=!1,_=!1,this.print_string(this._ch),this.eatWhitespace(!0),"/"!==this._input.peek()&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0):"("===this._ch?this._input.lookBack("url")?(this.print_string(this._ch),this.eatWhitespace(),m++,this.indent(),this._ch=this._input.next(),")"===this._ch||'"'===this._ch||"'"===this._ch?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),m&&(m--,this.outdent()))):(this.preserveSingleSpace(a),this.print_string(this._ch),this.eatWhitespace(),m++,this.indent()):")"===this._ch?(m&&(m--,this.outdent()),this.print_string(this._ch)):","===this._ch?(this.print_string(this._ch),this.eatWhitespace(!0),!this._options.selector_separator_newline||v||0!==m||_||b?this._output.space_before_token=!0:this._output.add_new_line()):">"!==this._ch&&"+"!==this._ch&&"~"!==this._ch||v||0!==m?"]"===this._ch?this.print_string(this._ch):"["===this._ch?(this.preserveSingleSpace(a),this.print_string(this._ch)):"="===this._ch?(this.eatWhitespace(),this.print_string("="),u.test(this._ch)&&(this._ch="")):"!"!==this._ch||this._input.lookBack("\\")?(this.preserveSingleSpace(a),this.print_string(this._ch)):(this.print_string(" "),this.print_string(this._ch)):this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&u.test(this._ch)&&(this._ch=""))}var O=this._output.get_code(e);return O},t.exports.Beautifier=p},function(t,e,n){var i=n(7).Options;function r(t){i.call(this,t,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var e=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||e;var n=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_style="collapse";for(var r=0;r<n.length;r++)"expand"!==n[r]?this.brace_style="collapse":this.brace_style=n[r]}r.prototype=new i,t.exports.Options=r},function(t,e,n){var i=n(20).Beautifier,r=n(21).Options;function o(t,e,n,r){var o=new i(t,e,n,r);return o.beautify()}t.exports=o,t.exports.defaultOptions=function(){return new r}},function(t,e,n){var i=n(21).Options,r=n(3).Output,o=n(22).Tokenizer,a=n(22).TOKEN,s=/\r\n|[\r\n]/,l=/\r\n|[\r\n]/g,c=function(t,e){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=t.max_preserve_newlines,this.preserve_newlines=t.preserve_newlines,this._output=new r(t,e)};c.prototype.current_line_has_match=function(t){return this._output.current_line.has_match(t)},c.prototype.set_space_before_token=function(t,e){this._output.space_before_token=t,this._output.non_breaking_space=e},c.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()},c.prototype.add_raw_token=function(t){this._output.add_raw_token(t)},c.prototype.print_preserved_newlines=function(t){var e=0;t.type!==a.TEXT&&t.previous.type!==a.TEXT&&(e=t.newlines?1:0),this.preserve_newlines&&(e=t.newlines<this.max_preserve_newlines+1?t.newlines:this.max_preserve_newlines+1);for(var n=0;n<e;n++)this.print_newline(n>0);return 0!==e},c.prototype.traverse_whitespace=function(t){return!(!t.whitespace_before&&!t.newlines)&&(this.print_preserved_newlines(t)||(this._output.space_before_token=!0),!0)},c.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped},c.prototype.print_newline=function(t){this._output.add_new_line(t)},c.prototype.print_token=function(t){t.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(t.text))},c.prototype.indent=function(){this.indent_level++},c.prototype.get_full_indent=function(t){return t=this.indent_level+(t||0),t<1?"":this._output.get_indent_string(t)};var u=function(t){var e=null,n=t.next;while(n.type!==a.EOF&&t.closed!==n){if(n.type===a.ATTRIBUTE&&"type"===n.text){n.next&&n.next.type===a.EQUALS&&n.next.next&&n.next.next.type===a.VALUE&&(e=n.next.next.text);break}n=n.next}return e},f=function(t,e){var n=null,i=null;return e.closed?("script"===t?n="text/javascript":"style"===t&&(n="text/css"),n=u(e)||n,n.search("text/css")>-1?i="css":n.search(/module|((text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect))/)>-1?i="javascript":n.search(/(text|application|dojo)\/(x-)?(html)/)>-1?i="html":n.search(/test\/null/)>-1&&(i="null"),i):null};function d(t,e){return-1!==e.indexOf(t)}function h(t,e,n){this.parent=t||null,this.tag=e?e.tag_name:"",this.indent_level=n||0,this.parser_token=e||null}function p(t){this._printer=t,this._current_frame=null}function m(t,e,n,r){this._source_text=t||"",e=e||{},this._js_beautify=n,this._css_beautify=r,this._tag_stack=null;var o=new i(e,"html");this._options=o,this._is_wrap_attributes_force="force"===this._options.wrap_attributes.substr(0,"force".length),this._is_wrap_attributes_force_expand_multiline="force-expand-multiline"===this._options.wrap_attributes,this._is_wrap_attributes_force_aligned="force-aligned"===this._options.wrap_attributes,this._is_wrap_attributes_aligned_multiple="aligned-multiple"===this._options.wrap_attributes,this._is_wrap_attributes_preserve="preserve"===this._options.wrap_attributes.substr(0,"preserve".length),this._is_wrap_attributes_preserve_aligned="preserve-aligned"===this._options.wrap_attributes}p.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null},p.prototype.record_tag=function(t){var e=new h(this._current_frame,t,this._printer.indent_level);this._current_frame=e},p.prototype._try_pop_frame=function(t){var e=null;return t&&(e=t.parser_token,this._printer.indent_level=t.indent_level,this._current_frame=t.parent),e},p.prototype._get_frame=function(t,e){var n=this._current_frame;while(n){if(-1!==t.indexOf(n.tag))break;if(e&&-1!==e.indexOf(n.tag)){n=null;break}n=n.parent}return n},p.prototype.try_pop=function(t,e){var n=this._get_frame([t],e);return this._try_pop_frame(n)},p.prototype.indent_to_tag=function(t){var e=this._get_frame(t);e&&(this._printer.indent_level=e.indent_level)},m.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t=this._source_text,e=this._options.eol;"auto"===this._options.eol&&(e="\n",t&&s.test(t)&&(e=t.match(s)[0])),t=t.replace(l,"\n");var n=t.match(/^[\t ]*/)[0],i={text:"",type:""},r=new g,u=new c(this._options,n),f=new o(t,this._options).tokenize();this._tag_stack=new p(u);var d=null,h=f.next();while(h.type!==a.EOF)h.type===a.TAG_OPEN||h.type===a.COMMENT?(d=this._handle_tag_open(u,h,r,i),r=d):h.type===a.ATTRIBUTE||h.type===a.EQUALS||h.type===a.VALUE||h.type===a.TEXT&&!r.tag_complete?d=this._handle_inside_tag(u,h,r,f):h.type===a.TAG_CLOSE?d=this._handle_tag_close(u,h,r):h.type===a.TEXT?d=this._handle_text(u,h,r):u.add_raw_token(h),i=d,h=f.next();var m=u._output.get_code(e);return m},m.prototype._handle_tag_close=function(t,e,n){var i={text:e.text,type:e.type};return t.alignment_size=0,n.tag_complete=!0,t.set_space_before_token(e.newlines||""!==e.whitespace_before,!0),n.is_unformatted?t.add_raw_token(e):("<"===n.tag_start_char&&(t.set_space_before_token("/"===e.text[0],!0),this._is_wrap_attributes_force_expand_multiline&&n.has_wrapped_attrs&&t.print_newline(!1)),t.print_token(e)),!n.indent_content||n.is_unformatted||n.is_content_unformatted||(t.indent(),n.indent_content=!1),n.is_inline_element||n.is_unformatted||n.is_content_unformatted||t.set_wrap_point(),i},m.prototype._handle_inside_tag=function(t,e,n,i){var r=n.has_wrapped_attrs,o={text:e.text,type:e.type};if(t.set_space_before_token(e.newlines||""!==e.whitespace_before,!0),n.is_unformatted)t.add_raw_token(e);else if("{"===n.tag_start_char&&e.type===a.TEXT)t.print_preserved_newlines(e)?(e.newlines=0,t.add_raw_token(e)):t.print_token(e);else{if(e.type===a.ATTRIBUTE?(t.set_space_before_token(!0),n.attr_count+=1):(e.type===a.EQUALS||e.type===a.VALUE&&e.previous.type===a.EQUALS)&&t.set_space_before_token(!1),e.type===a.ATTRIBUTE&&"<"===n.tag_start_char&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(t.traverse_whitespace(e),r=r||0!==e.newlines),this._is_wrap_attributes_force)){var s=n.attr_count>1;if(this._is_wrap_attributes_force_expand_multiline&&1===n.attr_count){var l,c=!0,u=0;do{if(l=i.peek(u),l.type===a.ATTRIBUTE){c=!1;break}u+=1}while(u<4&&l.type!==a.EOF&&l.type!==a.TAG_CLOSE);s=!c}s&&(t.print_newline(!1),r=!0)}t.print_token(e),r=r||t.previous_token_wrapped(),n.has_wrapped_attrs=r}return o},m.prototype._handle_text=function(t,e,n){var i={text:e.text,type:"TK_CONTENT"};return n.custom_beautifier_name?this._print_custom_beatifier_text(t,e,n):n.is_unformatted||n.is_content_unformatted?t.add_raw_token(e):(t.traverse_whitespace(e),t.print_token(e)),i},m.prototype._print_custom_beatifier_text=function(t,e,n){var i=this;if(""!==e.text){var r,o=e.text,a=1,s="",l="";"javascript"===n.custom_beautifier_name&&"function"===typeof this._js_beautify?r=this._js_beautify:"css"===n.custom_beautifier_name&&"function"===typeof this._css_beautify?r=this._css_beautify:"html"===n.custom_beautifier_name&&(r=function(t,e){var n=new m(t,e,i._js_beautify,i._css_beautify);return n.beautify()}),"keep"===this._options.indent_scripts?a=0:"separate"===this._options.indent_scripts&&(a=-t.indent_level);var c=t.get_full_indent(a);if(o=o.replace(/\n[ \t]*$/,""),"html"!==n.custom_beautifier_name&&"<"===o[0]&&o.match(/^(<!--|<!\[CDATA\[)/)){var u=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(o);if(!u)return void t.add_raw_token(e);s=c+u[1]+"\n",o=u[4],u[5]&&(l=c+u[5]),o=o.replace(/\n[ \t]*$/,""),(u[2]||-1!==u[3].indexOf("\n"))&&(u=u[3].match(/[ \t]+$/),u&&(e.whitespace_before=u[0]))}if(o)if(r){var f=function(){this.eol="\n"};f.prototype=this._options.raw_options;var d=new f;o=r(c+o,d)}else{var h=e.whitespace_before;h&&(o=o.replace(new RegExp("\n("+h+")?","g"),"\n")),o=c+o.replace(/\n/g,"\n"+c)}s&&(o=o?s+o+"\n"+l:s+l),t.print_newline(!1),o&&(e.text=o,e.whitespace_before="",e.newlines=0,t.add_raw_token(e),t.print_newline(!0))}},m.prototype._handle_tag_open=function(t,e,n,i){var r=this._get_tag_open_token(e);return!n.is_unformatted&&!n.is_content_unformatted||n.is_empty_element||e.type!==a.TAG_OPEN||0!==e.text.indexOf("</")?(t.traverse_whitespace(e),this._set_tag_position(t,e,r,n,i),r.is_inline_element||t.set_wrap_point(),t.print_token(e)):(t.add_raw_token(e),r.start_tag_token=this._tag_stack.try_pop(r.tag_name)),(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(r.alignment_size=e.text.length+1),r.tag_complete||r.is_unformatted||(t.alignment_size=r.alignment_size),r};var g=function(t,e){var n;(this.parent=t||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",e)?(this.tag_start_char=e.text[0],this.text=e.text,"<"===this.tag_start_char?(n=e.text.match(/^<([^\s>]*)/),this.tag_check=n?n[1]:""):(n=e.text.match(/^{{(?:[\^]|#\*?)?([^\s}]+)/),this.tag_check=n?n[1]:"","{{#>"===e.text&&">"===this.tag_check&&null!==e.next&&(this.tag_check=e.next.text)),this.tag_check=this.tag_check.toLowerCase(),e.type===a.COMMENT&&(this.tag_complete=!0),this.is_start_tag="/"!==this.tag_check.charAt(0),this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||e.closed&&"/>"===e.closed.text,this.is_end_tag=this.is_end_tag||"{"===this.tag_start_char&&(this.text.length<3||/[^#\^]/.test(this.text.charAt(2)))):this.tag_complete=!0};m.prototype._get_tag_open_token=function(t){var e=new g(this._tag_stack.get_parser_token(),t);return e.alignment_size=this._options.wrap_attributes_indent_size,e.is_end_tag=e.is_end_tag||d(e.tag_check,this._options.void_elements),e.is_empty_element=e.tag_complete||e.is_start_tag&&e.is_end_tag,e.is_unformatted=!e.tag_complete&&d(e.tag_check,this._options.unformatted),e.is_content_unformatted=!e.is_empty_element&&d(e.tag_check,this._options.content_unformatted),e.is_inline_element=d(e.tag_name,this._options.inline)||"{"===e.tag_start_char,e},m.prototype._set_tag_position=function(t,e,n,i,r){if(n.is_empty_element||(n.is_end_tag?n.start_tag_token=this._tag_stack.try_pop(n.tag_name):(this._do_optional_end_element(n)&&(n.is_inline_element||t.print_newline(!1)),this._tag_stack.record_tag(n),"script"!==n.tag_name&&"style"!==n.tag_name||n.is_unformatted||n.is_content_unformatted||(n.custom_beautifier_name=f(n.tag_check,e)))),d(n.tag_check,this._options.extra_liners)&&(t.print_newline(!1),t._output.just_added_blankline()||t.print_newline(!0)),n.is_empty_element){if("{"===n.tag_start_char&&"else"===n.tag_check){this._tag_stack.indent_to_tag(["if","unless","each"]),n.indent_content=!0;var o=t.current_line_has_match(/{{#if/);o||t.print_newline(!1)}"!--"===n.tag_name&&r.type===a.TAG_CLOSE&&i.is_end_tag&&-1===n.text.indexOf("\n")||(n.is_inline_element||n.is_unformatted||t.print_newline(!1),this._calcluate_parent_multiline(t,n))}else if(n.is_end_tag){var s=!1;s=n.start_tag_token&&n.start_tag_token.multiline_content,s=s||!n.is_inline_element&&!(i.is_inline_element||i.is_unformatted)&&!(r.type===a.TAG_CLOSE&&n.start_tag_token===i)&&"TK_CONTENT"!==r.type,(n.is_content_unformatted||n.is_unformatted)&&(s=!1),s&&t.print_newline(!1)}else n.indent_content=!n.custom_beautifier_name,"<"===n.tag_start_char&&("html"===n.tag_name?n.indent_content=this._options.indent_inner_html:"head"===n.tag_name?n.indent_content=this._options.indent_head_inner_html:"body"===n.tag_name&&(n.indent_content=this._options.indent_body_inner_html)),n.is_inline_element||n.is_unformatted||"TK_CONTENT"===r.type&&!n.is_content_unformatted||t.print_newline(!1),this._calcluate_parent_multiline(t,n)},m.prototype._calcluate_parent_multiline=function(t,e){!e.parent||!t._output.just_added_newline()||(e.is_inline_element||e.is_unformatted)&&e.parent.is_inline_element||(e.parent.multiline_content=!0)};var v=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","nav","ol","p","pre","section","table","ul"],y=["a","audio","del","ins","map","noscript","video"];m.prototype._do_optional_end_element=function(t){var e=null;if(!t.is_empty_element&&t.is_start_tag&&t.parent){if("body"===t.tag_name)e=e||this._tag_stack.try_pop("head");else if("li"===t.tag_name)e=e||this._tag_stack.try_pop("li",["ol","ul"]);else if("dd"===t.tag_name||"dt"===t.tag_name)e=e||this._tag_stack.try_pop("dt",["dl"]),e=e||this._tag_stack.try_pop("dd",["dl"]);else if("p"===t.parent.tag_name&&-1!==v.indexOf(t.tag_name)){var n=t.parent.parent;n&&-1!==y.indexOf(n.tag_name)||(e=e||this._tag_stack.try_pop("p"))}else"rp"===t.tag_name||"rt"===t.tag_name?(e=e||this._tag_stack.try_pop("rt",["ruby","rtc"]),e=e||this._tag_stack.try_pop("rp",["ruby","rtc"])):"optgroup"===t.tag_name?e=e||this._tag_stack.try_pop("optgroup",["select"]):"option"===t.tag_name?e=e||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):"colgroup"===t.tag_name?e=e||this._tag_stack.try_pop("caption",["table"]):"thead"===t.tag_name?(e=e||this._tag_stack.try_pop("caption",["table"]),e=e||this._tag_stack.try_pop("colgroup",["table"])):"tbody"===t.tag_name||"tfoot"===t.tag_name?(e=e||this._tag_stack.try_pop("caption",["table"]),e=e||this._tag_stack.try_pop("colgroup",["table"]),e=e||this._tag_stack.try_pop("thead",["table"]),e=e||this._tag_stack.try_pop("tbody",["table"])):"tr"===t.tag_name?(e=e||this._tag_stack.try_pop("caption",["table"]),e=e||this._tag_stack.try_pop("colgroup",["table"]),e=e||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"])):"th"!==t.tag_name&&"td"!==t.tag_name||(e=e||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]),e=e||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"]));return t.parent=this._tag_stack.get_parser_token(),e}},t.exports.Beautifier=m},function(t,e,n){var i=n(7).Options;function r(t){i.call(this,t,"html"),1===this.templating.length&&"auto"===this.templating[0]&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}r.prototype=new i,t.exports.Options=r},function(t,e,n){var i=n(10).Tokenizer,r=n(10).TOKEN,o=n(14).Directives,a=n(15).TemplatablePattern,s=n(13).Pattern,l={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:r.START,RAW:r.RAW,EOF:r.EOF},c=new o(/<\!--/,/-->/),u=function(t,e){i.call(this,t,e),this._current_tag_name="";var n=new a(this._input).read_options(this._options),r=new s(this._input);if(this.__patterns={word:n.until(/[\n\r\t <]/),single_quote:n.until_after(/'/),double_quote:n.until_after(/"/),attribute:n.until(/[\n\r\t =>]|\/>/),element_name:n.until(/[\n\r\t >\/]/),handlebars_comment:r.starting_with(/{{!--/).until_after(/--}}/),handlebars:r.starting_with(/{{/).until_after(/}}/),handlebars_open:r.until(/[\n\r\t }]/),handlebars_raw_close:r.until(/}}/),comment:r.starting_with(/<!--/).until_after(/-->/),cdata:r.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:r.starting_with(/<!\[/).until_after(/]>/),processing:r.starting_with(/<\?/).until_after(/\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter){var o=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=r.matching(o).until_after(o)}};u.prototype=new i,u.prototype._is_comment=function(t){return!1},u.prototype._is_opening=function(t){return t.type===l.TAG_OPEN},u.prototype._is_closing=function(t,e){return t.type===l.TAG_CLOSE&&e&&((">"===t.text||"/>"===t.text)&&"<"===e.text[0]||"}}"===t.text&&"{"===e.text[0]&&"{"===e.text[1])},u.prototype._reset=function(){this._current_tag_name=""},u.prototype._get_next_token=function(t,e){var n=null;this._readWhitespace();var i=this._input.peek();return null===i?this._create_token(l.EOF,""):(n=n||this._read_open_handlebars(i,e),n=n||this._read_attribute(i,t,e),n=n||this._read_close(i,e),n=n||this._read_raw_content(i,t,e),n=n||this._read_content_word(i),n=n||this._read_comment_or_cdata(i),n=n||this._read_processing(i),n=n||this._read_open(i,e),n=n||this._create_token(l.UNKNOWN,this._input.next()),n)},u.prototype._read_comment_or_cdata=function(t){var e=null,n=null,i=null;if("<"===t){var r=this._input.peek(1);"!"===r&&(n=this.__patterns.comment.read(),n?(i=c.get_directives(n),i&&"start"===i.ignore&&(n+=c.readIgnored(this._input))):n=this.__patterns.cdata.read()),n&&(e=this._create_token(l.COMMENT,n),e.directives=i)}return e},u.prototype._read_processing=function(t){var e=null,n=null,i=null;if("<"===t){var r=this._input.peek(1);"!"!==r&&"?"!==r||(n=this.__patterns.conditional_comment.read(),n=n||this.__patterns.processing.read()),n&&(e=this._create_token(l.COMMENT,n),e.directives=i)}return e},u.prototype._read_open=function(t,e){var n=null,i=null;return e||"<"===t&&(n=this._input.next(),"/"===this._input.peek()&&(n+=this._input.next()),n+=this.__patterns.element_name.read(),i=this._create_token(l.TAG_OPEN,n)),i},u.prototype._read_open_handlebars=function(t,e){var n=null,i=null;return e||this._options.indent_handlebars&&"{"===t&&"{"===this._input.peek(1)&&("!"===this._input.peek(2)?(n=this.__patterns.handlebars_comment.read(),n=n||this.__patterns.handlebars.read(),i=this._create_token(l.COMMENT,n)):(n=this.__patterns.handlebars_open.read(),i=this._create_token(l.TAG_OPEN,n))),i},u.prototype._read_close=function(t,e){var n=null,i=null;return e&&("<"===e.text[0]&&(">"===t||"/"===t&&">"===this._input.peek(1))?(n=this._input.next(),"/"===t&&(n+=this._input.next()),i=this._create_token(l.TAG_CLOSE,n)):"{"===e.text[0]&&"}"===t&&"}"===this._input.peek(1)&&(this._input.next(),this._input.next(),i=this._create_token(l.TAG_CLOSE,"}}"))),i},u.prototype._read_attribute=function(t,e,n){var i=null,r="";if(n&&"<"===n.text[0])if("="===t)i=this._create_token(l.EQUALS,this._input.next());else if('"'===t||"'"===t){var o=this._input.next();o+='"'===t?this.__patterns.double_quote.read():this.__patterns.single_quote.read(),i=this._create_token(l.VALUE,o)}else r=this.__patterns.attribute.read(),r&&(i=e.type===l.EQUALS?this._create_token(l.VALUE,r):this._create_token(l.ATTRIBUTE,r));return i},u.prototype._is_content_unformatted=function(t){return-1===this._options.void_elements.indexOf(t)&&(-1!==this._options.content_unformatted.indexOf(t)||-1!==this._options.unformatted.indexOf(t))},u.prototype._read_raw_content=function(t,e,n){var i="";if(n&&"{"===n.text[0])i=this.__patterns.handlebars_raw_close.read();else if(e.type===l.TAG_CLOSE&&"<"===e.opened.text[0]&&"/"!==e.text[0]){var r=e.opened.text.substr(1).toLowerCase();if("script"===r||"style"===r){var o=this._read_comment_or_cdata(t);if(o)return o.type=l.TEXT,o;i=this._input.readUntil(new RegExp("</"+r+"[\\n\\r\\t ]*?>","ig"))}else this._is_content_unformatted(r)&&(i=this._input.readUntil(new RegExp("</"+r+"[\\n\\r\\t ]*?>","ig")))}return i?this._create_token(l.TEXT,i):null},u.prototype._read_content_word=function(t){var e="";if(this._options.unformatted_content_delimiter&&t===this._options.unformatted_content_delimiter[0]&&(e=this.__patterns.unformatted_content_delimiter.read()),e||(e=this.__patterns.word.read()),e)return this._create_token(l.TEXT,e)},t.exports.Tokenizer=u,t.exports.TOKEN=l}],e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var o=e[i]={exports:{}};return t[i](o,o.exports,n),o.exports}var i=n(0);return i}()}))}).call(this,n(250))},,,,,,,,function(t,e,n){t.exports=n.p+"modules/platform/img/addLane.png"},function(t,e,n){"use strict";var i=n(17),r=n(844).left,o=n(95),a=n(127),s=n(845),l=o("reduce"),c=!s&&a>79&&a<83;i({target:"Array",proto:!0,forced:!l||c},{reduce:function(t){return r(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){n(269),t.exports=n(855)},function(t,e,n){"use strict";n(562)},function(t,e,n){"use strict";n.r(e)},function(t,e,n){"use strict";n(563)},function(t,e,n){"use strict";n.r(e)},function(t,e){var n,i="ontouchstart"in window;document.createTouch||(document.createTouch=function(t,e,n,i,o,a,s){return new r(e,n,{pageX:i,pageY:o,screenX:a,screenY:s,clientX:i-window.pageXOffset,clientY:o-window.pageYOffset},0,0)}),document.createTouchList||(document.createTouchList=function(){for(var t=o(),e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length=arguments.length,t});var r=function(t,e,n,i,r){i=i||0,r=r||0,this.identifier=e,this.target=t,this.clientX=n.clientX+i,this.clientY=n.clientY+r,this.screenX=n.screenX+i,this.screenY=n.screenY+r,this.pageX=n.pageX+i,this.pageY=n.pageY+r};function o(){var t=[];return t["item"]=function(t){return this[t]||null},t["identifiedTouch"]=function(t){return this[t+1]||null},t}var a=!1;function s(t){return function(e){"mousedown"===e.type&&(a=!0),"mouseup"===e.type&&(a=!1),("mousemove"!==e.type||a)&&(("mousedown"===e.type||!n||n&&!n.dispatchEvent)&&(n=e.target),l(t,e),"mouseup"===e.type&&(n=null))}}function l(t,e){var i=document.createEvent("Event");i.initEvent(t,!0,!0),i.altKey=e.altKey,i.ctrlKey=e.ctrlKey,i.metaKey=e.metaKey,i.shiftKey=e.shiftKey,i.touches=u(e),i.targetTouches=u(e),i.changedTouches=c(e),n.dispatchEvent(i)}function c(t){var e=o();return e.push(new r(n,1,t,0,0)),e}function u(t){return"mouseup"===t.type?o():c(t)}function f(){window.addEventListener("mousedown",s("touchstart"),!0),window.addEventListener("mousemove",s("touchmove"),!0),window.addEventListener("mouseup",s("touchend"),!0)}f["multiTouchOffset"]=75,i||new f},function(t,e){function n(t){return t instanceof Map?t.clear=t.delete=t.set=function(){throw new Error("map is read-only")}:t instanceof Set&&(t.add=t.clear=t.delete=function(){throw new Error("set is read-only")}),Object.freeze(t),Object.getOwnPropertyNames(t).forEach((function(e){var i=t[e];"object"!=typeof i||Object.isFrozen(i)||n(i)})),t}var i=n,r=n;i.default=r;class o{constructor(t){void 0===t.data&&(t.data={}),this.data=t.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function a(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function s(t,...e){const n=Object.create(null);for(const i in t)n[i]=t[i];return e.forEach((function(t){for(const e in t)n[e]=t[e]})),n}const l="</span>",c=t=>!!t.kind;class u{constructor(t,e){this.buffer="",this.classPrefix=e.classPrefix,t.walk(this)}addText(t){this.buffer+=a(t)}openNode(t){if(!c(t))return;let e=t.kind;t.sublanguage||(e=`${this.classPrefix}${e}`),this.span(e)}closeNode(t){c(t)&&(this.buffer+=l)}value(){return this.buffer}span(t){this.buffer+=`<span class="${t}">`}}class f{constructor(){this.rootNode={children:[]},this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(t){this.top.children.push(t)}openNode(t){const e={kind:t,children:[]};this.add(e),this.stack.push(e)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){while(this.closeNode());}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(t){return this.constructor._walk(t,this.rootNode)}static _walk(t,e){return"string"===typeof e?t.addText(e):e.children&&(t.openNode(e),e.children.forEach(e=>this._walk(t,e)),t.closeNode(e)),t}static _collapse(t){"string"!==typeof t&&t.children&&(t.children.every(t=>"string"===typeof t)?t.children=[t.children.join("")]:t.children.forEach(t=>{f._collapse(t)}))}}class d extends f{constructor(t){super(),this.options=t}addKeyword(t,e){""!==t&&(this.openNode(e),this.addText(t),this.closeNode())}addText(t){""!==t&&this.add(t)}addSublanguage(t,e){const n=t.root;n.kind=e,n.sublanguage=!0,this.add(n)}toHTML(){const t=new u(this,this.options);return t.value()}finalize(){return!0}}function h(t){return new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"m")}function p(t){return t?"string"===typeof t?t:t.source:null}function m(...t){const e=t.map(t=>p(t)).join("");return e}function g(...t){const e="("+t.map(t=>p(t)).join("|")+")";return e}function v(t){return new RegExp(t.toString()+"|").exec("").length-1}function y(t,e){const n=t&&t.exec(e);return n&&0===n.index}const b=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function _(t,e="|"){let n=0;return t.map(t=>{n+=1;const e=n;let i=p(t),r="";while(i.length>0){const t=b.exec(i);if(!t){r+=i;break}r+=i.substring(0,t.index),i=i.substring(t.index+t[0].length),"\\"===t[0][0]&&t[1]?r+="\\"+String(Number(t[1])+e):(r+=t[0],"("===t[0]&&n++)}return r}).map(t=>`(${t})`).join(e)}const x=/\b\B/,w="[a-zA-Z]\\w*",k="[a-zA-Z_]\\w*",S="\\b\\d+(\\.\\d+)?",O="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",C="\\b(0b[01]+)",E="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",D=(t={})=>{const e=/^#![ ]*\//;return t.binary&&(t.begin=m(e,/.*\b/,t.binary,/\b.*/)),s({className:"meta",begin:e,end:/$/,relevance:0,"on:begin":(t,e)=>{0!==t.index&&e.ignoreMatch()}},t)},T={begin:"\\\\[\\s\\S]",relevance:0},N={className:"string",begin:"'",end:"'",illegal:"\\n",contains:[T]},M={className:"string",begin:'"',end:'"',illegal:"\\n",contains:[T]},A={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},j=function(t,e,n={}){const i=s({className:"comment",begin:t,end:e,contains:[]},n);return i.contains.push(A),i.contains.push({className:"doctag",begin:"(?:TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):",relevance:0}),i},P=j("//","$"),$=j("/\\*","\\*/"),I=j("#","$"),L={className:"number",begin:S,relevance:0},R={className:"number",begin:O,relevance:0},B={className:"number",begin:C,relevance:0},q={className:"number",begin:S+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},F={begin:/(?=\/[^/\n]*\/)/,contains:[{className:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[T,{begin:/\[/,end:/\]/,relevance:0,contains:[T]}]}]},z={className:"title",begin:w,relevance:0},V={className:"title",begin:k,relevance:0},U={begin:"\\.\\s*"+k,relevance:0},K=function(t){return Object.assign(t,{"on:begin":(t,e)=>{e.data._beginMatch=t[1]},"on:end":(t,e)=>{e.data._beginMatch!==t[1]&&e.ignoreMatch()}})};var H=Object.freeze({__proto__:null,MATCH_NOTHING_RE:x,IDENT_RE:w,UNDERSCORE_IDENT_RE:k,NUMBER_RE:S,C_NUMBER_RE:O,BINARY_NUMBER_RE:C,RE_STARTERS_RE:E,SHEBANG:D,BACKSLASH_ESCAPE:T,APOS_STRING_MODE:N,QUOTE_STRING_MODE:M,PHRASAL_WORDS_MODE:A,COMMENT:j,C_LINE_COMMENT_MODE:P,C_BLOCK_COMMENT_MODE:$,HASH_COMMENT_MODE:I,NUMBER_MODE:L,C_NUMBER_MODE:R,BINARY_NUMBER_MODE:B,CSS_NUMBER_MODE:q,REGEXP_MODE:F,TITLE_MODE:z,UNDERSCORE_TITLE_MODE:V,METHOD_GUARD:U,END_SAME_AS_BEGIN:K});function W(t,e){const n=t.input[t.index-1];"."===n&&e.ignoreMatch()}function G(t,e){e&&t.beginKeywords&&(t.begin="\\b("+t.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",t.__beforeBegin=W,t.keywords=t.keywords||t.beginKeywords,delete t.beginKeywords,void 0===t.relevance&&(t.relevance=0))}function J(t,e){Array.isArray(t.illegal)&&(t.illegal=g(...t.illegal))}function Y(t,e){if(t.match){if(t.begin||t.end)throw new Error("begin & end are not supported with match");t.begin=t.match,delete t.match}}function X(t,e){void 0===t.relevance&&(t.relevance=1)}const Z=["of","and","for","in","not","or","if","then","parent","list","value"],Q="keyword";function tt(t,e,n=Q){const i={};return"string"===typeof t?r(n,t.split(" ")):Array.isArray(t)?r(n,t):Object.keys(t).forEach((function(n){Object.assign(i,tt(t[n],e,n))})),i;function r(t,n){e&&(n=n.map(t=>t.toLowerCase())),n.forEach((function(e){const n=e.split("|");i[n[0]]=[t,et(n[0],n[1])]}))}}function et(t,e){return e?Number(e):nt(t)?0:1}function nt(t){return Z.includes(t.toLowerCase())}function it(t,{plugins:e}){function n(e,n){return new RegExp(p(e),"m"+(t.case_insensitive?"i":"")+(n?"g":""))}class i{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(t,e){e.position=this.position++,this.matchIndexes[this.matchAt]=e,this.regexes.push([e,t]),this.matchAt+=v(t)+1}compile(){0===this.regexes.length&&(this.exec=()=>null);const t=this.regexes.map(t=>t[1]);this.matcherRe=n(_(t),!0),this.lastIndex=0}exec(t){this.matcherRe.lastIndex=this.lastIndex;const e=this.matcherRe.exec(t);if(!e)return null;const n=e.findIndex((t,e)=>e>0&&void 0!==t),i=this.matchIndexes[n];return e.splice(0,n),Object.assign(e,i)}}class r{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(t){if(this.multiRegexes[t])return this.multiRegexes[t];const e=new i;return this.rules.slice(t).forEach(([t,n])=>e.addRule(t,n)),e.compile(),this.multiRegexes[t]=e,e}resumingScanAtSamePosition(){return 0!==this.regexIndex}considerAll(){this.regexIndex=0}addRule(t,e){this.rules.push([t,e]),"begin"===e.type&&this.count++}exec(t){const e=this.getMatcher(this.regexIndex);e.lastIndex=this.lastIndex;let n=e.exec(t);if(this.resumingScanAtSamePosition())if(n&&n.index===this.lastIndex);else{const e=this.getMatcher(0);e.lastIndex=this.lastIndex+1,n=e.exec(t)}return n&&(this.regexIndex+=n.position+1,this.regexIndex===this.count&&this.considerAll()),n}}function o(t){const e=new r;return t.contains.forEach(t=>e.addRule(t.begin,{rule:t,type:"begin"})),t.terminatorEnd&&e.addRule(t.terminatorEnd,{type:"end"}),t.illegal&&e.addRule(t.illegal,{type:"illegal"}),e}function a(e,i){const r=e;if(e.isCompiled)return r;[Y].forEach(t=>t(e,i)),t.compilerExtensions.forEach(t=>t(e,i)),e.__beforeBegin=null,[G,J,X].forEach(t=>t(e,i)),e.isCompiled=!0;let s=null;if("object"===typeof e.keywords&&(s=e.keywords.$pattern,delete e.keywords.$pattern),e.keywords&&(e.keywords=tt(e.keywords,t.case_insensitive)),e.lexemes&&s)throw new Error("ERR: Prefer `keywords.$pattern` to `mode.lexemes`, BOTH are not allowed. (see mode reference) ");return s=s||e.lexemes||/\w+/,r.keywordPatternRe=n(s,!0),i&&(e.begin||(e.begin=/\B|\b/),r.beginRe=n(e.begin),e.endSameAsBegin&&(e.end=e.begin),e.end||e.endsWithParent||(e.end=/\B|\b/),e.end&&(r.endRe=n(e.end)),r.terminatorEnd=p(e.end)||"",e.endsWithParent&&i.terminatorEnd&&(r.terminatorEnd+=(e.end?"|":"")+i.terminatorEnd)),e.illegal&&(r.illegalRe=n(e.illegal)),e.contains||(e.contains=[]),e.contains=[].concat(...e.contains.map((function(t){return ot("self"===t?e:t)}))),e.contains.forEach((function(t){a(t,r)})),e.starts&&a(e.starts,i),r.matcher=o(r),r}if(t.compilerExtensions||(t.compilerExtensions=[]),t.contains&&t.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return t.classNameAliases=s(t.classNameAliases||{}),a(t)}function rt(t){return!!t&&(t.endsWithParent||rt(t.starts))}function ot(t){return t.variants&&!t.cachedVariants&&(t.cachedVariants=t.variants.map((function(e){return s(t,{variants:null},e)}))),t.cachedVariants?t.cachedVariants:rt(t)?s(t,{starts:t.starts?s(t.starts):null}):Object.isFrozen(t)?s(t):t}var at="10.7.3";function st(t){return Boolean(t||""===t)}function lt(t){const e={props:["language","code","autodetect"],data:function(){return{detectedLanguage:"",unknownLanguage:!1}},computed:{className(){return this.unknownLanguage?"":"hljs "+this.detectedLanguage},highlighted(){if(!this.autoDetect&&!t.getLanguage(this.language))return console.warn(`The language "${this.language}" you specified could not be found.`),this.unknownLanguage=!0,a(this.code);let e={};return this.autoDetect?(e=t.highlightAuto(this.code),this.detectedLanguage=e.language):(e=t.highlight(this.language,this.code,this.ignoreIllegals),this.detectedLanguage=this.language),e.value},autoDetect(){return!this.language||st(this.autodetect)},ignoreIllegals(){return!0}},render(t){return t("pre",{},[t("code",{class:this.className,domProps:{innerHTML:this.highlighted}})])}},n={install(t){t.component("highlightjs",e)}};return{Component:e,VuePlugin:n}}const ct={"after:highlightElement":({el:t,result:e,text:n})=>{const i=ft(t);if(!i.length)return;const r=document.createElement("div");r.innerHTML=e.value,e.value=dt(i,ft(r),n)}};function ut(t){return t.nodeName.toLowerCase()}function ft(t){const e=[];return function t(n,i){for(let r=n.firstChild;r;r=r.nextSibling)3===r.nodeType?i+=r.nodeValue.length:1===r.nodeType&&(e.push({event:"start",offset:i,node:r}),i=t(r,i),ut(r).match(/br|hr|img|input/)||e.push({event:"stop",offset:i,node:r}));return i}(t,0),e}function dt(t,e,n){let i=0,r="";const o=[];function s(){return t.length&&e.length?t[0].offset!==e[0].offset?t[0].offset<e[0].offset?t:e:"start"===e[0].event?t:e:t.length?t:e}function l(t){function e(t){return" "+t.nodeName+'="'+a(t.value)+'"'}r+="<"+ut(t)+[].map.call(t.attributes,e).join("")+">"}function c(t){r+="</"+ut(t)+">"}function u(t){("start"===t.event?l:c)(t.node)}while(t.length||e.length){let e=s();if(r+=a(n.substring(i,e[0].offset)),i=e[0].offset,e===t){o.reverse().forEach(c);do{u(e.splice(0,1)[0]),e=s()}while(e===t&&e.length&&e[0].offset===i);o.reverse().forEach(l)}else"start"===e[0].event?o.push(e[0].node):o.pop(),u(e.splice(0,1)[0])}return r+a(n.substr(i))}const ht={},pt=t=>{console.error(t)},mt=(t,...e)=>{},gt=(t,e)=>{ht[`${t}/${e}`]||(ht[`${t}/${e}`]=!0)},vt=a,yt=s,bt=Symbol("nomatch"),_t=function(t){const e=Object.create(null),n=Object.create(null),r=[];let a=!0;const s=/(^(<[^>]+>|\t|)+|\n)/gm,l="Could not find the language '{}', did you forget to load/include a language module?",c={disableAutodetect:!0,name:"Plain text",contains:[]};let u={noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:null,__emitter:d};function f(t){return u.noHighlightRe.test(t)}function p(t){let e=t.className+" ";e+=t.parentNode?t.parentNode.className:"";const n=u.languageDetectRe.exec(e);if(n){const e=I(n[1]);return e||(mt(l.replace("{}",n[1])),mt("Falling back to no-highlight mode for this block.",t)),e?n[1]:"no-highlight"}return e.split(/\s+/).find(t=>f(t)||I(t))}function m(t,e,n,i){let r="",o="";"object"===typeof e?(r=t,n=e.ignoreIllegals,o=e.language,i=void 0):(gt("10.7.0","highlight(lang, code, ...args) has been deprecated."),gt("10.7.0","Please use highlight(code, options) instead.\nhttps://github.com/highlightjs/highlight.js/issues/2277"),o=t,r=e);const a={code:r,language:o};F("before:highlight",a);const s=a.result?a.result:g(a.language,a.code,n,i);return s.code=a.code,F("after:highlight",s),s}function g(t,n,i,s){function c(t,e){const n=C.case_insensitive?e[0].toLowerCase():e[0];return Object.prototype.hasOwnProperty.call(t.keywords,n)&&t.keywords[n]}function f(){if(!T.keywords)return void M.addText(A);let t=0;T.keywordPatternRe.lastIndex=0;let e=T.keywordPatternRe.exec(A),n="";while(e){n+=A.substring(t,e.index);const i=c(T,e);if(i){const[t,r]=i;if(M.addText(n),n="",j+=r,t.startsWith("_"))n+=e[0];else{const n=C.classNameAliases[t]||t;M.addKeyword(e[0],n)}}else n+=e[0];t=T.keywordPatternRe.lastIndex,e=T.keywordPatternRe.exec(A)}n+=A.substr(t),M.addText(n)}function d(){if(""===A)return;let t=null;if("string"===typeof T.subLanguage){if(!e[T.subLanguage])return void M.addText(A);t=g(T.subLanguage,A,!0,N[T.subLanguage]),N[T.subLanguage]=t.top}else t=b(A,T.subLanguage.length?T.subLanguage:null);T.relevance>0&&(j+=t.relevance),M.addSublanguage(t.emitter,t.language)}function p(){null!=T.subLanguage?d():f(),A=""}function m(t){return t.className&&M.openNode(C.classNameAliases[t.className]||t.className),T=Object.create(t,{parent:{value:T}}),T}function v(t,e,n){let i=y(t.endRe,n);if(i){if(t["on:end"]){const n=new o(t);t["on:end"](e,n),n.isMatchIgnored&&(i=!1)}if(i){while(t.endsParent&&t.parent)t=t.parent;return t}}if(t.endsWithParent)return v(t.parent,e,n)}function _(t){return 0===T.matcher.regexIndex?(A+=t[0],1):(L=!0,0)}function x(t){const e=t[0],n=t.rule,i=new o(n),r=[n.__beforeBegin,n["on:begin"]];for(const o of r)if(o&&(o(t,i),i.isMatchIgnored))return _(e);return n&&n.endSameAsBegin&&(n.endRe=h(e)),n.skip?A+=e:(n.excludeBegin&&(A+=e),p(),n.returnBegin||n.excludeBegin||(A=e)),m(n),n.returnBegin?0:e.length}function w(t){const e=t[0],i=n.substr(t.index),r=v(T,t,i);if(!r)return bt;const o=T;o.skip?A+=e:(o.returnEnd||o.excludeEnd||(A+=e),p(),o.excludeEnd&&(A=e));do{T.className&&M.closeNode(),T.skip||T.subLanguage||(j+=T.relevance),T=T.parent}while(T!==r.parent);return r.starts&&(r.endSameAsBegin&&(r.starts.endRe=r.endRe),m(r.starts)),o.returnEnd?0:e.length}function k(){const t=[];for(let e=T;e!==C;e=e.parent)e.className&&t.unshift(e.className);t.forEach(t=>M.openNode(t))}let S={};function O(e,r){const o=r&&r[0];if(A+=e,null==o)return p(),0;if("begin"===S.type&&"end"===r.type&&S.index===r.index&&""===o){if(A+=n.slice(r.index,r.index+1),!a){const e=new Error("0 width match regex");throw e.languageName=t,e.badRule=S.rule,e}return 1}if(S=r,"begin"===r.type)return x(r);if("illegal"===r.type&&!i){const t=new Error('Illegal lexeme "'+o+'" for mode "'+(T.className||"<unnamed>")+'"');throw t.mode=T,t}if("end"===r.type){const t=w(r);if(t!==bt)return t}if("illegal"===r.type&&""===o)return 1;if($>1e5&&$>3*r.index){const t=new Error("potential infinite loop, way more iterations than matches");throw t}return A+=o,o.length}const C=I(t);if(!C)throw pt(l.replace("{}",t)),new Error('Unknown language: "'+t+'"');const E=it(C,{plugins:r});let D="",T=s||E;const N={},M=new u.__emitter(u);k();let A="",j=0,P=0,$=0,L=!1;try{for(T.matcher.considerAll();;){$++,L?L=!1:T.matcher.considerAll(),T.matcher.lastIndex=P;const t=T.matcher.exec(n);if(!t)break;const e=n.substring(P,t.index),i=O(e,t);P=t.index+i}return O(n.substr(P)),M.closeAllNodes(),M.finalize(),D=M.toHTML(),{relevance:Math.floor(j),value:D,language:t,illegal:!1,emitter:M,top:T}}catch(err){if(err.message&&err.message.includes("Illegal"))return{illegal:!0,illegalBy:{msg:err.message,context:n.slice(P-100,P+100),mode:err.mode},sofar:D,relevance:0,value:vt(n),emitter:M};if(a)return{illegal:!1,relevance:0,value:vt(n),emitter:M,language:t,top:T,errorRaised:err};throw err}}function v(t){const e={relevance:0,emitter:new u.__emitter(u),value:vt(t),illegal:!1,top:c};return e.emitter.addText(t),e}function b(t,n){n=n||u.languages||Object.keys(e);const i=v(t),r=n.filter(I).filter(R).map(e=>g(e,t,!1));r.unshift(i);const o=r.sort((t,e)=>{if(t.relevance!==e.relevance)return e.relevance-t.relevance;if(t.language&&e.language){if(I(t.language).supersetOf===e.language)return 1;if(I(e.language).supersetOf===t.language)return-1}return 0}),[a,s]=o,l=a;return l.second_best=s,l}function _(t){return u.tabReplace||u.useBR?t.replace(s,t=>"\n"===t?u.useBR?"<br>":t:u.tabReplace?t.replace(/\t/g,u.tabReplace):t):t}function x(t,e,i){const r=e?n[e]:i;t.classList.add("hljs"),r&&t.classList.add(r)}const w={"before:highlightElement":({el:t})=>{u.useBR&&(t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/<br[ /]*>/g,"\n"))},"after:highlightElement":({result:t})=>{u.useBR&&(t.value=t.value.replace(/\n/g,"<br>"))}},k=/^(<[^>]+>|\t)+/gm,S={"after:highlightElement":({result:t})=>{u.tabReplace&&(t.value=t.value.replace(k,t=>t.replace(/\t/g,u.tabReplace)))}};function O(t){let e=null;const n=p(t);if(f(n))return;F("before:highlightElement",{el:t,language:n}),e=t;const i=e.textContent,r=n?m(i,{language:n,ignoreIllegals:!0}):b(i);F("after:highlightElement",{el:t,result:r,text:i}),t.innerHTML=r.value,x(t,n,r.language),t.result={language:r.language,re:r.relevance,relavance:r.relevance},r.second_best&&(t.second_best={language:r.second_best.language,re:r.second_best.relevance,relavance:r.second_best.relevance})}function C(t){t.useBR&&(gt("10.3.0","'useBR' will be removed entirely in v11.0"),gt("10.3.0","Please see https://github.com/highlightjs/highlight.js/issues/2559")),u=yt(u,t)}const E=()=>{if(E.called)return;E.called=!0,gt("10.6.0","initHighlighting() is deprecated.  Use highlightAll() instead.");const t=document.querySelectorAll("pre code");t.forEach(O)};function D(){gt("10.6.0","initHighlightingOnLoad() is deprecated.  Use highlightAll() instead."),T=!0}let T=!1;function N(){if("loading"===document.readyState)return void(T=!0);const t=document.querySelectorAll("pre code");t.forEach(O)}function M(){T&&N()}function A(n,i){let r=null;try{r=i(t)}catch(o){if(pt("Language definition for '{}' could not be registered.".replace("{}",n)),!a)throw o;pt(o),r=c}r.name||(r.name=n),e[n]=r,r.rawDefinition=i.bind(null,t),r.aliases&&L(r.aliases,{languageName:n})}function j(t){delete e[t];for(const e of Object.keys(n))n[e]===t&&delete n[e]}function P(){return Object.keys(e)}function $(t){gt("10.4.0","requireLanguage will be removed entirely in v11."),gt("10.4.0","Please see https://github.com/highlightjs/highlight.js/pull/2844");const e=I(t);if(e)return e;const n=new Error("The '{}' language is required, but not loaded.".replace("{}",t));throw n}function I(t){return t=(t||"").toLowerCase(),e[t]||e[n[t]]}function L(t,{languageName:e}){"string"===typeof t&&(t=[t]),t.forEach(t=>{n[t.toLowerCase()]=e})}function R(t){const e=I(t);return e&&!e.disableAutodetect}function B(t){t["before:highlightBlock"]&&!t["before:highlightElement"]&&(t["before:highlightElement"]=e=>{t["before:highlightBlock"](Object.assign({block:e.el},e))}),t["after:highlightBlock"]&&!t["after:highlightElement"]&&(t["after:highlightElement"]=e=>{t["after:highlightBlock"](Object.assign({block:e.el},e))})}function q(t){B(t),r.push(t)}function F(t,e){const n=t;r.forEach((function(t){t[n]&&t[n](e)}))}function z(t){return gt("10.2.0","fixMarkup will be removed entirely in v11.0"),gt("10.2.0","Please see https://github.com/highlightjs/highlight.js/issues/2534"),_(t)}function V(t){return gt("10.7.0","highlightBlock will be removed entirely in v12.0"),gt("10.7.0","Please use highlightElement now."),O(t)}"undefined"!==typeof window&&window.addEventListener&&window.addEventListener("DOMContentLoaded",M,!1),Object.assign(t,{highlight:m,highlightAuto:b,highlightAll:N,fixMarkup:z,highlightElement:O,highlightBlock:V,configure:C,initHighlighting:E,initHighlightingOnLoad:D,registerLanguage:A,unregisterLanguage:j,listLanguages:P,getLanguage:I,registerAliases:L,requireLanguage:$,autoDetection:R,inherit:yt,addPlugin:q,vuePlugin:lt(t).VuePlugin}),t.debugMode=function(){a=!1},t.safeMode=function(){a=!0},t.versionString=at;for(const o in H)"object"===typeof H[o]&&i(H[o]);return Object.assign(t,H),t.addPlugin(w),t.addPlugin(ct),t.addPlugin(S),t};var xt=_t({});t.exports=xt},function(t,e,n){"use strict";var i=n(703),r=o(Error);function o(t){return e.displayName=t.displayName||t.name,e;function e(e){return e&&(e=i.apply(null,arguments)),new t(e)}}t.exports=r,r.eval=o(EvalError),r.range=o(RangeError),r.reference=o(ReferenceError),r.syntax=o(SyntaxError),r.type=o(TypeError),r.uri=o(URIError),r.create=o},function(t,e,n){(function(){var e;function n(){r.apply(null,arguments)}function i(t,e){return r.apply(null,[t].concat(e))}function r(t){for(var e,n,i,r,o=1,a=[].slice.call(arguments),s=0,l=t.length,c="",u=!1,f=!1,d=function(){return a[o++]},h=function(){var n="";while(/\d/.test(t[s]))n+=t[s++],e=t[s];return n.length>0?parseInt(n):null};s<l;++s)if(e=t[s],u)switch(u=!1,"."==e?(f=!1,e=t[++s]):"0"==e&&"."==t[s+1]?(f=!0,s+=2,e=t[s]):f=!0,r=h(),e){case"b":c+=parseInt(d(),10).toString(2);break;case"c":n=d(),c+="string"===typeof n||n instanceof String?n:String.fromCharCode(parseInt(n,10));break;case"d":c+=parseInt(d(),10);break;case"f":i=String(parseFloat(d()).toFixed(r||6)),c+=f?i:i.replace(/^0/,"");break;case"j":c+=JSON.stringify(d());break;case"o":c+="0"+parseInt(d(),10).toString(8);break;case"s":c+=d();break;case"x":c+="0x"+parseInt(d(),10).toString(16);break;case"X":c+="0x"+parseInt(d(),10).toString(16).toUpperCase();break;default:c+=e;break}else"%"===e?u=!0:c+=e;return c}e=t.exports=r,e.format=r,e.vsprintf=i,"undefined"!==typeof console&&"function"===typeof console.log&&(e.printf=n)})()},function(t,e,n){"use strict";n(564)},function(t,e,n){"use strict";n.r(e)},function(t,e){t.exports={load:function(t,e){if(t=t||dsf.url.getWebPath("$/js/libs"),window.monaco)e();else{var n={paths:{vs:t+"/vs"},"vs/nls":{availableLanguages:{"*":"zh-cn"}}},i="".concat(n.paths.vs,"/loader.js"),r=function(){if(window.LOADER_PENDING&&window.require.config(n),window.require(["vs/editor/editor.main"],(function(){e()})),window.LOADER_PENDING){window.LOADER_PENDING=!1;var t=window.LOADER_CALLBACKS;if(t&&t.length){var i=t.shift();while(i)i.fn.call(i.window),i=t.shift()}}};if(window.LOADER_PENDING)window.LOADER_CALLBACKS=window.LOADER_CALLBACKS||[],window.LOADER_CALLBACKS.push({window:this,fn:r});else if("undefined"===typeof window.require){var o=window.document.createElement("script");o.type="text/javascript",o.src=i,o.addEventListener("load",r),window.document.body.appendChild(o),window.LOADER_PENDING=!0}else r()}}}},function(t,e,n){"use strict";n(566)},function(t,e,n){"use strict";n.r(e)},function(t,e,n){var i={"./accessPrivilege.vue":858,"./autoCompleteMD.vue":859,"./backgroundSetting.vue":860,"./browseScopeEdit.vue":861,"./businessComponent.vue":862,"./buttonEdit.vue":863,"./buttonParamsSetting.vue":857,"./cascaderItemsEditor.vue":864,"./codeEdit.vue":865,"./collapseEdit.vue":866,"./columnsEdit.vue":867,"./components.vue":868,"./controlSelect.vue":869,"./customComponent.vue":870,"./customListSetList.vue":871,"./customOrderBy.vue":872,"./dataGridLayoutSetting.vue":873,"./dataGridSearchSetting.vue":874,"./dataPanelGroupEdit.vue":875,"./defaultValue.vue":876,"./developmentEdit.vue":877,"./enumEditor.vue":878,"./examEnumEditor.vue":879,"./exportOptions.vue":880,"./filterRuleSetting.vue":881,"./flexColumnEdit.vue":882,"./flexGrid.vue":883,"./flow/applyTo.vue":884,"./flow/chooseFlow.vue":885,"./flow/chooseForm.vue":886,"./flow/contextTree.vue":887,"./flow/eventSetting.vue":888,"./flow/institutionInfo.vue":889,"./flow/leaveSend.vue":890,"./flow/linkSet.vue":891,"./flow/rangeRule.vue":892,"./flow/richText.vue":893,"./flow/riskInfo.vue":894,"./flow/selectImg.vue":895,"./flow/selectTable.vue":896,"./flow/selectTree.vue":533,"./flow/sendCondition.vue":897,"./flow/setOpinionNode.vue":898,"./flow/setParams.vue":899,"./flow/setSubFlow.vue":900,"./flow/sumAllNode.vue":901,"./flow/sumStartNode.vue":902,"./flow/summary.vue":903,"./functionSetting.vue":904,"./gridLayoutCellSetting.vue":905,"./gridLayoutSetting.vue":906,"./item/dbDataSelect.vue":907,"./item/dictDataSelect.vue":908,"./item/enumEditorItem.vue":246,"./item/metaDataSelectItem.vue":495,"./item/treeSelect.vue":175,"./keysMapSetting.vue":909,"./listOrderbyEdit.vue":910,"./listStaticDataEdit.vue":911,"./listStatusEdit.vue":912,"./meMenusEdit.vue":913,"./messageNotificationTabPanelEdit.vue":914,"./metaDataSelect.vue":915,"./metadataSouece.vue":916,"./mobileBannerEdit.vue":917,"./mobileFlexGrid.vue":918,"./mobileNavMenuData.vue":919,"./mobileUeditorToolbar.vue":920,"./navTabEdit.vue":921,"./navTreeEdit.vue":922,"./numeration.vue":923,"./pagePrivilege.vue":924,"./questionConfig/fill.vue":534,"./questionConfig/qa.vue":535,"./questionConfig/qsCheckBox.vue":536,"./questionConfig/qsHelloMsg.vue":537,"./questionConfig/qsRadio.vue":538,"./questionConfig/qsRate.vue":539,"./questionConfig/qsSlider.vue":540,"./questionConfig/questionConfig.vue":925,"./stateManageEdit.vue":926,"./staticDataFormItem.vue":927,"./staticListData.vue":532,"./staticTreeData.vue":928,"./superSearchEnumItems.vue":929,"./superSearchSetting.vue":930,"./tabPanelEdit.vue":931,"./tableColumnsInfo.vue":932,"./tableRowsInfo.vue":933,"./tabsListSetting.vue":934,"./toUrlEdit.vue":935,"./treeDataSource.vue":936,"./treeIconEdit.vue":937,"./treeImgList.vue":938,"./treeImgSet.vue":939,"./treeSelectorEdit.vue":940,"./ueditorToolbar.vue":941,"./uploadFileAttr.vue":942,"./useLayoutTpl.vue":943,"./validateRuleEdit.vue":944,"./valueAttribute.vue":945};function r(t){var e=o(t);return n(e)}function o(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}r.keys=function(){return Object.keys(i)},r.resolve=o,t.exports=r,r.id=709},function(t,e,n){"use strict";n(567)},function(t,e,n){"use strict";n.r(e)},function(t,e,n){"use strict";n(568)},function(t,e,n){"use strict";n.r(e)},function(t,e,n){"use strict";n(569)},function(t,e,n){"use strict";n.r(e)},function(t,e,n){"use strict";n(570)},function(t,e,n){"use strict";n.r(e)},function(t,e,n){"use strict";n(571)},function(t,e,n){"use strict";n.r(e)},function(t,e,n){"use strict";n(572)},function(t,e,n){"use strict";n.r(e)},function(t,e,n){"use strict";n(573)},function(t,e,n){"use strict";n.r(e)},function(t,e,n){"use strict";n(574)},function(t,e,n){"use strict";n.r(e)},function(t,e,n){"use strict";var i=n(17),r=n(727),o=n(61),a=n(49),s=n(85),l=n(172);i({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=o(this),n=a(e.length),i=l(e,0);return i.length=r(i,e,e,n,0,void 0===t?1:s(t)),i}})},function(t,e,n){"use strict";var i=n(173),r=n(49),o=n(197),a=function(t,e,n,s,l,c,u,f){var d,h=l,p=0,m=!!u&&o(u,f,3);while(p<s){if(p in n){if(d=m?m(n[p],p,e):n[p],c>0&&i(d))h=a(t,e,d,r(d.length),h,c-1)-1;else{if(h>=9007199254740991)throw TypeError("Exceed the acceptable array length");t[h]=d}h++}p++}return h};t.exports=a},function(t,e,n){"use strict";n(575)},function(t,e,n){"use strict";n.r(e)},function(t,e,n){"use strict";n(588)},function(t,e,n){"use strict";n.r(e)},function(t,e,n){"use strict";n(589)},function(t,e,n){"use strict";n.r(e)},function(t,e,n){var i={"./101_s.png":590,"./102_s.png":591,"./103_s.png":592,"./104_s.png":593,"./105_s.png":594,"./106_s.png":595,"./107_s.png":596,"./108_s.png":597,"./109_s.png":598,"./201_s.png":599,"./204_s.png":600,"./299_s.png":601,"./301_s.png":602,"./302_s.png":603};function r(t){var e=o(t);return n(e)}function o(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}r.keys=function(){return Object.keys(i)},r.resolve=o,t.exports=r,r.id=734},function(t,e,n){"use strict";n(604)},function(t,e,n){"use strict";n.r(e)},function(t,e,n){"use strict";n(605)},function(t,e,n){"use strict";n.r(e)},function(t,e,n){"use strict";n(606)},function(t,e,n){"use strict";n.r(e)},function(t,e,n){"use strict";n(607)},function(t,e,n){"use strict";n.r(e)},function(t,e,n){"use strict";n(608)},function(t,e,n){"use strict";n.r(e)},function(t,e,n){"use strict";n(609)},function(t,e,n){"use strict";n.r(e)},function(t,e,n){"use strict";n(610)},function(t,e,n){"use strict";n.r(e)},function(t,e,n){"use strict";n(611)},function(t,e,n){"use strict";n.r(e)},function(t,e,n){"use strict";n(612)},function(t,e,n){"use strict";n.r(e)},function(t,e,n){"use strict";var i=n(17),r=n(173),o=[].reverse,a=[1,2];i({target:"Array",proto:!0,forced:String(a)===String(a.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),o.call(this)}})},function(t,e,n){"use strict";n(613)},function(t,e,n){"use strict";n.r(e)},function(t,e,n){"use strict";n(614)},function(t,e,n){"use strict";n.r(e)},function(t,e,n){"use strict";n(615)},function(t,e,n){"use strict";n.r(e)},function(t,e,n){"use strict";n(616)},function(t,e,n){"use strict";n.r(e)},function(t,e,n){var i={"./icon-b-file1.png":763,"./icon-b-file2.png":764,"./icon-b-file3.png":765,"./icon-b-file4.png":766,"./icon-b-file5.png":767,"./icon-b-file6.png":768,"./icon-b-lou1.png":769,"./icon-b-lou2.png":770,"./icon-b-lou3.png":771,"./icon-b-lou4.png":772,"./icon-b-lou5.png":773,"./icon-b-lou6.png":774,"./icon-b-lou7.png":775,"./icon-b-lou8.png":776,"./icon-b-lou9.png":777,"./icon-b-sj1.png":778,"./icon-b-sj2.png":779,"./icon-b-sj3.png":780,"./icon-b-sj4.png":781,"./icon-b-sj5.png":782,"./icon-b-sj6.png":783,"./icon-b-user1.png":784,"./icon-b-user2.png":785,"./icon-b-user3.png":786,"./icon-b-user4.png":787,"./icon-b-user5.png":788,"./icon-b-user6.png":789,"./icon-b-user7.png":790,"./icon-b-user8.png":791,"./icon-b-user9.png":792,"./icon-branchid.png":793,"./icon-class.png":794,"./icon-group.png":795,"./icon-s-file1.png":796,"./icon-s-file2.png":797,"./icon-s-file3.png":798,"./icon-s-file4.png":799,"./icon-s-file5.png":800,"./icon-s-file6.png":801,"./icon-s-lou1.png":802,"./icon-s-lou2.png":803,"./icon-s-lou3.png":804,"./icon-s-lou4.png":805,"./icon-s-lou5.png":806,"./icon-s-lou6.png":807,"./icon-s-lou7.png":808,"./icon-s-lou8.png":809,"./icon-s-lou9.png":810,"./icon-s-sj1.png":811,"./icon-s-sj2.png":812,"./icon-s-sj3.png":813,"./icon-s-sj4.png":814,"./icon-s-sj5.png":815,"./icon-s-sj6.png":816,"./icon-s-user1.png":817,"./icon-s-user2.png":818,"./icon-s-user3.png":819,"./icon-s-user4.png":820,"./icon-s-user5.png":821,"./icon-s-user6.png":822,"./icon-s-user7.png":823,"./icon-s-user8.png":824,"./icon-s-user9.png":825,"./icon-studist.png":826,"./studist.png":827};function r(t){var e=o(t);return n(e)}function o(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}r.keys=function(){return Object.keys(i)},r.resolve=o,t.exports=r,r.id=762},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-b-file1.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-b-file2.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-b-file3.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-b-file4.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-b-file5.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-b-file6.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-b-lou1.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-b-lou2.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-b-lou3.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-b-lou4.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-b-lou5.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-b-lou6.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-b-lou7.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-b-lou8.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-b-lou9.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-b-sj1.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-b-sj2.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-b-sj3.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-b-sj4.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-b-sj5.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-b-sj6.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-b-user1.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-b-user2.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-b-user3.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-b-user4.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-b-user5.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-b-user6.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-b-user7.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-b-user8.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-b-user9.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-branchid.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-class.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-group.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-s-file1.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-s-file2.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-s-file3.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-s-file4.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-s-file5.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-s-file6.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-s-lou1.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-s-lou2.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-s-lou3.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-s-lou4.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-s-lou5.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-s-lou6.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-s-lou7.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-s-lou8.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-s-lou9.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-s-sj1.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-s-sj2.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-s-sj3.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-s-sj4.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-s-sj5.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-s-sj6.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-s-user1.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-s-user2.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-s-user3.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-s-user4.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-s-user5.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-s-user6.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-s-user7.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-s-user8.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-s-user9.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/icon-studist.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/studist.png"},function(t,e,n){"use strict";n(617)},function(t,e,n){"use strict";n.r(e)},function(t,e,n){"use strict";n(618)},function(t,e,n){"use strict";n.r(e)},function(t,e,n){t.exports=n.p+"modules/platform/img/109.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/202.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/203.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/bgs.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/bgs1.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/bm.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/event-abnormal.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/event-end.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/event-start.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/event-timing.png"},function(t,e,n){t.exports=n.p+"modules/platform/img/ry.png"},function(t,e,n){var i=n(17),r=n(21),o=n(61),a=n(257),s=n(467),l=r((function(){a(1)}));i({target:"Object",stat:!0,forced:l,sham:!s},{getPrototypeOf:function(t){return a(o(t))}})},function(t,e,n){var i=n(171),r=n(61),o=n(133),a=n(49),s=function(t){return function(e,n,s,l){i(n);var c=r(e),u=o(c),f=a(c.length),d=t?f-1:0,h=t?-1:1;if(s<2)while(1){if(d in u){l=u[d],d+=h;break}if(d+=h,t?d<0:f<=d)throw TypeError("Reduce of empty array with no initial value")}for(;t?d>=0:f>d;d+=h)d in u&&(l=n(l,u[d],d,c));return l}};t.exports={left:s(!1),right:s(!0)}},function(t,e,n){var i=n(86),r=n(32);t.exports="process"==i(r.process)},function(t,e,n){"use strict";n(619)},function(t,e,n){"use strict";n.r(e)},function(t,e,n){"use strict";n(620)},function(t,e,n){"use strict";n.r(e)},function(t,e,n){"use strict";n(621)},function(t,e,n){"use strict";n.r(e)},function(t,e,n){"use strict";n.r(e)},,,function(t,e,n){"use strict";n.r(e);var i=n(5),r=(n(38),n(260),n(108),n(193)),o=n(194),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"ds-designer-mobile-setting"},[n("el-aside",{attrs:{width:"300px"}},[n("DsfPanel",{scopedSlots:t._u([{key:"title",fn:function(){return[t._v("配置")]},proxy:!0},{key:"default",fn:function(){return[n("el-tree",{ref:"tree",attrs:{data:t.treeData,"node-key":"type","expand-on-click-node":!1,"current-node-key":t.currentType,"default-expand-all":"","highlight-current":""},on:{"current-change":t.selectedNode}})]},proxy:!0}])})],1),n("el-main",[n("div",{staticClass:"form"},[n("DsfPanel",{scopedSlots:t._u([{key:"title",fn:function(){return[t._v(t._s(t.title))]},proxy:!0},{key:"header",fn:function(){return[n("DsfButton",{attrs:{icon:"baocun"},on:{click:function(e){return t.save()}}},[t._v("保存")]),n("DsfButton",{attrs:{icon:"shuaxin1",type:"plain"},on:{click:function(e){return t.refresh()}}},[t._v("刷新")])]},proxy:!0}])},[["info"==t.currentType&&t.info?n("el-form",[n("el-form-item",{attrs:{label:"AppID"}},[n("el-input",{attrs:{disabled:""},model:{value:t.info["id"],callback:function(e){t.$set(t.info,"id",e)},expression:"info['id']"}})],1),n("el-form-item",{attrs:{label:"AppCode"}},[n("el-input",{attrs:{disabled:""},model:{value:t.info["code"],callback:function(e){t.$set(t.info,"code",e)},expression:"info['code']"}})],1),n("el-form-item",{attrs:{label:"名称"}},[n("el-input",{attrs:{disabled:""},model:{value:t.info["name"],callback:function(e){t.$set(t.info,"name",e)},expression:"info['name']"}})],1)],1):t._e(),"navs"==t.currentType&&t.navs?n("el-form",{attrs:{"label-position":"right",size:"small"}},[n("div",{staticStyle:{"margin-bottom":"10px","text-align":"right"}},[n("DsfButton",{attrs:{icon:"hao",type:"plain",size:"small"},on:{click:function(e){return t.addNav()}}},[t._v("新增")])],1),t._l(t.navs,(function(e,i){return n("el-card",{key:i,staticStyle:{"margin-bottom":"10px"}},[[n("div",{attrs:{slot:"header"},slot:"header"},[n("div",{staticStyle:{float:"right"}},[n("el-button",{staticStyle:{padding:"3px 0"},attrs:{type:"text"},on:{click:function(n){return t.remove(t.navs,e)}}},[t._v("删除")]),n("el-button",{staticStyle:{padding:"3px 0"},attrs:{type:"text"},on:{click:function(n){return t.up(t.navs,e)}}},[t._v("上移")]),n("el-button",{staticStyle:{padding:"3px 0"},attrs:{type:"text"},on:{click:function(n){return t.down(t.navs,e)}}},[t._v("下移")])],1),n("div",{staticStyle:{clear:"both"}})])],[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"名称"}},[n("el-input",{model:{value:e.text,callback:function(n){t.$set(e,"text",n)},expression:"nav.text"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"地址"}},[n("el-input",{model:{value:e.href,callback:function(n){t.$set(e,"href",n)},expression:"nav.href"}})],1)],1),n("el-col",{attrs:{span:24}},[n("el-form-item",{attrs:{label:"图标类型"}},[n("el-radio-group",{model:{value:e.iconType,callback:function(n){t.$set(e,"iconType",n)},expression:"nav.iconType"}},[n("el-radio",{attrs:{label:"icon"}},[t._v("icon")]),n("el-radio",{attrs:{label:"image"}},[t._v("图片")])],1)],1)],1),"image"==e.iconType?[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"图片地址"}},[n("el-input",{model:{value:e.imagePath,callback:function(n){t.$set(e,"imagePath",n)},expression:"nav.imagePath"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"选中图片地址"}},[n("el-input",{model:{value:e.activeImagePath,callback:function(n){t.$set(e,"activeImagePath",n)},expression:"nav.activeImagePath"}})],1)],1),n("el-col",{attrs:{span:24}},[n("el-form-item",{attrs:{label:"大图标"}},[n("el-radio-group",{model:{value:e.big,callback:function(n){t.$set(e,"big",n)},expression:"nav.big"}},[n("el-radio",{attrs:{label:!0}},[t._v("是")]),n("el-radio",{attrs:{label:!1}},[t._v("否")])],1)],1)],1)]:[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"图标"}},[n("el-input",{model:{value:e.icon,callback:function(n){t.$set(e,"icon",n)},expression:"nav.icon"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"选中图标"}},[n("el-input",{model:{value:e.activeIcon,callback:function(n){t.$set(e,"activeIcon",n)},expression:"nav.activeIcon"}})],1)],1)]],2)]],2)}))],2):t._e(),"preloads"==t.currentType&&t.preloads?n("el-form",{attrs:{"label-position":"right",size:"small"}},[n("div",{staticStyle:{"margin-bottom":"10px","text-align":"right"}},[n("DsfButton",{attrs:{icon:"hao",type:"plain",size:"small"},on:{click:function(e){return t.addPreLoad()}}},[t._v("新增")])],1),t._l(t.preloads,(function(e,i){return n("el-card",{key:i,staticStyle:{"margin-bottom":"10px"}},[[n("div",{attrs:{slot:"header"},slot:"header"},[n("div",{staticStyle:{float:"right"}},[n("el-button",{staticStyle:{padding:"3px 0"},attrs:{type:"text"},on:{click:function(n){return t.remove(e,t.preloads)}}},[t._v("删除")])],1),n("div",{staticStyle:{clear:"both"}})])],[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:24}},[n("el-form-item",{attrs:{label:"地址"}},[n("el-input",{model:{value:e.href,callback:function(n){t.$set(e,"href",n)},expression:"pre.href"}})],1)],1)],1)]],2)}))],2):t._e()]],2)],1),n("div",{staticClass:"demo"},[n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.iframeLoading,expression:"iframeLoading"}],staticClass:"ds-designer-phone"},[n("DsfDemoBrowserNavBar",{staticClass:"browser-nav-bar",attrs:{"show-back":t.demo.showBack,title:t.demo.title,"go-back":t.goBack}}),n("iframe",{ref:"appDemoFrame",attrs:{scrolling:"no",name:"appDemo",src:t.src}})],1)])])],1)},s=[];a._withStripped=!0;var l=n(6),c=(n(63),n(52),{name:"MobileSetting",data:function(){return{loading:!1,iframeLoading:!1,appId:"",currentType:"info",treeData:[{label:"app配置",type:"root",children:[]}],title:"",navs:null,info:null,preloads:null,src:"",demo:{showBack:!1,title:"",route:null}}},watch:{"demo.route":{handler:function(t){var e,n;t&&(this.demo.showBack=(null===t||void 0===t||null===(e=t.meta)||void 0===e?void 0:e.level)>1,this.demo.title=(null===t||void 0===t||null===(n=t.meta)||void 0===n?void 0:n.title)||"无标题")},immediate:!0}},beforeCreate:function(){window.$mobileSetting=this},created:function(){var t=this;this.appId=this.$route.query.id,this.loadData().then((function(e){!e&&(e=t.getDefaultConfig()),t.navs=e.navs||[],t.info=e.info,t.preloads=e.preloads||[];var n=[{label:"基本配置",type:"info",data:t.info},{label:"导航配置",type:"navs",data:t.navs},{label:"预加载",type:"preloads",data:t.preloads}];t.treeData[0].children=n,t.selectedNode(t.treeData[0].children[0]),t.loadIframe()}))},mounted:function(){},beforeDestroy:function(){delete window.$mobileSetting},methods:{loadData:function(){var t=this.$route.query.id,e={pageName:"mobileappedit",namespace:"dsfa.mobile",data:JSON.stringify({_id:t})};return this.$webAPI.getFormData(e).then((function(t){var e=t.data,n={id:e.data["dsfa_rm.dsfa_rm_id"],code:e.data["dsfa_rm.ID"],name:e.data["dsfa_rm.name"]},i=e.data["dsfa_rm.content"]?JSON.parse(e.data["dsfa_rm.content"]):{navs:[],preloads:[]};return i.info=n,i}))},selectedNode:function(t){"root"!=t.type&&(this.title=t.label,this.currentType=t.type)},getDefaultConfig:function(){var t={info:{id:"",name:"",code:""},navs:[],preloads:[]};return t},loadIframe:function(){var t=this.treeData[0].children[1].data||[],e=t[0]?t[0].href:"";e=dsf.url.anchorToRoutePath(e),this.src=e?"mobile-index.html?appid="+this.info.code+"#"+e:""},save:function(){var t=this;_.each(this.navs||[],(function(e){e.href=dsf.url.anchorToRoutePath(e.href),e.href=t.$replace(e.href)})),_.each(this.preloads||[],(function(e){e.href=dsf.url.anchorToRoutePath(e.href),e.href=t.$replace(e.href)}));var e={"dsfa_rm.content":JSON.stringify({navs:this.navs,preloads:this.preloads})},n={namespace:"dsfa.mobile",pageName:"mobileappedit",data:JSON.stringify(Object(l["a"])({_id:this.$route.query.id},e))};this.loading=!0,this.$webAPI.formSave(n).then((function(t){var e=t.data;"20000"==e.state?dsf.layer.message("保存成功"):dsf.layer.message(e.message,!1)})).catch((function(t){dsf.layer.message("保存失败",!1)})).finally((function(){t.loading=!1,t.refresh()}))},refresh:function(){var t=this;this.iframeLoading=!0,this.src="",this.$nextTick((function(){window.setTimeout((function(){t.loadIframe(),t.iframeLoading=!1}),500)}))},getDefaultInfo:function(){return{name:""}},getDefaultNavButton:function(){return{text:"",href:"",iconType:"icon",icon:"",activeIcon:"",imagePath:"",activeImagePath:""}},getDefaultPreLoad:function(){return{href:""}},addPreLoad:function(){if(this.preloads){var t=this.getDefaultPreLoad();this.preloads.push(t)}},addNav:function(){if(this.navs){var t=this.getDefaultNavButton();this.navs.push(t)}},goBack:function(){var t=this.$refs.appDemoFrame.contentWindow;t&&t.history.back()},routeChange:function(t){this.demo.route=t},remove:function(t,e){dsf.array.remove(t,e)},up:function(t,e){var n=_.findIndex(t,e);if(n>0){var i=t[n-1];this.$set(t,n-1,e),this.$set(t,n,i)}},down:function(t,e){var n=_.findIndex(t,e);if(n<t.length-1){var i=t[n+1];this.$set(t,n+1,e),this.$set(t,n,i)}}}}),u=c,f=n(0),d=Object(f["a"])(u,a,s,!1,null,null,null);d.options.__file="designer/page/dsfDesigner/mobileSetting.vue";var h=d.exports,p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{staticClass:"logo-setting"},[n("el-aside",{staticClass:"logo-aside"},[t.clip?[n("div",{staticClass:"logo-mitem block"},[n("span",{staticClass:"label"},[t._v("宽高:")]),n("el-input",{attrs:{value:t.exportConfig.width+"*"+t.exportConfig.height}})],1),n("div",{staticClass:"logo-mitem block"},[n("el-button",{attrs:{type:"primary",plain:""},on:{click:t.download}},[t._v("下载LOGO")])],1),n("div",{staticClass:"logo-mitem block"},[n("el-button",{attrs:{plain:""},on:{click:t.cancel}},[t._v("取消")])],1)]:[n("div",{staticClass:"logo-mitem"},[n("span",{staticClass:"label"},[t._v(" 文字颜色: ")]),n("el-color-picker",{attrs:{"show-alpha":""},model:{value:t.config.fill,callback:function(e){t.$set(t.config,"fill",e)},expression:"config.fill"}}),n("el-input",{attrs:{placeholder:"请输入"},model:{value:t.config.fill,callback:function(e){t.$set(t.config,"fill",e)},expression:"config.fill"}})],1),n("div",{staticClass:"logo-mitem"},[n("span",{staticClass:"label"},[t._v(" 文字样式: ")]),n("el-select",{attrs:{placeholder:"选择字体"},model:{value:t.config.fontStyle,callback:function(e){t.$set(t.config,"fontStyle",e)},expression:"config.fontStyle"}},t._l(t.fontStyleList,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),n("div",{staticClass:"logo-mitem"},[n("span",{staticClass:"label"},[t._v(" 文字背景: ")]),n("el-color-picker",{attrs:{"show-alpha":""},model:{value:t.config.textBackgroundColor,callback:function(e){t.$set(t.config,"textBackgroundColor",e)},expression:"config.textBackgroundColor"}}),n("el-input",{attrs:{placeholder:"请输入"},model:{value:t.config.textBackgroundColor,callback:function(e){t.$set(t.config,"textBackgroundColor",e)},expression:"config.textBackgroundColor"}})],1),n("div",{staticClass:"logo-mitem"},[n("span",{staticClass:"label"},[t._v(" 背景颜色: ")]),n("el-color-picker",{attrs:{"show-alpha":""},model:{value:t.config.backgroundColor,callback:function(e){t.$set(t.config,"backgroundColor",e)},expression:"config.backgroundColor"}}),n("el-input",{attrs:{placeholder:"请输入"},model:{value:t.config.backgroundColor,callback:function(e){t.$set(t.config,"backgroundColor",e)},expression:"config.backgroundColor"}})],1),n("div",{staticClass:"logo-mitem"},[n("span",{staticClass:"label"},[t._v("字体:")]),n("el-select",{attrs:{placeholder:"选择字体"},model:{value:t.config.fontFamily,callback:function(e){t.$set(t.config,"fontFamily",e)},expression:"config.fontFamily"}},t._l(t.fontList,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),n("div",{staticClass:"logo-mitem"},[n("span",{staticClass:"label"},[t._v("字体大小:")]),n("el-input-number",{attrs:{min:12},model:{value:t.config.fontSize,callback:function(e){t.$set(t.config,"fontSize",e)},expression:"config.fontSize"}})],1),n("div",{staticClass:"logo-mitem"},[n("span",{staticClass:"label"},[t._v("字体加粗:")]),n("el-input-number",{attrs:{min:400,step:100},model:{value:t.config.fontWeight,callback:function(e){t.$set(t.config,"fontWeight",e)},expression:"config.fontWeight"}})],1),n("div",{staticClass:"logo-mitem"},[n("el-button",{attrs:{plain:""},on:{click:t.addText}},[t._v("添加文字")])],1),n("div",{staticClass:"logo-mitem"},[n("el-button",{attrs:{plain:""},on:{click:t.addPicture}},[t._v("添加图片")])],1),n("div",{staticClass:"logo-mitem"},[n("el-button",{attrs:{plain:""},on:{click:t.showTemplateDrawer}},[t._v("选择模板")])],1),n("div",{staticClass:"logo-mitem"},[n("el-button",{attrs:{plain:""},on:{click:t.saveToTemplate}},[t._v("保存为模板")])],1),n("div",{staticClass:"logo-mitem"},[n("el-button",{attrs:{plain:""},on:{click:t.clear}},[t._v("清空")])],1),n("div",{staticClass:"logo-mitem block"},[n("el-button",{attrs:{type:"primary",plain:""},on:{click:t.save}},[t._v("保存")])],1)]],2),n("el-main",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"logo-main"},[n("svg",{attrs:{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg"}},[n("defs",[n("pattern",{attrs:{id:"smallGrid",width:"10",height:"10",patternUnits:"userSpaceOnUse"}},[n("path",{attrs:{d:"M 8 0 L 0 0 0 8",fill:"none",stroke:"rgba(0,0,0,.2)","stroke-width":"0.5"}})]),n("pattern",{attrs:{id:"grid",width:"100",height:"100",patternUnits:"userSpaceOnUse"}},[n("rect",{attrs:{width:"100",height:"100",fill:"url(#smallGrid)"}}),n("path",{attrs:{d:"M 100 0 L 0 0 0 100",fill:"none",stroke:"rgba(0,0,0,.2)","stroke-width":"0.7"}})])]),n("rect",{attrs:{width:"100%",height:"100%",fill:"url(#grid)"}})]),n("div",{staticClass:"hoz-line",style:t.hozStyle},[n("span",{staticClass:"tip"},[t._v(t._s(parseInt(t.linePos.top)))])]),n("div",{staticClass:"ver-line",style:t.verStyle},[n("span",{staticClass:"tip"},[t._v(t._s(parseInt(t.linePos.left)))])]),n("div",{ref:"wrap",staticClass:"canvas-wrap",on:{contextmenu:t.onContextMenu,dragover:t.fileDragOver,drop:t.dropFile}},[n("canvas",{ref:"canvas",staticClass:"canvas"}),n("div",{ref:"contextmenu",staticClass:"contextmenu",style:t.contextMenuStyle},[n("div",{staticClass:"contextmenu-item",on:{click:t.addText}},[t._v("添加文字")]),n("div",{staticClass:"contextmenu-item",on:{click:t.addPicture}},[t._v("添加图片")]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.hasActive,expression:"hasActive"}],staticClass:"contextmenu-item",on:{click:t.remove}},[t._v("删除")])])]),n("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:t.onFileChange}}),n("div",{staticClass:"ruler-hozional"},[n("canvas",{ref:"ruler-hozional"})]),n("div",{staticClass:"ruler-vertical"},[n("canvas",{ref:"ruler-vertical"})])]),n("el-dialog",{attrs:{title:"提示",visible:t.showTemplateDialog,width:"300px"},on:{"update:visible":function(e){t.showTemplateDialog=e}}},[n("el-input",{attrs:{placeholder:"模板名称"},model:{value:t.templateName,callback:function(e){t.templateName=e},expression:"templateName"}}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:t.saveTemplateCancel}},[t._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:t.saveTemplateConfirm}},[t._v("确 定")])],1)],1),n("el-dialog",{attrs:{title:"选择模板",visible:t.showTemplate,width:"300px"},on:{"update:visible":function(e){t.showTemplate=e}}},[n("div",{staticClass:"temp-list"},t._l(t.templateList,(function(e,i){return n("div",{key:e.name,staticClass:"temp-item",on:{click:function(n){return t.handleTemplateClick(e)}}},[n("el-alert",{attrs:{type:"success"},on:{close:function(e){return t.deleteTemplate(i)}}},[n("el-checkbox",{attrs:{slot:"title",value:e.selected},slot:"title"},[t._v(t._s(e.name))])],1)],1)})),0),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.showTemplate=!1}}},[t._v("取 消")]),n("el-button",{attrs:{disabled:t.disableApplyBtn,type:"primary"},on:{click:t.applyTemplate}},[t._v("应 用")])],1)])],1)},m=[];function g(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}function v(t,e){if(null==t)return{};var n,i,r=g(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}p._withStripped=!0;n(267),n(16),n(15),n(48),n(33),n(64),n(185);var y=["selected"],b=["backgroundColor"],x={name:"logoSetting",data:function(){return{loading:!1,showTemplate:!1,showTemplateDialog:!1,templateName:"",templateList:[],contextMenuStyle:{display:"none",left:0,top:0},config:{fill:"#ffffff",backgroundColor:"rgba(255,255,255,0)",fontFamily:"Microsoft YaHei",fontSize:24,fontWeight:400,textBackgroundColor:"rgba(255,255,255,0)",fontStyle:"normal"},clip:!1,hasActive:!1,exportConfig:{left:0,top:0,width:0,height:0},fontStyleList:[{label:"正常",value:"normal"},{label:"斜体",value:"italic"},{label:"倾斜",value:"oblique"}],fontList:[{label:"宋体",value:"SimSun"},{label:"黑体",value:"SimHei"},{label:"微软雅黑",value:"Microsoft YaHei"},{label:"微软正黑体",value:"Microsoft JhengHei"},{label:"新宋体",value:"NSimSun"},{label:"新细明体",value:"PMingLiU"},{label:"细明体",value:"MingLiU"},{label:"标楷体",value:"DFKai-SB"},{label:"仿宋",value:"FangSong"},{label:"楷体",value:"KaiTi"},{label:"仿宋_GB2312",value:"FangSong_GB2312"},{label:"楷体_GB2312",value:"KaiTi_GB2312"},{label:"华文黑体",value:"：STHeiti"},{label:"华文楷体",value:"STKaiti"},{label:"华文宋体",value:"STSong"},{label:"华文仿宋",value:"STFangsong"},{label:"隶书",value:"LiSu"},{label:"幼圆",value:"YouYuan"},{label:"华文细黑",value:"STXihei"},{label:"华文隶书",value:"STLiti"}],$pos:{x:0,y:0},$rect:null,$canvas:null,linePos:{left:0,top:0,opacity:0}}},watch:{config:{deep:!0,handler:function(){this.$canvas.setBackgroundColor(this.config.backgroundColor);var t=this.$canvas.getActiveObject();t&&t.set(Object(l["a"])({},this.config)),this.$canvas.requestRenderAll()}}},computed:{disableApplyBtn:function(){return!this.templateList.some((function(t){return t.selected}))},hozStyle:function(){var t=this.linePos,e=t.opacity,n=t.top;return{opacity:e,top:n}},verStyle:function(){var t=this.linePos,e=t.opacity,n=t.left;return{opacity:e,left:n}}},methods:{clear:function(){var t=this;dsf.layer.confirm("确认清空当前所有操作吗?").then((function(){t.$canvas.clear()})).catch((function(){}))},handleTemplateClick:function(t){this.templateList=this.templateList.map((function(e){return Object(l["a"])(Object(l["a"])({},e),{},{selected:e.name===t.name})}))},applyTemplate:function(){var t=this;dsf.layer.confirm("使用模板将覆盖您当前修改,您确定要覆盖吗?").then((function(){var e=t.templateList.find((function(t){return t.selected})),n=e.data;t.$canvas.clear(),t.$canvas.loadFromJSON(n),t.showTemplate=!1})).catch((function(){}))},deleteTemplate:function(t){this.templateList.splice(t,1),localStorage.setItem("dsf-logo-templates",JSON.stringify(this.templateList.map((function(t){t.selected;var e=v(t,y);return e}))))},saveTemplateConfirm:function(){var t=this;if(this.templateName)if(this.templateList.some((function(e){return e.name===t.templateName})))dsf.layer.message("模板已存在",!1);else{var e=localStorage.getItem("dsf-logo-templates");e||(e="[]"),e=JSON.parse(e),e.push({name:this.templateName,data:this.$canvas.toDatalessJSON()}),localStorage.setItem("dsf-logo-templates",JSON.stringify(e)),dsf.layer.message("保存成功"),this.saveTemplateCancel()}else dsf.layer.message("请输入模板名称",!1)},saveTemplateCancel:function(){this.showTemplateDialog=!1},showTemplateDrawer:function(){var t=localStorage.getItem("dsf-logo-templates");this.templateList=t?JSON.parse(t).map((function(t){return Object(l["a"])(Object(l["a"])({},t),{},{selected:!1})})):[],this.showTemplate=!0},addText:function(){var t,e,n=this.config,i=(n.backgroundColor,v(n,b)),r=new fabric.IText("文本",Object(l["a"])(Object(l["a"])({},i),{},{left:null!==(t=this.$pos)&&void 0!==t&&t.x?this.$pos.x-20:parseInt(window.getComputedStyle(this.$refs.canvas).width)/2,top:null!==(e=this.$pos)&&void 0!==e&&e.y?this.$pos.y-30:parseInt(window.getComputedStyle(this.$refs.canvas).height)/2,caching:!1,objectCaching:!1}));this.$canvas.add(r),this.contextMenuStyle.display="none"},addPicture:function(){this.$refs.file.click()},addImage:function(t){var e=this,n=new FileReader;n.readAsDataURL(t),n.onload=function(){var t=new Image;t.src=n.result,t.onload=function(){var n,i,r=new fabric.Image(t,{left:null!==(n=e.$pos)&&void 0!==n&&n.x?e.$pos.x-t.width/2:parseInt(window.getComputedStyle(e.$refs.canvas).width)/2-t.width/2,top:null!==(i=e.$pos)&&void 0!==i&&i.y?e.$pos.y-t.height/2:parseInt(window.getComputedStyle(e.$refs.canvas).height)/2-t.height/2,width:t.width,height:t.height,angle:0});e.$canvas.add(r)}}},saveToTemplate:function(){this.showTemplateDialog=!0,this.templateName=""},onFileChange:function(t){this.addImage(t.target.files[0])},dropFile:function(t){t.preventDefault(),this.$pos={x:t.clientX-320,y:t.clientY-20},this.addImage(t.dataTransfer.files[0])},fileDragOver:function(t){t.preventDefault()},loadScript:function(){var t=this;return new Promise((function(e){var n=dsf.url.getWebPath("$/js/libs/fabric/fabric.js");t.$http.importFiles([n]).then(e).catch((function(){e(),dsf.layer.message("加载fabric文件报错",!1)}))}))},renderRuler:function(t,e){var n=window.getComputedStyle(e.parentNode);e.setAttribute("width",n.width),e.setAttribute("height",n.height);for(var i=new fabric.Canvas(e,{selection:!1}),r=new fabric.Line(1===t?[0,10,0,0]:[0,0,10,0],{fill:"#bbb",stroke:"#bbb"}),o=function(e){r.clone((function(n){if(n.set(1===t?"left":"top",e),e/100>0&&e%100===0){n.set(1===t?"height":"width",15),n.set("stroke","#999");var r=new fabric.Text("".concat(e),{fontSize:12,fill:"#999",left:1===t?e+7:12,top:1===t?12:e+25,angle:1===t?0:270,evented:!1,hasControls:!1,selectable:!1});i.add(r)}i.add(n)}))},a=10;a<parseInt(1===t?n.width:n.height);a+=10)o(a)},getNeighborVal:function(t){t=Math.round(t);var e=t%10;return 0===e?t:e>5?t+(10-e):t-e},initStageEvent:function(){var t=this;this.$canvas.on("object:moving",(function(e){Object.assign(t.linePos,{left:"".concat(e.target.left+50,"px"),top:"".concat(e.target.top+50,"px"),opacity:1})})),this.$canvas.on("object:moved",(function(e){Object.assign(t.linePos,{opacity:0});var n=t.$canvas.getActiveObject();if(n){var i=t.getNeighborVal(e.target.left),r=t.getNeighborVal(e.target.top);n.set({left:i,top:r}),t.$canvas.requestRenderAll()}}))},initRuler:function(){var t=this.$refs["ruler-hozional"],e=this.$refs["ruler-vertical"];this.renderRuler(1,t),this.renderRuler(2,e)},init:function(){var t=this.$refs.canvas;t.setAttribute("width",window.getComputedStyle(this.$refs.wrap).width),t.setAttribute("height",window.getComputedStyle(this.$refs.wrap).height),this.$canvas=new fabric.Canvas(this.$refs.canvas),this.initStageEvent(),this.initRuler()},onContextMenu:function(t){t.preventDefault(),this.contextMenuStyle={display:"block",left:"".concat(t.clientX,"px"),top:"".concat(t.clientY,"px")},this.$pos={x:t.clientX-320,y:t.clientY-20},this.hasActive=!!this.$canvas.getActiveObject()},remove:function(){var t=this.$canvas.getActiveObject();this.$canvas.remove(t),this.contextMenuStyle.display="none"},onClick:function(t){this.$refs.contextmenu.contains(t.target)||(this.contextMenuStyle.display="none")},save:function(){var t=this;this.clip=!0,this.$canvas.discardActiveObject();var e=window.getComputedStyle(this.$refs.wrap);this.exportConfig=Object(l["a"])(Object(l["a"])({},this.exportConfig),{},{left:parseInt(e.width)/2-150,top:parseInt(e.height)/2-100,width:300,height:200}),this.$rect=new fabric.Rect(Object(l["a"])(Object(l["a"])({},this.exportConfig),{},{fill:"rgba(0,0,0,.2)",hasRotatingPoint:!1,lockRotation:!0})),this.$rect.on("scaling",(function(e){var n=e.transform.target,i=n.width,r=n.height,o=n.scaleX,a=n.scaleY;t.exportConfig=Object(l["a"])(Object(l["a"])({},t.exportConfig),{},{width:Math.round(i*o),height:Math.round(r*a)})})),this.$rect.on("modified",(function(e){var n=e.transform.target,i=n.left,r=n.top;t.exportConfig=Object(l["a"])(Object(l["a"])({},t.exportConfig),{},{left:i,top:r})})),this.$canvas.add(this.$rect),this.$canvas.setActiveObject(this.$rect)},download:function(){this.cancel();var t=this.$canvas.toDataURL(this.exportConfig),e=document.createElement("a");e.setAttribute("download","logo_".concat((new Date).getTime(),".png")),e.setAttribute("href",t),e.click()},cancel:function(){this.clip=!1,this.$rect&&this.$canvas.remove(this.$rect),this.$rect=null,this.$canvas.renderAll()},onMouseWheel:function(){var t=this;return _.throttle((function(e){var n=t.$canvas.getZoom();e.wheelDelta>0?n-=.1:e.wheelDelta<0&&(n+=.1),t.$canvas.zoomToPoint({x:t.$canvas.width/2,y:t.$canvas.height/2},n)}),100,{leading:!0,trailing:!1})},onKeydown:function(t){var e=this.$canvas.getActiveObject();if(e&&[37,38,39,40,46,13].includes(t.which)){switch(t.preventDefault(),t.which){case 37:e.set("left",e.left-1);break;case 38:e.set("top",e.top-1);break;case 39:e.set("left",e.left+1);break;case 40:e.set("top",e.top+1);break;case 46:this.$canvas.remove(e);break;case 13:"i-text"===e.type&&(document.activeElement===e.hiddenTextarea?e.exitEditing():e.enterEditing());break}this.$canvas.requestRenderAll()}}},mounted:function(){window.addEventListener("click",this.onClick),window.addEventListener("mousewheel",this.onMouseWheel()),window.addEventListener("keydown",this.onKeydown)},created:function(){var t=this;this.loading=!0,this.loadScript().finally((function(){t.loading=!1,t.$nextTick((function(){t.init()}))}))},destroyed:function(){window.removeEventListener("click",this.onClick),window.removeEventListener("mousewheel",this.onMouseWheel()),window.removeEventListener("click",this.onKeydown)}},w=x,k=(n(696),Object(f["a"])(w,p,m,!1,null,null,null));k.options.__file="designer/logo/setting.vue";var S=k.exports,O=n(532),C=[{path:"/pc/preview",name:"DsfLayoutPreView",meta:{title:"预览"},component:r["a"],props:function(t){return{mobile:"1"==t.query["mobile"],tpl:"1"==t.query["tpl"]}}},{path:"/pc/logo",name:"logoSetting",meta:{title:"logo设置"},component:S},{path:"/mobile/preview",name:"DsfMobileLayoutPreView",meta:{title:"预览"},component:o["a"]},{path:"/excelEditor",name:"excelEditor",component:O["default"]},{path:"/seatDesign",name:"DsfSeatDesign",meta:{title:"排座设计器"},component:function(){return n.e(9).then(n.bind(null,983))}},{path:"/seatView",name:"DsfSeatView",meta:{title:"排座"},component:function(){return Promise.all([n.e(0),n.e(10)]).then(n.bind(null,985))}},{path:"/printingDesign",name:"DsfPrintingDesign",meta:{title:"证书套打设计器"},component:function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,984))}},{path:"/flow",name:"Flow",meta:{title:"流程设计器"},component:function(){return Promise.all([n.e(0),n.e(11),n.e(2)]).then(n.bind(null,986))}},{path:"/todoTemp",name:"TodoTemp",meta:{title:"待办事项"},component:function(){return n.e(3).then(n.bind(null,987))}},{path:"/mobilesetting",name:"MobileSetting",meta:{title:"移动端设置"},component:h}],E=C,D=(n(700),n(635)),T=n.n(D),N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],ref:"designerPanel",staticClass:"ds-designer",class:{mobile:t.mobile}},[n("div",{staticClass:"designer-head"},[n("div",{staticClass:"designer_tools"},[n("div",{staticClass:"designer_tools_left"},[n("DsfDesignerButtons",{attrs:{designer:t._self,"show-button":t.showButton,buttons:t.tpl?t.templateButtons:t.buttons}})],1),n("div",{staticClass:"designer_tools_right"},[n("span",{staticClass:"prototype_label"},[t._v("设计模式")]),n("el-switch",{attrs:{"active-value":t.dsf.enums.viewMode.PROTOTYPE,"inactive-value":t.dsf.enums.viewMode.DEVELOP},model:{value:t.currPageMode,callback:function(e){t.currPageMode=e},expression:"currPageMode"}})],1)])]),n("div",{staticClass:"designer-content"},[n("div",{staticClass:"designer-center"},[n("div",{staticClass:"designer-page designer-mobile-wrap"},[t.page?n("DsfLayoutTree",{ref:"viewProxy",staticStyle:{position:"absolute",height:"100%",width:"100%"},attrs:{"is-design":!0,"component-props":t.page},on:{"update:componentProps":function(e){t.page=e},"update:component-props":function(e){t.page=e}},nativeOn:{dragstart:function(t){t.preventDefault()},mousedown:function(e){return e.stopPropagation(),t.mouseDownHanlder(e)},mousemove:function(e){return t.mouseMoveHanlder(e)},contextmenu:function(e){return t.contextMenuOpen(e)},click:function(e){return t.layoutTreeClickHandler(e)}}}):t._e()],1),n("div",{staticClass:"designer-left"},[n("div",{staticClass:"designer-left-tools"},[n("el-tabs",{attrs:{stretch:""},model:{value:t.layout.toolsBox.activeName,callback:function(e){t.$set(t.layout.toolsBox,"activeName",e)},expression:"layout.toolsBox.activeName"}},t._l(t.leftTabs,(function(e){return n("el-tab-pane",{key:e.name,attrs:{label:e.label,name:e.name},scopedSlots:t._u([{key:"label",fn:function(){return[n("div",{staticStyle:{"padding-left":"4px"}},[t._v(t._s(e.label))])]},proxy:!0}],null,!0)},[n("div",{staticClass:"design-search-box"},[n("form",{attrs:{action:""},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.leftSearch.apply(null,arguments)}}},[n("el-input",{staticClass:"design-search-input",staticStyle:{height:"30px","line-height":"30px"},model:{value:t.leftSearchInput,callback:function(e){t.leftSearchInput=e},expression:"leftSearchInput"}},[n("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],1)],1)]),"controls"===e.name?n("dsf-virtual-scroll",t._l(t.useControlsGroup.groups,(function(e,i){return n("el-collapse",{key:i,attrs:{accordion:""},model:{value:t.tools.activeName,callback:function(e){t.$set(t.tools,"activeName",e)},expression:"tools.activeName"}},[n("el-collapse-item",{attrs:{name:e.title}},[n("template",{slot:"title"},[n("div",{staticClass:"ellipsis",staticStyle:{"font-size":"14px"},attrs:{title:e.title}},[t._v(" "+t._s(e.title)+" ")]),n("DsfIcon",{staticStyle:{position:"absolute",right:"30px"},attrs:{name:"guanbi2"},on:{click:function(n){return n.stopPropagation(),t.removeControlGroup(e)}}})],1),n("div",{staticClass:"ds-tools-group-content"},t._l(e.items,(function(e,i){return n("drag-item",{directives:[{name:"show",rawName:"v-show",value:t.isMatchLeftSearch(e.name),expression:"isMatchLeftSearch(item.name)"}],key:i,attrs:{data:e}})})),1)],2)],1)})),1):"metadata"===e.name?n("dsf-virtual-scroll",t._l(t.useMetaGroup.groups,(function(e,i){return n("el-collapse",{key:i,attrs:{accordion:""},model:{value:t.useMetaGroup.activeName,callback:function(e){t.$set(t.useMetaGroup,"activeName",e)},expression:"useMetaGroup.activeName"}},[n("el-collapse-item",{attrs:{name:e.id}},[n("template",{slot:"title"},[n("div",{staticClass:"ellipsis",staticStyle:{"font-size":"14px"},attrs:{title:e.title||e.name}},[t._v(" "+t._s(e.title||e.name)+" ")]),n("DsfIcon",{staticStyle:{position:"absolute",right:"30px"},attrs:{name:"guanbi2"},on:{click:function(n){return n.stopPropagation(),t.removeMetaDataGroup(e)}}})],1),n("div",{staticClass:"ds-tools-group-content"},t._l(e.items,(function(e,i){return n("drag-item",{directives:[{name:"show",rawName:"v-show",value:t.isMatchLeftSearch(e.name),expression:"isMatchLeftSearch(item.name)"}],key:i,attrs:{data:e}})})),1)],2)],1)})),1):"business"===e.name?n("dsf-virtual-scroll",t._l(t.useBusinessControlGroup.groups,(function(e,i){return n("el-collapse",{key:i,attrs:{accordion:""},model:{value:t.tools.activeName,callback:function(e){t.$set(t.tools,"activeName",e)},expression:"tools.activeName"}},[n("el-collapse-item",{attrs:{name:e.title}},[n("template",{slot:"title"},[n("div",{staticClass:"ellipsis",staticStyle:{"font-size":"14px"},attrs:{title:e.title}},[t._v(" "+t._s(e.title)+" ")]),n("DsfIcon",{staticStyle:{position:"absolute",right:"30px"},attrs:{name:"guanbi2"},on:{click:function(n){return n.stopPropagation(),t.removeBusinessGroup(e)}}})],1),n("div",{staticClass:"ds-tools-group-content"},t._l(e.items,(function(e,i){return n("drag-item",{directives:[{name:"show",rawName:"v-show",value:t.isMatchLeftSearch(e.name),expression:"isMatchLeftSearch(item.name)"}],key:i,attrs:{data:e}})})),1)],2)],1)})),1):t._e()],1)})),1)],1)]),n("div",{staticClass:"designer-right"},[n("DsfDesignerProperties",{attrs:{data:t.attributesGroup,owner:t.attributesOwner}})],1)])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.dragProxy.show,expression:"dragProxy.show"}],ref:"dragProxy",staticClass:"drag-proxy"}),t.contextMenu.show?n("div",{ref:"contextmenu",staticClass:"ds-contextmenu",style:{top:t.contextMenu.pos.y+"px",left:t.contextMenu.pos.x+"px"}},[n("dl",{staticClass:"ds-contextmenu-child ds-contextmenu-anim"},[t._l(t.contextMenu.items,(function(e,i){return["object"==t.dsf.type(e)?n("dd",{key:i,class:{disabled:e.disabled},on:{click:function(n){return t.contextMenuItemClick(e,n)}}},[n("a",[t._v(t._s(e.text))])]):"-"==e?n("dd",{key:i,staticClass:"split"}):t._e()]}))],2)]):t._e(),n("page-doc")],1)},M=[];N._withStripped=!0;var A=n(3),j=n.n(A),P=n(9),I=(n(28),n(23),"dsf.define(function() {\r\n  return {\r\n    //this.nameSpace获取当前页面命名空间\r\n    //this.pageName获取当前页面的名称\r\n    //this.$viewData中存储表单的数据\r\n    //this.$viewInitData中存储了页面初始化接口获取的数据源、默认值、权限等信息\r\n    //this.queryString获取当前页面的查询字符参数\r\n    //this.frames获取页面中viewPart组件内嵌的内页组件\r\n    //this.$parentView获取被frame嵌套的父页面组件\r\n    data: function() {\r\n      return {\r\n      }\r\n    },\r\n    computed: {},\r\n    created: function() {},\r\n    mounted: function() {},\r\n    activated: function() {},\r\n    deactivated: function() {},\r\n    //=======二次开发额外增加的钩子函数 start ===============\r\n    //用于页面初始化数据查询完成，已经获取了表单组件的默认值及下拉框等枚举类组件的数据(此处勿要对$viewData进行赋值操作,需要初始化表单值直接操作data参数)\r\n    inited: function(data, next) {\r\n      next();\r\n    },\r\n    //用于页面数据读取完成，仅对页面类型为表单时有效(此处勿要对$viewData进行赋值操作,需要初始化表单值直接操作data参数)\r\n    dataLoaded: function(data, next) {\r\n      next();\r\n    },\r\n    //页面全部加载完成，且组件都已经挂载\r\n    ready: function() {\r\n\r\n    },\r\n    //表单提交保存验证前触发，此处可以对ignoreValidate属性进行配置设置为true可以忽略表单验证\r\n    validateBefore: function(next, options) {\r\n      next();\r\n    },\r\n    //表单提交保存验证后触发\r\n    validateAfter: function(next, options) {\r\n      next();\r\n    },\r\n    //表单保存前钩子函数\r\n    saveBefore: function(next, options) {\r\n      next();\r\n    },\r\n    //表单保存数据提交给服务器前对提交数据副本的处理\r\n    postDataBefore: function( next, data, options) {\r\n      next();\r\n    },\r\n    //表单保存数据提交给服务器成功后对服务器返回的结果数据处理\r\n    postDataAfter: function( next, requestResult, options) {\r\n      next();\r\n    },\r\n    //表单保存成功后钩子函数,result为保存后服务器返回的数据\r\n    saveAfter: function(next, result, options) {\r\n      next();\r\n    },\r\n    //表单保存后(无论成功或者失败)钩子函数,result为null表示保存失败否则为保存后服务器返回的新数据\r\n    saveComplete: function(result) {\r\n    },\r\n    //=======二次开发额外增加的钩子函数 end   ===============\r\n    methods: {\r\n\r\n    }\r\n  }\r\n});"),L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ds-tool-item ellipsis",attrs:{title:t.title,name:t.data.name}},[t._v(" "+t._s(t.data.name||t.data.id)+" ")])},R=[];L._withStripped=!0;n(26);var B={name:"DsfMetaDataItem",props:{data:{type:Object,default:function(){return null}}},computed:{title:function(){var t=this.data,e=t.data,n=t.id,i=t.name;return["ID：",n,"\n","标识：",e.code,"\n","名称：",i].join("")}}},q=B,F=Object(f["a"])(q,L,R,!1,null,null,null);F.options.__file="designer/page/dsfDesigner/dragItem.vue";var z=F.exports,V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-drawer",{attrs:{title:"页面文档",visible:t.show,"append-to-body":!0,"modal-append-to-body":!0,"destroy-on-close":!1,wrapperClosable:!0,size:"50%","custom-class":"pagedoc-drawer",direction:"rtl"},on:{"update:visible":function(e){t.show=e},close:t.handleClose}},[n("editor-menu-bubble",{attrs:{editor:t.editor,"keep-in-bounds":!0},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.commands,r=e.isActive;return[n("div",{staticClass:"menububble"},[n("div",{class:{"menububble-item":!0,"is-active":r.bold()},on:{click:i.bold}},[n("i",{staticClass:"iconfont icon-bold"})]),n("div",{class:{"menububble-item":!0,"is-active":r.italic()},on:{click:i.italic}},[n("i",{staticClass:"iconfont icon-jurassic_font-tilt"})]),n("div",{class:{"menububble-item":!0,"is-active":r.heading({level:1})},on:{click:function(t){return i.heading({level:1})}}},[n("i",{staticClass:"iconfont icon-h-1"})]),n("div",{class:{"menububble-item":!0,"is-active":r.heading({level:2})},on:{click:function(t){return i.heading({level:2})}}},[n("i",{staticClass:"iconfont icon-h-2"})]),n("div",{class:{"menububble-item":!0,"is-active":r.heading({level:3})},on:{click:function(t){return i.heading({level:3})}}},[n("i",{staticClass:"iconfont icon-h-3"})]),n("div",{class:{"menububble-item":!0,"is-active":r.bullet_list()},on:{click:i.bullet_list}},[n("i",{staticClass:"iconfont icon-richtextbulletedlist"})]),n("div",{ref:"youxuliebiao",class:{"menububble-item":!0,"is-active":r.ordered_list()},on:{click:i.ordered_list}},[n("i",{staticClass:"iconfont icon-youxuliebiao"})]),n("div",{class:{"menububble-item":!0},on:{click:function(t){return i.align({align:"left"})}}},[n("i",{staticClass:"iconfont icon-zuoduiqi"})]),n("div",{class:{"menububble-item":!0},on:{click:function(t){return i.align({align:"center"})}}},[n("i",{staticClass:"iconfont icon-juzhongduiqi"})]),n("div",{class:{"menububble-item":!0},on:{click:function(t){return i.align({align:"right"})}}},[n("i",{staticClass:"iconfont icon-youduiqi"})]),n("div",{class:{"color-item":!0,"menububble-item":!0},style:{borderBottomColor:t.fontColor}},[n("i",{staticClass:"iconfont icon-T-yanse"}),n("el-color-picker",{on:{change:function(e){return i.colormark({color:t.fontColor})}},model:{value:t.fontColor,callback:function(e){t.fontColor=e},expression:"fontColor"}})],1),n("div",{class:{"color-item":!0,"menububble-item":!0},style:{borderBottomColor:t.bgColor}},[n("i",{staticClass:"iconfont icon-ziyuan1"}),n("el-color-picker",{on:{change:function(e){return i.backgroundmark({color:t.bgColor})}},model:{value:t.bgColor,callback:function(e){t.bgColor=e},expression:"bgColor"}})],1),n("div",{class:{"menububble-item":!0},on:{click:i.horizontal_rule}},[n("i",{staticClass:"iconfont icon-758bianjiqi_fengexian"})]),n("div",{class:{"menububble-item":!0},on:{click:i.undo}},[n("i",{staticClass:"iconfont icon-shangyibu1"})]),n("div",{class:{"menububble-item":!0},on:{click:i.redo}},[n("i",{staticClass:"iconfont icon-xiayibu1"})]),n("div",{class:{"menububble-item":!0},on:{click:function(e){t.showSearch=!t.showSearch}}},[n("i",{staticClass:"iconfont icon-sousuo"})])])]}}])}),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showSearch,expression:"showSearch"}],staticClass:"search-container"},[n("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入关键字"},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search.apply(null,arguments)}},model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}},[n("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.search},slot:"append"})],1),n("el-input",{staticStyle:{width:"350px"},attrs:{placeholder:"请输入替换字符"},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.replace.apply(null,arguments)}},model:{value:t.replaceText,callback:function(e){t.replaceText=e},expression:"replaceText"}},[n("el-select",{staticStyle:{width:"110px"},attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:t.replaceType,callback:function(e){t.replaceType=e},expression:"replaceType"}},[n("el-option",{attrs:{label:"单个替换",value:"1"}}),n("el-option",{attrs:{label:"替换所有",value:"2"}})],1),n("el-button",{attrs:{slot:"append",disabled:!t.searchText,icon:"el-icon-s-fold"},on:{click:t.replace},slot:"append"})],1)],1),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showRelationControls,expression:"showRelationControls"}],ref:"menu",staticClass:"autoselect-menu",style:t.pos},t._l(t.relationPageControls,(function(e){return n("div",{key:e.designId,staticClass:"autoselect-menu-item",attrs:{tabindex:"1"},on:{click:function(n){return t.selectRelatComponent(e)},keydown:function(e){return e.stopPropagation(),t.handleMenuKeydown.apply(null,arguments)}}},[t._v(" "+t._s(t.getControlLable(e))+" ")])})),0),n("editor-content",{staticClass:"pageeditor",attrs:{editor:t.editor}})],1)},U=[];V._withStripped=!0;n(20),n(10),n(35),n(24),n(25);var K=n(176),H=n(7),W=n(103),G=n(4),J=(n(530),n(531),n(259)),Y=(n(74),n(245),n(106)),X=(n(183),n(39));class Z{constructor(t={}){this.options={...this.defaultOptions,...t}}init(){return null}bindEditor(t=null){this.editor=t}get name(){return null}get type(){return"extension"}get defaultOptions(){return{}}get plugins(){return[]}inputRules(){return[]}pasteRules(){return[]}keys(){return{}}}class Q extends Z{constructor(t={}){super(t)}get type(){return"mark"}get view(){return null}get schema(){return null}command(){return()=>{}}}class tt extends Z{constructor(t={}){super(t)}get type(){return"node"}get view(){return null}get schema(){return null}command(){return()=>{}}}function et(t,e,n){const i=document.createRange();return i.setEnd(t,null==n?t.nodeValue.length:n),i.setStart(t,Math.max(e,0)),i}function nt(t,e){const n=t.getClientRects();return n.length?n[e<0?0:n.length-1]:t.getBoundingClientRect()}function it(t,e,n=!1){const{node:i,offset:r}=t.docView.domFromPos(e);let o,a;if(3===i.nodeType)n&&r<i.nodeValue.length?(a=nt(et(i,r-1,r),-1),o="right"):r<i.nodeValue.length&&(a=nt(et(i,r,r+1),-1),o="left");else if(i.firstChild){if(r<i.childNodes.length){const t=i.childNodes[r];a=nt(3===t.nodeType?et(t):t,-1),o="left"}if((!a||a.top===a.bottom)&&r){const t=i.childNodes[r-1];a=nt(3===t.nodeType?et(t):t,1),o="right"}}else a=i.getBoundingClientRect(),o="left";const s=a[o];return{top:a.top,bottom:a.bottom,left:s,right:s}}class rt{constructor({options:t,editorView:e}){this.options={element:null,keepInBounds:!0,onUpdate:()=>!1,...t},this.editorView=e,this.isActive=!1,this.left=0,this.bottom=0,this.top=0,this.preventHide=!1,this.mousedownHandler=this.handleClick.bind(this),this.options.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.focusHandler=({view:t})=>{this.update(t)},this.options.editor.on("focus",this.focusHandler),this.blurHandler=({event:t})=>{this.preventHide?this.preventHide=!1:this.hide(t)},this.options.editor.on("blur",this.blurHandler)}handleClick(){this.preventHide=!0}update(t,e){const{state:n}=t;if(t.composing)return;if(e&&e.doc.eq(n.doc)&&e.selection.eq(n.selection))return;if(n.selection.empty)return void this.hide();const{from:i,to:r}=n.selection,o=it(t,i),a=it(t,r,!0),s=this.options.element.offsetParent;if(!s)return void this.hide();const l=s.getBoundingClientRect(),c=this.options.element.getBoundingClientRect(),u=(o.left+a.left)/2-l.left;this.left=Math.round(this.options.keepInBounds?Math.min(l.width-c.width/2,Math.max(u,c.width/2)):u),this.bottom=Math.round(l.bottom-o.top),this.top=Math.round(a.bottom-l.top),this.isActive=!0,this.sendUpdate()}sendUpdate(){this.options.onUpdate({isActive:this.isActive,left:this.left,bottom:this.bottom,top:this.top})}hide(t){t&&t.relatedTarget&&this.options.element.parentNode&&this.options.element.parentNode.contains(t.relatedTarget)||(this.isActive=!1,this.sendUpdate())}destroy(){this.options.element.removeEventListener("mousedown",this.mousedownHandler),this.options.editor.off("focus",this.focusHandler),this.options.editor.off("blur",this.blurHandler)}}function ot(t){return new H["Plugin"]({key:new H["PluginKey"]("menu_bubble"),view(e){return new rt({editorView:e,options:t})}})}Boolean;n(541);var at,st,lt=n(51);if("undefined"!=typeof WeakMap){var ct=new WeakMap;at=function(t){return ct.get(t)},st=function(t,e){return ct.set(t,e),e}}else{var ut=[],ft=10,dt=0;at=function(t){for(var e=0;e<ut.length;e+=2)if(ut[e]==t)return ut[e+1]},st=function(t,e){return dt==ft&&(dt=0),ut[dt++]=t,ut[dt++]=e}}var ht=function(t,e,n,i){this.left=t,this.top=e,this.right=n,this.bottom=i},pt=function(t,e,n,i){this.width=t,this.height=e,this.map=n,this.problems=i};function mt(t){if("table"!=t.type.spec.tableRole)throw new RangeError("Not a table node: "+t.type.name);for(var e=gt(t),n=t.childCount,i=[],r=0,o=null,a=[],s=0,l=e*n;s<l;s++)i[s]=0;for(var c=0,u=0;c<n;c++){var f=t.child(c);u++;for(var d=0;;d++){while(r<i.length&&0!=i[r])r++;if(d==f.childCount)break;for(var h=f.child(d),p=h.attrs,m=p.colspan,g=p.rowspan,v=p.colwidth,y=0;y<g;y++){if(y+c>=n){(o||(o=[])).push({type:"overlong_rowspan",pos:u,n:g-y});break}for(var b=r+y*e,_=0;_<m;_++){0==i[b+_]?i[b+_]=u:(o||(o=[])).push({type:"collision",row:c,pos:u,n:m-_});var x=v&&v[_];if(x){var w=(b+_)%e*2,k=a[w];null==k||k!=x&&1==a[w+1]?(a[w]=x,a[w+1]=1):k==x&&a[w+1]++}}}r+=m,u+=h.nodeSize}var S=(c+1)*e,O=0;while(r<S)0==i[r++]&&O++;O&&(o||(o=[])).push({type:"missing",row:c,n:O}),u++}for(var C=new pt(e,n,i,o),E=!1,D=0;!E&&D<a.length;D+=2)null!=a[D]&&a[D+1]<n&&(E=!0);return E&&vt(C,a,t),C}function gt(t){for(var e=-1,n=!1,i=0;i<t.childCount;i++){var r=t.child(i),o=0;if(n)for(var a=0;a<i;a++)for(var s=t.child(a),l=0;l<s.childCount;l++){var c=s.child(l);a+c.attrs.rowspan>i&&(o+=c.attrs.colspan)}for(var u=0;u<r.childCount;u++){var f=r.child(u);o+=f.attrs.colspan,f.attrs.rowspan>1&&(n=!0)}-1==e?e=o:e!=o&&(e=Math.max(e,o))}return e}function vt(t,e,n){t.problems||(t.problems=[]);for(var i=0,r={};i<t.map.length;i++){var o=t.map[i];if(!r[o]){r[o]=!0;for(var a=n.nodeAt(o),s=null,l=0;l<a.attrs.colspan;l++){var c=(i+l)%t.width,u=e[2*c];null==u||a.attrs.colwidth&&a.attrs.colwidth[l]==u||((s||(s=yt(a.attrs)))[l]=u)}s&&t.problems.unshift({type:"colwidth mismatch",pos:o,colwidth:s})}}}function yt(t){if(t.colwidth)return t.colwidth.slice();for(var e=[],n=0;n<t.colspan;n++)e.push(0);return e}function bt(t,e){var n=t.getAttribute("data-colwidth"),i=n&&/^\d+(,\d+)*$/.test(n)?n.split(",").map((function(t){return Number(t)})):null,r=Number(t.getAttribute("colspan")||1),o={colspan:r,rowspan:Number(t.getAttribute("rowspan")||1),colwidth:i&&i.length==r?i:null};for(var a in e){var s=e[a].getFromDOM,l=s&&s(t);null!=l&&(o[a]=l)}return o}function _t(t,e){var n={};for(var i in 1!=t.attrs.colspan&&(n.colspan=t.attrs.colspan),1!=t.attrs.rowspan&&(n.rowspan=t.attrs.rowspan),t.attrs.colwidth&&(n["data-colwidth"]=t.attrs.colwidth.join(",")),e){var r=e[i].setDOMAttr;r&&r(t.attrs[i],n)}return n}function xt(t){var e=t.cellAttributes||{},n={colspan:{default:1},rowspan:{default:1},colwidth:{default:null}};for(var i in e)n[i]={default:e[i].default};return{table:{content:"table_row+",tableRole:"table",isolating:!0,group:t.tableGroup,parseDOM:[{tag:"table"}],toDOM:function(){return["table",["tbody",0]]}},table_row:{content:"(table_cell | table_header)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM:function(){return["tr",0]}},table_cell:{content:t.cellContent,attrs:n,tableRole:"cell",isolating:!0,parseDOM:[{tag:"td",getAttrs:function(t){return bt(t,e)}}],toDOM:function(t){return["td",_t(t,e),0]}},table_header:{content:t.cellContent,attrs:n,tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th",getAttrs:function(t){return bt(t,e)}}],toDOM:function(t){return["th",_t(t,e),0]}}}}function wt(t){var e=t.cached.tableNodeTypes;if(!e)for(var n in e=t.cached.tableNodeTypes={},t.nodes){var i=t.nodes[n],r=i.spec.tableRole;r&&(e[r]=i)}return e}pt.prototype.findCell=function(t){for(var e=0;e<this.map.length;e++){var n=this.map[e];if(n==t){for(var i=e%this.width,r=e/this.width|0,o=i+1,a=r+1,s=1;o<this.width&&this.map[e+s]==n;s++)o++;for(var l=1;a<this.height&&this.map[e+this.width*l]==n;l++)a++;return new ht(i,r,o,a)}}throw new RangeError("No cell with offset "+t+" found")},pt.prototype.colCount=function(t){for(var e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError("No cell with offset "+t+" found")},pt.prototype.nextCell=function(t,e,n){var i=this.findCell(t),r=i.left,o=i.right,a=i.top,s=i.bottom;return"horiz"==e?(n<0?0==r:o==this.width)?null:this.map[a*this.width+(n<0?r-1:o)]:(n<0?0==a:s==this.height)?null:this.map[r+this.width*(n<0?a-1:s)]},pt.prototype.rectBetween=function(t,e){var n=this.findCell(t),i=n.left,r=n.right,o=n.top,a=n.bottom,s=this.findCell(e),l=s.left,c=s.right,u=s.top,f=s.bottom;return new ht(Math.min(i,l),Math.min(o,u),Math.max(r,c),Math.max(a,f))},pt.prototype.cellsInRect=function(t){for(var e=[],n={},i=t.top;i<t.bottom;i++)for(var r=t.left;r<t.right;r++){var o=i*this.width+r,a=this.map[o];n[a]||(n[a]=!0,r==t.left&&r&&this.map[o-1]==a||i==t.top&&i&&this.map[o-this.width]==a||e.push(a))}return e},pt.prototype.positionAt=function(t,e,n){for(var i=0,r=0;;i++){var o=r+n.child(i).nodeSize;if(i==t){var a=e+t*this.width,s=(t+1)*this.width;while(a<s&&this.map[a]<r)a++;return a==s?o-1:this.map[a]}r=o}},pt.get=function(t){return at(t)||st(t,mt(t))};new H["PluginKey"]("selectingCells");function kt(t){for(var e=t.depth-1;e>0;e--)if("row"==t.node(e).type.spec.tableRole)return t.node(0).resolve(t.before(e+1));return null}function St(t){for(var e=t.selection.$head,n=e.depth;n>0;n--)if("row"==e.node(n).type.spec.tableRole)return!0;return!1}function Ot(t){var e=t.selection;return e.$anchorCell?e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell:e.node&&"cell"==e.node.type.spec.tableRole?e.$anchor:kt(e.$head)||Ct(e.$head)}function Ct(t){for(var e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){var i=e.type.spec.tableRole;if("cell"==i||"header_cell"==i)return t.doc.resolve(n)}for(var r=t.nodeBefore,o=t.pos;r;r=r.lastChild,o--){var a=r.type.spec.tableRole;if("cell"==a||"header_cell"==a)return t.doc.resolve(o-r.nodeSize)}}function Et(t){return"row"==t.parent.type.spec.tableRole&&t.nodeAfter}function Dt(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function Tt(t,e,n){var i=t.start(-1),r=pt.get(t.node(-1)),o=r.nextCell(t.pos-i,e,n);return null==o?null:t.node(0).resolve(i+o)}function Nt(t,e,n){var i={};for(var r in t)i[r]=t[r];return i[e]=n,i}function Mt(t,e,n){void 0===n&&(n=1);var i=Nt(t,"colspan",t.colspan-n);return i.colwidth&&(i.colwidth=i.colwidth.slice(),i.colwidth.splice(e,n),i.colwidth.some((function(t){return t>0}))||(i.colwidth=null)),i}var At=function(t){function e(e,n){void 0===n&&(n=e);var i=e.node(-1),r=pt.get(i),o=e.start(-1),a=r.rectBetween(e.pos-o,n.pos-o),s=e.node(0),l=r.cellsInRect(a).filter((function(t){return t!=n.pos-o}));l.unshift(n.pos-o);var c=l.map((function(t){var e=i.nodeAt(t),n=t+o+1;return new H["SelectionRange"](s.resolve(n),s.resolve(n+e.content.size))}));t.call(this,c[0].$from,c[0].$to,c),this.$anchorCell=e,this.$headCell=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(t,n){var i=t.resolve(n.map(this.$anchorCell.pos)),r=t.resolve(n.map(this.$headCell.pos));if(Et(i)&&Et(r)&&Dt(i,r)){var o=this.$anchorCell.node(-1)!=i.node(-1);return o&&this.isRowSelection()?e.rowSelection(i,r):o&&this.isColSelection()?e.colSelection(i,r):new e(i,r)}return H["TextSelection"].between(i,r)},e.prototype.content=function(){for(var t=this.$anchorCell.node(-1),e=pt.get(t),n=this.$anchorCell.start(-1),i=e.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),r={},o=[],a=i.top;a<i.bottom;a++){for(var s=[],l=a*e.width+i.left,c=i.left;c<i.right;c++,l++){var u=e.map[l];if(!r[u]){r[u]=!0;var f=e.findCell(u),d=t.nodeAt(u),h=i.left-f.left,p=f.right-i.right;if(h>0||p>0){var m=d.attrs;h>0&&(m=Mt(m,0,h)),p>0&&(m=Mt(m,m.colspan-p,p)),d=f.left<i.left?d.type.createAndFill(m):d.type.create(m,d.content)}if(f.top<i.top||f.bottom>i.bottom){var g=Nt(d.attrs,"rowspan",Math.min(f.bottom,i.bottom)-Math.max(f.top,i.top));d=f.top<i.top?d.type.createAndFill(g):d.type.create(g,d.content)}s.push(d)}}o.push(t.child(a).copy(G["Fragment"].from(s)))}var v=this.isColSelection()&&this.isRowSelection()?t:o;return new G["Slice"](G["Fragment"].from(v),1,1)},e.prototype.replace=function(e,n){void 0===n&&(n=G["Slice"].empty);for(var i=e.steps.length,r=this.ranges,o=0;o<r.length;o++){var a=r[o],s=a.$from,l=a.$to,c=e.mapping.slice(i);e.replace(c.map(s.pos),c.map(l.pos),o?G["Slice"].empty:n)}var u=t.findFrom(e.doc.resolve(e.mapping.slice(i).map(this.to)),-1);u&&e.setSelection(u)},e.prototype.replaceWith=function(t,e){this.replace(t,new G["Slice"](G["Fragment"].from(e),0,0))},e.prototype.forEachCell=function(t){for(var e=this.$anchorCell.node(-1),n=pt.get(e),i=this.$anchorCell.start(-1),r=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i)),o=0;o<r.length;o++)t(e.nodeAt(r[o]),i+r[o])},e.prototype.isColSelection=function(){var t=this.$anchorCell.index(-1),e=this.$headCell.index(-1);if(Math.min(t,e)>0)return!1;var n=t+this.$anchorCell.nodeAfter.attrs.rowspan,i=e+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(n,i)==this.$headCell.node(-1).childCount},e.colSelection=function(t,n){void 0===n&&(n=t);var i=pt.get(t.node(-1)),r=t.start(-1),o=i.findCell(t.pos-r),a=i.findCell(n.pos-r),s=t.node(0);return o.top<=a.top?(o.top>0&&(t=s.resolve(r+i.map[o.left])),a.bottom<i.height&&(n=s.resolve(r+i.map[i.width*(i.height-1)+a.right-1]))):(a.top>0&&(n=s.resolve(r+i.map[a.left])),o.bottom<i.height&&(t=s.resolve(r+i.map[i.width*(i.height-1)+o.right-1]))),new e(t,n)},e.prototype.isRowSelection=function(){var t=pt.get(this.$anchorCell.node(-1)),e=this.$anchorCell.start(-1),n=t.colCount(this.$anchorCell.pos-e),i=t.colCount(this.$headCell.pos-e);if(Math.min(n,i)>0)return!1;var r=n+this.$anchorCell.nodeAfter.attrs.colspan,o=i+this.$headCell.nodeAfter.attrs.colspan;return Math.max(r,o)==t.width},e.prototype.eq=function(t){return t instanceof e&&t.$anchorCell.pos==this.$anchorCell.pos&&t.$headCell.pos==this.$headCell.pos},e.rowSelection=function(t,n){void 0===n&&(n=t);var i=pt.get(t.node(-1)),r=t.start(-1),o=i.findCell(t.pos-r),a=i.findCell(n.pos-r),s=t.node(0);return o.left<=a.left?(o.left>0&&(t=s.resolve(r+i.map[o.top*i.width])),a.right<i.width&&(n=s.resolve(r+i.map[i.width*(a.top+1)-1]))):(a.left>0&&(n=s.resolve(r+i.map[a.top*i.width])),o.right<i.width&&(t=s.resolve(r+i.map[i.width*(o.top+1)-1]))),new e(t,n)},e.prototype.toJSON=function(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}},e.fromJSON=function(t,n){return new e(t.resolve(n.anchor),t.resolve(n.head))},e.create=function(t,n,i){return void 0===i&&(i=n),new e(t.resolve(n),t.resolve(i))},e.prototype.getBookmark=function(){return new jt(this.$anchorCell.pos,this.$headCell.pos)},e}(H["Selection"]);At.prototype.visible=!1,H["Selection"].jsonID("cell",At);var jt=function(t,e){this.anchor=t,this.head=e};jt.prototype.map=function(t){return new jt(t.map(this.anchor),t.map(this.head))},jt.prototype.resolve=function(t){var e=t.resolve(this.anchor),n=t.resolve(this.head);return"row"==e.parent.type.spec.tableRole&&"row"==n.parent.type.spec.tableRole&&e.index()<e.parent.childCount&&n.index()<n.parent.childCount&&Dt(e,n)?new At(e,n):H["Selection"].near(n,1)};Object(J["keydownHandler"])({ArrowLeft:$t("horiz",-1),ArrowRight:$t("horiz",1),ArrowUp:$t("vert",-1),ArrowDown:$t("vert",1),"Shift-ArrowLeft":It("horiz",-1),"Shift-ArrowRight":It("horiz",1),"Shift-ArrowUp":It("vert",-1),"Shift-ArrowDown":It("vert",1),Backspace:Lt,"Mod-Backspace":Lt,Delete:Lt,"Mod-Delete":Lt});function Pt(t,e,n){return!n.eq(t.selection)&&(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function $t(t,e){return function(n,i,r){var o=n.selection;if(o instanceof At)return Pt(n,i,H["Selection"].near(o.$headCell,e));if("horiz"!=t&&!o.empty)return!1;var a=Rt(r,t,e);if(null==a)return!1;if("horiz"==t)return Pt(n,i,H["Selection"].near(n.doc.resolve(o.head+e),e));var s,l=n.doc.resolve(a),c=Tt(l,t,e);return s=c?H["Selection"].near(c,1):e<0?H["Selection"].near(n.doc.resolve(l.before(-1)),-1):H["Selection"].near(n.doc.resolve(l.after(-1)),1),Pt(n,i,s)}}function It(t,e){return function(n,i,r){var o=n.selection;if(!(o instanceof At)){var a=Rt(r,t,e);if(null==a)return!1;o=new At(n.doc.resolve(a))}var s=Tt(o.$headCell,t,e);return!!s&&Pt(n,i,new At(o.$anchorCell,s))}}function Lt(t,e){var n=t.selection;if(!(n instanceof At))return!1;if(e){var i=t.tr,r=wt(t.schema).cell.createAndFill().content;n.forEachCell((function(t,e){t.content.eq(r)||i.replace(i.mapping.map(e+1),i.mapping.map(e+t.nodeSize-1),new G["Slice"](r,0,0))})),i.docChanged&&e(i)}return!0}function Rt(t,e,n){if(!(t.state.selection instanceof H["TextSelection"]))return null;for(var i=t.state.selection,r=i.$head,o=r.depth-1;o>=0;o--){var a=r.node(o),s=n<0?r.index(o):r.indexAfter(o);if(s!=(n<0?0:a.childCount))return null;if("cell"==a.type.spec.tableRole||"header_cell"==a.type.spec.tableRole){var l=r.before(o),c="vert"==e?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(c)?l:null}}return null}new H["PluginKey"]("fix-tables");function Bt(t){var e,n=t.selection,i=Ot(t),r=i.node(-1),o=i.start(-1),a=pt.get(r);return e=n instanceof At?a.rectBetween(n.$anchorCell.pos-o,n.$headCell.pos-o):a.findCell(i.pos-o),e.tableStart=o,e.map=a,e.table=r,e}function qt(t){return function(e,n){if(!St(e))return!1;if(n){for(var i=wt(e.schema),r=Bt(e),o=e.tr,a=r.map.cellsInRect("column"==t?new ht(r.left,0,r.right,r.map.height):"row"==t?new ht(0,r.top,r.map.width,r.bottom):r),s=a.map((function(t){return r.table.nodeAt(t)})),l=0;l<a.length;l++)s[l].type==i.header_cell&&o.setNodeMarkup(r.tableStart+a[l],i.cell,s[l].attrs);if(0==o.steps.length)for(var c=0;c<a.length;c++)o.setNodeMarkup(r.tableStart+a[c],i.header_cell,s[c].attrs);n(o)}return!0}}function Ft(t,e,n){for(var i=e.map.cellsInRect({left:0,top:0,right:"row"==t?e.map.width:1,bottom:"column"==t?e.map.height:1}),r=0;r<i.length;r++){var o=e.table.nodeAt(i[r]);if(o&&o.type!==n.header_cell)return!1}return!0}function zt(t,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?qt(t):function(e,n){if(!St(e))return!1;if(n){var i=wt(e.schema),r=Bt(e),o=e.tr,a=Ft("row",r,i),s=Ft("column",r,i),l="column"===t?a:"row"===t&&s,c=l?1:0,u="column"==t?new ht(0,c,1,r.map.height):"row"==t?new ht(c,0,r.map.width,1):r,f="column"==t?s?i.cell:i.header_cell:"row"==t?a?i.cell:i.header_cell:i.cell;r.map.cellsInRect(u).forEach((function(t){var e=t+r.tableStart,n=o.doc.nodeAt(e);n&&o.setNodeMarkup(e,f,n.attrs)})),n(o)}return!0}}zt("row",{useDeprecatedLogic:!0}),zt("column",{useDeprecatedLogic:!0}),zt("cell",{useDeprecatedLogic:!0});var Vt=function(t,e){this.node=t,this.cellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),Ut(t,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))};function Ut(t,e,n,i,r,o){for(var a=0,s=!0,l=e.firstChild,c=t.firstChild,u=0,f=0;u<c.childCount;u++)for(var d=c.child(u).attrs,h=d.colspan,p=d.colwidth,m=0;m<h;m++,f++){var g=r==f?o:p&&p[m],v=g?g+"px":"";a+=g||i,g||(s=!1),l?(l.style.width!=v&&(l.style.width=v),l=l.nextSibling):e.appendChild(document.createElement("col")).style.width=v}while(l){var y=l.nextSibling;l.parentNode.removeChild(l),l=y}s?(n.style.width=a+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=a+"px")}Vt.prototype.update=function(t){return t.type==this.node.type&&(this.node=t,Ut(t,this.colgroup,this.table,this.cellMinWidth),!0)},Vt.prototype.ignoreMutation=function(t){return"attributes"==t.type&&(t.target==this.table||this.colgroup.contains(t.target))};var Kt=new H["PluginKey"]("tableColumnResizing");var Ht=function(t,e){this.activeHandle=t,this.dragging=e};Ht.prototype.apply=function(t){var e=this,n=t.getMeta(Kt);if(n&&null!=n.setHandle)return new Ht(n.setHandle,null);if(n&&void 0!==n.setDragging)return new Ht(e.activeHandle,n.setDragging);if(e.activeHandle>-1&&t.docChanged){var i=t.mapping.map(e.activeHandle,-1);Et(t.doc.resolve(i))||(i=null),e=new Ht(i,e.dragging)}return e};new H["PluginKey"]("collab");var Wt=200,Gt=function(){};Gt.prototype.append=function(t){return t.length?(t=Gt.from(t),!this.length&&t||t.length<Wt&&this.leafAppend(t)||this.length<Wt&&t.leafPrepend(this)||this.appendInner(t)):this},Gt.prototype.prepend=function(t){return t.length?Gt.from(t).append(this):this},Gt.prototype.appendInner=function(t){return new Yt(this,t)},Gt.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.length),t>=e?Gt.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,e))},Gt.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)},Gt.prototype.forEach=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length),e<=n?this.forEachInner(t,e,n,0):this.forEachInvertedInner(t,e,n,0)},Gt.prototype.map=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length);var i=[];return this.forEach((function(e,n){return i.push(t(e,n))}),e,n),i},Gt.from=function(t){return t instanceof Gt?t:t&&t.length?new Jt(t):Gt.empty};var Jt=function(t){function e(e){t.call(this),this.values=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(t,n){return 0==t&&n==this.length?this:new e(this.values.slice(t,n))},e.prototype.getInner=function(t){return this.values[t]},e.prototype.forEachInner=function(t,e,n,i){for(var r=e;r<n;r++)if(!1===t(this.values[r],i+r))return!1},e.prototype.forEachInvertedInner=function(t,e,n,i){for(var r=e-1;r>=n;r--)if(!1===t(this.values[r],i+r))return!1},e.prototype.leafAppend=function(t){if(this.length+t.length<=Wt)return new e(this.values.concat(t.flatten()))},e.prototype.leafPrepend=function(t){if(this.length+t.length<=Wt)return new e(t.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Gt);Gt.empty=new Jt([]);var Yt=function(t){function e(e,n){t.call(this),this.left=e,this.right=n,this.length=e.length+n.length,this.depth=Math.max(e.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(t){return t<this.left.length?this.left.get(t):this.right.get(t-this.left.length)},e.prototype.forEachInner=function(t,e,n,i){var r=this.left.length;return!(e<r&&!1===this.left.forEachInner(t,e,Math.min(n,r),i))&&(!(n>r&&!1===this.right.forEachInner(t,Math.max(e-r,0),Math.min(this.length,n)-r,i+r))&&void 0)},e.prototype.forEachInvertedInner=function(t,e,n,i){var r=this.left.length;return!(e>r&&!1===this.right.forEachInvertedInner(t,e-r,Math.max(n,r)-r,i+r))&&(!(n<r&&!1===this.left.forEachInvertedInner(t,Math.min(e,r),n,i))&&void 0)},e.prototype.sliceInner=function(t,e){if(0==t&&e==this.length)return this;var n=this.left.length;return e<=n?this.left.slice(t,e):t>=n?this.right.slice(t-n,e-n):this.left.slice(t,n).append(this.right.slice(0,e-n))},e.prototype.leafAppend=function(t){var n=this.right.leafAppend(t);if(n)return new e(this.left,n)},e.prototype.leafPrepend=function(t){var n=this.left.leafPrepend(t);if(n)return new e(n,this.right)},e.prototype.appendInner=function(t){return this.left.depth>=Math.max(this.right.depth,t.depth)+1?new e(this.left,new e(this.right,t)):new e(this,t)},e}(Gt),Xt=Gt,Zt=Xt,Qt=500,te=function(t,e){this.items=t,this.eventCount=e};function ee(t,e){var n;return t.forEach((function(t,i){if(t.selection&&0==e--)return n=i,!1})),t.slice(n)}te.prototype.popEvent=function(t,e){var n=this;if(0==this.eventCount)return null;for(var i,r,o=this.items.length;;o--){var a=this.items.get(o-1);if(a.selection){--o;break}}e&&(i=this.remapping(o,this.items.length),r=i.maps.length);var s,l,c=t.tr,u=[],f=[];return this.items.forEach((function(t,e){if(!t.step)return i||(i=n.remapping(o,e+1),r=i.maps.length),r--,void f.push(t);if(i){f.push(new ne(t.map));var a,d=t.step.map(i.slice(r));d&&c.maybeStep(d).doc&&(a=c.mapping.maps[c.mapping.maps.length-1],u.push(new ne(a,null,null,u.length+f.length))),r--,a&&i.appendMap(a,r)}else c.maybeStep(t.step);return t.selection?(s=i?t.selection.map(i.slice(r)):t.selection,l=new te(n.items.slice(0,o).append(f.reverse().concat(u)),n.eventCount-1),!1):void 0}),this.items.length,0),{remaining:l,transform:c,selection:s}},te.prototype.addTransform=function(t,e,n,i){for(var r=[],o=this.eventCount,a=this.items,s=!i&&a.length?a.get(a.length-1):null,l=0;l<t.steps.length;l++){var c=t.steps[l].invert(t.docs[l]),u=new ne(t.mapping.maps[l],c,e),f=void 0;(f=s&&s.merge(u))&&(u=f,l?r.pop():a=a.slice(0,a.length-1)),r.push(u),e&&(o++,e=null),i||(s=u)}var d=o-n.depth;return d>re&&(a=ee(a,d),o-=d),new te(a.append(r),o)},te.prototype.remapping=function(t,e){var n=new lt["a"];return this.items.forEach((function(e,i){var r=null!=e.mirrorOffset&&i-e.mirrorOffset>=t?n.maps.length-e.mirrorOffset:null;n.appendMap(e.map,r)}),t,e),n},te.prototype.addMaps=function(t){return 0==this.eventCount?this:new te(this.items.append(t.map((function(t){return new ne(t)}))),this.eventCount)},te.prototype.rebased=function(t,e){if(!this.eventCount)return this;var n=[],i=Math.max(0,this.items.length-e),r=t.mapping,o=t.steps.length,a=this.eventCount;this.items.forEach((function(t){t.selection&&a--}),i);var s=e;this.items.forEach((function(e){var i=r.getMirror(--s);if(null!=i){o=Math.min(o,i);var l=r.maps[i];if(e.step){var c=t.steps[i].invert(t.docs[i]),u=e.selection&&e.selection.map(r.slice(s+1,i));u&&a++,n.push(new ne(l,c,u))}else n.push(new ne(l))}}),i);for(var l=[],c=e;c<o;c++)l.push(new ne(r.maps[c]));var u=this.items.slice(0,i).append(l).append(n),f=new te(u,a);return f.emptyItemCount()>Qt&&(f=f.compress(this.items.length-n.length)),f},te.prototype.emptyItemCount=function(){var t=0;return this.items.forEach((function(e){e.step||t++})),t},te.prototype.compress=function(t){void 0===t&&(t=this.items.length);var e=this.remapping(0,t),n=e.maps.length,i=[],r=0;return this.items.forEach((function(o,a){if(a>=t)i.push(o),o.selection&&r++;else if(o.step){var s=o.step.map(e.slice(n)),l=s&&s.getMap();if(n--,l&&e.appendMap(l,n),s){var c=o.selection&&o.selection.map(e.slice(n));c&&r++;var u,f=new ne(l.invert(),s,c),d=i.length-1;(u=i.length&&i[d].merge(f))?i[d]=u:i.push(f)}}else o.map&&n--}),this.items.length,0),new te(Zt.from(i.reverse()),r)},te.empty=new te(Zt.empty,0);var ne=function(t,e,n,i){this.map=t,this.step=e,this.selection=n,this.mirrorOffset=i};ne.prototype.merge=function(t){if(this.step&&t.step&&!t.selection){var e=t.step.merge(this.step);if(e)return new ne(e.getMap().invert(),e,this.selection)}};var ie=function(t,e,n,i){this.done=t,this.undone=e,this.prevRanges=n,this.prevTime=i},re=20;function oe(t,e,n,i){var r,o=n.getMeta(he);if(o)return o.historyState;n.getMeta(pe)&&(t=new ie(t.done,t.undone,null,0));var a=n.getMeta("appendedTransaction");if(0==n.steps.length)return t;if(a&&a.getMeta(he))return a.getMeta(he).redo?new ie(t.done.addTransform(n,null,i,de(e)),t.undone,se(n.mapping.maps[n.steps.length-1]),t.prevTime):new ie(t.done,t.undone.addTransform(n,null,i,de(e)),null,t.prevTime);if(!1===n.getMeta("addToHistory")||a&&!1===a.getMeta("addToHistory"))return(r=n.getMeta("rebased"))?new ie(t.done.rebased(n,r),t.undone.rebased(n,r),le(t.prevRanges,n.mapping),t.prevTime):new ie(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),le(t.prevRanges,n.mapping),t.prevTime);var s=0==t.prevTime||!a&&(t.prevTime<(n.time||0)-i.newGroupDelay||!ae(n,t.prevRanges)),l=a?le(t.prevRanges,n.mapping):se(n.mapping.maps[n.steps.length-1]);return new ie(t.done.addTransform(n,s?e.selection.getBookmark():null,i,de(e)),te.empty,l,n.time)}function ae(t,e){if(!e)return!1;if(!t.docChanged)return!0;var n=!1;return t.mapping.maps[0].forEach((function(t,i){for(var r=0;r<e.length;r+=2)t<=e[r+1]&&i>=e[r]&&(n=!0)})),n}function se(t){var e=[];return t.forEach((function(t,n,i,r){return e.push(i,r)})),e}function le(t,e){if(!t)return null;for(var n=[],i=0;i<t.length;i+=2){var r=e.map(t[i],1),o=e.map(t[i+1],-1);r<=o&&n.push(r,o)}return n}function ce(t,e,n,i){var r=de(e),o=he.get(e).spec.config,a=(i?t.undone:t.done).popEvent(e,r);if(a){var s=a.selection.resolve(a.transform.doc),l=(i?t.done:t.undone).addTransform(a.transform,e.selection.getBookmark(),o,r),c=new ie(i?l:a.remaining,i?a.remaining:l,null,0);n(a.transform.setSelection(s).setMeta(he,{redo:i,historyState:c}).scrollIntoView())}}var ue=!1,fe=null;function de(t){var e=t.plugins;if(fe!=e){ue=!1,fe=e;for(var n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){ue=!0;break}}return ue}var he=new H["PluginKey"]("history"),pe=new H["PluginKey"]("closeHistory");function me(t){return t={depth:t&&t.depth||100,newGroupDelay:t&&t.newGroupDelay||500},new H["Plugin"]({key:he,state:{init:function(){return new ie(te.empty,te.empty,null,0)},apply:function(e,n,i){return oe(n,i,e,t)}},config:t})}function ge(t,e){var n=he.getState(t);return!(!n||0==n.done.eventCount)&&(e&&ce(n,t,e,!1),!0)}function ve(t,e){var n=he.getState(t);return!(!n||0==n.undone.eventCount)&&(e&&ce(n,t,e,!0),!0)}function ye(t){var e=he.getState(t);return e?e.done.eventCount:0}function be(t){var e=he.getState(t);return e?e.undone.eventCount:0}
/*!
    * tiptap-extensions v1.35.1
    * (c) 2021 überdosis GbR (limited liability)
    * @license MIT
    */class _e extends tt{get name(){return"blockquote"}get schema(){return{content:"block*",group:"block",defining:!0,draggable:!1,parseDOM:[{tag:"blockquote"}],toDOM:()=>["blockquote",0]}}commands({type:t}){return()=>Object(X["toggleWrap"])(t)}keys({type:t}){return{"Ctrl->":Object(X["toggleWrap"])(t)}}inputRules({type:t}){return[Object(X["wrappingInputRule"])(/^\s*>\s$/,t)]}}class xe extends tt{get name(){return"bullet_list"}get schema(){return{content:"list_item+",group:"block",parseDOM:[{tag:"ul"}],toDOM:()=>["ul",0]}}commands({type:t,schema:e}){return()=>Object(X["toggleList"])(t,e.nodes.list_item)}keys({type:t,schema:e}){return{"Shift-Ctrl-8":Object(X["toggleList"])(t,e.nodes.list_item)}}inputRules({type:t}){return[Object(X["wrappingInputRule"])(/^\s*([-+*])\s$/,t)]}}class we extends tt{get name(){return"code_block"}get schema(){return{content:"text*",marks:"",group:"block",code:!0,defining:!0,draggable:!1,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:()=>["pre",["code",0]]}}commands({type:t,schema:e}){return()=>Object(X["toggleBlockType"])(t,e.nodes.paragraph)}keys({type:t}){return{"Shift-Ctrl-\\":Object(X["setBlockType"])(t)}}inputRules({type:t}){return[Object(X["textblockTypeInputRule"])(/^```$/,t)]}}class ke extends tt{get name(){return"hard_break"}get schema(){return{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:()=>["br"]}}commands({type:t}){return()=>Object(X["chainCommands"])(X["exitCode"],(e,n)=>(n(e.tr.replaceSelectionWith(t.create()).scrollIntoView()),!0))}keys({type:t}){const e=Object(X["chainCommands"])(X["exitCode"],(e,n)=>(n(e.tr.replaceSelectionWith(t.create()).scrollIntoView()),!0));return{"Mod-Enter":e,"Shift-Enter":e}}}class Se extends tt{get name(){return"heading"}get defaultOptions(){return{levels:[1,2,3,4,5,6]}}get schema(){return{attrs:{level:{default:1}},content:"inline*",group:"block",defining:!0,draggable:!1,parseDOM:this.options.levels.map(t=>({tag:"h"+t,attrs:{level:t}})),toDOM:t=>["h"+t.attrs.level,0]}}commands({type:t,schema:e}){return n=>Object(X["toggleBlockType"])(t,e.nodes.paragraph,n)}keys({type:t}){return this.options.levels.reduce((e,n)=>({...e,["Shift-Ctrl-"+n]:Object(X["setBlockType"])(t,{level:n})}),{})}inputRules({type:t}){return this.options.levels.map(e=>Object(X["textblockTypeInputRule"])(new RegExp(`^(#{1,${e}})\\s$`),t,()=>({level:e})))}}class Oe extends tt{get name(){return"horizontal_rule"}get schema(){return{group:"block",parseDOM:[{tag:"hr"}],toDOM:()=>["hr"]}}commands({type:t}){return()=>(e,n)=>n(e.tr.replaceSelectionWith(t.create()))}inputRules({type:t}){return[Object(X["nodeInputRule"])(/^(?:---|___\s|\*\*\*\s)$/,t)]}}class Ce extends tt{get name(){return"list_item"}get schema(){return{content:"paragraph block*",defining:!0,draggable:!1,parseDOM:[{tag:"li"}],toDOM:()=>["li",0]}}keys({type:t}){return{Enter:Object(X["splitListItem"])(t),Tab:Object(X["sinkListItem"])(t),"Shift-Tab":Object(X["liftListItem"])(t)}}}class Ee extends tt{get name(){return"ordered_list"}get schema(){return{attrs:{order:{default:1}},content:"list_item+",group:"block",parseDOM:[{tag:"ol",getAttrs:t=>({order:t.hasAttribute("start")?+t.getAttribute("start"):1})}],toDOM:t=>1===t.attrs.order?["ol",0]:["ol",{start:t.attrs.order},0]}}commands({type:t,schema:e}){return()=>Object(X["toggleList"])(t,e.nodes.list_item)}keys({type:t,schema:e}){return{"Shift-Ctrl-9":Object(X["toggleList"])(t,e.nodes.list_item)}}inputRules({type:t}){return[Object(X["wrappingInputRule"])(/^(\d+)\.\s$/,t,t=>({order:+t[1]}),(t,e)=>e.childCount+e.attrs.order===+t[1])]}}xt({tableGroup:"block",cellContent:"block+",cellAttributes:{background:{default:null,getFromDOM(t){return t.style.backgroundColor||null},setDOMAttr(t,e){if(t){const n={style:`${e.style||""}background-color: ${t};`};Object.assign(e,n)}}}}});class De extends tt{get name(){return"todo_item"}get defaultOptions(){return{nested:!1}}get view(){return{props:["node","updateAttrs","view"],methods:{onChange(){this.updateAttrs({done:!this.node.attrs.done})}},template:'\n        <li :data-type="node.type.name" :data-done="node.attrs.done.toString()" data-drag-handle>\n          <span class="todo-checkbox" contenteditable="false" @click="onChange"></span>\n          <div class="todo-content" ref="content" :contenteditable="view.editable.toString()"></div>\n        </li>\n      '}}get schema(){return{attrs:{done:{default:!1}},draggable:!0,content:this.options.nested?"(paragraph|todo_list)+":"paragraph+",toDOM:t=>{const{done:e}=t.attrs;return["li",{"data-type":this.name,"data-done":e.toString()},["span",{class:"todo-checkbox",contenteditable:"false"}],["div",{class:"todo-content"},0]]},parseDOM:[{priority:51,tag:`[data-type="${this.name}"]`,getAttrs:t=>({done:"true"===t.getAttribute("data-done")})}]}}keys({type:t}){return{Enter:Object(X["splitToDefaultListItem"])(t),Tab:this.options.nested?Object(X["sinkListItem"])(t):()=>{},"Shift-Tab":Object(X["liftListItem"])(t)}}}class Te extends tt{get name(){return"todo_list"}get schema(){return{group:"block",content:"todo_item+",toDOM:()=>["ul",{"data-type":this.name},0],parseDOM:[{priority:51,tag:`[data-type="${this.name}"]`}]}}commands({type:t,schema:e}){return()=>Object(X["toggleList"])(t,e.nodes.todo_item)}inputRules({type:t}){return[Object(X["wrappingInputRule"])(/^\s*(\[ \])\s$/,t)]}}class Ne extends Q{get name(){return"bold"}get schema(){return{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:t=>"normal"!==t.style.fontWeight&&null},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}],toDOM:()=>["strong",0]}}keys({type:t}){return{"Mod-b":Object(X["toggleMark"])(t)}}commands({type:t}){return()=>Object(X["toggleMark"])(t)}inputRules({type:t}){return[Object(X["markInputRule"])(/(?:\*\*|__)([^*_]+)(?:\*\*|__)$/,t)]}pasteRules({type:t}){return[Object(X["markPasteRule"])(/(?:\*\*|__)([^*_]+)(?:\*\*|__)/g,t)]}}class Me extends Q{get name(){return"code"}get schema(){return{excludes:"_",parseDOM:[{tag:"code"}],toDOM:()=>["code",0]}}keys({type:t}){return{"Mod-`":Object(X["toggleMark"])(t)}}commands({type:t}){return()=>Object(X["toggleMark"])(t)}inputRules({type:t}){return[Object(X["markInputRule"])(/(?:`)([^`]+)(?:`)$/,t)]}pasteRules({type:t}){return[Object(X["markPasteRule"])(/(?:`)([^`]+)(?:`)/g,t)]}}class Ae extends Q{get name(){return"italic"}get schema(){return{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:()=>["em",0]}}keys({type:t}){return{"Mod-i":Object(X["toggleMark"])(t)}}commands({type:t}){return()=>Object(X["toggleMark"])(t)}inputRules({type:t}){return[Object(X["markInputRule"])(/(?:^|[^_])(_([^_]+)_)$/,t),Object(X["markInputRule"])(/(?:^|[^*])(\*([^*]+)\*)$/,t)]}pasteRules({type:t}){return[Object(X["markPasteRule"])(/_([^_]+)_/g,t),Object(X["markPasteRule"])(/\*([^*]+)\*/g,t)]}}class je extends Q{get name(){return"link"}get defaultOptions(){return{openOnClick:!0,target:null}}get schema(){return{attrs:{href:{default:null},target:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:t=>({href:t.getAttribute("href"),target:t.getAttribute("target")})}],toDOM:t=>["a",{...t.attrs,rel:"noopener noreferrer nofollow",target:t.attrs.target||this.options.target},0]}}commands({type:t}){return e=>e.href?Object(X["updateMark"])(t,e):Object(X["removeMark"])(t)}pasteRules({type:t}){return[Object(X["pasteRule"])(/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z]{2,}\b([-a-zA-Z0-9@:%_+.~#?&//=,()!]*)/gi,t,t=>({href:t}))]}get plugins(){return this.options.openOnClick?[new H["Plugin"]({props:{handleClick:(t,e,n)=>{const{schema:i}=t.state,r=Object(Y["getMarkAttrs"])(t.state,i.marks.link);r.href&&n.target instanceof HTMLAnchorElement&&(n.stopPropagation(),window.open(r.href,r.target))}}})]:[]}}class Pe extends Q{get name(){return"strike"}get schema(){return{parseDOM:[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",getAttrs:t=>"line-through"===t}],toDOM:()=>["s",0]}}keys({type:t}){return{"Mod-d":Object(X["toggleMark"])(t)}}commands({type:t}){return()=>Object(X["toggleMark"])(t)}inputRules({type:t}){return[Object(X["markInputRule"])(/~([^~]+)~$/,t)]}pasteRules({type:t}){return[Object(X["markPasteRule"])(/~([^~]+)~/g,t)]}}class $e extends Q{get name(){return"underline"}get schema(){return{parseDOM:[{tag:"u"},{style:"text-decoration",getAttrs:t=>"underline"===t}],toDOM:()=>["u",0]}}keys({type:t}){return{"Mod-u":Object(X["toggleMark"])(t)}}commands({type:t}){return()=>Object(X["toggleMark"])(t)}}class Ie extends Z{get name(){return"history"}get defaultOptions(){return{depth:"",newGroupDelay:""}}keys(){const t={"Mod-z":ge,"Mod-y":ve,"Shift-Mod-z":ve,"Mod-я":ge,"Shift-Mod-я":ve};return t}get plugins(){return[me({depth:this.options.depth,newGroupDelay:this.options.newGroupDelay})]}commands(){return{undo:()=>ge,redo:()=>ve,undoDepth:()=>ye,redoDepth:()=>be}}}class Le extends Z{constructor(t={}){super(t),this.results=[],this.searchTerm=null,this._updating=!1}get name(){return"search"}get defaultOptions(){return{autoSelectNext:!0,findClass:"find",searching:!1,caseSensitive:!1,disableRegex:!0,alwaysSearch:!1}}commands(){return{find:t=>this.find(t),replace:t=>this.replace(t),replaceAll:t=>this.replaceAll(t),clearSearch:()=>this.clear()}}get findRegExp(){return RegExp(this.searchTerm,this.options.caseSensitive?"gu":"gui")}get decorations(){return this.results.map(t=>W["Decoration"].inline(t.from,t.to,{class:this.options.findClass}))}_search(t){this.results=[];const e=[];let n=0;this.searchTerm&&(t.descendants((t,i)=>{t.isText?e[n]?e[n]={text:e[n].text+t.text,pos:e[n].pos}:e[n]={text:t.text,pos:i}:n+=1}),e.forEach(({text:t,pos:e})=>{const n=this.findRegExp;let i;while(i=n.exec(t)){if(""===i[0])break;this.results.push({from:e+i.index,to:e+i.index+i[0].length})}}))}replace(t){return(e,n)=>{const i=this.results[0];if(!i)return;const{from:r,to:o}=this.results[0];n(e.tr.insertText(t,r,o)),this.editor.commands.find(this.searchTerm)}}rebaseNextResult(t,e,n=0){const i=e+1;if(!this.results[i])return null;const{from:r,to:o}=this.results[e],a=o-r-t.length+n,{from:s,to:l}=this.results[i];return this.results[i]={to:l-a,from:s-a},a}replaceAll(t){return({tr:e},n)=>{let i;this.results.length&&(this.results.forEach(({from:n,to:r},o)=>{e.insertText(t,n,r),i=this.rebaseNextResult(t,o,i)}),n(e),this.editor.commands.find(this.searchTerm))}}find(t){return(e,n)=>{this.searchTerm=this.options.disableRegex?t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"):t,this.updateView(e,n)}}clear(){return(t,e)=>{this.searchTerm=null,this.updateView(t,e)}}updateView({tr:t},e){this._updating=!0,e(t),this._updating=!1}createDeco(t){return this._search(t),this.decorations?W["DecorationSet"].create(t,this.decorations):[]}get plugins(){return[new H["Plugin"]({state:{init(){return W["DecorationSet"].empty},apply:(t,e)=>this._updating||this.options.searching||t.docChanged&&this.options.alwaysSearch?this.createDeco(t.doc):t.docChanged?e.map(t.mapping,t.doc):e},props:{decorations(t){return this.getState(t)}}})]}}var Re=n(187),Be=n(188);function qe(t,e){return qe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},qe(t,e)}function Fe(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qe(t,e)}function ze(t){return ze=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ze(t)}function Ve(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var Ue=n(195);function Ke(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function He(t,e){return!e||"object"!==Object(Ue["a"])(e)&&"function"!==typeof e?Ke(t):e}function We(t){var e=Ve();return function(){var n,i=ze(t);if(e){var r=ze(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return He(this,n)}}var Ge=n(180),Je=function(t){Fe(n,t);var e=We(n);function n(){return Object(Re["a"])(this,n),e.apply(this,arguments)}return Object(Be["a"])(n,[{key:"name",get:function(){return"marktag"}},{key:"defaultOptions",get:function(){return{did:null,class:""}}},{key:"schema",get:function(){var t=this;return{attrs:{did:{default:null},class:{default:null}},inclusive:!1,parseDOM:[{tag:"span[did]",getAttrs:function(t){return{did:t.getAttribute("did"),class:t.getAttribute("class")}}}],toDOM:function(e){return["span",Object(l["a"])({did:t.options.did,class:t.options.class},e.attrs),0]}}}},{key:"commands",value:function(t){var e=t.type;return function(t){return t.did?Object(Ge["updateMark"])(e,t):Object(Ge["removeMark"])(e)}}}]),n}(K["Mark"]),Ye=function(t){Fe(n,t);var e=We(n);function n(){return Object(Re["a"])(this,n),e.apply(this,arguments)}return Object(Be["a"])(n,[{key:"name",get:function(){return"align"}},{key:"defaultOptions",get:function(){return{align:["left","center","right"]}}},{key:"schema",get:function(){return{attrs:{align:{default:"left"}},content:"inline*",defining:!0,draggable:!1,parseDOM:[{style:"text-align",getAttrs:function(t){return{align:t}}}],toDOM:function(t){return["span",{style:"text-align: ".concat(t.attrs.align,";display: block")},0]}}}},{key:"commands",value:function(t){var e=t.type;return function(t){return Object(Ge["updateMark"])(e,t)}}}]),n}(K["Mark"]),Xe=function(t){Fe(n,t);var e=We(n);function n(){return Object(Re["a"])(this,n),e.apply(this,arguments)}return Object(Be["a"])(n,[{key:"name",get:function(){return"colormark"}},{key:"schema",get:function(){return{attrs:{color:{default:""}},parseDOM:[{style:"color",getAttrs:function(t){return{color:t}}}],toDOM:function(t){return["span",{style:"color: ".concat(t.attrs.color,";")},0]}}}},{key:"commands",value:function(t){var e=t.type;return function(t){return t.color||t.background?Object(Ge["updateMark"])(e,t):Object(Ge["removeMark"])(e)}}}]),n}(K["Mark"]),Ze=function(t){Fe(n,t);var e=We(n);function n(){return Object(Re["a"])(this,n),e.apply(this,arguments)}return Object(Be["a"])(n,[{key:"name",get:function(){return"backgroundmark"}},{key:"defaultOptions",get:function(){return{color:null}}},{key:"schema",get:function(){return{attrs:{color:{default:null}},inclusive:!1,parseDOM:[{style:"background",getAttrs:function(t){return{color:t}}}],toDOM:function(t){return["span",{style:"background: ".concat(t.attrs.color,";")},0]}}}},{key:"commands",value:function(t){var e=t.type;return function(t){return t.color?Object(Ge["updateMark"])(e,t):Object(Ge["removeMark"])(e)}}}]),n}(K["Mark"]),Qe=function(t){Fe(n,t);var e=We(n);function n(){return Object(Re["a"])(this,n),e.apply(this,arguments)}return Object(Be["a"])(n,[{key:"name",get:function(){return"paragraph"}},{key:"defaultOptions",get:function(){return{style:null,class:null}}},{key:"schema",get:function(){return{attrs:{style:{default:null},class:{default:null}},content:"inline*",draggable:!1,group:"block",parseDOM:[{tag:"div",getAttrs:function(t){return{style:t.getAttribute("style"),class:t.getAttribute("class")}}},0],toDOM:function(t){return["div",Object(l["a"])({},t.attrs),0]}}}},{key:"commands",value:function(t){var e=t.type;return function(t){return Object(Ge["toggleWrap"])(e,t)}}},{key:"inputRules",value:function(t){var e=t.type;return[Object(Ge["wrappingInputRule"])(/^\s*>\s$/,e)]}}]),n}(K["Node"]),tn={name:"page-doc",components:{EditorContent:K["EditorContent"],EditorMenuBubble:K["EditorMenuBubble"]},data:function(){return{editor:null,relationPageControls:[],showRelationControls:!1,pos:{},insertPos:{},show:!1,fontColor:"#efefef",bgColor:"transparent",showSearch:!1,replaceType:"1",searchText:"",replaceText:"",isMark:!1}},methods:{getControlLable:function(t){return t.isFormControl&&t.label?t.label:t.caption},selectRelatComponent:function(t){var e=this;this.showRelationControls=!1;var n=this.editor.state.tr.insertText("%%".concat(t.caption,"%%"));this.editor.view.dispatch(n);var i=/@%%(.+)%%/g,r='<span did="'.concat(t.designId,'" class="marktag">').concat(this.getControlLable(t),"</span>"),o=this.editor.getHTML().replace(i,(function(t,e){return r}));this.editor.setContent(o),setTimeout((function(){e.editor.focus()}),0)},handleClose:function(){this.$parent.pageDocument=this.editor.getHTML()},handleMenuKeydown:function(t){if(38===t.which){var e=$(t.target).prev(".autoselect-menu-item");e&&e.focus()}else if(40===t.which){var n=$(t.target).next(".autoselect-menu-item");n.focus()}else 13===t.which&&$(t.target).trigger("click")},getPageControls:function(){var t=[],e=function e(n){n.forEach((function(n){n.caption?(t.push(n),(n.slots||n.controls)&&e(n.controls||n.slots)):n.controls&&Array.isArray(n.controls)?e(n.controls):n.slots&&Array.isArray(n.slots)&&e(n.slots)}))};e(this.$parent.page.slots),this.relationPageControls=t},toggleTip:function(t){var e;null!==(e=this.$refs["menu"])&&void 0!==e&&e.contains(t.target)||(this.showRelationControls=!1)},showComponentDoc:function(t){var e=t.id;this.show=!0;var n=this.$parent.pageDocument||"";if(e){this.isMark=!0;var i=$("<div></div>");i.append($(n));var r,o=i.find("[did=".concat(e,"]")),a=o.parents("div");if(a.length)a.addClass("mark"),this.editor.setContent(i.html());else this.editor.setContent(n),this.editor.commands.find(null===(r=i.find("[did=".concat(e,"]")))||void 0===r?void 0:r.text())}else this.editor.setContent(n)},search:function(){this.editor.commands.find(this.searchText),this.showSearch=!1},replace:function(){1==this.replaceType?this.editor.commands.replace(this.replaceText):this.editor.commands.replaceAll(this.replaceText),this.showSearch=!1},getDocContent:function(){}},mounted:function(){var t=this;this.editor=new K["Editor"]({editable:!0,autoFocus:!0,useBuiltInExtensions:!0,extensions:[new _e,new xe,new we,new ke,new Se({levels:[1,2,3]}),new Ce,new Ee,new De,new Te,new je,new Ne,new Me,new Ae,new Pe,new $e,new Ie,new Oe,new Le({disableRegex:!1}),new Ye,new Xe,new Ze,new Je,new K["Doc"],new Qe],content:"",editorProps:{handleTextInput:_.throttle((function(e,n,i,r){if("@"===r){t.getPageControls(),t.showRelationControls=!0;var o=e.state,a=o.selection,s=a.from,l=a.to,c=document.querySelector(".pageeditor"),u=c.offsetTop,f=window.getComputedStyle(c),d=f.width,h=(f.height,document.querySelector(".pagedoc-drawer").offsetLeft),p=e.coordsAtPos(s),m=p.left-h+10,g=p.top-u-27,v=parseInt(d)-200-10;t.pos={left:"".concat(m>v?v:m,"px"),top:"".concat(g,"px")},t.$nextTick((function(){var t=document.querySelector(".autoselect-menu-item:first-child");t.removeAttribute("tabindex"),window.setTimeout((function(){t.setAttribute("tabindex",0),t.focus()}))})),t.insertPos={from:s,to:l}}return!1}),500,{leading:!0,trailing:!1})},onUpdate:function(e){var n=e.getHTML;t.$parent.pageDocument=n()},onFocus:function(){if(t.isMark){var e=$("<div>");e.html(t.editor.getHTML()),e.find("div.mark").removeClass("mark"),t.editor.setContent(e.html()),t.isMark=!1}}}),window.addEventListener("click",this.toggleTip),this.$bus.$on("showComponentDoc",this.showComponentDoc)},beforeDestroy:function(){var t,e;null===(t=this.editor)||void 0===t||null===(e=t.destroy)||void 0===e||e.call(t),window.removeEventListener("click",this.toggleTip),this.$bus.$off("showComponentDoc",this.showComponentDoc)}},en=tn,nn=Object(f["a"])(en,V,U,!1,null,null,null);nn.options.__file="designer/page/dsfDesigner/pageEditor/pageDoc.vue";var rn=nn.exports,on=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.buttons,(function(e,i){return n("DsfButton",{directives:[{name:"show",rawName:"v-show",value:t.showButton(e),expression:"showButton(button)"}],key:i,attrs:{title:e.text,icon:e.icon,"btn-style":"icon-text"},on:{click:function(t){return e.handler(t,e)}}},[t._v(" "+t._s(e.text)+" ")])})),1)},an=[];on._withStripped=!0;var sn={name:"DsfDesignerButtons",props:{buttons:{type:Array,default:function(){return[]}},designer:{type:Object,default:function(){return null}},showButton:{type:Function,default:dsf.noop}},methods:{}},ln=sn,cn=Object(f["a"])(ln,on,an,!1,null,null,null);cn.options.__file="designer/page/dsfDesigner/dsfDesignerButtons.vue";var un=cn.exports,fn=(n(36),n(470),n(97),2),dn=12,hn="dsf.page";function pn(){var t=this;$(".ds-tool-item").draggable({addClasses:!1,appendTo:".ds-designer",distance:10,revert:"invalid",cursor:"default",containment:"window",cursorAt:{left:-20,top:-20},helper:function(t){var e=$(t.currentTarget),n=e.get(0).__vue__.data,i=e.clone();return i.addClass("proxy"),i.data("data",{state:"add",attributes:n}),i},start:function(e){t.contextMenuClose(),dsf.designer.broadcast(t,"clearContextMemuHandler",e,null),dsf.designer.broadcast(t,"clearMouseDownHandler",e,null)},stop:function(){t.dragEnd()}})}function mn(){var t=this;$(".designer-page").droppable({tolerance:"pointer",drop:function(e,n){var i=n.helper.data("data"),r=$(t.dragProxy_el),o=r.closest("[slot-name]"),a=o.attr("slot-name");if(a){var s=dsf.designer.getParentControl(r);s&&t.dropHandler(e,s,a,i)}t.dragEnd()},over:function(){$(".designer-page").on("mousemove.tooldrag",(function(e){t.dragMouseMoveHandler(e),e.preventDefault()})),$(".designer-page").on("mouseout.tooldrag",(function(t){t.preventDefault()}))},out:function(){t.dragEnd()}})}function gn(t,e,n,i){var r=$(this.dragProxy_el).next(".designer-ctrl-proxy");1==this.dragProxy.show&&bn.call(this,r.length?r:null,e,n,i)}function vn(){$(".designer-page").off("mousemove.tooldrag"),$(".designer-page").off("mouseout.tooldrag"),$(this.dragProxy_el).appendTo(this.$el),this.dragProxy.show=!1}function yn(t){var e=[],n=function t(n){n.forEach((function(n){n.children?t(n.children):e.push(n)}))};return n(t),_.uniqBy(e,"dsfa_rm_id")}function bn(t,e,n,i){return _n.apply(this,arguments)}function _n(){return _n=Object(P["a"])(j.a.mark((function t(e,n,i,r){var o,a,s,l,c,u,f,d,h,p,m,g=this;return j.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(o=n._isVue?n:n.get(0).__vue__,a=o,s=null,l=null,e&&(c=e.get(0).__vue__,u=_.find(a.slots,(function(t){return t.name===i})),s=_.findIndex(u.controls,(function(t){return t===c.__context__.props}))),"add"==r.state)try{if("control"==r.attributes.type)l=En(r.attributes.data.code,{},this.mobile),l.metadata&&(l.metadata.level=0),l&&this.addControl(a,i,l,s);else if("metadata"==r.attributes.type){if(f=r.attributes.data,d=null,d=f.currentControl?f.currentControl.value:f.controls[0].value,d.indexOf("dsf.")<0&&(d="dsf."+d),l=En(d,{},this.mobile),f.content)try{h=JSON.parse(f.content||"{}"),dsf.mix(l,h)}catch(v){dsf.warn("元数据中的属性未能解析成功")}l.metadata.id=f.id,l.metadata.at=f.at,l.metadata.code=f.code,l.metadata.name=f.name,l.metadata.defaultValue=f.defaultValue,l.metadata.controls=f.controls,l.metadata.dataSource=f.dataSource,l.metadata.type=f.type,l.metadata.order=f.order,l.metadata.isFromMetaData=!0,l.metadata.isuser=!1,l.metadata.currentControl=l.metadata.controls[0],l.metadata.level=0,l.metadata.valueAttributes=dsf.mix(!0,[],l.metadata.valueAttributes,f.valueAttributes),f.rmId&&(l.metadata.rmId=f.rmId),l.metadata.rm_type=r.attributes.group.type_value,l.caption=f.code,l.label=f.name,l&&this.addControl(a,i,l,s)}else"business"==r.attributes.type&&(p=r.attributes.data,m=JSON.parse(p.content),dsf.recursionComponentProps(m,(function(t){var e=dsf.createComponent(t.ctrlType,t);dsf.mix(t,e),t.designId=dsf.uuid(),t.isFormControl&&(t.isBusiness=!0)})),this.addControl(a,i,m,s))}catch(v){dsf.error(v)}else try{r.component.$remove(),this.$nextTick((function(){r.attributes.metadata&&r.attributes.metadata.isuser&&delete r.attributes.metadata.isuser,g.addControl(a,i,r.attributes,s)}))}catch(v){dsf.error(v)}case 4:case"end":return t.stop()}}),t,this)}))),_n.apply(this,arguments)}function xn(t,e,n,i,r){return wn.apply(this,arguments)}function wn(){return wn=Object(P["a"])(j.a.mark((function t(e,n,i,r,o){var a,s,l,c;return j.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e||"",s=n||"",l=i||"",c=dsf.designer.getLayoutPath(a,s,l,r,o),t.abrupt("return",this.$http.get(c,null,{responseType:"text"}));case 5:case"end":return t.stop()}}),t,this)}))),wn.apply(this,arguments)}function kn(t,e,n,i,r){return Sn.apply(this,arguments)}function Sn(){return Sn=Object(P["a"])(j.a.mark((function t(e,n,i,r,o){var a;return j.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=dsf.designer.getExtPath(e,n,i,r,o),t.abrupt("return",this.$http.get(a,null,{responseType:"text"}));case 2:case"end":return t.stop()}}),t,this)}))),Sn.apply(this,arguments)}function On(t){var e=$("<div>"+t.data+"</div>"),n=e.children("script[id='layout']").html()||"",i=e.children("script[id='scss']").html()||"",r=e.children("script[id='designer']").html()||"",o=e.children("script[id='staticValue']").html()||"",a=e.children("script[id='doc']").html()||"",s=new Function(["var layout="+(n||"null")+";","return layout;"].join("\n")),l=new Function(["return "+JSON.stringify(i.trim()||"")].join("\n")),c=new Function(["return "+(r||"{}").trim()].join("\n")),u=new Function(["return "+(o||"{}").trim()].join("\n")),f=new Function(["return "+JSON.stringify(dsf.unescapeHTML(a)||"").trim()].join("\n"));return{layout:s(),staticValue:u(),scss:l(),designer:c(),doc:f()}}function Cn(){var t=this;try{var e=this.$refs.viewProxy.$$getComponent();try{dsf.designer.createViewMetaData(e,this.mobile)}catch(i){return void dsf.layer.message(i,!1)}this.$nextTick((function(){var n=dsf.designer.getLayoutInfo(e,!0);n=dsf.designer.controlToJson(n);var i="/",r='<script type="text/template" id="layout">\n'.concat(n,"\n<").concat(i,"script>");dsf.storage.session.set("layoutContent",r),window.open("./designer.html#"+(t.mobile?"/mobile":"/pc")+"/preview")}))}catch(i){var n="出现了未知的错误";"string"==dsf.type(i)?n=i:dsf.error(i),dsf.layer.pc.message(n,!1)}}function En(t,e,n){var i=n?dsf.designer.createMobileComponent:dsf.designer.createComponent,r=dsf.mix(e,{designProxy:!0});return i(t,r)}function Dn(t){return Tn.apply(this,arguments)}function Tn(){return Tn=Object(P["a"])(j.a.mark((function t(e){var n;return j.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=_.map(e,(function(t){return t.id})),t.abrupt("return",this.$webAPI.getComponents(n).then((function(t){var e=t.data;return e})));case 2:case"end":return t.stop()}}),t,this)}))),Tn.apply(this,arguments)}function Nn(t){return Mn.apply(this,arguments)}function Mn(){return Mn=Object(P["a"])(j.a.mark((function t(e){var n,i;return j.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(n=[],i=0;i<e.length;i++)"3"==e[i].type?n.push(this.$http.get("/rm/list/meta",{namespace:e[i].id})):"8"==e[i].type&&n.push(this.$http.get("/dbsource/rmId",{rmId:e[i].id}));return t.abrupt("return",this.$http.all(n));case 3:case"end":return t.stop()}}),t,this)}))),Mn.apply(this,arguments)}function An(t){return jn.apply(this,arguments)}function jn(){return jn=Object(P["a"])(j.a.mark((function t(e){var n;return j.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=_.map(e,(function(t){return t.id})),t.abrupt("return",this.$webAPI.getBusinessComponets(n));case 2:case"end":return t.stop()}}),t,this)}))),jn.apply(this,arguments)}function Pn(t){return $n.apply(this,arguments)}function $n(){return $n=Object(P["a"])(j.a.mark((function t(e){var n,i,r,o=this;return j.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=8==e.type_value?e.dsfa_rm_id:e.ID,i={id:n,title:e.name,type:e.type_value,items:[]},_.each(e.metadata,(function(t){var n={type:"metadata",name:t.name,data:t,group:e,id:t.id};8==e.type_value&&(n.rmId=e.dsfa_rm_id),i.items.push(n)})),r=_.findIndex(this.useMetaGroup.groups,(function(t){return t.id==i.id})),r<0?this.useMetaGroup.groups.push(i):this.useMetaGroup.groups[r].items=i.items,this.$nextTick((function(){o.initToolDrag()}));case 6:case"end":return t.stop()}}),t,this)}))),$n.apply(this,arguments)}function In(t){return Ln.apply(this,arguments)}function Ln(){return Ln=Object(P["a"])(j.a.mark((function t(e){var n,i,r=this;return j.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n={id:e.rmId,title:e.name,type:dn,items:[]},_.each(e.bcList,(function(t){var i={type:"business",name:t.name,data:t,group:e,id:t.id};n.items.push(i)})),i=_.findIndex(this.useBusinessControlGroup.groups,(function(t){return t.id==n.id})),i<0?this.useBusinessControlGroup.groups.push(n):this.useBusinessControlGroup.groups[i].items=n.items,this.$nextTick((function(){r.initToolDrag()}));case 5:case"end":return t.stop()}}),t,this)}))),Ln.apply(this,arguments)}function Rn(t,e){return Bn.apply(this,arguments)}function Bn(){return Bn=Object(P["a"])(j.a.mark((function t(e,n){var i,r,o,a,s,l=this;return j.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:i={id:e.rmId,title:e.name,type:n,items:[]},r=0;case 2:if(!(r<e.controlList.length)){t.next=14;break}if(o=e.controlList[r],!this.mobile||1==o.isMobile){t.next=6;break}return t.abrupt("continue",11);case 6:if(!dsf.config.designer.controlsVersionFilter){t.next=9;break}if(dsf.isDsf5(o.version)){t.next=9;break}return t.abrupt("continue",11);case 9:a={type:"control",name:o.name,data:o,group:e,id:o.id},i.items.push(a);case 11:r++,t.next=2;break;case 14:i.items.length>0&&(s=_.findIndex(this.useControlsGroup.groups,(function(t){return t.id==i.id})),s<0?this.useControlsGroup.groups.push(i):this.useControlsGroup.groups[s].items=i.items),this.$nextTick((function(){l.initToolDrag()}));case 16:case"end":return t.stop()}}),t,this)}))),Bn.apply(this,arguments)}var qn={props:{business:{type:String,default:""},module:{type:String,default:""},pageName:{type:String,default:""},pageTitle:{type:String,default:""},isPrototype:{type:Boolean,default:!1},tpl:{type:Boolean,default:!1},tplCode:{type:String,default:""},mobile:{type:Boolean,default:!1},layoutType:{type:String,default:"page"}},data:function(){return{loading:!0,initPageMode:dsf.enums.viewMode.DEVELOP,pageDocument:"",cacheFlow:{},pageStateSetting:[]}},computed:{isQuestionDesigner:function(){return"question"==this.layoutType},isPrototypeDesigner:function(){return!0===this.isPrototype},isTemplate:function(){return!0===this.tpl}},created:function(){this.initPageMode=this.isPrototypeDesigner?dsf.enums.viewMode.PROTOTYPE:dsf.enums.viewMode.DEVELOP},methods:{loadLayout:function(t,e,n){var i=this;return Object(P["a"])(j.a.mark((function r(){var o,a,s,l,c,u,f,d,h,p,m,g,v,y,b,_,x,w,k;return j.a.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(o=i,a=t||i.business,s=e||i.module,l=n||i.pageName,c=i.pageTitle||i.$route.query.title,u=hn,f={caption:"page",name:l,title:c,context:{B:a,M:s}},!(a&&s&&l)){r.next=37;break}return d=null,h=null,p=null,m=null,g=null,r.prev=9,r.next=12,xn.call(i,a,s,l,i.mobile,i.tpl);case 12:if(v=r.sent,y=On(v),d=dsf.fillComponentDefaultProps(y.layout),h=y.scss,m=y.designer,p=y.staticValue,g=y.doc,i.tpl){r.next=27;break}return r.next=22,kn.call(i,a,s,l,i.mobile,i.tpl);case 22:b=r.sent,_=b.data,i.extJsCode=_,i.staticData=p,i.pageDocument=g;case 27:r.next=32;break;case 29:r.prev=29,r.t0=r["catch"](9),dsf.error(r.t0);case 32:return r.prev=32,d?(i.page=i.createComponent(u,d,i.mobile),i.extScssCode=h||"",x=dsf.isEmptyObject(m.controlGroup)||!m.controlGroup?[]:m.controlGroup,i.loadControlGrooup(x),w=m.metadataGroup||[],i.loadMetaDataGroup(w),k=m.businessControlGroup||[],i.loadBusinessComponetGroup(k),i.fromTemplateId=m.fromTemplateId||"",i.firstOpen=!1,i.saved=!0,i.$nextTick((function(){i.selectedComponent($(o.$refs.viewProxy.$el))}))):(i.loadEmptyDesigner(u,f,i.initPageMode),i.fromTemplateId="",i.firstOpen=!0,i.saved=!1,i.tpl||i.useTpl(!1,!1,!1)),r.finish(32);case 35:r.next=41;break;case 37:i.loadEmptyDesigner(u,f,i.initPageMode),i.fromTemplateId="",i.firstOpen=!0,i.saved=!1;case 41:case"end":return r.stop()}}),r,null,[[9,29,32,35]])})))()},loadEmptyDesigner:function(t,e,n){var i=this;return Object(P["a"])(j.a.mark((function r(){return j.a.wrap((function(r){while(1)switch(r.prev=r.next){case 0:t=t||hn,i.page=i.createComponent(t,e,i.mobile),n=n||i.initPageMode,i.page.mode=n,i.loadControlGrooup.call([]);case 5:case"end":return r.stop()}}),r)})))()},preView:function(){Cn.call(this)},openStateManage:function(){var t=this;this.$openDialog({title:"规则设置",content:"DesStateManageEdit",width:"40vw",height:"60vh",params:{designer:this,setting:this.pageStateSetting||[]},btns:[{text:"确定",handler:function(e){t.pageStateSetting=e.yes()}},{text:"取消"}]})},useTpl:function(t,e,n){var i=this,r=this;function o(t){return a.apply(this,arguments)}function a(){return a=Object(P["a"])(j.a.mark((function t(e){var n,i,o,a,s,l,c,u,f,d,h,p,m=this;return j.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r.loading=!0,n=e.path.split("/"),i=n.shift(),o=n.pop(),a=n.join("."),s=null,null,l=null,t.prev=6,t.next=9,xn.call(this,i,a,o,this.mobile,!0);case 9:c=t.sent,u=On(c),s=dsf.fillComponentDefaultProps(u.layout),u.scss,l=u.designer,r.fromTemplateId=e.ID,t.next=21;break;case 17:t.prev=17,t.t0=t["catch"](6),dsf.layer.pc.message("读取模板失败",!1),dsf.error(t.t0);case 21:if(t.prev=21,!s){t.next=31;break}return t.next=25,r.setDesButtons(e.ID);case 25:f=r.page.context,d=r.page.name,h=r.page.title,p=r.page.mode,r.page=null,this.$nextTick((function(){var t=dsf.isEmptyObject(l.controlGroup)||!l.controlGroup?[]:l.controlGroup;m.loadControlGrooup(t);var e=l.metadataGroup||[];m.loadMetaDataGroup(e);var n=l.businessControlGroup||[];m.loadBusinessComponetGroup(n),dsf.mix(s,{context:f,name:d,title:h,mode:p}),r.page=m.createComponent(hn,s,r.mobile),r.$nextTick((function(){m.selectedComponent($(r.$refs.viewProxy.$el))}))}));case 31:return r.loading=!1,t.finish(21);case 33:case"end":return t.stop()}}),t,this,[[6,17,21,33]])}))),a.apply(this,arguments)}var s=[{text:"确定",handler:function(){var t=Object(P["a"])(j.a.mark((function t(e){var n;return j.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.radioData,!_.isNull(n)){t.next=6;break}return dsf.layer.message("请选择一个模板",!1),t.abrupt("return",!1);case 6:o.call(i,n);case 7:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()}];!1!==e&&s.push({text:"取消"}),this.tplCode?o.call(this,{path:this.tplCode,ID:this.tplCode.split("/").join(".")}):dsf.layer.openDialog({title:"选择布局模板",fullscreen:!1,content:"DesUseLayoutTpl",params:{isMobile:this.mobile},width:"500px",height:"500px",showClose:!1!==t,btns:s})},saveBusinessComponent:function(){var t=this;this.$openDialog({title:"组件选择",width:"1000px",height:"50vh",params:{designer:this},content:"DesComponents",btns:[{text:"确定",handler:function(e){var n=e.validate();if(!1===n)return!1;var i=e.yes();i.length&&(_.each(i,(function(t){t.props.metadata.id="",t.props.metadata.at="",t.props.metadata_fullcode="",delete t.isFromMetaData})),window.setTimeout((function(){t.saveToBusinessComponentGroup(i)}),1e3))}},{text:"取消"}]})},saveToBusinessComponentGroup:function(t){dsf.designer.saveToBusinessComponentGroup(this,t)},openComponentSelect:function(){var t=this;dsf.layer.openDialog({title:"选择组件",fullscreen:!1,content:"DesCustomComponent",width:"500px",btns:[{text:"确定",handler:function(e){var n=e.yes(),i="0"==e.tabIndex?fn:dn;if(!(n.length>0))return dsf.layer.message("请选择一个组件",!1),!1;var r=yn.call(t,n),o=_.map(r,(function(t){return{id:t.dsfa_rm_id,type:i}}));i==dn?t.loadBusinessComponetGroup(o):t.loadControlGrooup(o)}},{text:"取消"}]})},removeControlGroup:function(t){var e=this;dsf.layer.pc.confirm("确定要删除该控件组吗?").then((function(){dsf.array.remove(e.useControlsGroup.groups,t)})).catch((function(){}))},removeBusinessGroup:function(t){var e=this;dsf.layer.pc.confirm("确定要删除该业务组件吗?").then((function(){dsf.array.remove(e.useBusinessControlGroup.groups,t)})).catch((function(){}))},openMateGroupSelect:function(){var t=this;dsf.layer.openDialog({title:"选择元数据组",fullscreen:!1,content:"DesMetaDataSelect",width:"500px",btns:[{text:"确定",handler:function(e){var n=e.yes();if(n.length>0){var i=yn.call(t,n),r=_.map(i,(function(t){return{id:"8"==t.type_value?t.dsfa_rm_id:t.ID,type:t.type_value}}));t.loadMetaDataGroup(r)}}},{text:"取消"}]})},removeMetaDataGroup:function(t){var e=this;dsf.layer.pc.confirm("确定要删除该元数据吗?").then((function(){dsf.array.remove(e.useMetaGroup.groups,t)})).catch((function(){}))},getComponentsByNode:function(t){var e=[];function n(t){e.push(t),_.each(t.slots||[],(function(t){_.each(t.controls,(function(t){n(t)}))}))}return n(t||this.page),e},createComponent:function(t,e){return En(t,e,this.mobile)},showButton:function(t){var e=this;if(t.saved&&!this.saved)return!1;if(!t.setting)return!0;if(dsf.isFunction(t.setting))return t.setting();if(this.currentUserRoles["SUPER_ADMIN"])return!0;if(this.fromTemplateId){var n=this.desButtons[t.id];if(n){var i=!1;return _.every(n,(function(t){return i=e.hasRole(t),!i})),i}return!1}return!0},hasRole:function(t){var e=this.currentUserRoles[t];return!!e},clearSelectedSlot:function(){var t=document.querySelectorAll("[slot-name]");_.each(t,(function(t){t.classList.remove("ds-slot-selected")}))},selectedSlot:function(t){if("TR"!=t.get(0).tagName){var e=t.attr("slot-name");if(e){var n=dsf.designer.isAllowDrop(t,e,this);if(n){var i=dsf.designer.getParentControl(t);if(i){var r=$(i.$el);if(r.is("[slot-name='".concat(e,"']")))return r.addClass("ds-slot-selected"),r;var o=r.find("[slot-name='".concat(e,"']"));return o&&o.get(0)&&o.eq(0).addClass("ds-slot-selected"),o}}}return null}},clearSelectedComponent:function(){var t=$(".designer-ctrl-proxy");t.each((function(t,e){var n=e.__vue__;n&&(n.__desContext__.selected=!1)}))},$getEventTarget:function(t){var e=$(t).closest(".ds-text-content"),n=e.length>0;return n&&(t=e.parent().get(0)),t},layoutTreeClickHandler:function(t){var e=this,n=n=$(t.target),i=t.ctrlKey;if(i)this.clearSelectedSlot(),this.$nextTick((function(){e.selectedComponent(n,i)}));else{this.clearSelectedSlot(),this.clearSelectedComponent();this.selectedSlot(n);this.$nextTick((function(){e.selectedComponent(n,i)}))}t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation()},selectedComponent:function(t,e){var n=this;this.contextMenuClose();var i=t.closest(".designer-ctrl-proxy");if(i.length){var r=i.get(0).__vue__,o=r.__desContext__.selected;if(r&&(r.isView||(e?(r.__desContext__.selected=!o,r.__desContext__.selected&&this.filterSelectedParentAndChild(r)):r.__desContext__.selected=!0),1==r.__desContext__.selected||r.isView)){var a=this.mobile?"mobile":"pc";dsf.designer.getComponentPropries(this,r.ctrlType,a).done((function(t){t.forEach((function(t){return t.attributes.forEach((function(t){n.format(t,r)}))})),n.attributesGroup=t||[],n.attributesOwner=r})).error((function(t){n.attributesGroup=[],n.attributesOwner=r,dsf.error(t)}))}i.focus()}},format:function(t,e){var n=this;t.dictionaryControl&&t.dictionary&&0===t.dictionary.length&&(t.dictionary=[],dsf.recursionComponentProps(e.$$getComponent().$page.$props,(function(e){var i,r;(e.isFormControl&&"wfinfo"!==e.caption&&"DsfDisposeIdea"!==e.ctrlName&&"DsfMobileDisposeIdea"!==e.ctrlName&&"DsfFormCommentBox"!==e.ctrlName&&("oldFlow"in t||t.dictionary.push({id:e.designId,text:"".concat(e.label,"(").concat(e.caption,")"),value:e.caption})),"wfinfo"===e.caption&&"oldFlow"in t)&&(n.cacheFlow.WFID!==e.chooseFlow.dsfa_rm_id?n.$http.get("wfk/getWFNodeList",{sID:e.chooseFlow.dsfa_rm_id}).then((function(e){e.data.success&&(e.data.data&&e.data.data.NodeList&&e.data.data.NodeList.forEach((function(e){t.dictionary.push({id:e.NodeID,text:e.NodeName,value:e.NodeID})})),n.cacheFlow=e.data.data)})):null===(i=n.cacheFlow)||void 0===i||null===(r=i.NodeList)||void 0===r||r.forEach((function(e){t.dictionary.push({id:e.NodeID,text:e.NodeName,value:e.NodeID})})))})))},getSelectionComponents:function(){var t=document.querySelectorAll(".ds-control-selected"),e=_.map(t,(function(t){var e=null===t||void 0===t?void 0:t.__vue__;return e&&e.$layoutTree||e}));return e=_.filter(e,(function(t){return t})),e},filterSelectedParentAndChild:function(t){var e=this.getSelectionComponents(),n=[];_.eachRight(e,(function(e,i){var r=t.$el==e.$el;if(!r){var o=e.$el.compareDocumentPosition(t.$el);(8&o||16&o)&&n.push(e)}})),_.each(n,(function(t){t.__desContext__.selected=!1}))},addControl:function(t,e,n,i){if(n.designId||(n.designId=dsf.uuid()),!n.caption){var r=n.ctrlType.split(".");n.caption=r[r.length-1].toLowerCase()+this.$refs.viewProxy.getSerial()}if(t.$$getComponent)t=t.$children[0];else while(!t.slots)t=t.$parent;if(t.$el){var o=t.$el.matches(".ds-subtable-cell-content"),a=t.$el.matches(".ds-datagrid-cell-content");n.isFormControl&&(o?(n.showLabel=!1,n.simple=!0,n.lrNoPadding=!0):a?(n.showLabel=!1,n.simple=!1,n.lrNoPadding=!0,t.updateColumn(n)):(n.simple=!1,n.lrNoPadding=!1))}var s=_.findIndex(t.slots,(function(t){return t.name==e}));if(s>=0){var l=t.slots[s];l&&l.textProxy&&dsf.hasOwn(n,"textProxy")&&(n.textProxy=!0,n.showLabel=!1),dsf.isUnDef(i)||i<0?l.controls.push(n):l.controls.splice(i,0,n)}},settingFunction:function(){var t=this;this.$openDialog({title:"功能授权",content:"DesFunctionSetting",width:"1000px",height:"60vh",params:{buttons:_.filter(this.buttons,(function(t){return t.setting}))},btns:[{text:"确定",handler:function(e){var n=e.yes();n&&_.each(n,(function(e){var n=_.filter(t.buttons,(function(t){return t.id==e.id}));n=n.length>0?n[0]:null,n&&(n.roles=e.roles)}))}},{text:"取消"}]})},setQuestionIndex:function(t,e,n){if(dsf.isUnDef(n)||n<0)this.setPrevQuestionIndex(t,e);else{var i=0;_.forEach(e,(function(t,e){t.isQuestionControl&&t.hasQuestionIndex&&t.visible&&(i++,t.questionIndex=i)}))}},openDevelopment:function(){var t=this,e=this.$refs.viewProxy;try{dsf.designer.createViewMetaData(e,this.mobile)}catch(n){return void dsf.layer.message(n,!1)}this.$nextTick((function(){var n=dsf.designer.getLayoutInfo(e),i=dsf.designer.convertTemplateAndControlData(n),r=dsf.beautify.html(i.tpl);dsf.layer.pc.openDialog({title:"二次开发",fullscreen:!0,overflow:"hidden",content:"Development",params:{extCode:t.extJsCode||"",css:t.extScssCode||"",vueTemplate:r||""},btns:[{text:"保存并提交",handler:function(e){var n=e.yes();return t.extJsCode=n.extCode,t.extScssCode=n.css,t.saveLayout(),!1}},{text:"保存不提交",handler:function(e){var n=e.yes();t.extJsCode=n.extCode,t.extScssCode=n.css}},{text:"关闭"}]})}))},openPageDoc:function(){this.$bus.$emit("showComponentDoc",{id:null})},saveLayoutToTemplate:function(){dsf.designer.saveLayoutToTemplate(this)},saveLayout:function(){var t=this,e=dsf.designer.getStaticValue(this.$refs.viewProxy),n=function(){var t=dsf.designer.saveLayoutValidate(this.$refs.viewProxy);!1!==t&&dsf.designer.saveLayout(this)};dsf.isEmptyObject(e)||this.page.mode==dsf.enums.viewMode.PROTOTYPE?n.call(this):dsf.layer.confirm("检测到组件中存在静态数据的配置，在非原型模式下静态数据会被抛弃不予保存。是否要继续?").then((function(){n.call(t)})).catch((function(){}))},loadMetaDataGroup:function(t){var e=this;return Object(P["a"])(j.a.mark((function n(){var i;return j.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,t=_.uniqBy(t,(function(t){return t.id})),n.next=4,Nn.call(e,t);case 4:i=n.sent,_.each(i,(function(n){var i=n.data;i=_.filter(i||[],(function(e){return 3==e.type_value?_.map(t,"id").indexOf(e.ID)>=0:_.map(t,"id").indexOf(e.dsfa_rm_id)>=0})),_.each(i,(function(t){Pn.call(e,t)}))})),n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](0),dsf.httpError(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))()},loadControlGrooup:function(t){var e=this;return Object(P["a"])(j.a.mark((function n(){var i;return j.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,t=_.uniqBy(t,(function(t){return t.id})),n.next=4,Dn.call(e,t);case 4:i=n.sent,_.each(i,(function(t){Rn.call(e,t)})),n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](0),dsf.httpError(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))()},loadBusinessComponetGroup:function(t){var e=this;return Object(P["a"])(j.a.mark((function n(){var i;return j.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(n.prev=0,t=_.uniqBy(t,(function(t){return t.id})),i=[],!(t.length>0)){n.next=9;break}return n.next=6,An.call(e,t);case 6:i=n.sent,n.next=10;break;case 9:i=[];case 10:_.each(i.data,(function(t){In.call(e,t)})),n.next=16;break;case 13:n.prev=13,n.t0=n["catch"](0),dsf.error(n.t0);case 16:case"end":return n.stop()}}),n,null,[[0,13]])})))()},getFunctionSetting:function(){var t=this;return Object(P["a"])(j.a.mark((function e(){var n;return j.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if({},n="",n=t.tpl?(t.page.context.B||"")+"."+(t.page.context.M||"")+"."+t.page.name:t.fromTemplateId,!n){e.next=7;break}return e.next=6,t.setDesButtons(n);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))()},getCurrentUserRoles:function(){var t=this;return Object(P["a"])(j.a.mark((function e(){var n;return j.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$webAPI.getCurrentUserRoles();case 2:return n=e.sent,e.abrupt("return",_.keyBy(n.data,"serialNumber"));case 4:case"end":return e.stop()}}),e)})))()},setDesButtons:function(t){var e=this;return Object(P["a"])(j.a.mark((function n(){var i,r,o;return j.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$webAPI.getDesignerButtons({templateId:t});case 2:i=n.sent,i.data&&(r=i.data.button?JSON.parse(i.data.button):[],o={},_.each(r,(function(t,n){o[t.id]=_.map(t.roles,"serial_number");var i=_.find(e.buttons,(function(e){return e.id==t.id}));i&&(i.roles=t.roles)})),e.desButtons=o);case 4:case"end":return n.stop()}}),n)})))()},contextMenuOpen:function(t){var e=this,n=dsf.designer.getComponentByTarget(t.target);if(n){dsf.designer.broadcast(this,"clearContextMemuHandler",t,null,n);do{var i=n?n.$options:{},r=i.design?i.design.contextMenuHandler:null;if(r)break;n=n.$parent}while(n!=this.$root);var o=n.$options,a=n.$options.design?n.$options.design.contextMenuHandler:null;if(a){this.contextMenuClose();var s=o.design.contextMenuHandler.call(n,t,this);s&&s.length>0&&(this.$nextTick((function(){e.contextMenu.items=s,e.contextMenu.show=!0,e.contextMenu.target=n,e.$nextTick((function(){var n=e.$refs.contextmenu;n&&document.getElementById("app").appendChild(n),n&&n.childNodes[0]&&(n=n.childNodes[0],e.contextMenu.pos.x=t.pageX,e.contextMenu.pos.y=t.pageY,e.contextMenu.pos.y+n.offsetHeight>e.$refs.designerPanel.offsetHeight&&(e.contextMenu.pos.y=t.pageY-n.offsetHeight))}))})),$(document).one("click",this.contextMenuClose)),t.stopPropagation(),t.preventDefault()}}},contextMenuClose:function(){this.contextMenu.items=[],this.contextMenu.show=!1,this.contextMenu.target=null},contextMenuItemClick:function(t,e){t.disabled?(e.preventDefault(),e.stopPropagation()):t.handler.call(this.contextMenu.target,t)},mouseDownHanlder:function(t){try{if(this.clearSelectedSlot(),0!=t.button)return;var e=this.$getEventTarget(t.target);e||(e=t.target);var n=dsf.designer.getComponentByTarget(e);if(!n)return;dsf.designer.broadcast(this,"clearMouseDownHandler",t,null,n),this.mousedown.target=n;var i=n?n.$options:{};i.design.mouseDownHandler&&i.design.mouseDownHandler.call(n,t,this,e)}catch(r){dsf.error(r)}finally{$(document).one("mouseup",this.mouseUpHandler)}},mouseMoveHanlder:function(t){try{if(this.mousedown.target){var e=this.mousedown.target.$options||{};e.design.mouseMoveHandler&&e.design.mouseMoveHandler.call(this.mousedown.target,t,this)}}catch(n){dsf.error(n)}},mouseUpHandler:function(t){try{if(this.mousedown.target){var e=this.mousedown.target.$options||{};e.design.mouseUpHandler&&e.design.mouseUpHandler.call(this.mousedown.target,t,this)}}catch(n){dsf.error(n)}finally{this.mousedown.target=null}}}},Fn=(n(104),"BOM:DsfLayout-"),zn=!1,Vn={created:function(){document.addEventListener("keydown",this.watchKeyBoard)},beforeDestroy:function(){document.removeEventListener("keydown",this.watchKeyBoard)},methods:{watchKeyBoard:function(t){var e=this,n=this,i=document.activeElement,r="TEXTAREA"==i.tagName||"INPUT"==i.tagName||"SELECT"==i,o=i.getAttribute("contenteditable")&&"false"!==i.getAttribute("contenteditable");if(!r&&!o&&t.ctrlKey)if("65"==t.keyCode)this.clearSelectedSlot(),this.clearSelectedComponent(),this.selectedComponent(this.$refs.viewProxy.$el),t.preventDefault();else if("67"==t.keyCode){var a=this.$el.querySelector(".designer-page"),s=16&a.compareDocumentPosition(document.activeElement);if(!s)return;var l=this.getSelectionComponents();0==l.length&&(l=[this.$refs.viewProxy]),l=_.map(l,(function(t){return t.$layoutTree||t}));var c=[];_.each(l,(function(t){var e=dsf.designer.getLayoutInfo(t);c.push(e)}));var u=dsf.designer.controlToJson(c),f=document.createElement("textarea");document.body.append(f);var d=Kn(this.page),h=Hn.call(this);f.innerText=Fn+[d,h].join("|")+";"+u,f.focus(),f.selectionStart=0,f.selectionEnd=f.value.length,dsf.layer.message("页面已复制到剪贴板"),window.setTimeout((function(){f.blur(),f.remove()}),200)}else"86"==t.keyCode&&this.$getClipboard().then((function(t){t&&t.startsWith(Fn)?(e.loading=!0,e.$copyToPage(t),e.loading=!1):t.startsWith("<img ")&&(e.loading=!0,Un.call(e,t).then((function(t){n.$copyComponetToTarget([t])})).finally((function(){e.loading=!1})))}))},$getClipboard:function(){return new Promise((function(t,e){var n=$("#copyTextBox");n.length<=0&&(n=$('<div contenteditable id="copyTextBox" style="display:none; position:fixed;z-index:100000;top:0px;left:0px"></div>').appendTo($("body"))),n.fadeTo(10,0),window.focus(),n.focus().select(),window.setTimeout((function(){var e=n.html();e=dsf.unescapeHTML(e),n.blur(),n.remove(),t(e)}),50)}))},$copyToPage:function(t){if(t)try{var e=t.indexOf(";"),n=t.substring(Fn.length,e).split("|"),i=n[0],r=n[1],o=Hn.call(this);if(r!=o)return void dsf.layer.message("不同的终端类型不可复制",!1);t=t.substr(e+1);var a=JSON.parse(t);if(a)try{var s=a.length>0&&a[0].isView;s?this.$copyPage(a[0],Kn(this.page)==i):this.$copyComponetToTarget(a)}catch(l){dsf.error(l),dsf.layer.message("解析结构出现了未知的错误",!1)}}catch(l){dsf.layer.message("无法识别的结构数据",!1)}},$createComponentsFromClipboard:function(t,e){var n=this,i=this.page;_.each(t.slots||[],(function(t){var e=_.find(i.slots,(function(e){return e.name==t.name}));e&&_.each(t.controls,(function(t){var i=dsf.designer.createComponent(t.ctrlType,dsf.mix(!0,{},t));Gn.call(n,i),e.controls.push(i)}))}))},$copyPage:function(t,e){var n=this,i=this.page;if(e)this.$createComponentsFromClipboard(t,!0);else{var r=!1;if(_.each(i.slots,(function(t){var e;(null===t||void 0===t||null===(e=t.controls)||void 0===e?void 0:e.length)>0&&(r=!0)})),r){var o=!1;dsf.layer.confirm({message:"当前页面上已经存在组件，您可以选择覆盖或是合并",confirmButtonText:"覆盖",cancelButtonText:"合并"}).then((function(t){_.each(i.slots||[],(function(t){t.controls.splice(0,t.controls.length)}))})).catch((function(t){o=!0})).finally((function(){n.$createComponentsFromClipboard(t,o)}))}else this.$createComponentsFromClipboard(t)}},$copyComponetToTarget:function(t){var e,n=this,i=null,r=this.$el.querySelector("[slot-name].ds-slot-selected"),o=this.$el.querySelectorAll(".ds-control-selected");if(r){i=dsf.designer.getParentControl(r);var a=r.getAttribute("slot-name");e=_.find(i.slots,(function(t){return t.name==a}))}else{if(1==o.length){if(!zn){zn=!0;var s=o[0].__vue__;s=s.$layoutTree||s,r=$(s.$el).closest("[slot-name]"),i=dsf.designer.getParentControl(r);var l=r.attr("slot-name");e=_.find(i.slots,(function(t){return t.name==l})),Wn.call(this).then((function(r){var o=_.findIndex(e.controls,(function(t){return t===s.__context__.props}));o>=0&&("after"==r?o+=1:"merge"==r&&dsf.array.remove(e.controls,s.__context__.props),n.$nextTick((function(){_.eachRight(t,(function(t){var r=dsf.designer.createComponent(t.ctrlType,dsf.mix(!0,{},t));Gn.call(n,r),n.addControl(i,e.name,r,o)}))})))})).catch((function(){})).finally((function(){zn=!1}))}return}i=this.$refs.viewProxy,e=i.slots[0]}this.$nextTick((function(){_.each(t,(function(t){var r=dsf.designer.createComponent(t.ctrlType,dsf.mix(!0,{},t));Gn.call(n,r),n.addControl(i,e.name,r)}))}))}}};function Un(t){var e=$(t),n=e.attr("src"),i=this;if(n&&0==n.indexOf("data:image"))return this.$http.post("file/base64Img",{base64ImgStr:n.split(",")[1]}).then((function(t){var e=t.data;if(e.data&&e.data.length>0){var n=new Image;return n.src=dsf.url.getWebPath(e.data[0].relativePath),new Promise((function(t,e){n.onload=function(){var e=n.width,r=(n.height,i.createComponent("dsf.uploaddesignimg",{url:n.src,width:e+"px",height:"auto",designProxy:!0}));t(r)}}))}}));var r=new Image;return r.src=n,new Promise((function(t,e){r.onload=function(){var e=r.width,n=(r.height,i.createComponent("dsf.uploaddesignimg",{url:r.src,width:e+"px",height:"auto",designProxy:!0}));t(n)}}))}function Kn(t){return[t.context.B,t.context.M,t.name].join(".")}function Hn(){return this.mobile?"mobile":"pc"}function Wn(){return new Promise((function(t,e){dsf.layer.openDialog({template:"您想复制到当前选中组件哪个位置？",title:"提示",width:"420px",height:"60px",btnSize:"small",btns:[{text:"之前",type:"main",handler:function(){t("before")}},{text:"之后",type:"main",handler:function(){t("after")}},{text:"覆盖",type:"main",handler:function(){t("merge")}},{text:"取消",handler:function(){e()}}]})}))}function Gn(t){var e=this;t.designId=dsf.uuid(),t.isCopy=!0,_.each(t.slots||[],(function(t){t&&_.each(t.controls,(function(n){Gn.call(e,n,t)}))}))}var Jn={name:"DsfDesigner",components:{DsfDesignerButtons:un,dragItem:z,pageDoc:rn},mixins:[qn,Vn],provide:function(){return{$designer:this}},data:function(){var t=this;return{staticData:{},firstOpen:!0,saved:!1,mousedown:{target:null},design:!0,buttons:[{text:"保存",id:"save",icon:"baocun",handler:this.saveLayout,setting:!0,roles:[]},{text:"预览",id:"preview",icon:"icon_yulan",handler:this.preView,setting:!1,roles:[]},{text:"模板选择",id:"tpl",icon:"shebeikaifa1",handler:this.useTpl,setting:function(){return!t.isQuestionDesigner},roles:[]},{text:"控件组选择",id:"ctrl",icon:"shebeiguanli",handler:this.openComponentSelect,setting:function(){return!t.isQuestionDesigner},roles:[]},{text:"元数据选择",id:"meta",icon:"shujuwajue",handler:this.openMateGroupSelect,setting:!0,roles:[]},{text:"保存业务组件",id:"bctrl",icon:"biaodanzujian-xialakuang",handler:this.saveBusinessComponent,setting:!0,saved:!0,roles:[]},{text:"状态配置",id:"stateMessage",icon:"hanshu",handler:this.openStateManage,setting:!1,roles:[],saved:!0},{text:"二次开发",id:"js",icon:"shebeikaifa1",handler:this.openDevelopment,setting:!1,roles:[],saved:!0},{text:"页面文档",id:"desc",icon:"DOC",handler:this.openPageDoc,setting:function(){return!t.isQuestionDesigner},roles:[]}],templateButtons:[{text:"保存模板",icon:"baocun",handler:this.saveLayoutToTemplate,setting:!1,roles:[],show:function(){return!0}},{text:"预览",icon:"icon_yulan",handler:this.preView,setting:!1,roles:[],show:function(){return!0}},{text:"模板选择",icon:"shebeikaifa1",handler:this.useTpl,setting:!0,roles:[],show:function(){return!0}},{text:"控件组选择",icon:"icon_shezhi",handler:this.openComponentSelect,setting:!0,roles:[],show:function(){return!0}},{text:"功能授权",icon:"jiaohuan",handler:this.settingFunction,setting:!1,roles:[],show:function(){return!0}}],layout:{toolsBox:{activeName:"controls",tabs:[{name:"controls",label:"基础组件"},{name:"business",label:"业务组件"},{name:"metadata",label:"元数据"}]}},page:null,tools:{activeName:"",groups:[]},useControlsGroup:{activeName:"",groups:[]},useMetaGroup:{activeName:"",groups:[]},useBusinessControlGroup:{activeName:"",groups:[]},dragProxy:{show:!1},attributesGroup:[],attributesOwner:{},subTree:[],controls:{},dragMouseMoveTarget:null,contextMenu:{show:!0,items:[],pos:{x:-10,y:-10},target:null},extJsCode:I,extCssCode:"",extScssCode:"",fromTemplateId:"",desButtons:{},currentUserRoles:{},buttonLoad:!1,leftSearchStr:"",leftSearchInput:""}},computed:{dragProxy_el:function(){return this.$refs.dragProxy},leftTabs:function(){var t,e,n=this;return _.filter(null===this||void 0===this||null===(t=this.layout)||void 0===t||null===(e=t.toolsBox)||void 0===e?void 0:e.tabs,(function(t){return!n.isQuestionDesigner||"business"!=t.name}))},currPageMode:{get:function(){var t=this.page;return t?t.mode:null},set:function(t){this.page&&(this.page.mode=t)}}},created:function(){document.addEventListener("click",this.emptyClick)},beforeDestroy:function(){document.removeEventListener("click",this.emptyClick)},mounted:function(){var t=this;return Object(P["a"])(j.a.mark((function e(){return j.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.loading=!0,t.$nextTick(Object(P["a"])(j.a.mark((function e(){return j.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.init(),e.next=4,t.getCurrentUserRoles();case 4:return t.currentUserRoles=e.sent,e.next=7,t.loadLayout();case 7:return e.next=9,t.getFunctionSetting();case 9:e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),dsf.httpError(e.t0,{message:"设计器加载失败"});case 14:return e.prev=14,t.loading=!1,t.buttonLoad=!0,e.finish(14);case 18:case"end":return e.stop()}}),e,null,[[0,11,14,18]])}))));case 2:case"end":return e.stop()}}),e)})))()},updated:function(){},methods:{emptyClick:function(t){this.clearSelectedSlot()},dragEnd:function(){vn.call(this)},init:function(){this.initToolDrag(),this.initDrop()},initToolDrag:function(){pn.call(this)},initDrop:function(){mn.call(this)},showAndHideTextConent:function(t){var e=$(this.$el).find(".ds-text-content");e.each((function(n){t&&e.get(n)==t.get(0)?e.eq(n).hide():e.eq(n).show()}))},dragMouseMoveHandler:function(t){var e=$(t.target),n=null;if(!e.hasClass("drag-proxy"))if(e.is("[slot-name]")){var i=dsf.designer.isAllowDrop(e,e.attr("slot-name"),this);if(i){n=e,this.dragProxy.show=!0;var r=$(this.dragProxy_el);n.append(r)}}else{var o=e.closest(".designer-ctrl-proxy");if(o&&o.length>0){if(!e.hasClass("designer-mask")&&!e.hasClass("ds-control")||e.hasClass("ds-no-drop"))return;var a=dsf.designer.getDsfComponent(o.get(0).__vue__,this);if(a){a.$$getComponent&&(a=a.$$getComponent()),n=o.closest("[slot-name]");var s=dsf.designer.isAllowDrop(n,n.attr("slot-name"),this);if(s){var l=e.height(),c=$(this.dragProxy_el);this.dragProxy.show=!0,t.offsetY<l/2?o.before(c):o.after(c)}}}}},dropHandler:function(t,e,n,i){gn.call(this,t,e,n,i)},leftSearch:function(){this.leftSearchStr=this.leftSearchInput},isMatchLeftSearch:function(t){return!this.leftSearchStr||t.indexOf(this.leftSearchStr)>=0}}},Yn=Jn,Xn=Object(f["a"])(Yn,N,M,!1,null,null,null);Xn.options.__file="designer/page/dsfDesigner/dsfDesigner.vue";var Zn=Xn.exports,Qn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-tabs",{attrs:{stretch:""},model:{value:t.tabActive,callback:function(e){t.tabActive=e},expression:"tabActive"}},[n("el-tab-pane",{staticClass:"commonUse",attrs:{label:"常用",name:"1"}},[n("dsf-virtual-scroll",[n("el-collapse",{attrs:{accordion:""},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.inCommonUseGroup,(function(e,i){return n("el-collapse-item",{key:i,attrs:{title:e.name,name:e.name}},[n("div",t._l(e.attributes,(function(e,i){return n("DsfDesignerProperty",{directives:[{name:"show",rawName:"v-show",value:t.show(e.showExpress),expression:"show(item.showExpress)"}],key:(e.bindControlAttr||"")+i,attrs:{rel:e.bindControlAttr,desc:e.desc,"desc-striking":e.desc_striking,data:e,owner:t.owner,bind:t.getBind(e)}})})),1)])})),1)],1)],1),n("el-tab-pane",{staticClass:"all",attrs:{label:"全部",name:"2"}},[n("dsf-virtual-scroll",[n("el-collapse",{attrs:{accordion:""},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.data,(function(e,i){return n("el-collapse-item",{key:i,attrs:{title:e.name,name:e.name}},[n("div",t._l(e.attributes,(function(e,i){return n("DsfDesignerProperty",{directives:[{name:"show",rawName:"v-show",value:t.show(e.showExpress),expression:"show(item.showExpress)"}],key:(e.bindControlAttr||"")+i,attrs:{rel:e.bindControlAttr,desc:e.desc,"desc-striking":e.desc_striking,data:e,owner:t.owner,bind:t.getBind(e)}})})),1)])})),1)],1)],1)],1)},ti=[];Qn._withStripped=!0;n(46);var ei={name:"DsfDesignerProperties",props:{data:{type:Array,default:function(){return[]}},owner:{type:Object,default:function(){return{}}}},data:function(){return{tabActive:"1",activeName:"",inCommonUseGroup:[]}},watch:{data:{handler:function(t){this.activeName=t[0]?t[0].name:"",this.inCommonUseGroup=this.getInCommonUse(this.data)}},inCommonUseGroup:function(t){t.length?this.tabActive="1":this.tabActive="2"}},mounted:function(){this.inCommonUseGroup=this.getInCommonUse(this.data)},methods:{getInCommonUse:function(t){var e=[];return _.each(t,(function(t){var n=_.filter(t.attributes,(function(t){return t.inCommonUse}));if(n.length){var i=dsf.mix({},t,{attributes:n});e.push(i)}})),e},getBind:function(t){var e=t.bindControlAttr||"",n=e.split(".");if(1==n.length)return{data:this.owner,key:n[0]||""};var i=n.slice(0,n.length-1),r=this.owner,o=i.shift();while(o){if(!dsf.isDef(r[o])){r=null;break}r=r[o],o=i.shift()}return r||(r=this.owner),{data:r,key:n[n.length-1]}},show:function(t){return!t||this.$eval(t,this.owner)}}},ni=ei,ii=Object(f["a"])(ni,Qn,ti,!1,null,null,null);ii.options.__file="designer/propertyEditor/dsfDesignerProperties.vue";var ri=ii.exports,oi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"property-item"},[n("div",{staticClass:"property-item-name"},[t._v(" "+t._s(t.data.text)+" "),t.desc?n("DsfIcon",{class:{"desc-striking":t.descStriking},staticStyle:{"margin-left":"5px",cursor:"pointer"},attrs:{name:"bangzhuzhongxin"},on:{click:t.showHelp}}):t._e(),n("el-dialog",{attrs:{visible:t.showHeplerMark,title:t.data.text,"append-to-body":!0,width:"500px"},on:{"update:visible":function(e){t.showHeplerMark=e}}},[n("div",{staticStyle:{"max-height":"500px","min-height":"300px",overflow:"auto"}},[n("span",{staticStyle:{display:"inline-block","line-height":"1.5em"},domProps:{innerHTML:t._s(t.desc)}})])])],1),"text"==t.data.showType?n("el-input",{attrs:{attrdata:t.data,disabled:t.inputDisabled,placeholder:"请输入"},on:{change:t.dataValueChange},model:{value:t.dataValue,callback:function(e){t.dataValue=e},expression:"dataValue"}}):t._e(),"number"==t.data.showType?n("el-input-number",{staticStyle:{width:"100%"},attrs:{attrdata:t.data,controls:t.config.controls||!0,size:t.config.size||"medium",step:t.config.step,"step-strictly":t.config.stepStrictly||!1,min:t.config.min||0,max:t.config.max,precision:t.config.precision||0},on:{change:t.dataValueChange},model:{value:t.dataValue,callback:function(e){t.dataValue=e},expression:"dataValue"}}):"boolean"==t.data.showType?n("el-radio-group",{attrs:{attrdata:t.data},on:{change:t.dataValueChange},model:{value:t.dataValue,callback:function(e){t.dataValue=e},expression:"dataValue"}},[n("el-radio",{attrs:{label:!0}},[t._v("是")]),n("el-radio",{attrs:{label:!1}},[t._v("否")])],1):"checkbox"==t.data.showType?n("el-checkbox-group",{attrs:{attrdata:t.data},on:{change:t.dataValueChange},model:{value:t.dataValueArray,callback:function(e){t.dataValueArray=e},expression:"dataValueArray"}},t._l(t.data.dictionary,(function(e,i){return n("el-checkbox",{key:i,attrs:{label:e.value}},[t._v(" "+t._s(e.text)+" ")])})),1):"select"==t.data.showType?n("el-select",{staticStyle:{width:"100%"},attrs:{attrdata:t.data,placeholder:"请选择"},on:{change:t.dataValueChange},model:{value:t.dataValue,callback:function(e){t.dataValue=e},expression:"dataValue"}},t._l(t.data.dictionary,(function(t,e){return n("el-option",{key:e,attrs:{label:t.text,value:t.value}})})),1):"rangeSelect"==t.data.showType?n("DsfRangeSelect",{attrs:{dictionary:t.data.dictionary},on:{change:t.dataValueChange},model:{value:t.dataValue,callback:function(e){t.dataValue=e},expression:"dataValue"}}):"timePicker"==t.data.showType?n("el-time-picker",t._b({staticStyle:{width:"100%"},attrs:{attrdata:t.data},on:{change:t.dataValueChange},model:{value:t.dataValue,callback:function(e){t.dataValue=e},expression:"dataValue"}},"el-time-picker",t.data.attributes,!1)):"datePicker"==t.data.showType?n("el-date-picker",t._b({staticStyle:{width:"100%"},attrs:{attrdata:t.data,"value-format":"timestamp"},on:{change:t.dataValueChange},model:{value:t.dataValue,callback:function(e){t.dataValue=e},expression:"dataValue"}},"el-date-picker",t.data.attributes,!1)):"multipleText"==t.data.showType?[n("el-row",{attrs:{gutter:2}},t._l(t.config.inputs,(function(e,i){return n("el-col",{key:i,attrs:{span:24/t.config.inputs.length}},[t.dataValue?[n("el-input",t._b({staticClass:"mtext",attrs:{placeholder:e.placeholder||"",attrdata:t.data},on:{change:function(e){return t.arrayDataValueChange(e,t.dataValue,i)}},model:{value:t.dataValue[i],callback:function(e){t.$set(t.dataValue,i,e)},expression:"dataValue[$index]"}},"el-input",t.data.attributes,!1))]:[n("el-input",t._b({staticClass:"mtext",attrs:{placeholder:e.placeholder||"",attrdata:t.data},on:{change:function(e){return t.arrayDataValueChange(e,t.dataValue,i)}}},"el-input",t.data.attributes,!1))]],2)})),1)]:"dialog"==t.data.showType?n("DsfDesignerDialog",{attrs:{owner:t.owner,attrdata:t.data},on:{change:t.dataValueChange},model:{value:t.dataValue,callback:function(e){t.dataValue=e},expression:"dataValue"}}):"upload"==t.data.showType?n("div",{staticStyle:{display:"flex"}},[n("el-input",{attrs:{placeholder:"请输入"},on:{change:t.dataValueChange},model:{value:t.dataValue,callback:function(e){t.dataValue=e},expression:"dataValue"}}),n("el-upload",{staticClass:"ds-button-update",attrs:{headers:t.dsf.getDefaultHttpHeader(),accept:t.data.accept,data:t.data.config,"show-file-list":!1,action:t.getRequestUrl(t.data),"on-success":t.handleSuccess(t.data),"before-upload":t.beforeUpload(t.data)}},[n("DsfButton",{staticStyle:{"white-space":"nowrap"}},[t._v(t._s(t.data.btnName))])],1)],1):t._e()],2)},ai=[];oi._withStripped=!0;n(202),n(140);var si=n(624),li=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ds-range-select"},[n("el-select",{attrs:{placeholder:"请选择"},on:{change:t.valueChange},model:{value:t.startValue,callback:function(e){t.startValue=e},expression:"startValue"}},t._l(t.start,(function(t,e){return n("el-option",{key:"start-"+e,attrs:{label:t.text,value:t.value}})})),1),n("span",{staticClass:"seperate"},[t._v("至")]),n("el-select",{attrs:{placeholder:"请选择"},on:{change:t.valueChange},model:{value:t.endValue,callback:function(e){t.endValue=e},expression:"endValue"}},t._l(t.end,(function(t,e){return n("el-option",{key:"start-"+e,attrs:{label:t.text,value:t.value}})})),1)],1)},ci=[];li._withStripped=!0;var ui={props:{value:{type:Array,default:function(){return[]}},dictionary:{type:Array,default:function(){return[]}}},data:function(){return{startValue:"",endValue:""}},computed:{start:function(){return this.dictionary},end:function(){var t=this,e=this.dictionary.findIndex((function(e){return e.value===t.startValue}));return this.dictionary.slice(e)}},watch:{value:function(){this.initValue()}},created:function(){this.initValue(),this.valueChange()},methods:{initValue:function(){this.startValue=this.value.length?this.value[0]:this.dictionary[0].value,this.endValue=this.value.length?this.value[1]:this.dictionary[this.dictionary.length-1].value},valueChange:function(){var t=this;if(this.end.some((function(e){return e.value===t.endValue}))){var e=[this.startValue,this.endValue];this.$emit("input",e),this.$emit("change",e)}else this.endValue=this.end[0].value}}},fi=ui,di=Object(f["a"])(fi,li,ci,!1,null,null,null);di.options.__file="designer/propertyEditor/dsfRangeSelect.vue";var hi=di.exports,pi={name:"DsfDesignerProperty",components:{DsfDesignerDialog:si["a"],DsfRangeSelect:hi},props:{data:{type:Object,default:function(){return{}}},bind:{type:Object,default:function(){return{}}},owner:{type:Object,default:function(){return{}}},desc:{type:String,default:""},descStriking:{type:Boolean,default:!1}},data:function(){return{showHeplerMark:!1,dataValue:this.convertFromDataType(this.bind.data[this.bind.key])}},computed:{config:function(){var t=this.data.config;return t||{}},dataValueArray:{get:function(){return this.dataValue||[]},set:function(t){this.dataValue=t}},inputDisabled:function(){return!!this.config.disabled||!("caption"!=this.data.bindControlAttr||!this.owner.isBusiness)}},created:function(){this.$watch((function(){return this.bind.data[this.bind.key]}),{handler:function(t){this.dataValue=this.convertFromDataType(t)}})},methods:{dataValueChange:function(t){var e=this,n=t;void 0!==n&&this.bind.key&&(this.bind.data[this.bind.key]=this.convertToDataType(t,this.data.splitChart)),this.$nextTick((function(){if(e.data.changeExecFunction){var t=e.data.changeExecFunction,n=e.owner[t];n&&n.call(e.owner,e.data.bindControlAttr)}}))},showHelp:function(){this.showHeplerMark=!0},convertFromDataType:function(t){var e=t;if(dsf.isDef(t))if("text"==this.data.showType)this.data&&this.data&&this.data.dataType&&("Number[]"==this.data.dataType||"String[]"==this.data.dataType?"array"==dsf.type(t)&&(e=t.join(this.data.splitChart||",")):"Number"==this.data.dataType&&(e=t.toString()));else if("timePicker"==this.data.showType&&"array"==dsf.type(t)){var n=dsf.date.format(new Date,"yyyy/mm/dd ");e=[new Date(n+t[0]),new Date(n+t[1])]}return e},convertToDataType:function(t){var e=t;return dsf.isDef(t)&&("text"==this.data.showType&&"string"==dsf.type(t)?"Number[]"==this.data.dataType?(e=t.split(this.data.splitChart||","),e=_.map(e,(function(t){return parseFloat(t)}))):"String[]"==this.data.dataType?e=t.split(this.data.splitChart||","):"Number"==this.data.dataType&&(e=parseFloat(e)):"timePicker"==this.data.showType&&Array.isArray(t)&&(e=[dsf.date.format(t[0],"hh:ii:ss"),dsf.date.format(t[1],"hh:ii:ss")])),e},arrayDataValueChange:function(t,e,n){this.dataValueChange(e.slice(0))},getRequestUrl:function(t){return dsf.url.getWebPath(t.requestUrl||"file/upload/")},handleSuccess:function(t){var e=this;return function(t,n){e.dataValueChange(t.data[0].absolutePath)}.bind(this)},beforeUpload:function(t){}}},mi=pi,gi=(n(704),Object(f["a"])(mi,oi,ai,!1,null,"0d131b60",null));gi.options.__file="designer/propertyEditor/dsfDesignerProperty.vue";var vi=gi.exports,yi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{style:t.style})},bi=[];yi._withStripped=!0;var _i=n(501),xi=_i["a"],wi=Object(f["a"])(xi,yi,bi,!1,null,null,null);wi.options.__file="editor/monacoEditor.vue";var ki=wi.exports,Si=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-tabs",{staticStyle:{width:"100%",height:"100%"},attrs:{type:"card"},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[n("el-tab-pane",{staticStyle:{height:"100%"},attrs:{label:"业务代码",name:"code",lazy:""}},[n("MonacoEditor",{ref:"extCode",attrs:{code:t.extCode}})],1),n("el-tab-pane",{staticStyle:{height:"100%"},attrs:{label:"自定义样式",name:"css",lazy:""}},[n("MonacoEditor",{ref:"css",attrs:{code:t.css,language:"scss"}})],1),n("el-tab-pane",{staticStyle:{height:"100%"},attrs:{label:"模板",name:"模板",lazy:""}},[n("MonacoEditor",{ref:"vueTemplate",attrs:{code:t.vueTemplate,language:"html"}})],1)],1)},Oi=[];Si._withStripped=!0;var Ci={name:"Development",props:{vueTemplate:{type:String,default:""},css:{type:String,default:""},extCode:{type:String,default:""}},data:function(){return{active:"code"}},methods:{yes:function(){var t=this.$refs.extCode?this.$refs.extCode.getContent():this.extCode,e=this.$refs.css?this.$refs.css.getContent():this.css,n=this.$refs.vueTemplate?this.$refs.vueTemplate.getContent():this.vueTemplate;return{extCode:t,css:e,vueTemplate:n}}}},Ei=Ci,Di=(n(707),Object(f["a"])(Ei,Si,Oi,!1,null,"fbf7f818",null));Di.options.__file="designer/page/dsfDesigner/development.vue";var Ti=Di.exports,Ni=n(62),Mi=(n(475),n(709)),Ai={};function ji(t){for(var e=0,n=Object.entries(Ai);e<n.length;e++){var i=Object(Ni["a"])(n[e],2),r=(i[0],i[1]);t.component(r.name,r)}}Mi.keys().forEach((function(t){var e=Mi(t).default;if(e.name){var n=e.name;Ai[n]=e}return Ai})),Ai.install=ji;var Pi=ji;function $i(t){dsf.mix(dsf,{beautify:T.a}),t.use(Pi),t.component(Zn.name,Zn),t.component(ri.name,ri),t.component(vi.name,vi),t.component(ki.name,ki),t.component(h.name,h),t.component(Ti.name,Ti)}"undefined"!==typeof window&&window.Vue&&$i(window.Vue);var Ii=$i,Li=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"nodes",staticClass:"nodes",class:{isSub:t.isSub,active:t.isSub&&t.dragToSubNode===t.parentNode},style:{height:t.current?t.isSub?"calc(100% - "+t.toPx(t.parentNode.imgHeight+2*t.parentNode.padding+2)+")":"100%":0,top:t.isSub?t.toPx(t.parentNode.imgHeight+2*t.parentNode.padding):0,pointerEvents:t.current?"auto":""}},t._l(t.nodes,(function(e){return i("div",{key:e.id,staticClass:"nodeOuter",class:{systematic:"systematic"===t.flowModel,"task-node":"task"===e.sort&&e.open&&e.open.show,"start-node":"201"===e.type,"end-node":"299"===e.type,"judgement-node":"301"===e.type,"jump-node":"302"===e.type},style:{top:t.showOuterPadding(e)?t.toPx(e.point.y-50):t.toPx(e.point.y-e.padding),left:t.showOuterPadding(e)?t.toPx(e.point.x-50):t.toPx(e.point.x-e.padding),padding:t.showOuterPadding(e)?t.toPx(50)+" "+t.toPx(70)+" "+t.toPx(70)+" "+t.toPx(50):t.toPx(e.padding),pointerEvents:t.current&&t.current.id!==e.id||"end"===t.isDrewingLine&&("202"===e.type||"203"===e.type)||"start"===t.isDrewingLine&&"299"===e.type?"none":"auto"},attrs:{"data-id":e.id,"data-parent-id":t.isSub?t.parentNode.id:"",draggable:t.draggable},on:{dragstart:function(n){return t.drag(n,e)},mousedown:function(n){return t.selectNode(n,e)},dblclick:function(n){return t.showSub(n,e)}}},[e.isHide||"task"===e.sort&&("task"!==e.sort||!e.open||e.open.show)?t._e():i("div",{staticClass:"node",class:{selected:t.checked===e||t.selectedList.indexOf(e)>-1},style:{width:t.toPx(e.width),height:t.toPx(e.height)},attrs:{draggable:"false","data-id":e.id}},[i("img",{class:{selected:t.checked===e||t.selectedList.indexOf(e)>-1},style:{width:t.toPx(e.imgWidth),height:t.toPx(e.imgHeight)},attrs:{src:n(499)("./"+e.type+("systematic"===t.flowModel?"_s":"")+".png"),"data-id":e.id,draggable:"false"}}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isDrawLine,expression:"isDrawLine"}],staticClass:"joinPoint l"}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isDrawLine,expression:"isDrawLine"}],staticClass:"joinPoint r"}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isDrawLine,expression:"isDrawLine"}],staticClass:"joinPoint t"}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isDrawLine,expression:"isDrawLine"}],staticClass:"joinPoint b"}),i("p",{staticClass:"nodename",style:{width:t.toPx(e.nameWidth)},attrs:{title:t.showOrder(e.name,e)},on:{dblclick:function(n){return t.editNode(n,e)}}},[e.edit?t._e():i("span",[t._v(t._s(t.showOrder(e.name,e)))]),e.edit?i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"node.name"},{name:"focus",rawName:"v-focus"}],staticClass:"nodenameInput",attrs:{type:"text"},domProps:{value:e.name},on:{keyup:function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"enter",13,n.key,"Enter")?null:t.enterEdit(e)},blur:function(t){e.edit=null},input:[function(n){n.target.composing||t.$set(e,"name",n.target.value)},function(n){return t.editName(e)}]}}):t._e()])]),!e.isHide&&"task"===e.sort&&"102"!=e.type&&e.open&&e.open.show?i("div",{staticClass:"node",class:{selected:t.checked===e||t.selectedList.indexOf(e)>-1,"normal-node":"task"===e.sort&&"102"!==e.type},style:{width:t.toPx(e.width+2),height:t.toPx(e.height+2),padding:"systematic"===t.flowModel?"3px":"30px 15px",pointerEvents:t.isDrewingLine?"none":""},attrs:{"data-id":e.id,"data-parent-id":t.isSub?t.parentNode.id:"",draggable:"false"}},[i("img",{staticClass:"img",class:{selected:t.checked===e||t.selectedList.indexOf(e)>-1},style:{width:t.toPx(e.imgWidth),height:t.toPx(e.imgHeight)},attrs:{draggable:"false",src:n(499)("./"+t.getIcon(e)+".png")}}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isDrawLine,expression:"isDrawLine"}],staticClass:"joinPoint l"}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isDrawLine,expression:"isDrawLine"}],staticClass:"joinPoint r"}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isDrawLine,expression:"isDrawLine"}],staticClass:"joinPoint t"}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isDrawLine,expression:"isDrawLine"}],staticClass:"joinPoint b"}),i("p",{staticClass:"nodename",attrs:{title:t.showOrder(e.name,e)},on:{dblclick:function(n){return t.editNode(n,e)}}},[e.edit?t._e():i("span",[t._v(t._s(t.showOrder(e.name,e)))]),e.edit?i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"node.name"},{name:"focus",rawName:"v-focus"}],staticClass:"nodenameInput",attrs:{type:"text"},domProps:{value:e.name},on:{keyup:function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"enter",13,n.key,"Enter")?null:t.enterEdit(e)},blur:function(t){e.edit=null},input:[function(n){n.target.composing||t.$set(e,"name",n.target.value)},function(n){return t.editName(e)}]}}):t._e()]),i("div",{staticClass:"task-msg",on:{dblclick:function(e){return t.showRangeRule(e)}}},[t._v(" "+t._s(e.taskMsg||"未设置发送范围")+" ")])]):t._e(),e.isHide||"task"!==e.sort||"102"!=e.type?t._e():i("div",{directives:[{name:"show",rawName:"v-show",value:e.open&&e.open.show,expression:"node.open && node.open.show"}],staticClass:"node",class:{selected:t.checked===e||t.selectedList.indexOf(e)>-1,"sub-node":"102"===e.type&&e.open&&e.open.show},style:{width:t.toPx(e.width+2),height:t.toPx(e.height+2),padding:t.toPx(30),pointerEvents:t.isDrewingLine?"none":""},attrs:{"data-id":e.id,"data-parent-id":t.isSub?t.parentNode.id:"",draggable:"false"}},[i("img",{staticClass:"img",class:{selected:t.checked===e||t.selectedList.indexOf(e)>-1},style:{width:t.toPx(e.imgWidth),height:t.toPx(e.imgHeight)},attrs:{draggable:"false",src:n(499)("./"+e.type+("systematic"===t.flowModel?"_s":"")+".png")}}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isDrawLine,expression:"isDrawLine"}],staticClass:"joinPoint l"}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isDrawLine,expression:"isDrawLine"}],staticClass:"joinPoint r"}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isDrawLine,expression:"isDrawLine"}],staticClass:"joinPoint t"}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isDrawLine,expression:"isDrawLine"}],staticClass:"joinPoint b"}),i("p",{staticClass:"nodename",attrs:{title:t.showOrder(e.name,e)},on:{dblclick:function(n){return t.editNode(n,e)}}},[e.edit?t._e():i("span",[t._v(t._s(t.showOrder(e.name,e)))]),e.edit?i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"node.name"},{name:"focus",rawName:"v-focus"}],staticClass:"nodenameInput",attrs:{type:"text"},domProps:{value:e.name},on:{keyup:function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"enter",13,n.key,"Enter")?null:t.enterEdit(e)},blur:function(t){e.edit=null},input:[function(n){n.target.composing||t.$set(e,"name",n.target.value)},function(n){return t.editName(e)}]}}):t._e()]),i("subprocess",{ref:"subprocess",refInFor:!0,attrs:{"is-draw-line":t.isDrawLine,lines:e.lines,"parent-node":e,nodes:e.nodes,events:e.events,checked:t.checked}}),i("span",{staticClass:"top-resize",on:{mousedown:function(n){return t.dragResize(n,e,"horizontal","top")}}}),i("span",{staticClass:"right-resize",on:{mousedown:function(n){return t.dragResize(n,e,"vertical","right")}}}),i("span",{staticClass:"bottom-resize",on:{mousedown:function(n){return t.dragResize(n,e,"horizontal","bottom")}}}),i("span",{staticClass:"left-resize",on:{mousedown:function(n){return t.dragResize(n,e,"vertical","left")}}})],1)])})),0)},Ri=[];Li._withStripped=!0;n(128);var Bi=n(266),qi=n(492),Fi=n(625),zi=n(31),Vi=n(2),Ui={name:"Nodes",components:{Subprocess:Fi["a"]},props:{nodes:{type:Array,default:function(){return[]}},isDrawLine:{type:Boolean,default:function(){return!1}},checked:{type:Object,default:function(){return{}}},isSub:{type:Boolean,default:function(){return!1}},parentNode:{type:Object,default:function(){return null}}},data:function(){return{dragToSubNode:null,current:null,edit:null,offset:{},moveObj:null,distance:30,resizeNode:null,mouseDownPonit:null,isDrewingLine:null,isSelected:!1}},computed:Object(l["a"])({draggable:function(){return!this.verifySub(this.parentNode)&&(!this.isDrawLine&&this.checked instanceof qi["a"]&&!this.resizeNode&&this.selectedList.length<=1)}},Object(Bi["mapState"])({page:function(t){return t.flow.page},svgRoot:function(t){return t.flow.svgRoot},scale:function(t){return t.flow.page.scale},flowModel:function(t){return t.flow.flowModel},selectedList:function(t){return t.flow.selectedList}})),mounted:function(){var t=this;this.$refs.nodes.ondragover=function(t){return!1},this.setNodePosition(),this.$bus.$on("isMoveNode",(function(e){t.current=e,e||(t.dragToSubNode=null,t.$bus.$emit("update-baseLine",{show:"",top:0,left:0}))})),this.$bus.$on("moveCopyNode".concat(this.isSub?this.parentNode.id:""),(function(e,n){t.move(e,n)})),this.$bus.$on("isDrewingLine".concat(this.isSub?this.parentNode.id:""),(function(e){t.isDrewingLine=e})),this.$bus.$on("startMoveEvent",(function(e){t.moveObj=e})),this.$bus.$on("endMoveEvent",(function(){t.moveObj=null})),this.$bus.$on("dragToSubNode",(function(e){Object(zi["j"])(t.parentNode)||(t.dragToSubNode=e)})),this.$bus.$on("globalMove".concat(this.isSub?this.parentNode.id:""),this.globalMove),this.$bus.$on("selectGlobal".concat(this.isSub?this.parentNode.id:""),this.selectGlobal),document.addEventListener("mousemove",(function(e){t.resizeNode&&t.moveResize(e)})),document.addEventListener("mouseup",(function(e){t.resizeNode&&t.dropResize(e),e.ctrlKey&&t.setSelectList(e)}))},methods:{toPx:zi["i"],verifySub:zi["j"],showOuterPadding:function(t){var e;return null!==(e=this.moveObj)&&void 0!==e&&e.sort?"attached"===this.moveObj.sort:this.moveObj&&"task"===t.sort},getNamePostion:function(t,e){var n={x:t.point.x<0?0:t.point.x,y:t.point.y<0?0:t.point.y},i=(t.width-t.nameWidth)/2,r=t.height,o={top:this.toPx(n.y+r),left:this.toPx(n.x+i)};return o[e]},drag:function(t,e){var n,i,r;null===(n=t)||void 0===n||null===(i=n.dataTransfer)||void 0===i||null===(r=i.setDragImage)||void 0===r||r.call(i,new Image,0,0),t.stopPropagation(),this.draggable&&("dragstart"===t.type?t=event||t:event.touches&&(t=event.touches[0]?event.touches[0]:event),this.offset={x:t.offsetX,y:t.offsetY},this.$bus.$emit("update-checked",e),this.current=e,this.$bus.$emit("dragNode",t,this.current,this.offset,!0))},move:function(t,e){var n=this.$store.getters["flow/getMousePointByCanvas"]({x:t.pageX,y:t.pageY}),i={x:n.x-this.offset.x*this.scale<0?0:n.x-this.offset.x*this.scale,y:n.y-this.offset.y*this.scale<0?0:n.y-this.offset.y*this.scale};e.parentNodeId&&(i.x=i.x-this.parentNode.point.x*this.scale,i.y=i.y-this.parentNode.point.y*this.scale-(this.parentNode.imgHeight+2*this.parentNode.padding)*this.scale),i={x:i.x/this.scale,y:i.y/this.scale},this.setNodePosition(),this.showSamePositionNodeBaseLine(e,i),this.$bus.$emit("autoScroll",{type:"node",data:e,point:{x:i.x,y:i.y},mouse:{x:t.pageX,y:t.pageY}})},dragResize:function(t,e,n,i){t.stopPropagation(),this.$bus.$emit("update-checked",e),this.resizeNode=Object(l["a"])(Object(l["a"])({},e),{},{lineDirection:n,direction:i}),this.$bus.$emit("update-baseLine",{show:n,top:0,left:0})},moveResize:function(t){var e,n,i,r,o,a,s=this.page,l=this.svgRoot,c=this.resizeNode.lineDirection,u=this.$store.getters["flow/lanesWidth"],f=this.$store.getters["flow/lanesHeight"],d=this.scale;switch(this.resizeNode.direction){case"top":a=this.resizeNode.point.y+this.resizeNode.height+f-Vi["e"].height,i=t.pageY-s.top+l.scrollTop,e={top:i<a*d?i>0?i:0:a*d,left:0};break;case"right":n=this.resizeNode.point.x+Vi["e"].width+u,i=t.pageX-s.left+l.scrollLeft,e={top:0,left:i>n*d?i:n*d};break;case"bottom":r=this.resizeNode.point.y+Vi["e"].height+f,i=t.pageY-s.top+l.scrollTop,e={top:i>r*d?i:r*d,left:0};break;case"left":o=this.resizeNode.point.x+this.resizeNode.width+u-Vi["e"].width,i=t.pageX-s.left+l.scrollLeft,e={top:0,left:i<o*d?i>0?i:0:o*d};break}e.top=e.top/d,e.left=e.left/d;var h=Object.assign(e,{showV:"vertical"===c,showH:"horizontal"===c});this.$bus.$emit("update-baseLine",h),this.$bus.$emit("autoScroll",{type:"lane",data:this.resizeNode,mouse:{x:t.pageX,y:t.pageY}})},dropResize:function(t){if(this.resizeNode&&this.checked&&this.checked instanceof qi["a"]){var e,n,i,r,o,a,s,l=this.page,c=this.svgRoot,u=(this.resizeNode.lineDirection,this.$store.getters["flow/lanesWidth"]),f=this.$store.getters["flow/lanesHeight"],d=this.scale;switch(this.resizeNode.direction){case"top":o=this.resizeNode.point.y+this.resizeNode.height+f-Vi["e"].height,n=t.pageY-l.top+c.scrollTop,s=this.checked.point.y,this.checked.point.y=(n<o*d?n>0?n:0:o*d)/d,this.checked.height=this.checked.height+s-this.checked.point.y;break;case"right":e=this.resizeNode.point.x+Vi["e"].width+u,n=t.pageX-l.left+c.scrollLeft,this.checked.width=(n>e*d?n:e*d)/d-this.checked.point.x;break;case"bottom":i=this.resizeNode.point.y+Vi["e"].height+f,n=t.pageY-l.top+c.scrollTop,this.checked.height=(n>i*d?n:i*d)/d-this.checked.point.y;break;case"left":r=this.resizeNode.point.x+this.resizeNode.width+u-Vi["e"].width,n=t.pageX-l.left+c.scrollLeft,a=this.checked.point.x,this.checked.point.x=(n<r*d?n>0?n:0:r*d)/d,this.checked.width=this.checked.width+a-this.checked.point.x;break}this.$bus.$emit("nodeMove",this.checked),this.$bus.$emit("update-baseLine",{showV:!1,showH:!1,top:0,left:0}),this.$bus.$emit("resize"),this.resizeNode=null}},selectNode:function(t,e){var n=this;if(this.mouseDownPonit={x:t.pageX,y:t.pageY},t.ctrlKey){var i;this.selectedList.length>1&&-1===(null===(i=this.selectedList)||void 0===i?void 0:i.indexOf(e))&&(this.$store.commit("flow/addSelected",e),this.isSelected=!0),this.$bus.$emit("startCopyNodes",t),this.$bus.$emit("update-checked",e),t.stopPropagation()}else{var r;if(t.stopPropagation(),!this.isDrawLine&&this.selectedList.length>1&&(null===(r=this.selectedList)||void 0===r?void 0:r.indexOf(e))>-1)return this.$bus.$emit("startCopyNodes",t),void this.$bus.$emit("update-checked",e);this.$bus.$emit("update-checked",e),this.isDrawLine&&e&&"204"!==e.type&&setTimeout((function(){n.$bus.$emit("startDraw".concat(n.isSub?n.parentNode.id:""),t,e,n.parentNode)}),0);var o=this.isSub?[]:[e];this.$store.commit("flow/setSelectedList",o)}},setSelectList:function(t){if(!this.isSub&&this.mouseDownPonit){var e=Math.sqrt(Math.pow(this.mouseDownPonit.x-t.pageX,2)+Math.pow(this.mouseDownPonit.y-t.pageY,2));if(!this.isSelected&&e<5){var n=this.selectedList.indexOf(this.checked);n>-1?(this.$store.commit("flow/deleteSelected",n),this.$bus.$emit("update-checked",flow)):this.$store.commit("flow/addSelected",this.checked)}this.isSelected=!1,this.mouseDownPonit=null}},showSub:function(t,e){"systematic"!==this.flowModel&&(t.stopPropagation(),"task"===e.sort&&(!e.parentNodeId||e.parentNodeId&&"102"!==e.type)&&(e.open.show=!e.open.show,e.open.show?(e.width=e.open.width,e.height=e.open.height):(e.open.width=e.width,e.open.height=e.height,e.width=Vi["f"].width,e.height=Vi["f"].height),this.$bus.$emit("showSubNode".concat(this.isSub?this.parentNode.id:""),e)))},editNode:function(t,e){t.stopPropagation(),this.$set(e,"edit",!0)},setNodePosition:function(){this.nodePosition={x:{},xCenter:{},y:{},yCenter:{}};for(var t=0;t<this.nodes.length;t++){var e=this.nodes[t];this.nodePosition.x[e.point.x]||(this.nodePosition.x[e.point.x]=[]),this.nodePosition.y[e.point.y]||(this.nodePosition.y[e.point.y]=[]);var n=Object(zi["c"])({x:this.parentNode?this.parentNode.point.x+e.point.x+e.width/2:e.point.x+e.width/2,y:this.parentNode?this.parentNode.point.y+(this.parentNode.imgHeight+2*this.parentNode.padding)+e.point.y+e.height/2:e.point.y+e.height/2});this.nodePosition.xCenter[n.x]||(this.nodePosition.xCenter[n.x]=[]),this.nodePosition.yCenter[n.y]||(this.nodePosition.yCenter[n.y]=[]),this.nodePosition.x[e.point.x].push(e),this.nodePosition.y[e.point.y].push(e),this.nodePosition.xCenter[n.x].push(e),this.nodePosition.yCenter[n.y].push(e)}},showSamePositionNodeBaseLine:function(t,e){var n=this.checkSamePositionNode(t,e),i=this.$store.getters["flow/getSvgOffset"],r={showV:n.V,showH:n.H,left:n.V?n.xCenter?n.x:e.x+i.left/this.scale:0,top:n.H?n.yCenter?n.y:e.y+i.top/this.scale:0};t.parentNodeId&&(r.left=r.left+this.parentNode.point.x,r.top=r.top+this.parentNode.point.y+(this.parentNode.imgHeight+2*this.parentNode.padding)),this.$bus.$emit("update-baseLine",r)},checkSamePositionNode:function(t,e){this.scale;var n=this.nodePosition,i=e.x,r=e.y,o={V:!1,H:!1,xCenter:!1,yCenter:!1};(n.x[i]&&n.x[i].length>0||n.x[i]&&1==n.x[i].length&&n.x[i][0]!=t)&&(o.V="vertical");var a=Object(zi["c"])({x:this.parentNode?this.parentNode.point.x+i+t.width/2:i+t.width/2,y:this.parentNode?this.parentNode.point.y+(this.parentNode.imgHeight+2*this.parentNode.padding)+r+t.height/2:r+t.height/2});if(n.xCenter[a.x]&&n.xCenter[a.x].length>0){var s=n.xCenter[a.x][0];o.xCenter=!0,o.V="vertical",o.x=Object(zi["c"])({x:s.point.x+s.width/2}).x}if(n.y[r]&&n.y[r].length>0&&(o.H="horizontal"),n.yCenter[a.y]&&n.yCenter[a.y].length>0){var l=n.yCenter[a.y][0];o.yCenter=!0,o.H="horizontal",o.y=Object(zi["c"])({y:l.point.y+l.height/2}).y}return o},globalMove:function(t,e,n,i){if(t)for(var r=0;r<this.selectedList.length;r++){var o=this.selectedList[r];e&&(o.point.x+=t.x),n&&(o.point.y+=t.y),(e||n)&&this.$bus.$emit("nodeMove",o)}},selectGlobal:function(t,e){var n=[];t&&e&&this.nodes.forEach((function(i){i.point.x>t.x&&i.point.y>t.y&&i.point.x+i.width<e.x&&i.point.y+i.height<e.y&&n.push(i)}));var i=n?n[0]:this.checked;this.$bus.$emit("update-checked",i),this.$store.commit("flow/setSelectedList",n)},editName:function(t){this.$set(t.attributes.BaseInfo,"Name",t.name),this.$bus.$emit("updateNodeName".concat(this.isSub?this.parentNode.id:""),this.checked)},showRangeRule:function(t){t.stopPropagation(),t.preventDefault(),document.querySelector(".RangeRule")&&document.querySelector(".RangeRule").click()},showOrder:function(t,e){var n,i;return"systematic"===this.flowModel&&null!==e&&void 0!==e&&null!==(n=e.attributes)&&void 0!==n&&null!==(i=n.BaseInfo)&&void 0!==i&&i.ShowOrder?"".concat(e.attributes.BaseInfo.ShowOrder,".").concat(t):t},getIcon:function(t){return"systematic"===this.flowModel&&null!==t&&void 0!==t&&t.imgType?t.imgType+"_s":"".concat(t.type).concat("systematic"===this.flowModel?"_s":"")},enterEdit:function(t){"normal"===this.flowModel&&(t.edit=null)}}},Ki=Ui,Hi=(n(850),Object(f["a"])(Ki,Li,Ri,!1,null,"51e98014",null));Hi.options.__file="designer/flow/Nodes.vue";var Wi=Hi.exports;function Gi(t){t.component(Wi.name,Wi)}"undefined"!==typeof window&&window.Vue&&Gi(window.Vue);var Ji={install:Gi};n(622);function Yi(t){t.use(Ii),t.use(Ji)}var Xi=Yi;!function(t){var e;Vue.use(Xi),(e=t.$platformRouter.designer).push.apply(e,Object(i["a"])(E))}(dsf.global||(dsf.global={}))},,function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"btn-param-setting"},[n("el-tabs",{model:{value:t.content.type,callback:function(e){t.$set(t.content,"type",e)},expression:"content.type"}},[n("el-tab-pane",{attrs:{label:"静态数据",name:"static"}},[n("el-input",{attrs:{type:"textarea",autosize:{minRows:18,maxRows:20},placeholder:"请输入静态内容"},model:{value:t.staticCode,callback:function(e){t.staticCode=e},expression:"staticCode"}})],1),n("el-tab-pane",{attrs:{label:"配置管理",name:"switch"}},[n("el-form",{staticClass:"demo-form-inline",attrs:{model:t.setting}},[n("el-form-item",{attrs:{label:"字段"}},[n("el-input",{attrs:{placeholder:"field"},model:{value:t.setting.field,callback:function(e){t.$set(t.setting,"field",e)},expression:"setting.field"}})],1),n("el-form-item",{attrs:{label:"设置值"}},[n("el-table",{attrs:{data:t.setting.value,stripe:"","highlight-current-row":!0,"row-key":"id"}},[n("el-table-column",{attrs:{type:"index",width:"30",align:"center"}}),n("el-table-column",{attrs:{label:"枚举值"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{model:{value:e.row.key,callback:function(n){t.$set(e.row,"key",n)},expression:"scope.row.key"}})]}}])}),n("el-table-column",{attrs:{label:"返回值"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{model:{value:e.row.value,callback:function(n){t.$set(e.row,"value",n)},expression:"scope.row.value"}})]}}])}),n("el-table-column",{attrs:{width:"130px",align:"center","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[[n("dsf-button",{attrs:{title:"删除",size:"small","btn-style":"icon-text",icon:"guanbi2"},on:{click:function(n){return n.stopPropagation(),t.remove(e.$index,t.setting.value)}}})]]}}])},[n("template",{slot:"header"},[n("DsfButton",{attrs:{size:"small"},on:{click:t.add}},[t._v("增加行")])],1)],2)],1)],1)],1)],1),n("el-tab-pane",{staticStyle:{width:"100%",height:"100%"},attrs:{label:"代码管理",name:"code",lazy:""}},[n("MonacoEditor",{ref:"editor",attrs:{code:t.codeBlock}})],1)],1)],1)},r=[];i._withStripped=!0;var o=n(3),a=n.n(o),s=n(9),l=n(62),c=(n(24),n(25),n(28),n(475),n(10),n(35),n(33),"function handler(data, button, owner, self){\r\n  //data:表示当前按钮栏所在作用域的数据\r\n  //button:表示当前按钮对象\r\n  //owner:表示当前按钮组所在的组件\r\n  //self:表示按钮栏目组件\r\n  //this:当前按钮栏所在页面组件对象\r\n  $$0$$;\r\n}"),u={name:"DesButtonParamsSetting",mixins:[$mixins.propertyDialogSetting],props:{value:{type:Object,default:function(){return{type:"static",code:""}}}},data:function(){return{content:JSON.parse(JSON.stringify(this.value)),staticCode:"",field:"",setting:{field:"",value:[{key:"",value:""}]},codeBlock:""}},computed:{},mounted:function(){this.initData()},methods:{getContent:function(){if("static"===this.content.type)this.content.code=this.staticCode;else if("switch"===this.content.type){var t=JSON.parse(JSON.stringify(this.setting)),e={};t.value.forEach((function(t){e[t.key]=t.value})),t.value=e,this.content.code=t}else this.content.code=this.$refs.editor.getContent();return this.content,this.content},validate:function(){if("static"===this.content.type){if(!this.staticCode)return dsf.layer.pc.message("请输入静态内容",!1),!1}else if("switch"===this.content.type){if(!this.setting.field)return dsf.layer.pc.message("字段不能为空",!1),!1;var t=this.setting.value.length,e=this.setting.value.filter((function(t){return t.key})),n=this.setting.value.filter((function(t){return t.value}));if(e.length<t)return dsf.layer.pc.message("key不能为空",!1),!1;if(n.length<t)return dsf.layer.pc.message("value不能为空",!1),!1}else{var i=this.$refs.editor.getContent();if(!i)return dsf.layer.pc.message("代码不能为空",!1),!1;this.content.code=i}return!0},initData:function(){if("static"===this.content.type)this.staticCode=this.content.code,this.codeBlock=this.getCode(this.content.code);else if("switch"===this.content.type){for(var t=JSON.parse(JSON.stringify(this.content.code)),e=[],n=0,i=Object.entries(t.value);n<i.length;n++){var r=Object(l["a"])(i[n],2),o=r[0],a=r[1];e.push({key:o,value:a})}t.value=e,this.setting=t}else this.codeBlock=this.getCode(this.content.code),this.$refs.editor&&this.$refs.editor.setContent&&this.$refs.editor.setContent(this.codeBlock)},getCode:function(t){return"string"===typeof t?this.testCodeBlock(t)?t:c.replace("$$0$$","return "+JSON.stringify(t)):c.replace("$$0$$","return ''")},testCodeBlock:function(t){var e=/^\s*function(\s+\w*)?\(.*\)\s*{/g;return!!t&&(e.lastIndex=0,e.test(t))},init:function(){var t=this;return Object(s["a"])(a.a.mark((function e(){var n,i,r;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.owner.$$getComponent(),i=n.$options.design.metadata.create.call(n),i&&!(i.length<=1)){e.next=5;break}return dsf.layer.pc.message("请将要展示的元数据拖动到列表中",!1),e.abrupt("return");case 5:if(r=i[1].metadata.at,r){e.next=9;break}return dsf.layer.pc.message("请将要展示的元数据拖动到列表中",!1),e.abrupt("return");case 9:return e.next=11,t.getTreeData(i[1].metadata,i[1].metadata.rm_type||3);case 11:t.treeData=e.sent,t.treeData;case 13:case"end":return e.stop()}}),e)})))()},getTreeData:function(t,e){var n=this;return Object(s["a"])(a.a.mark((function i(){var r,o,s;return a.a.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(r=[],"8"!=e){i.next=8;break}return o={rmId:t.rmId},i.next=5,n.$webAPI.getDbSourceFieldsTree(o);case 5:r=i.sent,i.next=13;break;case 8:if("3"!=e){i.next=13;break}return s={namespace:t.at},i.next=12,n.$webAPI.getMetaDataFieldsSelect(s);case 12:r=i.sent;case 13:return i.abrupt("return",r);case 14:case"end":return i.stop()}}),i)})))()},change:function(t){},add:function(){this.setting.value.push({key:"",value:""})},remove:function(t,e){e.splice(t,1)}}},f=u,d=(n(712),n(0)),h=Object(d["a"])(f,i,r,!1,null,"08fbb683",null);h.options.__file="designer/setting/buttonParamsSetting.vue";e["default"]=h.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",[n("el-header",{staticStyle:{padding:"10px 0px","text-align":"right"}},[n("DsfButton",{on:{click:t.add}},[t._v("角色选择")])],1),n("el-main",{staticStyle:{padding:"0px"}},[n("el-table",{ref:"table",staticClass:"ds-table",attrs:{border:!0,data:t.tableData}},[n("el-table-column",{attrs:{label:"序号",type:"index",width:"50","header-align":"center",align:"center"}}),n("el-table-column",{attrs:{label:"角色名称",prop:"name","header-align":"center",align:"center"}}),n("el-table-column",{attrs:{label:"角色id",prop:"roleid",width:"280","header-align":"center",align:"center"}}),n("el-table-column",{attrs:{label:"操作","header-align":"center",align:"center",width:120},scopedSlots:t._u([{key:"default",fn:function(e){return[n("DsfButton",{staticStyle:{"min-width":"auto","margin-left":"5px"},attrs:{size:"small",title:"删除",icon:"guanbi2","btn-style":"icon-text"},on:{click:function(n){return t.deleted(e)}}})]}}])})],1)],1)],1)},r=[];i._withStripped=!0;n(24),n(25),n(28),n(15);var o={name:"AccessPrivilege",mixins:[$mixins.propertyDialogSetting],data:function(){return{tableData:[]}},created:function(){this.tableData=this.currentData||[]},methods:{add:function(){var t=this;this.$openDialog({title:"角色选择",width:this.config.width,height:this.config.height,top:"10vh",params:{path:"dsfa/oua/role/selectrole"},btns:[{text:"确定",handler:function(e){if(e.content){var n=e.content;if(n&&n.yes&&dsf.isFunction(n.yes)){var i=n.yes();if(!i)return!1;_.forEach(i,(function(e){var n=t.tableData.filter((function(t,n){return t["roleid"]==e["_id"]}));n.length>0?n.name=e["_name"]:t.tableData.push({roleid:e["_id"],name:e["_name"]})}))}}}},{text:"取消"}]})},deleted:function(t){dsf.array.remove(this.tableData,t.row)},yes:function(){return this.tableData}}},a=o,s=n(0),l=Object(s["a"])(a,i,r,!1,null,null,null);l.options.__file="designer/setting/accessPrivilege.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("enum-editor-item",{ref:"meta",attrs:{type:"meta","tree-data":t.treeData1,"table-post":t.tablePost,"tree-loading":t.loading,"empty-text":"请选择元数据","name-key":"name","id-key":"treeinfo_globalid"},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}})},r=[];i._withStripped=!0;n(16);var o=n(246),a={name:"DesAutoCompleteMD",components:{EnumEditorItem:o["default"]},mixins:[$mixins.propertyDialogSetting],data:function(){return{loading:!1,value1:{type:"meta",code:"",attach:[]},treeData1:[],tablePost:function(){}}},created:function(){this.currentData?this.init(this.currentData):this.postData1()},methods:{init:function(t){var e=t.type,n=t.attach,i=t.code,r=t.chooseKey,o=dsf.mix(!0,[],n);this.value1={type:e,attach:o,code:i,chooseKey:r},this.postData1()},validate:function(){return this.$refs.meta.getResult(),!!this.value1["code"]||(dsf.layer.message("请选择元数据以及右侧具体节点名称字段",!1),!1)},yes:function(){var t=this.value1.code;return t.id=t.value,t},postData1:function(){var t=this;this.loading=!0,this.$http.get("rm/list/meta",{namespace:""}).done((function(e){e.success?(t.treeData1=e.data.map((function(e){return t.dataFormat(e)})),t.$nextTick((function(){t.$refs.meta.initMetaTable()}))):dsf.layer.message("请求异常！",!1)})).always((function(){t.loading=!1}))},dataFormat:function(t){var e=this;return"3"!=t.type_value&&"8"!=t.type_value&&(t.nocheck=!0),"3"==t.type_value||"8"==t.type_value||t.children||(t.iconSkin="_special"),t.children&&(t.children=t.children.map((function(t){return e.dataFormat(t)}))),t}}},s=a,l=n(0),c=Object(l["a"])(s,i,r,!1,null,null,null);c.options.__file="designer/setting/autoCompleteMD.vue";e["default"]=c.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ds-background-setting"},[n("el-tabs",{staticStyle:{height:"100%"},attrs:{type:"border-card"}},[n("el-tab-pane",{attrs:{label:"背景色"}},[n("el-form",{ref:"form",attrs:{model:t.form,"label-width":"90px",size:"small"}},[n("el-form-item",{attrs:{label:"颜色值:"}},[n("el-input",{staticStyle:{width:"287px"},attrs:{placeholder:"请输入颜色值"},model:{value:t.form.color,callback:function(e){t.$set(t.form,"color",e)},expression:"form.color"}},[n("el-color-picker",{attrs:{slot:"append","show-alpha":""},slot:"append",model:{value:t.form.color,callback:function(e){t.$set(t.form,"color",e)},expression:"form.color"}})],1)],1)],1)],1),n("el-tab-pane",{attrs:{label:"背景图"}},[n("el-form",{ref:"form",attrs:{model:t.form,"label-width":"90px",size:"small"}},[n("el-form-item",{attrs:{label:"填充模式:"}},[n("el-select",{attrs:{placeholder:"请选择填充模式"},model:{value:t.form.size,callback:function(e){t.$set(t.form,"size",e)},expression:"form.size"}},[n("el-option",{attrs:{label:"填充",value:"cover"}}),n("el-option",{attrs:{label:"适应",value:"contain"}}),n("el-option",{attrs:{label:"拉伸",value:"100% 100%"}}),n("el-option",{attrs:{label:"原大小",value:"auto"}})],1)],1),n("el-form-item",{attrs:{label:"平铺模式:"}},[n("el-select",{attrs:{placeholder:"请选择平铺模式"},model:{value:t.form.repeat,callback:function(e){t.$set(t.form,"repeat",e)},expression:"form.repeat"}},[n("el-option",{attrs:{label:"不平铺",value:"no-repeat"}}),n("el-option",{attrs:{label:"水平和垂直上平铺",value:"repeat"}}),n("el-option",{attrs:{label:"水平上平铺",value:"repeat-x"}}),n("el-option",{attrs:{label:"垂直上平铺",value:"repeat-y"}})],1)],1),n("el-form-item",{attrs:{label:"展示位置:"}},[n("el-select",{attrs:{placeholder:"请选择平铺模式"},model:{value:t.form.position,callback:function(e){t.$set(t.form,"position",e)},expression:"form.position"}},[n("el-option",{attrs:{label:"左上方",value:"left top"}}),n("el-option",{attrs:{label:"左边",value:"left center"}}),n("el-option",{attrs:{label:"左下方",value:"left bottom"}}),n("el-option",{attrs:{label:"上边",value:"center top"}}),n("el-option",{attrs:{label:"居中",value:"center"}}),n("el-option",{attrs:{label:"下边",value:"center bottom"}}),n("el-option",{attrs:{label:"右上方",value:"right top"}}),n("el-option",{attrs:{label:"右边",value:"right center"}}),n("el-option",{attrs:{label:"右下方",value:"right bottom"}})],1)],1),n("el-form-item",{attrs:{label:"图片链接:"}},[n("el-input",{staticStyle:{width:"287px"},attrs:{placeholder:"请输入图片链接"},model:{value:t.form.image,callback:function(e){t.$set(t.form,"image",e)},expression:"form.image"}},[n("el-upload",{staticClass:"upload-demo",attrs:{slot:"append",action:t.uploadAction,"show-file-list":!1,"on-progress":t.uploadProgress,"on-success":t.uploadSuccess,"on-error":t.uploadError,accept:".jpg,.jpeg,.png,.gif,.webp,.svg"},slot:"append"},[n("el-button",[t._v("上传")])],1)],1)],1),n("el-form-item",{attrs:{label:"图片预览:"}},[n("el-image",{staticStyle:{width:"90px",height:"90px"},attrs:{src:t._f("getWebPath")(t.form.image)}},[n("div",{staticClass:"el-image__error",attrs:{slot:"error"},slot:"error"},[t._v("无效图片")])])],1)],1)],1),n("el-tab-pane",{attrs:{label:"渐变背景"}})],1)],1)},r=[];i._withStripped=!0;var o={name:"BackgroundSetting",mixins:[$mixins.propertyDialogSetting],data:function(){return{uploadAction:dsf.url.getWebPath("file/upload/"),form:{color:"",image:"",size:"cover",repeat:"no-repeat",position:"center"}}},filters:{getWebPath:function(t){return dsf.url.getWebPath(t)}},created:function(){this.form=dsf.mix(!0,this.form,this.currentData)},beforeDestroy:function(){this.loading&&dsf.layer.closeLoading(this.loading)},methods:{uploadProgress:function(){this.loading=dsf.layer.loading()},uploadSuccess:function(t){var e=t.data;dsf.layer.closeLoading(this.loading),this.loading=void 0,this.$set(this.form,"image",e[0].relativePath)},uploadError:function(){dsf.layer.closeLoading(this.loading),this.loading=void 0,dsf.layer.message("图片上传失败",!1)},yes:function(){return this.form}}},a=o,s=(n(710),n(0)),l=Object(s["a"])(a,i,r,!1,null,null,null);l.options.__file="designer/setting/backgroundSetting.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"ds-control ds-form-item ds-radio-box ds-has-label"},[n("label",{staticClass:"ds-form-label"},[t._v("范围：")]),n("div",{staticClass:"ds-form-block"},[n("el-radio-group",{model:{value:t.scope,callback:function(e){t.scope=e},expression:"scope"}},[n("el-radio",{attrs:{label:"0"}},[t._v("无限制")]),n("el-radio",{attrs:{label:"1"}},[t._v("我的")]),n("el-radio",{attrs:{label:"2"}},[t._v("本机构的")])],1)],1)]),n("div",{directives:[{name:"show",rawName:"v-show",value:"2"==t.scope,expression:"scope=='2'"}],staticClass:"ds-control ds-form-item ds-radio-box ds-has-label"},[n("label",{staticClass:"ds-form-label"},[t._v("本机构范围：")]),n("div",{staticClass:"ds-form-block"},[n("el-checkbox-group",{model:{value:t.unit,callback:function(e){t.unit=e},expression:"unit"}},[n("el-checkbox",{attrs:{label:"1"}},[t._v("上级机构")]),n("el-checkbox",{attrs:{label:"2"}},[t._v("下级机构")])],1)],1)])])},r=[];i._withStripped=!0;var o={name:"BrowseScopeEdit",mixins:[$mixins.propertyDialogSetting],data:function(){return{scope:2,unit:[]}},created:function(){this.scope=this.currentData.scope,this.unit=this.currentData.unit},methods:{yes:function(){return{scope:this.scope,unit:"2"!=this.scope?[]:this.unit}}}},a=o,s=n(0),l=Object(s["a"])(a,i,r,!1,null,null,null);l.options.__file="designer/setting/browseScopeEdit.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"control-filter-tree"},[n("dsf-tree-select",{attrs:{"tree-data":t.treeData,"node-key":"dsfa_rm_id","node-name":"name",loading:t.treeLoading,"default-checked-key":t.defaultCheckedKey,"search-control":"","default-expand-all":""},on:{"choose-node":function(e){t.radioData=e}}})],1)},r=[];i._withStripped=!0;n(38);var o=n(175),a={name:"DesBusinessComponent",components:{DsfTreeSelect:o["default"]},mixins:[$mixins.propertyDialogSetting],data:function(){return{treeData:[],treeLoading:!1,radioData:null,defaultCheckedKey:""}},created:function(){this.getDesignCtrl()},methods:{getDesignCtrl:function(){var t=this;this.loading=!0;var e="/rm/list/bc";this.$http.get(e).done((function(e){e.success?t.treeData=e.data:dsf.layer.message("业务组件获取"+e.message,!1)})).error((function(t){dsf.layer.message(t.message,!1)})).finally((function(){t.loading=!1}))}}},s=a,l=n(0),c=Object(l["a"])(s,i,r,!1,null,null,null);c.options.__file="designer/setting/businessComponent.vue";e["default"]=c.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{staticStyle:{height:"100%"}},[n("el-aside",{staticStyle:{width:"500px",overflow:"auto"}},[n("el-container",[n("el-header",{staticStyle:{padding:"0px 0px 10px 0px","text-align":"right",height:"auto"}},[n("DsfButton",{attrs:{size:"small",icon:"sousuofangda"},on:{click:t.openSysButtonSelect}},[t._v("增加系统按钮")]),n("DsfButton",{attrs:{size:"small",icon:"zidingyi"},on:{click:t.addCustomButton}},[t._v("新增自定义按钮")]),n("DsfButton",{attrs:{size:"small",icon:"Magnifier",type:"plain"},on:{click:t.openIcon}},[t._v("查看按钮图标")])],1),n("el-main",{staticStyle:{padding:"0px",height:"100%"}},[n("el-table",{attrs:{border:"","show-header":!0,data:t.tableData,"highlight-current-row":!0},on:{"row-click":t.rowClickHandler}},[n("el-table-column",{attrs:{label:"#",type:"index",align:"center"}}),n("el-table-column",{attrs:{label:"显示文字",prop:"text"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.text||e.row.title))]}}])}),n("el-table-column",{attrs:{label:"名称",prop:"caption"}}),n("el-table-column",{attrs:{label:"图标",prop:"text"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("DsfButton",{attrs:{"btn-style":"icon-text",size:"small",icon:t.getIcon(e.row.icon)}})]}}])}),n("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("DsfButton",{attrs:{"btn-style":"icon-text",icon:"shanchu",size:"small",title:"删除"},on:{click:function(n){return t.removeButton(e.row)}}}),n("DsfButton",{attrs:{"btn-style":"icon-text",icon:"shang",size:"small",title:"上移"},on:{click:function(n){return t.up(e.row)}}}),n("DsfButton",{attrs:{"btn-style":"icon-text",icon:"xia",size:"small",title:"下移"},on:{click:function(n){return t.down(e.row)}}})]}}])})],1)],1)],1)],1),n("el-main",{staticStyle:{padding:"0px"}},[n("el-container",[n("el-main",[n("el-form",{attrs:{model:t.formModel,"label-width":"150px"}},[n("el-form-item",{attrs:{label:"名称"}},[n("el-input",{attrs:{disabled:""},model:{value:t.formModel.caption,callback:function(e){t.$set(t.formModel,"caption",e)},expression:"formModel.caption"}})],1),n("el-form-item",{attrs:{label:"别名"}},[n("el-input",{attrs:{disabled:!t.allowEdit()},model:{value:t.formModel.alias,callback:function(e){t.$set(t.formModel,"alias",e)},expression:"formModel.alias"}})],1),n("el-form-item",{attrs:{label:"显示文字"}},[n("el-input",{attrs:{disabled:!t.allowEdit()},model:{value:t.formModel.text,callback:function(e){t.$set(t.formModel,"text",e)},expression:"formModel.text"}})],1),n("el-form-item",{attrs:{label:"鼠标悬浮提示"}},[n("el-input",{attrs:{disabled:!t.allowEdit()},model:{value:t.formModel.title,callback:function(e){t.$set(t.formModel,"title",e)},expression:"formModel.title"}})],1),n("el-form-item",{attrs:{label:"图标"}},[n("el-input",{attrs:{disabled:!t.allowEdit()},model:{value:t.formModel.icon,callback:function(e){t.$set(t.formModel,"icon",e)},expression:"formModel.icon"}})],1),n("el-form-item",{attrs:{label:"系统按钮"}},[n("span",[t._v(t._s(t.formModel.isSystem?"是":"否"))])]),n("el-form-item",{attrs:{label:"动作"}},[n("el-input",{attrs:{disabled:!t.allowEdit()||t.formModel.isSystem},model:{value:t.formModel.actionName,callback:function(e){t.$set(t.formModel,"actionName",e)},expression:"formModel.actionName"}})],1),n("el-form-item",{attrs:{label:"风格"}},[n("el-select",{attrs:{disabled:!t.allowEdit()},model:{value:t.formModel.btnStyle,callback:function(e){t.$set(t.formModel,"btnStyle",e)},expression:"formModel.btnStyle"}},[n("el-option",{attrs:{value:"",label:"普通按钮"}}),n("el-option",{attrs:{value:"icon-text",label:"图标按钮"}})],1)],1),n("el-form-item",{attrs:{label:"类型"}},[n("el-select",{attrs:{disabled:!t.allowEdit()},model:{value:t.formModel.type,callback:function(e){t.$set(t.formModel,"type",e)},expression:"formModel.type"}},[n("el-option",{attrs:{value:"",label:"主要按钮"}}),n("el-option",{attrs:{value:"plain",label:"次要按钮"}})],1)],1),n("el-form-item",{attrs:{label:"只读状态不显示"}},[n("el-switch",{attrs:{disabled:!t.allowEdit()},model:{value:t.formModel.syncRead,callback:function(e){t.$set(t.formModel,"syncRead",e)},expression:"formModel.syncRead"}}),n("div",[n("span",{staticStyle:{color:"#f56c6c"}},[t._v("注：优先级低于显示条件。如果表单中有流程相关配置不建议使用")])])],1),t.formModel.isTemplateDownload?n("el-form-item",{attrs:{label:"上传模板"}},[n("el-upload",{staticClass:"ds-button-update-template",attrs:{multiple:!1,headers:t.headersParam,action:t.setRequestUrl,"file-list":t.fileList,"on-success":t.handleSuccess,"on-error":t.handleError,"on-change":t.handleChange}},[n("DsfButton",{attrs:{size:"small"}},[t._v("模板上传")])],1)],1):t._e(),t.isUpBtn(t.formModel)?n("el-form-item",{attrs:{label:"是否是上传按钮"}},[n("el-switch",{attrs:{disabled:!t.allowEdit()},on:{change:t.uploadChange},model:{value:t.formModel.isUpload,callback:function(e){t.$set(t.formModel,"isUpload",e)},expression:"formModel.isUpload"}})],1):t._e(),n("el-form-item",{attrs:{label:"显示条件"}},[n("el-input",{attrs:{disabled:!t.allowEdit()},model:{value:t.formModel.if,callback:function(e){t.$set(t.formModel,"if",e)},expression:"formModel.if"}}),n("span",{staticStyle:{color:"#f56c6c"}},[t._v("注：满足该条件时按钮显示。如果表单中有流程相关配置不建议使用")])],1),n("el-form-item",{attrs:{label:"禁用条件"}},[n("el-input",{attrs:{disabled:!t.allowEdit()},model:{value:t.formModel.disabledFactor,callback:function(e){t.$set(t.formModel,"disabledFactor",e)},expression:"formModel.disabledFactor"}}),n("span",{staticStyle:{color:"#f56c6c"}},[t._v("注：优先级低于显示条件。如果表单中有流程相关配置不建议使用")])],1),"system_flow_send"===t.formModel.actionName||"system_batch_flow_send"===t.formModel.actionName?n("el-form-item",{attrs:{label:"环节发送后事件"}},[n("el-input",{attrs:{disabled:!t.allowEdit()},model:{value:t.formModel.flowSendOverEvent,callback:function(e){t.$set(t.formModel,"flowSendOverEvent",e)},expression:"formModel.flowSendOverEvent"}}),n("span",{staticStyle:{color:"#f56c6c"}},[t._v(" 注：此事件用于二次开发，设置此事件后，发送流程页面发送完结后不自动关闭 ")])],1):t._e(),"system_flow_send"===t.formModel.actionName||"system_batch_flow_send"===t.formModel.actionName?n("el-form-item",{attrs:{label:"文件已办结"}},[n("el-input",{attrs:{disabled:!t.allowEdit()},model:{value:t.formModel.completed,callback:function(e){t.$set(t.formModel,"completed",e)},expression:"formModel.completed"}}),n("span",{staticStyle:{color:"#f56c6c"}},[t._v("注：默认为“文件已办结”")])],1):t._e(),"system_flow_send"===t.formModel.actionName||"system_batch_flow_send"===t.formModel.actionName?n("el-form-item",{attrs:{label:"分环节发送"}},[n("el-switch",{attrs:{disabled:!t.allowEdit()},model:{value:t.formModel.isLinkSend,callback:function(e){t.$set(t.formModel,"isLinkSend",e)},expression:"formModel.isLinkSend"}})],1):t._e(),"system_flow_send"===t.formModel.actionName||"system_batch_flow_send"===t.formModel.actionName?n("el-form-item",{attrs:{label:"按钮折叠"}},[n("el-switch",{attrs:{disabled:!t.allowEdit()},model:{value:t.formModel.isLinkSendFold,callback:function(e){t.$set(t.formModel,"isLinkSendFold",e)},expression:"formModel.isLinkSendFold"}})],1):t._e(),n("el-form-item",{attrs:{label:"弹窗二次确认"}},[n("el-switch",{attrs:{disabled:!t.allowEdit()},model:{value:t.formModel.secondConfirm,callback:function(e){t.$set(t.formModel,"secondConfirm",e)},expression:"formModel.secondConfirm"}})],1),t.formModel.secondConfirm?n("el-form-item",{attrs:{label:"弹窗确认提示语"}},[n("el-input",{attrs:{disabled:!t.allowEdit()},model:{value:t.formModel.secondConfirmText,callback:function(e){t.$set(t.formModel,"secondConfirmText",e)},expression:"formModel.secondConfirmText"}}),n("span",{staticStyle:{color:"#f56c6c"}},[t._v("注：默认为“确认提交？”")])],1):t._e(),t.formModel.actionName&&(t.formModel.actionName.indexOf("system_flow")>-1||t.formModel.actionName.indexOf("system_batch_flow")>-1)?n("el-form-item",{attrs:{label:"自动签收"}},[n("el-switch",{attrs:{disabled:!t.allowEdit()},model:{value:t.formModel.autoReceive,callback:function(e){t.$set(t.formModel,"autoReceive",e)},expression:"formModel.autoReceive"}})],1):t._e(),t.isDblClickBind?n("el-form-item",{attrs:{label:"绑定列表双击"}},[n("el-switch",{attrs:{disabled:!t.allowEdit()},on:{change:t.dblClickChange},model:{value:t.formModel.isDblClick,callback:function(e){t.$set(t.formModel,"isDblClick",e)},expression:"formModel.isDblClick"}})],1):t._e(),t.isDblClickBind?n("el-form-item",{attrs:{label:"快捷链接"}},[n("el-select",{attrs:{disabled:!t.allowEdit()},model:{value:t.formModel.linkBind,callback:function(e){t.$set(t.formModel,"linkBind",e)},expression:"formModel.linkBind"}},[n("el-option",{attrs:{label:"无",value:""}}),t._l(t.links,(function(t,e){return n("el-option",{key:e,attrs:{label:t.label,value:t.value}})}))],2)],1):t._e(),t._l(t.formModel.params,(function(e,i){return[n("el-form-item",{key:i,attrs:{label:"参数"+(i+1)}},[e.value&&"static"===e.value.type?n("el-input",{attrs:{placeholder:e.desc+" 默认值:"+(e.default||"无"),disabled:!t.allowEdit()},model:{value:e.value.code,callback:function(n){t.$set(e.value,"code",n)},expression:"param.value.code"}},[n("i",{staticClass:"iconfont icon-js",staticStyle:{cursor:"pointer"},attrs:{slot:"suffix",title:"代码编辑"},on:{click:function(n){t.openEditor(e,!t.allowEdit())}},slot:"suffix"})]):t._e(),e.value&&"static"!==e.value.type?n("el-input",{attrs:{value:"请查看详情",placeholder:e.desc+" 默认值:"+(e.default||"无"),disabled:"disabled"}},[n("i",{staticClass:"iconfont icon-guanbi1",staticStyle:{cursor:"pointer","margin-right":"10px"},attrs:{slot:"suffix",title:"清空"},on:{click:function(n){return t.clear(e)}},slot:"suffix"}),n("i",{staticClass:"iconfont icon-js",staticStyle:{cursor:"pointer"},attrs:{slot:"suffix",title:"配置"},on:{click:function(n){t.openEditor(e,!t.allowEdit())}},slot:"suffix"})]):t._e()],1)]}))],2)],1)],1),n("el-dialog",{attrs:{title:"选择系统按钮",visible:t.sysButtonSelect,width:"500px","append-to-body":""},on:{"update:visible":function(e){t.sysButtonSelect=e}},scopedSlots:t._u([{key:"footer",fn:function(){return[n("dsf-button",{on:{click:t.addSysButton}},[t._v("确定")]),n("dsf-button",{attrs:{type:"plain"},on:{click:t.closeSysButtonSelect}},[t._v("取消")])]},proxy:!0}])},[[n("div",{staticStyle:{height:"500px",overflow:"auto"}},[n("el-tree",{ref:"tree",attrs:{data:t.treeData,props:t.defaultProps,"node-key":"key","default-checked-keys":[],"default-expand-all":"","show-checkbox":""}})],1)]],2)],1)],1)},r=[];i._withStripped=!0;var o=n(195),a=n(5),s=(n(16),n(28),n(24),n(25),n(23),n(104),n(52),n(46),{name:"DesButtonEdit",mixins:[$mixins.propertyDialogSetting],props:{defaultShowText:{type:Boolean,default:!0},defaultButtonStyle:{type:String,default:""},isDblClickBind:{type:Boolean,default:!1},isMobile:{type:Boolean,default:!1}},data:function(){return{tableData:[],formModel:{},sysButtonSelect:!1,treeData:[],defaultProps:{label:"text",children:"children"},headersParam:{"X-XSRF-TOKEN":dsf.getCookie("XSRF-TOKEN")||""},fileList:[],links:[],oldParams:null}},created:function(){var t=this,e=dsf.mix(!0,[],this.currentData);_.each(e,(function(t){dsf.isUnDef(t.id)&&(t.id=dsf.uuid())})),this.tableData=e,this.isMobile?this.treeData=this.convertTree(dsf.buttons.getMobileButtons()):this.treeData=this.convertTree(dsf.buttons.getPcButtons()),this.isDblClickBind&&dsf.designer.recursionLayoutTree(this.owner,null,null,(function(e){e!=t&&e.isFormControl&&e.metadata_fullcode&&e.designId&&t.links.push({label:e.label?e.label+"("+e.metadata_fullcode+")":e.metadata_fullcode,value:e.designId})}))},computed:{setRequestUrl:function(){return dsf.url.getWebPath("file/upload?db=1")}},mounted:function(){},methods:{isUpBtn:function(t){return"system_flow_send"!==t.actionName&&"system_batch_flow_send"!==t.actionName&&"system_template_download"!==t.actionName},convertTree:function(t){var e=[],n={};return _.each(t,(function(t){n[t.moduleName]||(n[t.moduleName]={text:t.moduleName,type:"group",key:t.moduleName,children:[]},e.push(n[t.moduleName]));var i=n[t.moduleName],r=t.moduleName+"-"+t.groupName;n[r]||(n[r]={text:t.groupName,type:"group",key:r,children:[]},i.children.push(n[r])),t.button.key=r+"-"+t.button.text,n[r].children.push(t.button)})),e},openSysButtonSelect:function(){this.$refs.tree&&this.$refs.tree.setCheckedKeys([]),this.sysButtonSelect=!0},allowEdit:function(){return!dsf.isEmptyObject(this.formModel)},addSysButton:function(){var t,e=this,n=this.$refs.tree.getCheckedNodes(!0),i=_.map(n,(function(t){var n=e.createButton(t,!0);return e.defaultShowText||(n.text=""),e.defaultButtonStyle&&(n.btnStyle=e.defaultButtonStyle),n.icon||(n.icon="icon-shezhi"),!n.title&&n.text&&(n.title=n.text),n}));(t=this.tableData).push.apply(t,Object(a["a"])(i)),this.sysButtonSelect=!1},addCustomButton:function(){var t=this.createButton({caption:"自定义按钮",text:this.defaultShowText?"新增按钮":"",btnStyle:this.defaultButtonStyle?this.defaultButtonStyle:"",icon:"icon-shezhi"});this.tableData.push(t)},closeSysButtonSelect:function(){this.sysButtonSelect=!1},yes:function(){return _.each(this.tableData,(function(t){dsf.isUnDef(t.id)&&(t.id=dsf.uuid())})),this.tableData},rowClickHandler:function(t){if(t.params=this.formatParams(t.params),t.params,this.formModel=t,t.linkBind){var e=_.filter(this.links,(function(e){return e.value==t.linkBind}));e.length||(t.linkBind="")}},formatParams:function(t){var e=this;return t&&t.forEach((function(t){"object"!==Object(o["a"])(t.value)||t.value.type||(t.value={type:"static",code:t.value}),"string"===typeof t.value&&(e.testCodeBlock(t.value)?t.value={type:"code",code:t.value}:t.value={type:"static",code:t.value})})),t},createButton:function(t,e){var n={caption:"",text:"",alias:"",icon:"",btnStyle:"",title:"",isSystem:e,actionName:"",if:"",flowSendOverEvent:"",type:"",isUpload:!1,syncRead:!1,isLinkSend:!1,isLinkSendFold:!1,disabled:!1,isDblClick:!1,linkBind:"",params:[]};e&&(t.actionName.indexOf("system_flow")>-1||t.actionName.indexOf("system_batch_flow")>-1)&&(n.autoReceive=!0);var i=dsf.mix(!0,{},n,t);return i},openIcon:function(){window.open(dsf.url.getWebPath("$/iconfont/".concat(dsf.config.runType,"/demo_index.html")),"icondemo")},getIcon:function(t){var e="icon-";return t.startsWith(e)?t.substr(e.length):t},removeButton:function(t){dsf.array.remove(this.tableData,t)},up:function(t){var e=_.findIndex(this.tableData,(function(e){return e==t}));if(e>0){var n=this.tableData[e-1];this.$set(this.tableData,e-1,t),this.$set(this.tableData,e,n)}},down:function(t){var e=_.findIndex(this.tableData,(function(e){return e==t}));if(e>0){var n=this.tableData[e+1];this.$set(this.tableData,e+1,t),this.$set(this.tableData,e,n)}},dblClickChange:function(t){var e=this;!0===t&&_.each(this.tableData,(function(t){e.formModel!=t&&(t.isDblClick=!1)}))},uploadChange:function(t){!0===t?(this.oldParams=this.formModel.params,this.formModel.params=[{value:{type:"static",code:""},desc:"导入接口地址",default:"/file/upload"},{value:{type:"static",code:""},desc:"导入参数",default:""},{value:{type:"static",code:""},desc:"可上传的文件类型",default:"xlsx|xls"}]):this.formModel.params=this.oldParams},clear:function(t){dsf.layer.pc.confirm("是否要清理掉当前配置内容？").then((function(){t.value={type:"static",code:""}})).catch((function(){}))},openEditor:function(t,e){e||dsf.layer.pc.openDialog({title:"按钮参数配置",width:"50%",height:"500px",overflow:"hidden",content:"DesButtonParamsSetting",params:{value:t.value},btns:[{text:"确定",handler:function(e){return!!e.validate()&&(t.value=e.getContent(),!0)}},{text:"取消"}]})},testCodeBlock:function(t){var e=/^\s*function(\s+\w*)?\(.*\)\s*{/g;return!!t&&(e.lastIndex=0,e.test(t))},handleChange:function(t,e){this.fileList=e.slice(-1)},handleSuccess:function(t){if(this.loading=!1,t.success&&2e4==t.state){var e=t.data[0];this.formModel.params[0].value=e.id,this.formModel.params[1].value=e.originalFileName}},handleError:function(){this.loading=!1,dsf.layer.message("上传失败",!1)}}}),l=s,c=n(0),u=Object(c["a"])(l,i,r,!1,null,null,null);u.options.__file="designer/setting/buttonEdit.vue";e["default"]=u.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-tabs",{staticClass:"ds-enum-editor",attrs:{type:"border-card"},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},[n("el-tab-pane",{attrs:{name:"1",label:"数据源"}},[n("enum-editor-item",{attrs:{type:"db","tree-loading":t.loading[1],"tree-data":t.treeData1,"default-checked-key":t.defaultCheckedKey1,"table-post":t.tablePost1,"empty-text":"请选择数据源"},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}})],1)],1)},r=[];i._withStripped=!0;n(64),n(16),n(15);var o=n(246),a={name:"DesCascaderItemsEditor",components:{EnumEditorItem:o["default"]},mixins:[$mixins.propertyDialogSetting],data:function(){var t=this;return{tabIndex:"0",loaded:[!1],loading:[!1],value1:{type:"db",code:null,attach:[]},treeData1:[],defaultCheckedKey1:"",tablePost1:function(e,n){t.$http.get("meta/tree/dbSource",{rmId:e}).done((function(t){t.success?n&&n(t.data):dsf.layer.message("请求异常！",!1)}))}}},watch:{tabIndex:function(t){!this.loaded[t-1]&&this["postData"+t]&&this["postData"+t](),this.$set(this.loaded,parseInt(t)-1,!0)}},created:function(){this.currentData&&this.init(this.currentData)},methods:{init:function(t){var e=t.type,n=(t.attach,t.code);this.value1={type:e,attach:[],code:n},this.defaultCheckedKey1=n,this.tabIndex="1"},yes:function(){if("1"===this.tabIndex){var t=this["value"+this.tabIndex];return delete t.attach,t}},postData1:function(){var t=this;this.$set(this.loading,1,!0),this.$http.get("/rm/list/ds",{namespace:""}).done((function(e){e.success?t.treeData1=e.data.map((function(e){return t.dataFormat1(e)})):dsf.layer.message("请求异常！",!1)})).always((function(){t.$set(t.loading,1,!1)}))},dataFormat1:function(t){var e=this,n=t.name,i=t.ID,r=t.type_value,o=t.children,a={label:n,ID:i,nocheck:"3"!==r&&"8"!==r,iconSkin:""};return o?a.children=o.map((function(t){return e.dataFormat1(t)})):a.nocheck&&(a.iconSkin="_special"),a}}},s=a,l=n(0),c=Object(l["a"])(s,i,r,!1,null,null,null);c.options.__file="designer/setting/cascaderItemsEditor.vue";e["default"]=c.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("MonacoEditor",{ref:"editor",attrs:{language:t.language},on:{mounted:t.editorLoaded}})},r=[];i._withStripped=!0;var o={name:"DesCodeEdit",mixins:[$mixins.propertyDialogSetting],data:function(){return{code:"",language:"",language_format:""}},created:function(){this.language_format=this.config.language,this.language=this.language_format||"javascript","jsonString"==this.language_format&&(this.language="json")},mounted:function(){},methods:{yes:function(){var t=this.$refs.editor.getContent(),e=this.language_format;return"html"==e?dsf.escapeFilter(t):"json"==e?JSON.parse(t):this.$refs.editor.getContent()},editorLoaded:function(){var t=this.currentData,e=this.language_format;"html"==e?t=dsf.unescapeHTML(t):"json"==e&&(t=JSON.stringify(t)),this.$refs.editor.setContent(t)}}},a=o,s=n(0),l=Object(s["a"])(a,i,r,!1,null,null,null);l.options.__file="designer/setting/codeEdit.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",[n("el-header",[n("DsfButton",{on:{click:t.add}},[t._v("新增")])],1),n("el-main",{staticStyle:{padding:"0px"}},[n("el-table",{ref:"table",staticClass:"ds-table",attrs:{border:!0,data:t.tableData,"row-class-name":t.tableRowClassName}},[n("el-table-column",{attrs:{label:"面板标题","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{model:{value:e.row.title,callback:function(n){t.$set(e.row,"title",n)},expression:"scope.row.title"}})]}}])}),n("el-table-column",{attrs:{label:"标识","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{model:{value:e.row.name,callback:function(n){t.$set(e.row,"name",n)},expression:"scope.row.name"}})]}}])}),n("el-table-column",{attrs:{label:"是否禁用","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{attrs:{placeholder:"支持表达式"},model:{value:e.row.disabled,callback:function(n){t.$set(e.row,"disabled",n)},expression:"scope.row.disabled"}})]}}])}),n("el-table-column",{attrs:{label:"初始化是否展开","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{attrs:{placeholder:"支持表达式"},model:{value:e.row.activated,callback:function(n){t.$set(e.row,"activated",t._n(n))},expression:"scope.row.activated"}})]}}])}),n("el-table-column",{attrs:{label:"操作","header-align":"center",align:"center",width:120},scopedSlots:t._u([{key:"default",fn:function(e){return[n("DsfButton",{staticStyle:{"min-width":"auto","margin-left":"5px"},attrs:{size:"small",title:"插入",icon:"hao","btn-style":"icon-text"},on:{click:function(n){return t.insert(e)}}}),n("DsfButton",{staticStyle:{"min-width":"auto","margin-left":"5px"},attrs:{size:"small",title:"删除",icon:"guanbi2","btn-style":"icon-text"},on:{click:function(n){return t.deleted(e)}}}),n("DsfButton",{staticStyle:{"min-width":"auto","margin-left":"5px"},attrs:{size:"small",title:"上移",icon:"shang","btn-style":"icon-text"},on:{click:function(n){return t.up(e)}}}),n("DsfButton",{staticStyle:{"min-width":"auto","margin-left":"5px"},attrs:{size:"small",title:"下移",icon:"xia","btn-style":"icon-text"},on:{click:function(n){return t.down(e)}}})]}}])})],1)],1)],1)},r=[];i._withStripped=!0;n(15),n(23),n(33);var o={name:"CollapseEdit",mixins:[$mixins.propertyDialogSetting],data:function(){return{tableData:[],names:[]}},created:function(){this.tableData=this.currentData||[this.newTab()]},methods:{tableRowClassName:function(t){var e=t.row,n=t.rowIndex,i="";if(e.name){this.names[n]="";var r=this.names.indexOf(e.name);-1!=r&&r<n&&(i="warning-row"),this.names[n]=e.name}return i},newTab:function(){return{title:"面板"+(this.tableData.length+1),name:dsf.uuid,disabled:"false",activated:"false",controls:[],error:!1}},add:function(){this.tableData.push(this.newTab())},insert:function(t){this.tableData.splice(t.$index+1,0,this.newTab())},deleted:function(t){dsf.array.remove(this.tableData,t.row)},up:function(t){if(t.$index>0){var e=this.tableData[t.$index],n=t.$index;dsf.array.remove(this.tableData,e),this.tableData.splice(n-1,0,e)}},down:function(t){if(this.tableData.length-1>t.$index){var e=this.tableData[t.$index],n=t.$index;dsf.array.remove(this.tableData,e),this.tableData.splice(n+1,0,e)}},validate:function(){for(var t in this.tableData){this.tableData[t]["name"]=this.tableData[t]["name"]||dsf.uuid();var e=this.names.indexOf(this.tableData[t]["name"]);if(-1!=e&&e<t)return dsf.layer.message("请解决重复标识",!1),!1}return!0},yes:function(){return this.tableData}}},a=o,s=(n(714),n(0)),l=Object(s["a"])(a,i,r,!1,null,"5c11d9bc",null);l.options.__file="designer/setting/collapseEdit.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{staticStyle:{height:"100%",border:"1px solid #eee"}},[n("el-aside",{staticStyle:{"border-right":"1px solid #eee"},attrs:{width:"40%"}},[n("div",{staticClass:"design-column-edit"},[t.isReload?t._e():n("el-tree",{ref:"tree",attrs:{data:t.treeData,"highlight-current":!0,"expand-on-click-node":!1,"render-after-expand":!0,"default-expand-all":!0,"node-key":"id",props:t.defaultProps},on:{"node-click":t.nodeClick},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.node,r=e.data;return n("span",{staticClass:"custom-tree-node"},[n("span",[t._v(" "+t._s(i.label)+" "),n("span",{staticStyle:{"margin-left":"5px"}},[t._v(t._s(r.hide?"[隐藏]":""))]),i.parent.data.isRoot?n("span",{staticStyle:{"margin-left":"5px"}},[t._v(t._s(r.fixed?"[锁定]":""))]):t._e()]),n("span",[n("dsf-button",{attrs:{title:"添加子项",size:"small","btn-style":"icon-text",icon:"hao"},on:{click:function(e){return e.stopPropagation(),t.append(r)}}}),r.isRoot?[n("dsf-button",{staticStyle:{color:"#c0c0c0"},attrs:{title:"删除",size:"small","btn-style":"icon-text",icon:"guanbi2"}}),n("dsf-button",{staticStyle:{color:"#c0c0c0"},attrs:{title:"上移",size:"small","btn-style":"icon-text",icon:"shang"}}),n("dsf-button",{staticStyle:{color:"#c0c0c0"},attrs:{title:"下移",size:"small","btn-style":"icon-text",icon:"xia"}})]:[n("dsf-button",{attrs:{title:"删除",size:"small","btn-style":"icon-text",icon:"guanbi2"},on:{click:function(e){return e.stopPropagation(),t.remove(i)}}}),n("dsf-button",{attrs:{title:"上移",size:"small","btn-style":"icon-text",icon:"shang"},on:{click:function(e){return e.stopPropagation(),t.up(i)}}}),n("dsf-button",{attrs:{title:"下移",size:"small","btn-style":"icon-text",icon:"xia"},on:{click:function(e){return e.stopPropagation(),t.down(i)}}})]],2)])}}],null,!1,2825849751)})],1)]),n("el-main",[n("el-form",{ref:"form",attrs:{model:t.form,"label-width":"150px"}},[n("el-form-item",{attrs:{label:"列名称"}},[n("el-input",{attrs:{disabled:t.form.readOnly},model:{value:t.form.label,callback:function(e){t.$set(t.form,"label",e)},expression:"form.label"}})],1),n("el-form-item",{attrs:{label:"列标识(二次开发用)"}},[n("el-input",{attrs:{disabled:t.form.readOnly},model:{value:t.form.code,callback:function(e){t.$set(t.form,"code",e)},expression:"form.code"}})],1),n("el-form-item",{attrs:{label:"表头对齐方式"}},[n("el-select",{staticClass:"select-full",attrs:{disabled:t.form.readOnly},model:{value:t.form.headerAlign,callback:function(e){t.$set(t.form,"headerAlign",e)},expression:"form.headerAlign"}},[n("el-option",{attrs:{label:"居左",value:"left"}}),n("el-option",{attrs:{label:"居右",value:"right"}}),n("el-option",{attrs:{label:"居中",value:"center"}})],1)],1),n("el-form-item",{attrs:{label:"数据对齐方式"}},[n("el-select",{staticClass:"select-full",attrs:{disabled:t.form.readOnly},model:{value:t.form.align,callback:function(e){t.$set(t.form,"align",e)},expression:"form.align"}},[n("el-option",{attrs:{label:"居左",value:"left"}}),n("el-option",{attrs:{label:"居右",value:"right"}}),n("el-option",{attrs:{label:"居中",value:"center"}})],1)],1),n("el-form-item",{attrs:{label:"前缀(可以使用html)"}},[n("el-input",{attrs:{disabled:t.form.readOnly},model:{value:t.form.prefix,callback:function(e){t.$set(t.form,"prefix",e)},expression:"form.prefix"}})],1),n("el-form-item",{attrs:{label:"后缀(可以使用html)"}},[n("el-input",{attrs:{disabled:t.form.readOnly},model:{value:t.form.suffix,callback:function(e){t.$set(t.form,"suffix",e)},expression:"form.suffix"}})],1),t.isSubTable?n("el-form-item",{attrs:{label:"必填标识"}},[n("el-switch",{attrs:{disabled:t.form.readOnly},model:{value:t.form.required,callback:function(e){t.$set(t.form,"required",e)},expression:"form.required"}})],1):t._e(),n("el-form-item",{attrs:{label:"宽度"}},[n("el-input",{attrs:{disabled:t.form.readOnly},model:{value:t.form.width,callback:function(e){t.$set(t.form,"width",e)},expression:"form.width"}})],1),n("el-form-item",{attrs:{label:"最小宽度"}},[n("el-input",{attrs:{disabled:t.form.readOnly},model:{value:t.form.minWidth,callback:function(e){t.$set(t.form,"minWidth",e)},expression:"form.minWidth"}})],1),n("el-form-item",{attrs:{label:"是否隐藏"}},[n("el-switch",{attrs:{disabled:t.form.readOnly},model:{value:t.form.hide,callback:function(e){t.$set(t.form,"hide",e)},expression:"form.hide"}})],1),t.formNode&&t.formNode.parent.data.isRoot?n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!t.isSubTable,expression:"!isSubTable"}],attrs:{label:"是否冻结列"}},[n("el-switch",{attrs:{disabled:t.form.readOnly},model:{value:t.form.fixed,callback:function(e){t.$set(t.form,"fixed",e)},expression:"form.fixed"}}),n("span",{staticStyle:{"margin-left":"15px",color:"#f56c6c"}},[t._v("* 被冻结的列将会固定在页面最左侧")])],1):t._e(),n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!t.isSubTable,expression:"!isSubTable"}],attrs:{label:"列头附带筛选"}},[n("el-switch",{attrs:{disabled:t.form.readOnly},model:{value:t.form.isFilter,callback:function(e){t.$set(t.form,"isFilter",e)},expression:"form.isFilter"}})],1),t.form.isFilter?n("el-form-item",{attrs:{label:"筛选字段"}},[n("el-select",{attrs:{disabled:t.form.readOnly},model:{value:t.form.filterInfo.field,callback:function(e){t.$set(t.form.filterInfo,"field",e)},expression:"form.filterInfo.field"}},[n("el-option",{attrs:{label:"",value:""}}),t._l(t.tableMetaData,(function(t,e){return n("el-option",{key:e,attrs:{label:t.fieldCaption,value:t.filed}})}))],2)],1):t._e(),t.form.isFilter?n("el-form-item",{attrs:{label:"筛选模式"}},[n("el-select",{attrs:{disabled:t.form.readOnly},model:{value:t.form.filterInfo.type,callback:function(e){t.$set(t.form.filterInfo,"type",e)},expression:"form.filterInfo.type"}},[n("el-option",{attrs:{label:"",value:""}}),n("el-option",{attrs:{label:"枚举",value:"enum"}}),n("el-option",{attrs:{label:"文本",value:"string"}}),n("el-option",{attrs:{label:"数字",value:"number"}}),n("el-option",{attrs:{label:"日期(年月日)",value:"ymd"}}),n("el-option",{attrs:{label:"日期(年月)",value:"ym"}})],1)],1):t._e(),t.form.isFilter&&"enum"==t.form.filterInfo.type?n("el-form-item",{attrs:{label:"枚举数据源"}},[n("dsf-button",{on:{click:function(e){return t.showEmunEditor(t.form.filterInfo)}}},[t._v(" "+t._s(t.form.filterInfo.dataSource?"已设置":"请设置")+" ")])],1):t._e()],1)],1)],1)},r=[];i._withStripped=!0;var o=n(3),a=n.n(o),s=n(9),l=n(5),c=(n(469),n(16),n(23),n(24),n(25),{name:"DesColumnsEdit",mixins:[$mixins.propertyDialogSetting],data:function(){return{isReload:!1,tableData:[],columns:[],data:[],treeData:[{id:dsf.uuid(),label:"表头",isRoot:!0,level:-1,children:[]}],defaultProps:{children:"children",label:"label"},form:null,formNode:null,formDisabled:{label:"",code:"",align:"center",headerAlign:"center",hide:!1,width:"",readOnly:!0,filterInfo:{}},tableMetaData:null}},props:{isSubTable:{type:Boolean,default:!1}},watch:{"form.hide":{handler:function(t){var e=this.form;if(e&&!e.readOnly){if(this.formNode&&e.level>0){var n=this.formNode.parent.data.hide;if(n&&n!=t)return dsf.layer.pc.message("父列为隐藏状态时子列不可设置显示状态",!1),void(e.hide=n)}this.deep(e,(function(e){e.hide=t}))}}},"form.isFilter":{handler:function(t,e){t&&this.loadTableMetaData()},immediate:!0}},created:function(){this.form=this.formDisabled},mounted:function(){if(this.owner){var t,e=this.owner.$$getComponent(),n=dsf.mix(!0,{},e.columns);(t=this.treeData[0].children).push.apply(t,Object(l["a"])(this.getTreeData(n,0)))}},methods:{getTreeData:function(t,e){var n=this,i=[];return _.each(t,(function(t,r){var o=dsf.mix({},f(),{id:e+"_"+r,level:e,code:t.code,label:t.label,columnId:t.columnId,headerAlign:t.headerAlign,align:t.align,hide:t.hide,width:t.width,minWidth:t.minWidth,prefix:t.prefix||"",suffix:t.suffix||"",required:t.required||!1,fixed:t.fixed||!1,isFilter:t.isFilter||!1,filterInfo:t.filterInfo||{}});i.push(o);var a=n.getTreeData(t.children,e+1);o.children=a})),i},deep:function(t,e,n){var i=this;e&&e(t,n),t.children&&_.each(t.children,(function(t){i.deep(t,e,n+1)}))},append:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.treeData[0],e=t.children.length+1,n=dsf.mix({},f(),{id:parent.level+"_"+e,label:"新建列",level:t.level+1,hide:t.hide});t.children.push(n)},remove:function(t){var e=t.parent;dsf.array.remove(e.data.children,t.data)},up:function(t){u.call(this,t,"up")},down:function(t){u.call(this,t,"down")},nodeClick:function(t,e){t.isRoot?(this.form=this.formDisabled,this.formNode=null):(this.form=t,this.formNode=e,this.formNode.filterInfoCopy=dsf.mix(!0,{},this.formNode.filterInfo))},validate:function(){},getColumnsMap:function(){var t=[];return this.deep(this.treeData[0],(function(e){t.push(e)})),t},getMetaTreeData:function(t,e){var n=this;return Object(s["a"])(a.a.mark((function i(){var r,o,s;return a.a.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(r=[],"8"!=e){i.next=8;break}return o={rmId:t.rmId},i.next=5,n.$webAPI.getDbSourceFieldsTree(o);case 5:r=i.sent,i.next=13;break;case 8:if("3"!=e){i.next=13;break}return s={namespace:t.at},i.next=12,n.$webAPI.getMetaDataFieldsTree(s);case 12:r=i.sent;case 13:return i.abrupt("return",r);case 14:case"end":return i.stop()}}),i)})))()},getMetaDataListFormTree:function(t){if(t.children){var e=t.children,n=[];return _.each(e,(function(t){1==t.valueAttributes.length?n.push({fieldCaption:t.fieldCaption,filed:t.id}):t.valueAttributes.length>1&&_.each(t.valueAttributes,(function(t){n.push({fieldCaption:t.fieldCaption,filed:t.id})}))})),n}},loadTableMetaData:function(){var t=this;return Object(s["a"])(a.a.mark((function e(){var n,i,r,o,s;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.tableMetaData){e.next=15;break}if(n=t.owner.$$getComponent(),i=n.$getChildMetadataList(),i&&!(i.length<1)){e.next=6;break}return dsf.layer.pc.message("请将要展示的元数据拖动到列表中",!1),e.abrupt("return");case 6:if(r=i[0].metadata.at,r){e.next=10;break}return dsf.layer.pc.message("请将要展示的元数据拖动到列表中",!1),e.abrupt("return");case 10:return e.next=12,n.$getMetadataTree(i);case 12:o=e.sent,s=t.getMetaDataListFormTree(o[0]),t.tableMetaData=s;case 15:case"end":return e.stop()}}),e)})))()},showEmunEditor:function(t){var e=this;this.$openDialog({content:"DesEnumEditor",width:"900px",params:{currentData:t.dataSource||{code:null,type:"dict"}},btns:[{text:"确定",handler:function(n){if(n.yes){var i=n.yes();e.$set(t,"dataSource",i)}}},{text:"取消"}]})},yes:function(){var t=this.getColumnsMap();this.deep(this.treeData[0]||[],(function(e){if(e.children&&0!=e.children.length)e.children&&e.children.length>0&&(e.columnId="");else if(!e.columnId){var n=_.map(t,"columnId"),i=1,r="table-column-"+dsf.math.numToEnglishLetter(i);while(n.indexOf(r)>=0)n=_.map(t,"columnId"),r="table-column-"+dsf.math.numToEnglishLetter(++i);e.columnId=r}e.isFilter||(e.filterInfo={}),e.filterInfo&&(dsf.isEqualObject(e.filterInfo,e.filterInfoCopy||{})||(e.filterInfo.isUser=!0),"enum"!=e.filterInfo.type&&delete e.filterInfo.dataSource)}),0);var e=this.treeData[0].children;return _.forEach(e,(function(t){t.children.length&&dsf.deepForEach(t.children,(function(e){e.fixed=t.fixed}),{isLast:!0})})),e}}});function u(t,e){var n=t.parent,i=n.childNodes.indexOf(t),r="up"==e?i>0:i<=n.childNodes.length-1;if(r){var o="up"==e?i-1:i+1,a=n.childNodes[o];this.$set(n.data.children,o,t.data),this.$set(n.data.children,i,a.data),this.$set(n.childNodes,o,t),this.$set(n.childNodes,i,a)}}function f(){var t={id:"",level:0,label:"",headerAlign:"center",align:"center",columnId:"",children:[],hide:!1,resizable:!1,prefix:"",suffix:"",required:!1,fixed:!1,isFilter:!1,filterInfo:{}};return dsf.mix({},t)}var d=c,h=n(0),p=Object(h["a"])(d,i,r,!1,null,null,null);p.options.__file="designer/setting/columnsEdit.vue";e["default"]=p.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-table",{ref:"table",attrs:{data:t.data}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{property:"caption",label:"组件标识"}}),n("el-table-column",{attrs:{property:"type",label:"组件类型"}}),n("el-table-column",{attrs:{property:"label",label:"组件名称"}})],1)},r=[];i._withStripped=!0;var o=n(5),a=(n(16),{name:"DesComponents",mixins:[$mixins.propertyDialogSetting],props:{designer:{type:Object,default:function(){return null}}},data:function(){return{show:!1,data:[]}},mounted:function(){var t=[],e=this.designer.$refs.viewProxy;dsf.designer.recursionLayoutTree(e,null,null,(function(e){if(e.isFormControl&&t.push({id:e.designId,caption:e.caption,label:e.label,type:e.$options.ctrlCaption,ctrl:e}),e.isOneToMany)return!1})),this.data=t,this.show=!0},methods:{validate:function(){var t=[],e=this.$refs.table.selection;if(_.each(e,(function(e){if(e.label){var n=dsf.designer.validateCaption(e.ctrl);t.push.apply(t,Object(o["a"])(n))}else t.push("请为"+e.caption+"起名后再试")})),t.length)return dsf.layer.pc.message(t[0],!1),!1},yes:function(){var t=this.$refs.table.selection,e=_.map(t,(function(t){return t.ctrl})),n=[];return _.each(e,(function(t){var e=t.$options.design.layout.exclude,i=t.$options.design.metadata.create.call(t),r=dsf.mix(!0,{},t.$props),o={props:r,metadata:i};_.each(e,(function(t){delete r[t]})),n.push(o)})),n}}}),s=a,l=n(0),c=Object(l["a"])(s,i,r,!1,null,null,null);c.options.__file="designer/setting/components.vue";e["default"]=c.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"control-filter-tree"},[n("dsf-tree-select",{attrs:{"tree-data":t.nodeList,loading:t.loading,theme:"theme1","node-key":"dsfa_rm_id","node-name":"name","search-control":"","default-expand-all":"",multiple:""},on:{"choose-node":function(e){t.checkNodeList=e}}})],1)},r=[];i._withStripped=!0;n(23),n(15),n(38);var o=n(175),a={name:"DesControlSelect",components:{DsfTreeSelect:o["default"]},mixins:[$mixins.propertyDialogSetting],data:function(){return{loading:!1,checkNodeList:[],nodeList:[]}},created:function(){this.getDesignCtrl()},methods:{filterNode:function(t,e){return!t||-1!==e.name.indexOf(t)},getDesignCtrl:function(){var t=this;this.loading=!0;var e="/rm/list/control";this.$http.get(e).done((function(e){e.success?t.nodeList=e.data:dsf.layer.message("控件组获取"+e.message,!1)})).error((function(t){dsf.layer.message(t.message,!1)})).finally((function(){t.loading=!1}))}}},s=a,l=n(0),c=Object(l["a"])(s,i,r,!1,null,null,null);c.options.__file="designer/setting/controlSelect.vue";e["default"]=c.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-tabs",{staticClass:"ds-meta-data-select",attrs:{type:"border-card"},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},[n("el-tab-pane",{attrs:{name:"0",label:"普通组件"}},[t.loaded[0]?n("meta-data-select-item",{ref:"select0",attrs:{url:"rm/list/control"}}):t._e()],1),n("el-tab-pane",{attrs:{name:"1",label:"业务组件"}},[t.loaded[1]?n("meta-data-select-item",{ref:"select1",attrs:{url:"rm/list/bc"}}):t._e()],1)],1)},r=[];i._withStripped=!0;n(64);var o=n(495),a={name:"DesCustomComponent",components:{MetaDataSelectItem:o["default"]},mixins:[$mixins.propertyDialogSetting],data:function(){return{tabIndex:"0",loaded:[!0,!1]}},watch:{tabIndex:function(t){this.$set(this.loaded,parseInt(t),!0)}},methods:{yes:function(){return this.$refs["select"+this.tabIndex].yes()}}},s=a,l=n(0),c=Object(l["a"])(s,i,r,!1,null,null,null);c.options.__file="designer/setting/customComponent.vue";e["default"]=c.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"des-custom-list-set-list"},[n("el-form",{attrs:{model:t.formInline,"label-width":"145px"}},[n("el-row",[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"列表高亮字段："}},[n("el-input",{attrs:{placeholder:"字段值为true时高亮(支持表达式)"},model:{value:t.formInline.lightCode,callback:function(e){t.$set(t.formInline,"lightCode",e)},expression:"formInline.lightCode"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"跳转链接字段："}},[n("el-input",{attrs:{placeholder:"字段有值时跳转(支持表达式)"},model:{value:t.formInline.linkCode,callback:function(e){t.$set(t.formInline,"linkCode",e)},expression:"formInline.linkCode"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"跳转链接打开类型："}},[n("el-input",{attrs:{placeholder:"true:新窗口 false:弹框 (支持表达式)"},model:{value:t.formInline.linkType,callback:function(e){t.$set(t.formInline,"linkType",e)},expression:"formInline.linkType"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"查看更多数据链接："}},[n("el-input",{attrs:{placeholder:"设置后显示更多(支持表达式)"},model:{value:t.formInline.moreUrl,callback:function(e){t.$set(t.formInline,"moreUrl",e)},expression:"formInline.moreUrl"}})],1)],1)],1)],1),n("div",{staticStyle:{"text-align":"right","margin-bottom":"10px"}},[n("DsfButton",{attrs:{size:"small",icon:"hao"},on:{click:function(e){return t.handleEvent("add")}}},[t._v("新增")]),n("DsfButton",{attrs:{size:"small",icon:"iconfont icon-delete",type:"plain"},on:{click:function(e){return t.handleEvent("delete")}}},[t._v("清空")])],1),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.formInline.list,border:"","header-cell-style":{backgroundColor:"#f2f2f2"}}},[n("el-table-column",{attrs:{type:"index",label:"序号",width:"50px",align:"center"}}),n("el-table-column",{attrs:{prop:"des",label:"字段描述"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{model:{value:e.row.des,callback:function(n){t.$set(e.row,"des",n)},expression:"scope.row.des"}})]}}])}),n("el-table-column",{attrs:{prop:"code",label:"对应字段"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{model:{value:e.row.code,callback:function(n){t.$set(e.row,"code",n)},expression:"scope.row.code"}})]}}])}),n("el-table-column",{attrs:{prop:"title",label:"显示标题"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{model:{value:e.row.title,callback:function(n){t.$set(e.row,"title",n)},expression:"scope.row.title"}})]}}])}),n("el-table-column",{attrs:{prop:"text",label:"数据格式"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-select",{model:{value:e.row.text,callback:function(n){t.$set(e.row,"text",n)},expression:"scope.row.text"}},[n("el-option",{attrs:{label:"居左",value:"left"}}),n("el-option",{attrs:{label:"居中",value:"center"}}),n("el-option",{attrs:{label:"居右",value:"right"}})],1)]}}])}),n("el-table-column",{attrs:{prop:"width",label:"宽度"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{model:{value:e.row.width,callback:function(n){t.$set(e.row,"width",n)},expression:"scope.row.width"}})]}}])}),n("el-table-column",{attrs:{prop:"ellipsis",label:"一行显示"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-select",{model:{value:e.row.ellipsis,callback:function(n){t.$set(e.row,"ellipsis",n)},expression:"scope.row.ellipsis"}},[n("el-option",{attrs:{label:"否",value:"0"}}),n("el-option",{attrs:{label:"是",value:"1"}})],1)]}}])}),n("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.$index>0?n("el-button",{attrs:{type:"text"},on:{click:function(n){return t.handleEvent("sort",e,"up")}}},[t._v("上移")]):t._e(),e.$index<t.formInline.list.length-1?n("el-button",{attrs:{type:"text"},on:{click:function(n){return t.handleEvent("sort",e,"down")}}},[t._v("下移")]):t._e(),n("el-button",{attrs:{type:"text"},on:{click:function(n){return t.handleEvent("delete",e)}}},[t._v("删除")])]}}])})],1)],1)},r=[];i._withStripped=!0;n(33);var o={name:"DesCustomListSetList",mixins:[$mixins.propertyDialogSetting],data:function(){return{formInline:{linkType:null,linkCode:null,moreUrl:"",lightCode:null,list:[{des:"类型",width:"25%",text:"left",ellipsis:"1",code:null,title:""},{des:"标题、描述",width:"25%",text:"left",ellipsis:"1",code:null,title:""},{des:"来源人/物、目的人/物",width:"25%",text:"left",ellipsis:"1",code:null,title:""},{des:"时间",width:"25%",text:"right",ellipsis:"1",code:null,title:""}]}}},created:function(){this.owner.formInline.list&&(this.formInline=dsf.mix(!0,{},this.owner.formInline))},methods:{handleEvent:function(t,e,n){var i=this,r={add:function(){var t=dsf.mix(!0,{},{des:"",width:"100%",text:"left",ellipsis:"1",code:null,title:""});i.formInline.list.push(t)},sort:function(){var t=e.$index;if("up"==n){var r=i.formInline.list[t-1];i.formInline.list.splice(t-1,1),i.formInline.list.splice(t,0,r)}else{var o=i.formInline.list[t+1];i.formInline.list.splice(t+1,1),i.formInline.list.splice(t,0,o)}},delete:function(){e?i.formInline.list.splice(e.$index,1):i.formInline.list=[]}};r[t]&&r[t]()},validate:function(){for(var t=0,e=this.formInline.list.length;t<e;t++){var n=this.formInline.list[t];if(dsf.isUnDef(n.code)||!n.title)return dsf.layer.message("新增表格字段不能为空",!1),!1}return!0},yes:function(){return this.formInline}}},a=o,s=n(0),l=Object(s["a"])(a,i,r,!1,null,null,null);l.options.__file="designer/setting/customListSetList.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{staticStyle:{height:"100%"}},[n("el-aside",{staticStyle:{overflow:"auto",height:"100%"},attrs:{width:"35%"}},[n("div",{staticStyle:{overflow:"auto",height:"100%"}},[n("el-tree",{attrs:{data:t.treeData,props:t.defaultProps,"default-expand-all":""},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.node,r=e.data;return n("span",{staticClass:"custom-tree-node"},[n("i",{staticClass:"iconfont icon-biaodanzujian-shurukuang",staticStyle:{"margin-right":"5px"}}),n("span",{on:{dblclick:function(e){return t.toList(i,r)}}},[t._v(t._s(i.label))]),r.field?n("span",{staticStyle:{color:"red"},on:{dblclick:function(e){return t.toList(i,r)}}},[t._v("(字段:"+t._s(r.field)+")")]):t._e()])}}])})],1)]),n("el-main",{staticStyle:{padding:"0px"}},[n("el-container",[n("el-main",[n("el-table",{attrs:{data:t.tableData,border:"","highlight-current-row":!0}},[n("el-table-column",{attrs:{prop:"field",label:"字段名称"}}),n("el-table-column",{attrs:{prop:"fieldCaption",label:"字段描述"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{model:{value:e.row.fieldCaption,callback:function(n){t.$set(e.row,"fieldCaption",n)},expression:"scope.row.fieldCaption"}})]}}])}),n("el-table-column",{attrs:{label:"默认排序类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-select",{model:{value:e.row.sortType,callback:function(n){t.$set(e.row,"sortType",n)},expression:"scope.row.sortType"}},[n("el-option",{attrs:{value:"",label:"不参与"}}),n("el-option",{attrs:{value:"asc",label:"升序"}}),n("el-option",{attrs:{value:"desc",label:"降序"}})],1)]}}])}),n("el-table-column",{attrs:{prop:"column",label:"对应列表的列"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-select",{model:{value:e.row.column,callback:function(n){t.$set(e.row,"column",n)},expression:"scope.row.column"}},[n("el-option",{attrs:{value:"",label:""}}),t._l(t.listColumns,(function(t){return n("el-option",{key:t.columnId,attrs:{value:t.columnId,label:t.label}})}))],2)]}}])}),n("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("dsf-button",{attrs:{title:"删除",size:"small","btn-style":"icon-text",icon:"guanbi2"},on:{click:function(n){return n.stopPropagation(),t.remove(e.row)}}}),n("dsf-button",{attrs:{title:"上移",size:"small","btn-style":"icon-text",icon:"shang"},on:{click:function(n){return n.stopPropagation(),t.up(e.row)}}}),n("dsf-button",{attrs:{title:"下移",size:"small","btn-style":"icon-text",icon:"xia"},on:{click:function(n){return n.stopPropagation(),t.down(e.row)}}})]}}])})],1)],1)],1)],1)],1)},r=[];i._withStripped=!0;var o=n(3),a=n.n(o),s=n(9),l=(n(52),n(48),{name:"DesCustomerOrderByEdit",mixins:[$mixins.propertyDialogSetting],data:function(){return{tableData:[],treeData:[],defaultProps:{children:"children",label:"name"},listColumns:[]}},mounted:function(){var t=this;return Object(s["a"])(a.a.mark((function e(){var n,i,r,o;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=t.owner.$$getComponent(),r=i.$getChildMetadataList(),r&&!(r.length<1)){e.next=5;break}return dsf.layer.pc.message("请将要展示的元数据拖动到列表中",!1),e.abrupt("return");case 5:if(o=r[0].metadata.at,o){e.next=9;break}return dsf.layer.pc.message("请将要展示的元数据拖动到列表中",!1),e.abrupt("return");case 9:return t.listColumns=(null===i||void 0===i||null===(n=i.getLastColumns)||void 0===n?void 0:n.call(i))||[],e.next=12,i.$getMetadataTree(r);case 12:t.treeData=e.sent,t.tableData=t.currentData||[];case 14:case"end":return e.stop()}}),e)})))()},methods:{toList:function(t,e){if(e.field){var n=_.findIndex(this.tableData,(function(t){return t.field==e.field}));n<0&&this.tableData.push({field:e.field,fieldCaption:e.fieldCaption,column:"",sortType:"asc",isUser:!0})}},getTreeData:function(t,e){var n=this;return Object(s["a"])(a.a.mark((function i(){var r,o,s;return a.a.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(r=[],"8"!=e){i.next=8;break}return o={rmId:t.rmId},i.next=5,n.$webAPI.getDbSourceFieldsTree(o);case 5:r=i.sent,i.next=13;break;case 8:if("3"!=e){i.next=13;break}return s={namespace:t.at},i.next=12,n.$webAPI.getMetaDataFieldsTree(s);case 12:r=i.sent;case 13:return i.abrupt("return",r);case 14:case"end":return i.stop()}}),i)})))()},remove:function(t){dsf.array.remove(this.tableData,t)},up:function(t){var e=_.findIndex(this.tableData,(function(e){return e==t}));if(e>0){var n=this.tableData[e-1];this.$set(this.tableData,e-1,t),this.$set(this.tableData,e,n)}},down:function(t){var e=_.findIndex(this.tableData,(function(e){return e==t}));if(e<this.tableData.length-1){var n=this.tableData[e+1];this.$set(this.tableData,e+1,t),this.$set(this.tableData,e,n)}},yes:function(){var t=this,e=[];return _.each(this.tableData||[],(function(n){var i=n.column,r=_.find(t.owner.customerOrder,(function(t){return t.column==i}));null!==r&&void 0!==r&&r.isUser||dsf.isEqualObject(n,r)||(n.isUser=!0),e.push(n)})),e}}}),c=l,u=n(0),f=Object(u["a"])(c,i,r,!1,null,null,null);f.options.__file="designer/setting/customOrderBy.vue";e["default"]=f.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{staticStyle:{height:"100%"}},[n("el-aside",{staticStyle:{width:"500px",overflow:"auto"}},[n("el-container",[n("el-header",{staticStyle:{padding:"0 0 10px 0","text-align":"right",height:"auto"}},[n("DsfButton",{attrs:{size:"small",icon:"sousuofangda"},on:{click:t.openDialog}},[t._v("添加自定义布局")])],1),n("el-main",{staticStyle:{padding:"0",height:"100%"}},[n("el-table",{ref:"table",attrs:{"show-header":!0,data:t.tableData,"max-height":"350",size:"small","highlight-current-row":"",border:""},on:{"row-click":t.rowClickHandler}},[n("el-table-column",{attrs:{label:"#",type:"index",align:"center"}}),n("el-table-column",{attrs:{label:"名称",prop:"name"}}),n("el-table-column",{attrs:{label:"布局类型",prop:"typeName",width:"120px"}}),n("el-table-column",{attrs:{label:"图标",prop:"icon",width:"70px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[n("DsfButton",{attrs:{"btn-style":"icon-text",size:"small",icon:t.getIcon(i.icon)}})]}}])}),n("el-table-column",{attrs:{label:"操作",width:"100px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row,r=e.$index;return[n("DsfButton",{attrs:{"btn-style":"icon-text",icon:"shanchu",size:"small",title:"删除"},on:{click:function(e){return t.removeData(i,r)}}}),r>0?n("DsfButton",{attrs:{"btn-style":"icon-text",icon:"shang",size:"small",title:"上移"},on:{click:function(e){return t.up(i,r)}}}):t._e(),r<t.tableData.length-1?n("DsfButton",{attrs:{"btn-style":"icon-text",icon:"xia",size:"small",title:"下移"},on:{click:function(e){return t.down(i,r)}}}):t._e()]}}])})],1)],1)],1)],1),n("el-main",{staticStyle:{padding:"0"}},[n("el-container",[t.formModel?n("el-form",{staticStyle:{width:"90%"},attrs:{model:t.formModel,size:"small","label-width":"120px"}},[n("el-form-item",{attrs:{label:"ID"}},[n("el-input",{attrs:{disabled:""},model:{value:t.formModel.id,callback:function(e){t.$set(t.formModel,"id",e)},expression:"formModel.id"}})],1),n("el-form-item",{attrs:{label:"名称"}},[n("el-input",{model:{value:t.formModel.name,callback:function(e){t.$set(t.formModel,"name",e)},expression:"formModel.name"}})],1),n("el-form-item",{attrs:{label:"图标"}},[n("el-input",{model:{value:t.formModel.icon,callback:function(e){t.$set(t.formModel,"icon",e)},expression:"formModel.icon"}})],1),n("el-form-item",{attrs:{label:"布局类型"}},[n("el-input",{attrs:{disabled:""},model:{value:t.formModel.typeName,callback:function(e){t.$set(t.formModel,"typeName",e)},expression:"formModel.typeName"}})],1),"table"==t.formModel.type&&void 0!==t.formModel.hide?n("el-form-item",{scopedSlots:t._u([{key:"label",fn:function(){return[t._v(" 是否隐藏 "),n("el-popover",{attrs:{content:"已废弃，若要隐藏表格，请直接删除它",placement:"top",trigger:"hover"}},[n("i",{staticClass:"iconfont icon-yiwen",attrs:{slot:"reference"},slot:"reference"})])]},proxy:!0}],null,!1,3212233526)},[n("el-radio",{attrs:{label:!0},model:{value:t.formModel.hide,callback:function(e){t.$set(t.formModel,"hide",e)},expression:"formModel.hide"}},[t._v("是")]),n("el-radio",{attrs:{label:!1},model:{value:t.formModel.hide,callback:function(e){t.$set(t.formModel,"hide",e)},expression:"formModel.hide"}},[t._v("否")])],1):t._e(),n("el-form-item",{attrs:{label:"背景色"}},[n("el-input",{attrs:{disabled:"table"==t.formModel.type},model:{value:t.formModel.backgroundColor,callback:function(e){t.$set(t.formModel,"backgroundColor",e)},expression:"formModel.backgroundColor"}})],1),t.formModel.attr&&t.layerConfig[t.formModel.type]&&t.layerConfig[t.formModel.type].attr?[n("div",{staticStyle:{color:"#888","font-weight":"bold",padding:"0 0 15px 30px"}},[n("span",{staticStyle:{"border-left":"4px solid #ddd","padding-left":"5px"}},[t._v("布局私有属性")])]),t._l(t.layerConfig[t.formModel.type].attr,(function(e,i){return[n("el-form-item",{key:i,scopedSlots:t._u([{key:"label",fn:function(){return[t._v(" "+t._s(e.label)+" "),e.tips?n("el-popover",{attrs:{content:e.tips,placement:"top",trigger:"hover"}},[n("i",{staticClass:"iconfont icon-yiwen",attrs:{slot:"reference"},slot:"reference"})]):t._e()]},proxy:!0}],null,!0)},[n(e.ctrl,t._b({tag:"component",attrs:{placeholder:e.tips||""},model:{value:t.formModel.attr[i],callback:function(e){t.$set(t.formModel.attr,i,e)},expression:"formModel.attr[k]"}},"component",e.attr,!1,!0))],1)]}))]:t._e()],2):t._e()],1)],1),n("el-dialog",{attrs:{title:"选择布局",visible:t.dialogShow,width:"400px","append-to-body":""},on:{"update:visible":function(e){t.dialogShow=e}},scopedSlots:t._u([{key:"footer",fn:function(){return[n("dsf-button",{on:{click:t.addData}},[t._v("确定")]),n("dsf-button",{attrs:{type:"plain"},on:{click:function(e){t.dialogShow=t.fasle}}},[t._v("取消")])]},proxy:!0}])},[n("el-radio-group",{model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},t._l(t.layerConfig,(function(e){return n("el-radio",{key:e.type,attrs:{label:e.type,disabled:t.hasTable&&"table"===e.type}},[t._v(" "+t._s(e.name)+" ")])})),1)],1)],1)},r=[];i._withStripped=!0;n(97),n(10),n(565),n(48),n(24),n(25),n(20),n(104),n(15),n(33);function o(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"px";return t?(t=t.trim(),t=t.length?t:e,n&&t.match(/^\d*.?\d+$/)&&(t+=n),t):e}var a={name:"DesDataGridLayoutSetting",mixins:[$mixins.propertyDialogSetting],data:function(){return{layerConfig:s,dialogShow:!1,formModel:null,radio:"cardList",tableData:[{id:"default",name:"表格",icon:"icon-biaodanzujian-biaoge",type:"table",typeName:"表格",backgroundColor:"#ffffff",attr:{hide:!1}}]}},computed:{hasTable:function(){return!!_.find(this.tableData,(function(t){return"table"===t.type}))}},created:function(){this.currentData&&(this.tableData=this.currentData)},mounted:function(){this.$refs.table.setCurrentRow(this.tableData[0]),this.formModel=this.tableData[0]},methods:{yes:function(){var t=this;return this.tableData.forEach((function(e){if("card"==e.type){var n=t.getStyleByCard(e.attr),i=n.style;e.style=i}})),this.tableData},getStyleByCard:function(t){var e=t.columns,n=t.marginBottom,i=t.marginLeft,r=t.maxWidth,a=t.minWidth;n=o(n,"0px"),i=o(i,"0px"),r=o(r,"100%"),a=o(a,"none");var s=r;return e>0&&(s="calc((100% - ".concat(i," * ").concat(e,") / ").concat(e,")")),{style:{"margin-bottom":n,"margin-left":i,"min-width":a,"max-width":r,"flex-basis":s,width:s}}},getIcon:function(t){var e="icon-";return t.startsWith(e)?t.substr(e.length):t},rowClickHandler:function(t){this.formModel=t},openDialog:function(){this.dialogShow=!0},addData:function(){var t=this,e=this.layerConfig[this.radio],n={id:dsf.uuid(16),name:e.name+this.tableData.length,icon:e.icon,type:e.type,typeName:e.name,backgroundColor:"#ffffff",attr:Object.assign({},e.defaultArr)};this.tableData.push(n),this.dialogShow=!1,this.$nextTick((function(){t.$refs.table.setCurrentRow(n),t.formModel=n,t.radio="cardList"}))},removeData:function(t,e){this.tableData.splice(e,1)},up:function(t,e){var n=this.tableData[e-1];this.$set(this.tableData,e-1,t),this.$set(this.tableData,e,n)},down:function(t,e){var n=this.tableData[e+1];this.$set(this.tableData,e+1,t),this.$set(this.tableData,e,n)}}},s={table:{type:"table",name:"表格",icon:"icon-biaodanzujian-biaoge"},cardList:{type:"cardList",name:"卡片列表",icon:"icon-wnet"}},l=a,c=n(0),u=Object(c["a"])(l,i,r,!1,null,null,null);u.options.__file="designer/setting/dataGridLayoutSetting.vue";e["default"]=u.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",[n("el-header",[n("div",{staticStyle:{"text-align":"right",height:"auto",margin:"0px -20px"}},[n("DsfButton",{on:{click:t.add}},[t._v("新增")])],1)]),n("el-main",{staticStyle:{padding:"0px"}},[n("el-table",{attrs:{data:t.tableData,border:""}},[n("el-table-column",{attrs:{prop:"code",label:"元数据代码"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{model:{value:e.row.code,callback:function(n){t.$set(e.row,"code",n)},expression:"scope.row.code"}})]}}])}),t.type?t._e():n("el-table-column",{attrs:{prop:"type",label:"类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-select",{model:{value:e.row.type,callback:function(n){t.$set(e.row,"type",n)},expression:"scope.row.type"}},[n("el-option",{attrs:{value:0,label:"检索框"}}),n("el-option",{attrs:{value:1,label:"附加条件"}})],1)]}}],null,!1,1675615170)}),n("el-table-column",{attrs:{prop:"operation",label:"操作符"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-select",{model:{value:e.row.operation,callback:function(n){t.$set(e.row,"operation",n)},expression:"scope.row.operation"}},[n("el-option",{attrs:{value:"like",label:"模糊匹配"}}),n("el-option",{attrs:{value:"slike",label:"开头匹配"}}),n("el-option",{attrs:{value:"elike",label:"结尾匹配"}}),n("el-option",{attrs:{value:"eq",label:"等于"}}),n("el-option",{attrs:{value:"noteq",label:"不等于"}}),n("el-option",{attrs:{value:"lt",label:"小于"}}),n("el-option",{attrs:{value:"gt",label:"大于"}}),n("el-option",{attrs:{value:"lteq",label:"小于等于"}}),n("el-option",{attrs:{value:"gteq",label:"大于等于"}})],1)]}}])}),n("el-table-column",{attrs:{prop:"valueExpress",label:"值"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{attrs:{disabled:0===e.row.type},model:{value:e.row.valueExpress,callback:function(n){t.$set(e.row,"valueExpress",n)},expression:"scope.row.valueExpress"}})]}}])}),n("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-link",{attrs:{type:"primary"},on:{click:function(n){return t.remove(e.row)}}},[t._v("删除")])]}}])})],1)],1)],1)},r=[];i._withStripped=!0;var o={name:"DesDataGridSearch",mixins:[$mixins.propertyDialogSetting],data:function(){return{tableData:[],type:0}},created:function(){var t=this.currentData||[];this.tableData=t,this.config.other&&(this.type=1*(this.config.other.type||"0"))},mounted:function(){},methods:{add:function(){this.tableData.push({code:"",type:this.type,operation:"like",valueExpress:""})},remove:function(t){dsf.array.remove(this.tableData,t)},yes:function(){return this.tableData}}},a=o,s=n(0),l=Object(s["a"])(a,i,r,!1,null,null,null);l.options.__file="designer/setting/dataGridSearchSetting.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{staticStyle:{height:"100%"}},[n("el-aside",{staticStyle:{width:"500px",overflow:"auto"}},[n("el-container",[n("el-header",{staticStyle:{padding:"0px 0px 10px 0px","text-align":"right",height:"auto"}},[n("DsfButton",{attrs:{size:"small",icon:"hao"},on:{click:t.addTab}},[t._v(" 新增标签 ")])],1),n("el-main",{staticStyle:{padding:"0px",height:"100%"}},[n("el-table",{attrs:{border:"","show-header":!0,data:t.tableData,"highlight-current-row":!0},on:{"row-click":t.rowClickHandler}},[n("el-table-column",{attrs:{label:"#",type:"index",align:"center"}}),n("el-table-column",{attrs:{label:"KEY",prop:"text"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.key)+" ")]}}])}),n("el-table-column",{attrs:{label:"名称",prop:"caption"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.title)+" ")]}}])}),n("el-table-column",{attrs:{width:"60px",label:"图标",prop:"caption"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row&&e.row.iconName?n("DsfIcon",{attrs:{name:e.row.iconName}}):t._e()]}}])}),n("el-table-column",{attrs:{width:"100px",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("DsfButton",{attrs:{"btn-style":"icon-text",icon:"shanchu",size:"small",title:"删除"},on:{click:function(n){return t.removeTab(e.row)}}}),n("DsfButton",{attrs:{"btn-style":"icon-text",icon:"shang",size:"small",title:"上移"},on:{click:function(n){return t.up(e.row)}}}),n("DsfButton",{attrs:{"btn-style":"icon-text",icon:"xia",size:"small",title:"下移"},on:{click:function(n){return t.down(e.row)}}})]}}])})],1)],1)],1)],1),n("el-main",{staticStyle:{padding:"0px"}},[n("el-container",[n("el-main",[n("el-form",{attrs:{model:t.formModel,disabled:!Object.keys(t.formModel).length,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"KEY"}},[n("el-input",{model:{value:t.formModel.key,callback:function(e){t.$set(t.formModel,"key",e)},expression:"formModel.key"}})],1),n("el-form-item",{attrs:{label:"图标"}},[n("el-input",{model:{value:t.formModel.iconName,callback:function(e){t.$set(t.formModel,"iconName",e)},expression:"formModel.iconName"}})],1),n("el-form-item",{attrs:{label:"标题"}},[n("el-input",{model:{value:t.formModel.title,callback:function(e){t.$set(t.formModel,"title",e)},expression:"formModel.title"}})],1),n("el-form-item",{attrs:{label:"描述"}},[n("el-input",{model:{value:t.formModel.desc,callback:function(e){t.$set(t.formModel,"desc",e)},expression:"formModel.desc"}})],1),n("el-form-item",{attrs:{label:"数据"}},[n("el-input",{model:{value:t.formModel.number,callback:function(e){t.$set(t.formModel,"number",e)},expression:"formModel.number"}})],1),n("el-form-item",{attrs:{label:"数据单位"}},[n("el-input",{model:{value:t.formModel.unit,callback:function(e){t.$set(t.formModel,"unit",e)},expression:"formModel.unit"}})],1),n("el-form-item",{attrs:{label:"跳转SRC"}},[n("el-button",{on:{click:function(e){return t.toUrlSet(t.formModel)}}},[t._v("设置")])],1),n("el-form-item",{attrs:{label:"背景颜色"}},[n("el-input",{model:{value:t.formModel.backgroundColor,callback:function(e){t.$set(t.formModel,"backgroundColor",e)},expression:"formModel.backgroundColor"}})],1),n("el-form-item",{attrs:{label:"图标颜色"}},[n("el-input",{model:{value:t.formModel.iconColor,callback:function(e){t.$set(t.formModel,"iconColor",e)},expression:"formModel.iconColor"}})],1),n("el-form-item",{attrs:{label:"图标背景色"}},[n("el-input",{model:{value:t.formModel.iconBackgroundColor,callback:function(e){t.$set(t.formModel,"iconBackgroundColor",e)},expression:"formModel.iconBackgroundColor"}})],1),n("el-form-item",{attrs:{label:"不显示"}},[n("el-input",{model:{value:t.formModel.hide,callback:function(e){t.$set(t.formModel,"hide",e)},expression:"formModel.hide"}})],1)],1)],1)],1)],1)],1)},r=[];i._withStripped=!0;n(52),n(267),n(16);var o={name:"dataPanelGroupEdit",mixins:[$mixins.propertyDialogSetting],props:{},data:function(){return{tableData:[{}],formModel:{}}},created:function(){var t=dsf.mix(!0,[],this.currentData);_.each(t,(function(t){dsf.isUnDef(t.id)&&(t.id=dsf.uuid())})),this.tableData=t},computed:{setRequestUrl:function(){return dsf.url.getWebPath("file/upload?db=1")}},mounted:function(){},methods:{rowClickHandler:function(t){this.formModel=t},addTab:function(){var t=this.tableData,e=t.length+1;this.tableData.push({key:"key".concat(e),iconName:"gouxuan",title:"title".concat(e),desc:"@[desc]",number:"@[number]",toConfig:{}})},removeTab:function(t){dsf.array.remove(this.tableData,t)},up:function(t){var e=_.findIndex(this.tableData,(function(e){return e==t}));if(e>0){var n=this.tableData[e-1];this.$set(this.tableData,e-1,t),this.$set(this.tableData,e,n)}},down:function(t){var e=_.findIndex(this.tableData,(function(e){return e==t}));if(e>0){var n=this.tableData[e+1];this.$set(this.tableData,e+1,t),this.$set(this.tableData,e,n)}},validate:function(){var t=this.tableData,e=t.some((function(e){var n=0;if(t.map((function(t){t.key==e.key&&n++})),n>1)return dsf.layer.message("请解决重复".concat(e.key,"标识"),!1),!0}));return!e},yes:function(){return this.tableData},toUrlSet:function(t){var e=this;t.toConfig||this.$set(t,"toConfig",{}),this.$openDialog({title:"跳转配置",content:"ToUrlEdit",height:"60vh",width:"700px",params:{currentData:t.toConfig},btns:[{text:"确定",handler:function(n){e.$set(t,"toConfig",n.yes())}},{text:"取消"}]})}}},a=o,s=n(0),l=Object(s["a"])(a,i,r,!1,null,null,null);l.options.__file="designer/setting/dataPanelGroupEdit.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"des-default-value"},[t.multiple?n("div",{staticStyle:{"text-align":"right","margin-bottom":"15px"}},[n("DsfButton",{attrs:{text:"增加默认值",size:"mini"},on:{click:t.addData}})],1):t._e(),n("div",{staticStyle:{overflow:"auto"}},[t._l(t.tableData,(function(e,i){return[n("el-table",{key:i,staticStyle:{width:"100%","margin-bottom":"15px"},attrs:{data:e,border:!0}},[n("el-table-column",{attrs:{prop:"text",label:"名称",width:"150"}}),n("el-table-column",{attrs:{prop:"value",label:"值"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{model:{value:e.row.value,callback:function(n){t.$set(e.row,"value",n)},expression:"scope.row.value"}})]}}],null,!0)},[t.multiple?n("div",{attrs:{slot:"header"},slot:"header"},[n("span",[t._v("值")]),n("DsfButton",{staticStyle:{float:"right"},attrs:{text:"删除",size:"mini"},on:{click:function(e){return t.removeData(i)}}})],1):t._e()])],1)]}))],2)])},r=[];i._withStripped=!0;n(16),n(24),n(25),n(15),n(33);var o={name:"DesDefaultValue",mixins:[$mixins.propertyDialogSetting],data:function(){return{multiple:!1,tableData:[]}},created:function(){this.multiple=this.config.multiple||!1,this.valueAttributes=dsf.mix(!0,[],this.owner.metadata.valueAttributes),this.init()},methods:{yes:function(){var t=this.tableData.map((function(t){var e={};return t.forEach((function(t){e[t.code]=t.value||""})),e}));return 1==t.length?t[0]:t},init:function(){var t,e=this,n=this.owner.metadata.defaultValue,i=this.currentData;t="array"==dsf.type(i)?dsf.mix(!0,[],i):"object"==dsf.type(i)?[dsf.mix(!0,{},i)]:"array"==dsf.type(n)?dsf.mix(!0,[],n):[dsf.mix(!0,{},n)],t.forEach((function(t){return e.addData(t)}))},addData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.tableData.push(this.valueAttributes.map((function(e){return{code:e.code,text:e.name,value:void 0==t[e.code]?null:t[e.code]}})))},removeData:function(t){this.tableData.length<2?(this.tableData=[],this.addData()):this.tableData.splice(t,1)}}},a=o,s=n(0),l=Object(s["a"])(a,i,r,!1,null,null,null);l.options.__file="designer/setting/defaultValue.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-tabs",{staticClass:"design-development-edit",staticStyle:{height:"100%"},on:{"tab-click":t.tabsCliekHandler},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[n("el-tab-pane",{attrs:{name:"attrs"}},[n("div",{staticStyle:{width:"100px","text-align":"center"},attrs:{slot:"label"},slot:"label"},[t._v("属性/事件")]),n("MonacoEditor",{ref:"attrsEditor",attrs:{language:"json"},on:{mounted:function(e){return t.editorLoaded("attrs")}}})],1),n("el-tab-pane",{attrs:{name:"slots"}},[n("div",{staticStyle:{width:"100px","text-align":"center"},attrs:{slot:"label"},slot:"label"},[t._v("插槽")]),n("MonacoEditor",{ref:"slotsEditor",attrs:{language:"html"},on:{mounted:function(e){return t.editorLoaded("slots")}}})],1)],1)},r=[];i._withStripped=!0;n(15);var o={name:"DesDevelopment",mixins:[$mixins.propertyDialogSetting],data:function(){return{activeName:"attrs",data:{}}},created:function(){this.data=dsf.mix(!0,{},this.currentData)},mounted:function(){},methods:{yes:function(){var t={attrs:{},slots:{}};for(var e in t){var n=this.$refs[e+"Editor"];n&&(t[e]="attrs"==e?JSON.parse(n.getContent()||"{}"):n.getContent()||"")}return t},tabsCliekHandler:function(t){var e=this;this.$nextTick((function(){var n=t.name,i=n+"Editor";e.$refs[i]&&e.$refs[i].layout()}))},editorLoaded:function(t){var e=this,n=t+"Editor";this.$nextTick((function(){if(e.$refs[n]){var i="attrs"==t?JSON.stringify(e.data[t]):e.data[t]||"";e.$refs[n].setContent(i||"")}}))}}},a=o,s=n(0),l=Object(s["a"])(a,i,r,!1,null,null,null);l.options.__file="designer/setting/developmentEdit.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-tabs",{staticClass:"ds-enum-editor",attrs:{type:"border-card"},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},[n("el-tab-pane",{attrs:{name:"1",label:"数据字典"}},[n("enum-editor-item",{attrs:{type:"dict","tree-loading":t.loading[0],"tree-data":t.treeData1,"default-checked-key":t.defaultCheckedKey1,"table-post":t.tablePost1,"empty-text":"请选择数据字典"},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}})],1),n("el-tab-pane",{attrs:{name:"2",label:"数据源"}},[n("enum-editor-item",{attrs:{type:"db","tree-loading":t.loading[1],"tree-data":t.treeData2,"default-checked-key":t.defaultCheckedKey2,"table-post":t.tablePost2,"empty-text":"请选择数据源"},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}})],1),n("el-tab-pane",{staticClass:"ds-enum-editor-item3",attrs:{name:"3",label:"静态数据"}},[n("el-input",{attrs:{type:"textarea",rows:2,resize:"none",placeholder:"支持格式：'文本'、'文本|值'两种格式，多个选项用回车符换行"},model:{value:t.value3,callback:function(e){t.value3=e},expression:"value3"}})],1)],1)},r=[];i._withStripped=!0;n(64),n(26),n(16),n(10),n(36),n(97),n(15);var o=n(246),a={name:"DesEnumEditor",components:{EnumEditorItem:o["default"]},mixins:[$mixins.propertyDialogSetting],data:function(){var t=this;return{tabIndex:"0",loaded:[!1,!1,!1],loading:[!1,!1],value1:{type:"dict",code:null,attach:[]},value2:{type:"db",code:null,attach:[]},value3:"",treeData1:[],treeData2:[],defaultCheckedKey1:"",defaultCheckedKey2:"",tablePost1:function(e,n){t.$http.get("dict/getList/"+e).done((function(t){t.success?n&&n(t.data):dsf.layer.message("请求异常！",!1)}))},tablePost2:function(e,n){t.$http.get("meta/tree/dbSource",{rmId:e}).done((function(t){t.success?n&&n(t.data):dsf.layer.message("请求异常！",!1)}))}}},watch:{tabIndex:function(t){!this.loaded[t-1]&&this["postData"+t]&&this["postData"+t](),this.$set(this.loaded,parseInt(t)-1,!0)}},created:function(){this.currentData&&this.init(this.currentData)},methods:{init:function(t){var e=t.type,n=(t.attach,t.code);"static"===e?(n&&n.length?this.value3=n.map((function(t){return t.text===t.value?t.text:t.text+"|"+t.value})).join("\n"):this.value3="",this.tabIndex="3",this.$set(this.loaded,2,!0)):"dict"===e?(this.value1={type:e,attach:[],code:n},this.defaultCheckedKey1=n,this.tabIndex="1"):"db"===e&&(this.value2={type:e,attach:[],code:n},this.defaultCheckedKey2=n,this.tabIndex="2")},yes:function(){if("3"===this.tabIndex){var t=this.value3.trim().split("\n");return{type:"static",code:t.map((function(t){return t=t.split("|"),{text:t[0],value:t[1]||t[0]}}))}}var e=this["value"+this.tabIndex];return delete e.attach,e},postData1:function(){var t=this;this.$set(this.loading,0,!0),this.$http.get("/rm/list/dataDic").done((function(e){e.success?t.treeData1=e.data.map((function(e){return t.dataFormat1(e)})):dsf.layer.message("请求异常！",!1)})).always((function(){t.$set(t.loading,0,!1)}))},postData2:function(){var t=this;this.$set(this.loading,1,!0),this.$http.get("/rm/list/ds",{namespace:""}).done((function(e){e.success?t.treeData2=e.data.map((function(e){return t.dataFormat2(e)})):dsf.layer.message("请求异常！",!1)})).always((function(){t.$set(t.loading,1,!1)}))},dataFormat1:function(t){var e=this,n=t.name,i=t.dsfa_rm_id,r=t.type_value,o=t.children,a={label:n,ID:i,nocheck:"5"!==r,iconSkin:""};return o?a.children=o.map((function(t){return e.dataFormat1(t)})):a.nocheck&&(a.iconSkin="_special"),a},dataFormat2:function(t){var e=this,n=t.name,i=t.ID,r=t.type_value,o=t.children,a={label:n,ID:i,nocheck:"3"!==r&&"8"!==r,iconSkin:""};return o?a.children=o.map((function(t){return e.dataFormat2(t)})):a.nocheck&&(a.iconSkin="_special"),a}}},s=a,l=n(0),c=Object(l["a"])(s,i,r,!1,null,null,null);c.options.__file="designer/setting/enumEditor.vue";e["default"]=c.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-tabs",{staticClass:"ds-enum-editor",attrs:{type:"border-card"},on:{"tab-click":t.handleClick},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},[n("el-tab-pane",{staticClass:"ds-enum-editor-item3",attrs:{label:"用户管理",name:"static"}},[n("el-input",{attrs:{type:"textarea",rows:2,resize:"none",placeholder:"支持格式：'文本'、'文本|值'两种格式，多个选项用回车符换行"},model:{value:t.dataTwo,callback:function(e){t.dataTwo=e},expression:"dataTwo"}})],1),n("el-tab-pane",{attrs:{name:"dict",label:"数据字典",lazy:!0}},[n("enum-editor-item",{attrs:{type:"dict","tree-loading":t.treeLoading,"tree-data":t.treeData,"default-checked-key":t.defaultCheckedKey,"table-post":t.tablePost,"empty-text":"请选择数据字典"},model:{value:t.dataOne,callback:function(e){t.dataOne=e},expression:"dataOne"}})],1)],1)},r=[];i._withStripped=!0;n(15),n(26),n(16),n(10),n(36),n(97);var o=n(246),a={name:"DesExamEnumEditor",components:{EnumEditorItem:o["default"]},mixins:[$mixins.propertyDialogSetting],data:function(){var t=this;return{tabIndex:"static",treeLoading:!1,isTreeCheck:!1,treeData:[],defaultCheckedKey:"",dataTwo:"",dataOne:{type:"dict",code:null,attach:[]},tablePost:function(e,n){t.$http.get("dict/getList/"+e).done((function(t){t.success?n&&n(t.data):dsf.layer.message("请求异常！",!1)}))}}},created:function(){this.currentData&&this.init(this.currentData)},methods:{handleClick:function(t,e){"dict"===t.name&&!this.isTreeCheck&&this.treeData&&this.getTreeData()},init:function(t){var e=t.type,n=t.attach,i=t.code;if("static"===e){if(this.tabIndex="static",!n)return!1;this.dataTwo=n.map((function(t){return t.text===t.value?t.text:t.text+"|"+t.value})).join("\n")}else this.dataOne={type:e,code:i,attach:n},this.defaultCheckedKey=i,this.tabIndex="dict",this.getTreeData()},yes:function(){if("static"===this.tabIndex){var t=this.dataTwo.trim().split("\n");return{type:"static",attach:0==t?[]:t.map((function(t){if(!_.isEmpty(t))return t=t.split("|"),{text:t[0],value:t[1]||t[0]}}))}}return this.dataOne},getTreeData:function(){var t=this;this.treeLoading=!0,this.$http.get("/rm/list/dataDic").done((function(e){e.success?(t.isTreeCheck=!0,t.treeData=e.data.map((function(e){return t.dataFormat(e)}))):dsf.error(err)})).always((function(){t.treeLoading=!1}))},dataFormat:function(t){var e=this,n=t.name,i=t.dsfa_rm_id,r=t.type_value,o=t.children,a={label:n,ID:i,nocheck:"5"!==r,iconSkin:""};return o?a.children=o.map((function(t){return e.dataFormat(t)})):a.nocheck&&(a.iconSkin="_special"),a}}},s=a,l=n(0),c=Object(l["a"])(s,i,r,!1,null,null,null);c.options.__file="designer/setting/examEnumEditor.vue";e["default"]=c.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{staticStyle:{height:"100%"}},[n("el-aside",{staticStyle:{overflow:"auto",height:"100%"},attrs:{width:"20%"}},[n("div",{staticStyle:{overflow:"auto",height:"100%"}},[n("el-tree",{attrs:{data:t.treeData,props:t.defaultProps,"default-expand-all":""},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.node,r=e.data;return n("span",{staticClass:"custom-tree-node",on:{dblclick:function(e){return t.toList(i,r)}}},[n("i",{staticClass:"iconfont icon-biaodanzujian-shurukuang",staticStyle:{"margin-right":"5px"}}),n("span",[t._v(t._s(i.label))]),r.field?n("span",{staticStyle:{color:"red"}},[t._v("(字段:"+t._s(r.field)+")")]):t._e()])}}])})],1)]),n("el-main",{staticStyle:{padding:"0px"}},[n("el-container",[n("el-main",{staticStyle:{"padding-top":"0px"}},[n("el-tabs",{attrs:{type:"card",addable:""},on:{"tab-add":t.tabAddHandler,"tab-remove":t.tabRemoveHandler},model:{value:t.currentRule,callback:function(e){t.currentRule=e},expression:"currentRule"}},t._l(t.rules,(function(e,i){return n("el-tab-pane",{key:i,attrs:{label:i,name:i,closable:"rule-1"!==i}},[n("el-table",{attrs:{data:e,border:"",stripe:"","highlight-current-row":!0,"row-key":t.getRowId,"tree-props":{children:"children"}}},[n("el-table-column",{attrs:{type:"index",width:"50",label:"序号",align:"center"}}),n("el-table-column",{attrs:{label:"设置"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-form",{attrs:{"label-width":"100px"}},[n("el-row",[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"元数据代码"}},[n("span",[t._v(t._s(e.row.table)+"."+t._s(e.row.code))])])],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"值属性"}},[n("span",[t._v(t._s(e.row.currentValueAttribute))])])],1)],1),n("el-row",[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"描述"}},[n("el-input",{attrs:{placeholder:"表头文字"},model:{value:e.row.caption,callback:function(n){t.$set(e.row,"caption",n)},expression:"scope.row.caption"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"格式化"}},[n("el-input",{attrs:{placeholder:"服务器端格式化函数"},model:{value:e.row.format,callback:function(n){t.$set(e.row,"format",n)},expression:"scope.row.format"}})],1)],1)],1),n("el-row",[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"头部对齐"}},[n("el-select",{model:{value:e.row.style.headerAlign,callback:function(n){t.$set(e.row.style,"headerAlign",n)},expression:"scope.row.style.headerAlign"}},[n("el-option",{attrs:{label:"左",value:"left"}}),n("el-option",{attrs:{label:"中",value:"center"}}),n("el-option",{attrs:{label:"右",value:"right"}})],1)],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"数据对齐"}},[n("el-select",{model:{value:e.row.style.align,callback:function(n){t.$set(e.row.style,"align",n)},expression:"scope.row.style.align"}},[n("el-option",{attrs:{label:"左",value:"left"}}),n("el-option",{attrs:{label:"中",value:"center"}}),n("el-option",{attrs:{label:"右",value:"right"}})],1)],1)],1)],1)],1)]}}],null,!0)}),n("el-table-column",{attrs:{label:"操作",width:"130px",align:"center","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[["enum"==e.row.searchType?n("dsf-button",{attrs:{title:"选项配置",size:"small","btn-style":"icon-text",icon:"shezhi"},on:{click:function(n){return n.stopPropagation(),t.settingEnumItems(e.row)}}}):t._e(),n("dsf-button",{attrs:{title:"删除",size:"small","btn-style":"icon-text",icon:"guanbi2"},on:{click:function(n){return n.stopPropagation(),t.remove(e.row)}}}),n("dsf-button",{attrs:{title:"上移",size:"small","btn-style":"icon-text",icon:"shang"},on:{click:function(n){return n.stopPropagation(),t.up(e.row)}}}),n("dsf-button",{attrs:{title:"下移",size:"small","btn-style":"icon-text",icon:"xia"},on:{click:function(n){return n.stopPropagation(),t.down(e.row)}}})]]}}],null,!0)})],1)],1)})),1)],1)],1)],1)],1)},r=[];i._withStripped=!0;var o=n(3),a=n.n(o),s=n(9),l=(n(198),n(48),n(52),n(23),n(16),n(10),n(35),n(64),{name:"DesExportOptions",mixins:[$mixins.propertyDialogSetting],data:function(){return{currentRule:"",rules:{"rule-1":[]},treeData:[],defaultProps:{children:"children",label:"name"},options:[{label:"选项枚举",value:"enum",defaultField:["value"]},{label:"文本",value:"text"},{label:"日期时间",value:"datetime"}]}},created:function(){},mounted:function(){var t=this,e=this.owner.$$getComponent(),n=e.$getChildMetadataList();if(!n||n.length<1)dsf.layer.pc.message("请将要展示的元数据拖动到列表中,如果是子表请保存布局后再试",!1);else{var i=n[0].metadata.at;i?(this.$emit("update:currentData",{}),this.$nextTick((function(){var i=dsf.mix(!0,{},t.owner.exportOptions);_.each(i,(function(e,n){_.each(e,(function(t,e){dsf.isUnDef(t.style)&&(t.style={align:"center",headerAlign:"center"},t.align&&(t.style.align=t.align,delete t.align),t.headerAlign&&(t.style.headerAlign=t.headerAlign,delete t.headerAlign))})),t.$set(t.currentData,n,e)})),e.$getMetadataTree(n).then((function(e){t.treeData=e,"array"==dsf.type(t.currentData)?t.rules={"rule-1":t.currentData}:t.rules=t.currentData;var n=Object.keys(t.rules);t.currentRule=n[0]?n[0]:"rule-1"}))}))):dsf.layer.pc.message("请将要展示的元数据拖动到列表中,如果是子表请保存布局后再试",!1)}},methods:{getRowId:function(t){var e=t.id;return e},getParentRow:function(t){var e=_.find(this.tableData,(function(e){return e.id==t.parent}));return e||{}},toList:function(t,e){if(e.field){var n=this.rules[this.currentRule],i=_.findIndex(n,(function(t){return t.id==e.id}));if(i<0){var r={id:e.id,table:e.id.substr(0,e.id.indexOf(".")),code:e.metadata.code,valueAttributes:_.map(e.metadata.valueAttributes,"code"),currentValueAttribute:e.metadata.valueAttributes.length>1?e.code:e.metadata.valueAttributes[0].code,caption:e.fieldCaption,format:"",style:{align:"center",headerAlign:"center"}};n.push(r)}else dsf.layer.pc.message("已经存在，请勿重复添加",!1)}},getMaxRule:function(){var t=Object.keys(this.rules),e=0;return _.each(t,(function(t){var n=t.replace(/[^\d]/g,""),i=parseInt(n);i>e&&(e=i)})),e},tabAddHandler:function(){var t=this.getMaxRule();this.$set(this.rules,"rule-"+(t+1),[]),t=this.getMaxRule(),this.currentRule="rule-"+t},tabRemoveHandler:function(t){var e=this;dsf.layer.confirm("是否要删除"+t).then((function(){e.$delete(e.rules,t);var n=e.getMaxRule();e.currentRule="rule-"+n})).catch((function(){}))},getTreeData:function(t,e){var n=this;return Object(s["a"])(a.a.mark((function i(){var r,o,s;return a.a.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(r=[],"8"!=e){i.next=8;break}return o={rmId:t.rmId},i.next=5,n.$webAPI.getDbSourceFieldsTree(o);case 5:r=i.sent,i.next=13;break;case 8:if("3"!=e){i.next=13;break}return s={namespace:t.at},i.next=12,n.$webAPI.getMetaDataFieldsTree(s);case 12:r=i.sent;case 13:return i.abrupt("return",r);case 14:case"end":return i.stop()}}),i)})))()},remove:function(t){var e=this.rules[this.currentRule];dsf.array.remove(e,t)},up:function(t){var e=this.rules[this.currentRule],n=_.findIndex(e,(function(e){return e==t}));if(n>0){var i=e[n-1];this.$set(e,n-1,t),this.$set(e,n,i)}},down:function(t){var e=this.rules[this.currentRule],n=_.findIndex(e,(function(e){return e==t}));if(n<e.length-1){var i=e[n+1];this.$set(e,n+1,t),this.$set(e,n,i)}},yes:function(){var t=this.rules;return t}}}),c=l,u=n(0),f=Object(u["a"])(c,i,r,!1,null,null,null);f.options.__file="designer/setting/exportOptions.vue";e["default"]=f.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{staticStyle:{height:"100%"}},[n("el-aside",{staticStyle:{width:"500px"}},[n("el-container",[n("el-header",{staticStyle:{padding:"10px 0","text-align":"right"}},[n("el-dropdown",{attrs:{placement:"bottom"},on:{command:t.addSystemRule}},[n("DsfButton",{attrs:{size:"small",icon:"jia"}},[t._v("内置规则")]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t._l(t.systemRuleMap,(function(e,i){return[n("el-dropdown-item",{key:i,attrs:{command:i,disabled:e.disabled}},[t._v(t._s(e.name))])]}))],2)],1),n("el-dropdown",{staticStyle:{"margin-left":"5px"},attrs:{placement:"bottom"},on:{command:t.addCustomRule}},[n("DsfButton",{attrs:{size:"small",icon:"jia"}},[t._v("自定义规则")]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t._l(t.customRuleMap,(function(e,i){return[n("el-dropdown-item",{key:i,attrs:{command:i}},[t._v(t._s(e.name))])]}))],2)],1)],1),n("el-main",{staticStyle:{padding:"0"}},[n("el-table",{ref:"table",staticClass:"ds-table",attrs:{data:t.tableData,"max-height":"500","highlight-current-row":"",border:"",stripe:""},on:{"row-click":t.rowClickHandler}},[n("el-table-column",{attrs:{type:"index",width:"50"}}),n("el-table-column",{attrs:{property:"type",label:"类型",width:"140"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row.type;return[t._v(" "+t._s("system"==n?"内置规则":"自定义规则")+" ")]}}])}),n("el-table-column",{attrs:{property:"name",label:"规则名"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row,i=n.type,r=n.key;return[t._v(" "+t._s("system"==i?t.systemRuleMap[r].name:t.customRuleMap[r].name)+" ")]}}])}),n("el-table-column",{attrs:{label:"操作","header-align":"center",align:"center",width:100},scopedSlots:t._u([{key:"default",fn:function(e){return[n("DsfButton",{attrs:{"btn-style":"icon-text"},on:{click:function(n){return n.stopPropagation(),t.deleted(e)}}},[t._v("删除")])]}}])})],1)],1)],1)],1),n("el-main",{staticStyle:{padding:"0"}},[n("el-container",[t.formModel?n("el-form",{staticStyle:{width:"90%"},attrs:{model:t.formModel,size:"small","label-width":"120px"}},[n("el-form-item",{attrs:{label:"类型"}},[n("el-input",{attrs:{value:t.activeRow.type,disabled:""}})],1),n("el-form-item",{attrs:{label:"名称"}},[n("el-input",{attrs:{value:t.activeRow.name,disabled:""}})],1),t.activeRow.describe?n("el-form-item",{attrs:{label:"描述"}},[n("el-input",{attrs:{type:"textarea",value:t.activeRow.describe,disabled:""}})],1):t._e(),"custom"==t.formModel.type?[n("el-form-item",{attrs:{label:t.activeRule.valueName}},[n("el-input",{attrs:{placeholder:t.activeRule.placeholder,rows:6,type:"textarea"},model:{value:t.formModel.value,callback:function(e){t.$set(t.formModel,"value",e)},expression:"formModel.value"}})],1)]:t._e()],2):t._e()],1)],1)],1)},r=[];i._withStripped=!0;n(15),n(33);var o={trim:{name:"首尾空白",describe:"去除首尾空白"},trimAll:{name:"所有空白",describe:"去除所有空白"}},a={keywords:{name:"关键词过滤",valueName:"关键词",placeholder:"请输入关键词\n多个请换行"},regExp:{name:"正则配置",valueName:"正则表达式",placeholder:"请输入正则表达式\n多个请换行\n正则必须/开头，/或/g或/i结尾，/默认为/g\n例如:  /a+/  过滤掉连续a字符"}},s={name:"DesFilterRuleSetting",mixins:[$mixins.propertyDialogSetting],data:function(){return{text:"",systemRuleMap:o,customRuleMap:a,formModel:null,tableData:[]}},computed:{activeRule:function(){return this.formModel?"system"==this.formModel.type?o[this.formModel.key]:a[this.formModel.key]:null},activeRow:function(){var t={};if(!this.formModel)return t;var e=this.activeRule;return"system"==this.formModel.type?t.type="内置规则":t.type="自定义规则",t.name=e.name,e.describe&&(t.describe=e.describe),t}},created:function(){this.tableData=this.currentData||[]},mounted:function(){var t=this;this.tableData.length&&(this.formModel=this.tableData[0],this.$nextTick((function(){t.$refs.table.setCurrentRow(t.formModel)})))},methods:{yes:function(){return this.tableData},addSystemRule:function(t){var e=this,n=this.systemRuleMap[t],i={key:t,type:"system"};this.$set(n,"disabled",!0),this.tableData.push(i),this.$nextTick((function(){e.$refs.table.setCurrentRow(i),e.formModel=i}))},addCustomRule:function(t){var e=this,n=(this.customRuleMap[t],{key:t,type:"custom",value:""});this.tableData.push(n),this.$nextTick((function(){e.$refs.table.setCurrentRow(n),e.formModel=n}))},rowClickHandler:function(t){this.formModel=t},deleted:function(t){var e=this,n=t.$index,i=t.row;"system"==i.type&&this.$set(this.systemRuleMap[i.key],"disabled",!1),this.tableData.splice(n,1),this.tableData.length?i==this.formModel&&this.$nextTick((function(){var t=e.tableData[n>1?n-1:0];e.$refs.table.setCurrentRow(t),e.formModel=t})):this.$nextTick((function(){e.formModel=null,e.formModel}))}}},l=s,c=n(0),u=Object(c["a"])(l,i,r,!1,null,null,null);u.options.__file="designer/setting/filterRuleSetting.vue";e["default"]=u.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",[n("el-header",{staticStyle:{padding:"10px 0px","text-align":"right"}},[n("DsfButton",{on:{click:t.add}},[t._v("新增行")])],1),n("el-main",{staticStyle:{padding:"0px"}},[n("el-table",{ref:"table",staticClass:"ds-table",attrs:{border:!0,data:t.tableData,"row-class-name":t.tableRowClassName}},[n("el-table-column",{attrs:{label:"名称","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" 第"+t._s(e.$index+1)+"行 ")]}}])}),n("el-table-column",{attrs:{label:"标识","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.name="row"+(e.$index+1))+" ")]}}])}),n("el-table-column",{attrs:{label:"宽度","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{model:{value:e.row.width,callback:function(n){t.$set(e.row,"width",n)},expression:"scope.row.width"}})]}}])}),n("el-table-column",{attrs:{label:"高度","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{model:{value:e.row.height,callback:function(n){t.$set(e.row,"height",n)},expression:"scope.row.height"}})]}}])}),n("el-table-column",{attrs:{label:"是否伸缩","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.row.flexShrink,callback:function(n){t.$set(e.row,"flexShrink",n)},expression:"scope.row.flexShrink"}},[n("el-option",{attrs:{label:"是",value:1}}),n("el-option",{attrs:{label:"否",value:0}})],1)]}}])}),n("el-table-column",{attrs:{label:"操作","header-align":"center",align:"center",width:120},scopedSlots:t._u([{key:"default",fn:function(e){return[n("DsfButton",{staticStyle:{"min-width":"auto","margin-left":"5px"},attrs:{size:"small",title:"插入",icon:"hao","btn-style":"icon-text"},on:{click:function(n){return t.insert(e)}}}),n("DsfButton",{staticStyle:{"min-width":"auto","margin-left":"5px"},attrs:{size:"small",title:"删除",icon:"guanbi2","btn-style":"icon-text"},on:{click:function(n){return t.deleted(e)}}}),n("DsfButton",{staticStyle:{"min-width":"auto","margin-left":"5px"},attrs:{size:"small",title:"上移",icon:"shang","btn-style":"icon-text"},on:{click:function(n){return t.up(e)}}}),n("DsfButton",{staticStyle:{"min-width":"auto","margin-left":"5px"},attrs:{size:"small",title:"下移",icon:"xia","btn-style":"icon-text"},on:{click:function(n){return t.down(e)}}})]}}])})],1)],1)],1)},r=[];i._withStripped=!0;n(15),n(23),n(33),n(8);var o={name:"flexColumnEdit",mixins:[$mixins.propertyDialogSetting],data:function(){return{tableData:[],names:[]}},created:function(){this.tableData=this.currentData||[this.newTab()]},methods:{tableRowClassName:function(t){var e=t.row,n=t.rowIndex,i="";if(e.name){this.names[n]="";var r=this.names.indexOf(e.name);-1!=r&&r<n&&(i="warning-row"),this.names[n]=e.name}return i},newTab:function(){return{name:"row2",flexShrink:0,width:"100%",height:"auto",controls:[]}},add:function(){this.tableData.push(this.newTab())},insert:function(t){this.tableData.splice(t.$index+1,0,this.newTab())},deleted:function(t){this.tableData.splice(t.$index,1)},up:function(t){if(t.$index>0){var e=this.tableData[t.$index];this.tableData.splice(t.$index,1),this.tableData.splice(t.$index-1,0,e)}},down:function(t){if(this.tableData.length-1>t.$index){var e=this.tableData[t.$index];this.tableData.splice(t.$index,1),this.tableData.splice(t.$index+1,0,e)}},validate:function(){for(var t in this.tableData){this.tableData[t]["name"]=this.tableData[t]["name"]||dsf.uuid();var e=this.names.indexOf(this.tableData[t]["name"]);if(-1!=e&&e<t)return dsf.layer.message("请解决重复标识",!1),!1}return!0},yes:function(){return this.tableData},checkMaxSpan:function(t,e){t[e]=dsf.isNumber(t[e])?Number(t[e]):null,t[e]&&t[e]>24&&(t[e]=24),t[e]&&t[e]<0&&(t[e]=null)}}},a=o,s=n(0),l=Object(s["a"])(a,i,r,!1,null,null,null);l.options.__file="designer/setting/flexColumnEdit.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",[n("el-header",{staticStyle:{padding:"10px 0px","text-align":"right"}},[n("DsfButton",{on:{click:t.addCol}},[t._v("新增列")])],1),n("el-main",{staticStyle:{padding:"0px"}},[n("el-table",{ref:"table",staticClass:"ds-table",attrs:{border:!0,data:t.tableData,"highlight-current-row":!0},on:{"row-click":t.rowClickHandler}},[n("el-table-column",{attrs:{label:"名称","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" 第"+t._s(e.$index+1)+"格 ")]}}])}),n("el-table-column",{attrs:{label:"高度","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{model:{value:e.row.height,callback:function(n){t.$set(e.row,"height",n)},expression:"scope.row.height"}})]}}])}),n("el-table-column",{attrs:{label:"占用列数","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{model:{value:e.row.span,callback:function(n){t.$set(e.row,"span",t._n(n))},expression:"scope.row.span"}})]}}])}),t.simple?t._e():n("el-table-column",{attrs:{label:"列数断点","header-align":"center",align:"center"}},[n("el-table-column",{attrs:{label:"≥1920px","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{model:{value:e.row.lg,callback:function(n){t.$set(e.row,"lg",t._n(n))},expression:"scope.row.lg"}})]}}],null,!1,3783331954)}),n("el-table-column",{attrs:{label:"≥1200px","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{model:{value:e.row.xl,callback:function(n){t.$set(e.row,"xl",t._n(n))},expression:"scope.row.xl"}})]}}],null,!1,3498212237)}),n("el-table-column",{attrs:{label:"≥992px","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{model:{value:e.row.md,callback:function(n){t.$set(e.row,"md",t._n(n))},expression:"scope.row.md"}})]}}],null,!1,2527293136)}),n("el-table-column",{attrs:{label:"≥768px","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{model:{value:e.row.sm,callback:function(n){t.$set(e.row,"sm",t._n(n))},expression:"scope.row.sm"}})]}}],null,!1,2968054951)}),n("el-table-column",{attrs:{label:"<768px","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{model:{value:e.row.xs,callback:function(n){t.$set(e.row,"xs",t._n(n))},expression:"scope.row.xs"}})]}}],null,!1,1393585650)})],1),n("el-table-column",{attrs:{label:"操作","header-align":"center",align:"center",width:120},scopedSlots:t._u([{key:"default",fn:function(e){return[n("DsfButton",{staticStyle:{"min-width":"auto","margin-left":"5px"},attrs:{size:"small",title:"插入",icon:"hao","btn-style":"icon-text"},on:{click:function(n){return t.insert(e)}}}),n("DsfButton",{staticStyle:{"min-width":"auto","margin-left":"5px"},attrs:{size:"small",title:"删除",icon:"guanbi2","btn-style":"icon-text"},on:{click:function(n){return t.deleted(e)}}}),n("DsfButton",{staticStyle:{"min-width":"auto","margin-left":"5px"},attrs:{size:"small",title:"上移",icon:"shang","btn-style":"icon-text"},on:{click:function(n){return t.up(e)}}}),n("DsfButton",{staticStyle:{"min-width":"auto","margin-left":"5px"},attrs:{size:"small",title:"下移",icon:"xia","btn-style":"icon-text"},on:{click:function(n){return t.down(e)}}})]}}])})],1)],1)],1)},r=[];i._withStripped=!0;n(33),n(16),n(8);var o={name:"DesFlexGrid",mixins:[$mixins.propertyDialogSetting],props:{simple:{type:Boolean,default:!1}},data:function(){return{form:null,formNode:null,tableData:[],sizeMap:[{size:"lg",desc:"≥1920px"},{size:"xl",desc:"≥1200px"},{size:"md",desc:"≥992px"},{size:"sm",desc:"≥768px"},{size:"xs",desc:"<768px"}]}},created:function(){},beforeMount:function(){},mounted:function(){var t=this,e=this.owner.$$getComponent().slots;if(e=dsf.mix(!0,[],e),e[0]){var n=e[0].controls;_.each(n,(function(e){t.simple&&(e.span/=2),t.tableData.push(e)}))}},methods:{rowClickHandler:function(){},addCol:function(){var t={span:6,height:"auto"};this.simple&&(t.span=3),this.tableData.push(dsf.designer.createComponent("dsf.col",t))},vaildate:function(){return 0!=data.length||(dsf.layer.pc.message("至少存在一格",!1),!1)},deleted:function(t){var e=this;if(t.row.slots[0].controls.length>0){var n=t.row.slots[0].controls;dsf.layer.pc.confirm("栅格中存在"+n.length+"个子组件,删除该单元格子组件将一起被删除。<br/>是否确定要继续?").then((function(){dsf.array.remove(e.tableData,t.row)})).catch((function(){}))}else dsf.array.remove(this.tableData,t.row)},up:function(t){if(t.$index>0){var e=this.tableData[t.$index],n=t.$index;dsf.array.remove(this.tableData,e),this.tableData.splice(n-1,0,e)}},down:function(t){if(this.tableData.length-1>t.$index){var e=this.tableData[t.$index],n=t.$index;dsf.array.remove(this.tableData,e),this.tableData.splice(n+1,0,e)}},insert:function(t){var e={span:6,height:"auto"};this.simple&&(e.span=3),this.tableData.splice(t.$index+1,0,dsf.designer.createComponent("dsf.col",e))},yes:function(){var t=this,e=this.tableData;_.each(e,(function(e){t.simple&&(e.span*=2),t.checkMaxSpan(e,"span");var n=_.map(t.sizeMap,"size");_.each(n,(function(n){t.checkMaxSpan(e,n)}))})),this.owner.slots[0].controls=[],this.$nextTick((function(){var n=t.owner.slots[0].controls;_.each(e,(function(t){n.push(t)}))}))},checkMaxSpan:function(t,e){t[e]=dsf.isNumber(t[e])?Number(t[e]):null,t[e]&&t[e]>24&&(t[e]=24),t[e]&&t[e]<0&&(t[e]=null)}}},a=o,s=n(0),l=Object(s["a"])(a,i,r,!1,null,null,null);l.options.__file="designer/setting/flexGrid.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("SelectTree",{attrs:{"tree-data":t.nodes,select:t.selectFlow,"show-search":!0,multi:!0},on:{"update:select":function(e){t.selectFlow=e}}})],1)},r=[];i._withStripped=!0;var o={name:"ApplyTo",props:{data:{type:Array,default:function(){return[]}}},data:function(){return{nodes:[],selectFlow:[]}},created:function(){var t=dsf.mix(!0,this.data);this.nodes=[this.formatData(t[0])]},mounted:function(){},methods:{yes:function(){return this.selectFlow},formatData:function(t){if(delete t.disabled,t.children)for(var e=0;e<t.children.length;e++)this.formatData(t.children[e]);return t}}},a=o,s=n(0),l=Object(s["a"])(a,i,r,!1,null,null,null);l.options.__file="designer/setting/flow/applyTo.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("SelectTree",{attrs:{"tree-data":t.flowData,select:t.selectFlow,checked:t.checked,"show-search":!0},on:{"update:select":function(e){t.selectFlow=e}}})],1)},r=[];i._withStripped=!0;n(15);var o={name:"ChooseFlow",mixins:[$mixins.propertyDialogSetting],props:{value:{type:Object,default:function(){return{}}}},data:function(){return{flowData:[],selectFlow:null,checked:[]}},created:function(){this.initFlow()},mounted:function(){},methods:{yes:function(){return this.owner&&(this.owner.metadata.defaultValue={wf_id:this.selectFlow.ID,wf_name:this.selectFlow.name}),this.selectFlow},validate:function(){return!!this.selectFlow||(dsf.layer.message("请选择流程",!1),!1)},initFlow:function(){var t=this;this.$http.get("rm/list/wf",{}).then((function(e){if(e.data.success){var n=e.data.data[0],i=n?t.formatData(n,"0"):null;t.flowData=n?[i]:[],t.currentData&&t.currentData.dsfa_rm_id&&(t.checked=[t.currentData.dsfa_rm_id],t.selectFlow=t.currentData),t.value&&t.value.dsfa_rm_id&&(t.checked=[t.value.dsfa_rm_id],t.selectFlow=t.value)}}))},formatData:function(t,e){if(t.label=t.name,t.id=t.dsfa_rm_id,e&&(t.disabled=t.type_value===e),"4"!=t.type_value&&(t.nocheck=!0),"4"==t.type_value||t.children||(t.iconSkin="_special"),t.children)for(var n=0;n<t.children.length;n++)this.formatData(t.children[n],e);return t}}},a=o,s=n(0),l=Object(s["a"])(a,i,r,!1,null,"e3b346de",null);l.options.__file="designer/setting/flow/chooseFlow.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("SelectTree",{attrs:{"tree-data":t.formData,select:t.selectForm,checked:t.checked,"show-search":!0,loading:t.loading},on:{"update:select":function(e){t.selectForm=e}}})],1)},r=[];i._withStripped=!0;n(24),n(25),n(15);var o={name:"ChooseForm",mixins:[$mixins.propertyDialogSetting],data:function(){return{formData:[],selectForm:null,checked:[],loading:!1}},created:function(){this.initFlow()},mounted:function(){},methods:{yes:function(){return this.selectForm},validate:function(){return!!this.selectForm||(dsf.layer.message("请选择表单",!1),!1)},initFlow:function(){var t=this;this.loading=!0,this.$http.get("oua/getPage",{},$$webRoot).then((function(e){if(e.data.success){var n=e.data.data,i=[];n.forEach((function(e){i.push(t.formatData(e,"0"))})),t.formData=i,t.loading=!1}}))},formatData:function(t,e){if(t.label=t.name,13==t.type_value&&(t.label="".concat(t.label,"(移动端)")),t.id=t.dsfa_rm_id,e&&(t.disabled=t.type_value===e),t.children)for(var n=0;n<t.children.length;n++)this.formatData(t.children[n],e);return t}}},a=o,s=(n(716),n(0)),l=Object(s["a"])(a,i,r,!1,null,"316aad27",null);l.options.__file="designer/setting/flow/chooseForm.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-collapse",{staticClass:"context-tree",model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.list,(function(e,i){return n("el-collapse-item",{key:i,attrs:{title:e.title,name:i}},[n("SelectTree",{attrs:{"tree-data":e.tree,"hide-checkbox":!0},on:{change:t.change}})],1)})),1)},r=[];i._withStripped=!0;var o=n(5),a=n(62),s={name:"ContextTree",data:function(){return{activeName:[0],list:[{title:"上下文",tree:[]},{title:"公用函数",tree:[]}]}},created:function(){this.init()},mounted:function(){},methods:{init:function(){var t=this;this.$http.all([this.$http.get("./static/other/context.json"),this.$http.get("./static/other/utilityFunction.json")]).then((function(e){var n,i,r=Object(a["a"])(e,2),s=r[0].Context,l=r[1].Function;(n=t.list[0].tree).push.apply(n,Object(o["a"])(s)),(i=t.list[1].tree).push.apply(i,Object(o["a"])(l))})).catch((function(t){}))},change:function(t){t&&t.Key&&this.$emit("change",t.Key)}}},l=s,c=(n(718),n(0)),u=Object(c["a"])(l,i,r,!1,null,"02ae17f1",null);u.options.__file="designer/setting/flow/contextTree.vue";e["default"]=u.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"event-setting"},[n("div",{staticClass:"left"},[n("MonacoEditor",{ref:"editor",attrs:{language:t.language},on:{mounted:t.editorLoaded}})],1),n("div",{staticClass:"right"},[n("ContextTree",{on:{change:t.change}})],1)])},r=[];i._withStripped=!0;var o={name:"EventSetting",props:{code:{type:String,default:""},language:{type:String,default:"javascript"},isEvent:{type:Boolean,default:function(){return!1}}},data:function(){return{}},created:function(){},mounted:function(){},methods:{getContent:function(){var t;return t="html"==this.language?dsf.escapeFilter(this.$refs.editor.getContent()):this.$refs.editor.getContent(),this.isEvent?{Expression:t}:t},editorLoaded:function(){var t=this.code;"html"==this.language&&(t=dsf.unescapeHTML(t)),this.$refs.editor.setContent(t)},change:function(t){this.$refs.editor.insertContent(t)}}},a=o,s=(n(720),n(0)),l=Object(s["a"])(a,i,r,!1,null,"40a25cfc",null);l.options.__file="designer/setting/flow/eventSetting.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ds-institution-info"},[n("table",[n("tbody",[n("tr",[n("td",[t._v("节点名称")]),n("td",{staticClass:"filed_common",attrs:{colspan:"2"}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.zdyq.jdmc,expression:"zdyq.jdmc"}],staticClass:"jdmc",domProps:{value:t.zdyq.jdmc},on:{input:function(e){e.target.composing||t.$set(t.zdyq,"jdmc",e.target.value)}}})])]),n("tr",[n("td",[t._v("责任岗位")]),n("td",{staticClass:"filed_common",attrs:{colspan:"2"}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.zdyq.zrgw,expression:"zdyq.zrgw"}],staticClass:"zrgw",domProps:{value:t.zdyq.zrgw},on:{input:function(e){e.target.composing||t.$set(t.zdyq,"zrgw",e.target.value)}}})])]),n("tr",[n("td",[t._v("相关记录")]),n("td",{staticClass:"filed_common",attrs:{colspan:"2"}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.zdyq.xgjl,expression:"zdyq.xgjl"}],staticClass:"xgjl",domProps:{value:t.zdyq.xgjl},on:{input:function(e){e.target.composing||t.$set(t.zdyq,"xgjl",e.target.value)}}})])]),t._m(0),t._l(t.zdyq.list,(function(e,i){return n("tr",{key:i},[n("td",{staticClass:"xhfiled"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.xh,expression:"item.xh"}],staticClass:"zdyqxh",domProps:{value:e.xh},on:{input:function(n){n.target.composing||t.$set(e,"xh",n.target.value)}}})]),n("td",{staticClass:"filed_common"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"item.content"}],staticClass:"zdyq",domProps:{value:e.content},on:{input:function(n){n.target.composing||t.$set(e,"content",n.target.value)}}})]),n("td",{staticClass:"operation"},[n("a",{staticClass:"ds-button--icon-text",on:{click:function(e){return t.addNew()}}},[t._v("添加")]),n("a",{staticClass:"ds-button--icon-text",on:{click:function(e){return t.deleteRow(i)}}},[t._v("删除")])])])}))],2)]),n("div",{staticClass:"addbtnbox"},[n("a",{staticClass:"ds-button--icon-text",on:{click:function(e){return t.addNew()}}},[t._v("添加")])])])},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("td",{staticClass:"xhfiled"},[t._v("序号")]),n("td",[t._v("制度要求")]),n("td",{staticClass:"operation"},[t._v("操作")])])}];i._withStripped=!0;n(15),n(33);var o={name:"InstitutionInfo",props:{checked:{type:Object,default:function(){return{}}},value:{type:Object,default:function(){return{}}}},data:function(){return{zdyq:{jdmc:"",list:[],xgjl:"",zrgw:""}}},created:function(){var t;Object.assign(this.zdyq,{jdmc:this.checked.name},(null===(t=this.value)||void 0===t?void 0:t.zdyq)||{})},mounted:function(){},methods:{getContent:function(){return{zdyq:this.zdyq}},addNew:function(){this.zdyq.list.push({content:"",xh:""})},deleteRow:function(t){this.zdyq.list.splice(t,1)}}},a=o,s=(n(722),n(0)),l=Object(s["a"])(a,i,r,!1,null,"6c4f820a",null);l.options.__file="designer/setting/flow/institutionInfo.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ds-leave-send"},[n("div",{staticClass:"top"},[n("el-radio",{attrs:{label:"7"},model:{value:t.superType,callback:function(e){t.superType=e},expression:"superType"}},[t._v(" RestFul ")]),n("el-radio",{attrs:{label:"8"},model:{value:t.superType,callback:function(e){t.superType=e},expression:"superType"}},[t._v(" SQL ")])],1),n("div",{staticClass:"content-box"},[n("div",{directives:[{name:"show",rawName:"v-show",value:"7"==t.superType,expression:"superType == '7'"}],staticClass:"restful"},[n("div",{staticClass:"left"},[n("div",{staticClass:"url"},[n("label",[t._v("URL地址：")]),n("el-input",{attrs:{placeholder:"请选择URL"},model:{value:t.restful_url,callback:function(e){t.restful_url=e},expression:"restful_url"}})],1),n("el-table",{ref:"table",attrs:{data:t.data,height:"88%","highlight-current-row":""},on:{"current-change":t.handleChange}},[n("el-table-column",{attrs:{prop:"name",label:"参数名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.edit?n("el-input",{model:{value:e.row.name,callback:function(n){t.$set(e.row,"name",n)},expression:"scope.row.name"}}):n("label",[t._v(t._s(e.row.name))])]}}])}),n("el-table-column",{attrs:{prop:"type",label:"参数类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.edit?n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.row.type,callback:function(n){t.$set(e.row,"type",n)},expression:"scope.row.type"}},t._l(t.options,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1):n("label",[t._v(t._s(e.row.type))])]}}])}),n("el-table-column",{attrs:{prop:"value",label:"值"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.edit?n("el-input",{model:{value:e.row.value,callback:function(n){t.$set(e.row,"value",n)},expression:"scope.row.value"}}):n("label",[t._v(t._s(e.row.value))])]}}])}),n("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("dsf-button",{staticClass:"plain",attrs:{size:"mini",type:"danger"},on:{click:function(n){return t.deleteRow(e.$index,e.index)}}},[t._v("删除")]),n("dsf-button",{attrs:{size:"mini"},on:{click:function(n){return t.addRow(e.$index,e.row)}}},[t._v("增加")])]}}])},[n("template",{slot:"header"},[n("dsf-button",{staticClass:"plain",attrs:{size:"mini"},on:{click:t.clearAll}},[t._v(" 清空 ")]),n("dsf-button",{attrs:{size:"mini"},on:{click:t.addRow}},[t._v(" 新增 ")])],1)],2)],1)],1),n("div",{staticClass:"right"},[n("ContextTree",{on:{change:t.change}})],1)]),"8"==t.superType?n("div",{staticClass:"super"},[n("EventSetting",{ref:"jobEditor",attrs:{language:t.language,code:t.code}})],1):t._e()])])},r=[];i._withStripped=!0;n(33),n(24),n(25);var o={name:"LeaveSend",props:{value:{type:Object,default:function(){return{}}}},data:function(){return{restful_url:"",content:"",superType:"7",language:"SQL",code:"",selectRow:null,data:[],options:[{value:0,label:"黄金糕"},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"}]}},created:function(){this.content=this.value},mounted:function(){},methods:{getContent:function(){return this.content},addRow:function(){this.data.push({name:"",type:0,value:"",edit:!1})},deleteRow:function(t){this.data.splice(t,1)},change:function(t){},clearAll:function(){this.data=[]},handleChange:function(t){this.data.forEach((function(t){t.edit=!1})),t.edit=!0}}},a=o,s=(n(724),n(0)),l=Object(s["a"])(a,i,r,!1,null,"be6aea3a",null);l.options.__file="designer/setting/flow/leaveSend.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("div",{staticClass:"ds-tree-box fl-box"},[n("div",{staticClass:"dsf-tree-search"},[n("el-input",{attrs:{placeholder:"输入名称"},model:{value:t.searchKey,callback:function(e){t.searchKey=e},expression:"searchKey"}},[n("i",{staticClass:"iconfont el-input__icon icon-Magnifier",attrs:{slot:"suffix"},slot:"suffix"})]),n("el-button",{staticClass:"ds-button small chooseForm",attrs:{disabled:t.disabled},on:{click:function(e){return t.chooseFlow()}}},[t._v(" 选择流程 ")])],1),n("SelectTree",{attrs:{"tree-data":t.flowData,select:t.selectFlow,checked:t.checked,"show-search":!1,"form-search-key":t.searchKey},on:{"update:select":function(e){t.selectFlow=e}}})],1),n("div",{staticClass:"fr-box"},[n("div",{staticClass:"top"},[n("div",{staticClass:"inline"},[n("label",{staticClass:"form-label"},[t._v("表单名称：")]),n("div",{staticClass:"input-inline",attrs:{title:t.curNode&&t.curNode.pageTitle}},[t._v(" "+t._s(t.curNode&&t.curNode.pageTitle||"暂无")+" ")])]),n("el-button",{staticClass:"ds-button small chooseForm",attrs:{disabled:t.disabled},on:{click:function(e){return t.chooseForm()}}},[t._v(" 选择表单 ")]),n("el-button",{staticClass:"ds-button small applyTo",attrs:{disabled:t.disabled},on:{click:function(e){return t.applyTo()}}},[t._v(" 应用于 ")])],1),n("el-tabs",{staticClass:"tabs",model:{value:t.selectTab,callback:function(e){t.selectTab=e},expression:"selectTab"}},[n("el-tab-pane",{staticClass:"pa",attrs:{label:"元素控制",name:"0"}},[n("SelectTable",{attrs:{data:t.curNode&&t.curNode.ctrls||[],columns:t.eleColumns,height:360}})],1),n("el-tab-pane",{attrs:{label:"操作控制",name:"1"}},[n("SelectTable",{attrs:{data:t.curNode&&t.curNode.btns||[],columns:t.btnsColumns,height:360}})],1)],1)],1)])},r=[];i._withStripped=!0;var o=n(5),a=n(3),s=n.n(a),l=n(9),c=(n(28),n(24),n(25),n(198),n(33),n(20),n(10),n(35),n(26),n(726),{name:"LinkSet",mixins:[$mixins.propertyDialogSetting],data:function(){return{searchKey:"",flowData:[],selectFlow:null,checked:[],sID:"",curNode:null,selectTab:0,tempFlow:null,data:[],default:null,disabled:!1,eleColumns:[{prop:"labelCaption",label:"控件名称"},{prop:"readOnly",label:"只读",width:100,isSelect:!0,readOnlyAll:!1,isIndeterminate:!1},{prop:"hidden",label:"隐藏",width:100,isSelect:!0,hiddenAll:!1,isIndeterminate:!1},{prop:"required",label:"必填",width:100,isSelect:!0,requiredAll:!1,isIndeterminate:!1}],btnsColumns:[{prop:"text",label:"按钮名称"},{prop:"visible",label:"可用",width:100,isSelect:!0,visibleAll:!1,isIndeterminate:!1}]}},watch:{selectFlow:function(t){if(t){var e=t.ctrls.filter((function(t){return t.readOnly})),n=t.ctrls.filter((function(t){return t.hidden})),i=t.ctrls.filter((function(t){return t.required})),r=t.btns.filter((function(t){return t.visible}));this.eleColumns[1].readOnlyAll=e.length===t.ctrls.length,this.eleColumns[2].hiddenAll=n.length===t.ctrls.length,this.eleColumns[3].requiredAll=i.length===t.ctrls.length,this.btnsColumns[1].visibleAll=r.length===t.btns.length,this.curNode=t}}},created:function(){this.sID=this.owner.chooseFlow&&this.owner.chooseFlow.dsfa_rm_id,this.data=this.currentData,this.initFlow()},mounted:function(){},methods:{yes:function(){var t=this;if(0===this.flowData.length)return this.data;this.tempFlow&&(this.owner.chooseFlow=this.tempFlow);var e=dsf.mix(!0,{IsMobile:this.designer.mobile},this.flowData[0]);return e.children.forEach((function(e){e.ctrls&&e.ctrls.length>0&&e.ctrls.forEach((function(e){t.hiddenToVisible(e)}))})),e.NodeList=e.children,delete e.children,this.$http.post("wfk/saveExWF",{sData:JSON.stringify(e)}).then((function(t){if(2e4==t.data.state)return[e];dsf.layer.message(t.message||"环节设置异常",!1)}))},validate:function(){return!0},hiddenToVisible:function(t){t.visible=!t.hidden,delete t.hidden},visibleToHidden:function(t){t.hidden=!t.visible},initFlow:function(){var t=this;return Object(l["a"])(s.a.mark((function e(){var n,i,r,o,a,l,c,u;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.initDefault(),!(t.data&&t.data.length>0)){e.next=28;break}if(n=dsf.mix(!0,[],t.data),n[0].id!==t.sID){e.next=10;break}if(i=JSON.parse(JSON.stringify(t.default)),i){e.next=8;break}return t.disabled=!0,e.abrupt("return");case 8:e.next=15;break;case 10:return r=n[0].NodeList[0].NameSpace,o=n[0].NodeList[0].code,e.next=14,t.getFormData(r,o);case 14:i=e.sent;case 15:return a=!1,l=!1,c={},u={},i.ctrls&&n[0].NodeList[0].ctrls&&(i.ctrls.length>n[0].NodeList[0].ctrls.length?i.ctrls.forEach((function(t,e){var i=n[0].NodeList[0].ctrls.filter((function(e){return e.caption===t.caption}));0===i.length&&(a=!0,c[e]=t)})):n[0].NodeList[0].ctrls.forEach((function(t,e){var n=i.ctrls.filter((function(e){return e.caption===t.caption}));0===n.length&&(a=!1,c[e]=t)}))),i.btns&&n[0].NodeList[0].btns&&(i.btns.length>n[0].NodeList[0].btns.length?i.btns.forEach((function(t,e){var i=n[0].NodeList[0].btns.filter((function(e){return e.caption===t.caption}));0===i.length&&(l=!0,u[e]=t)})):n[0].NodeList[0].btns.forEach((function(t,e){var n=i.btns.filter((function(e){return e.caption===t.caption}));0===n.length&&(l=!1,u[e]=t)}))),n[0].NodeList.forEach((function(e){if(Object.keys(c).length>0)if(a)for(var n in c)e.ctrls.splice(n,0,c[n]);else for(var i in c)e.ctrls.splice(i,1);if(Object.keys(u).length>0)if(l)for(var r in u)e.btns.splice(r,0,u[r]);else for(var o in u)e.btns.splice(o,1);e.ctrls&&e.ctrls.length>0&&e.ctrls.forEach((function(e){t.visibleToHidden(e)})),e.btns&&e.btns.length>0&&e.btns.forEach((function(t){t.visible=!!t.visible}))})),n[0].children=n[0].NodeList,t.checked=[n[0].children[0].id],t.curNode=n[0].children[0],t.selectFlow=n[0].children[0],t.flowData=n,e.abrupt("return");case 28:t.$http.get("wfk/getWFNodeList",{sID:t.sID}).then((function(e){if(e.data.success){var n=t.formatData(e.data.data,void 0);n&&n.children&&(t.checked=[n.children[0].id],t.curNode=n.children[0]),t.flowData=[n]}}));case 29:case"end":return e.stop()}}),e)})))()},initDefault:function(){var t,e=this,n=[],i=[],r=!0;dsf.recursionComponentProps(this.owner.$$getComponent().$page.$props,(function(o){if(o.isBlockControl&&n.push({id:o.designId,label:o.caption,labelCaption:"".concat(o.caption),caption:o.caption,readOnly:!1,hidden:!1,visible:!0,required:!1}),o.isFormControl&&"wfinfo"!==o.caption&&"DsfDisposeIdea"!==o.ctrlName&&"DsfMobileDisposeIdea"!==o.ctrlName&&!o.forceHidden){if(!o.metadata_fullcode)return r=!1,void dsf.layer.message("请先保存表单后再操作",!1);n.push({id:o.id,label:o.label,labelCaption:"".concat(o.label,"(").concat(o.caption,")"),caption:o.caption,readOnly:o.readOnly,hidden:!o.visible,visible:o.visible,required:o.required,metadataCode:o.metadata_fullcode})}"page"===o.caption&&(t=o.title),!o.ctrlName||"DsfButtonBar"!==o.ctrlName&&"DsfMobileButtonBar"!==o.ctrlName||(o.buttons.forEach((function(t){t.visible=!0,i.push(t)})),e.btnsColumns[1].visibleAll=!0)}));var o=dsf.url.queryString("B"),a=dsf.url.queryString("M"),s=dsf.url.queryString("pname"),l="".concat(o,".").concat(a,".").concat(s);r&&(this.default={pageTitle:t,ctrls:n,btns:i,NameSpace:l,code:s})},formatData:function(t,e,n){if(t.label=t.WFName||t.NodeName,t.id=t.WFID||t.NodeID,n){var i=JSON.parse(JSON.stringify(this.default));t.pageTitle=i&&i.pageTitle||"",t.ctrls=i&&i.ctrls||[],t.btns=i&&i.btns||[],t.NameSpace=i&&i.NameSpace||"",t.code=i&&i.code||""}if(void 0===e&&(t.disabled=t.NodeType===e),t.children=t.NodeList,t.children)for(var r=0;r<t.children.length;r++)this.formatData(t.children[r],e,!0);return t},chooseForm:function(t){var e=this,n={type:"form"};dsf.layer.pc.openDialog({title:"选择表单",width:"400px",height:"400px",overflow:"hidden",content:"ChooseForm",params:n,btns:[{text:"确定",handler:function(){var t=Object(l["a"])(s.a.mark((function t(n){var i,r;return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n.validate()){t.next=7;break}return i=n.yes(),t.next=4,e.getFormData(i.ID,i.code,i.type_value);case 4:return r=t.sent,Object.assign(e.curNode,r),t.abrupt("return",!0);case 7:return t.abrupt("return",!1);case 8:case"end":return t.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}()},{text:"取消"}]})},getFormData:function(t,e,n){var i=this,r=t;r=r.replace("."+e,"");var o=13==n?"/mobile":"/pc";return o+="/views/".concat(r,"/").concat(e,".layout.html"),this.$http.get(o,null,{responseType:"text"}).then((function(n){if(n.data){var r=$("<div>"+n.data+"</div>"),o=r.children("script[id='layout']").html()||"",a=new Function(["var layout="+(o||"null")+";","return layout;"].join("\n")),s=a();return{pageTitle:s.title,ctrls:i.getFormctrls(s),btns:i.getBtns(s),NameSpace:t,code:e}}}))},applyTo:function(){var t=this,e={data:this.flowData};dsf.layer.pc.openDialog({title:"应用于",width:"400px",height:"400px",overflow:"hidden",content:"ApplyTo",params:e,btns:[{text:"确定",handler:function(e){var n=e.yes();return n.forEach((function(e){e.NodeID&&(t.curNode,t.flowData.forEach((function(n){n.children.forEach((function(n){e.id===n.id&&(n.pageTitle=t.curNode.pageTitle,n.ctrls=dsf.mix(!0,[],t.curNode.ctrls),n.btns=dsf.mix(!0,[],t.curNode.btns),n.NameSpace=t.curNode.NameSpace,n.code=t.curNode.code)}))})))})),!0}},{text:"取消"}]})},getFormctrls:function(t){var e=this,n=[];return"DsfViewPart"!==t.ctrlName&&"DsfSection"!=t.ctrlName||n.push({id:t.designId,label:t.label,labelCaption:"".concat(t.caption),caption:t.caption,readOnly:!1,hidden:!1}),t.isFormControl?"wfinfo"!==t.caption&&"DsfDisposeIdea"!==t.ctrlName&&n.push({id:t.designId,label:t.label,labelCaption:"".concat(t.label,"(").concat(t.caption,")"),caption:t.caption,readOnly:!1,hidden:!1}):t.slots.forEach((function(t){t.controls.forEach((function(t){var i=e.getFormctrls(t);n.push(i)}))})),n.flat(1/0)},getBtns:function(t){var e=this,n=[];return!t.ctrlName||"DsfButtonBar"!==t.ctrlName&&"DsfMobileButtonBar"!==t.ctrlName?t.slots.forEach((function(t){t.controls.forEach((function(t){var i=e.getBtns(t);n.push(i)}))})):n.push.apply(n,Object(o["a"])(t.buttons)),n.flat(1/0)},chooseFlow:function(){var t=this,e={currentData:this.tempFlow||this.owner.chooseFlow};dsf.layer.pc.openDialog({title:"流程设置",width:"400px",height:"400px",overflow:"hidden",content:"ChooseFlow",params:e,btns:[{text:"确定",handler:function(e){if(e.validate()){var n=e.yes();return t.tempFlow=n,t.sID=n.dsfa_rm_id,t.data=[],t.initFlow(),!0}return!1}},{text:"取消"}]})}}}),u=c,f=(n(728),n(0)),d=Object(f["a"])(u,i,r,!1,null,"ddf8d6e8",null);d.options.__file="designer/setting/flow/linkSet.vue";e["default"]=d.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"range-rule"},[n("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.config.selectTab,callback:function(e){t.$set(t.config,"selectTab",e)},expression:"config.selectTab"}},[n("el-tab-pane",{staticClass:"dept",attrs:{label:"部门+角色",name:"0"}},[n("div",{staticClass:"dept_left"},[n("div",{staticClass:"top"},[n("el-radio",{attrs:{label:"assign"},on:{change:t.tabsChange},model:{value:t.config.model,callback:function(e){t.$set(t.config,"model",e)},expression:"config.model"}},[t._v(" 指定部门 ")]),n("el-radio",{attrs:{label:"extend"},on:{change:t.tabsChange},model:{value:t.config.model,callback:function(e){t.$set(t.config,"model",e)},expression:"config.model"}},[t._v(" 继承节点部门 ")]),n("el-radio",{attrs:{label:"super"},on:{change:t.tabsChange},model:{value:t.config.model,callback:function(e){t.$set(t.config,"model",e)},expression:"config.model"}},[t._v(" 高级模式 ")]),n("el-select",{staticClass:"send-to-people",attrs:{"value-key":"label",placeholder:"请选择",size:"mini"},model:{value:t.chooseValue,callback:function(e){t.chooseValue=e},expression:"chooseValue"}},t._l(t.options,(function(t){return n("el-option",{key:t.label,attrs:{label:t.label,value:t}})})),1)],1),n("div",{staticClass:"content-box",class:{assign:"assign"===t.config.model}},["assign"==t.config.model?n("SelectTree",{attrs:{"tree-data":t.deptData,"default-keys":t.defaultShowDepts,"expand-all":!1,select:t.selectDept,loading:t.loadingDepts},on:{"update:select":function(e){t.selectDept=e}}}):t._e(),"extend"===t.config.model?n("SelectTable",{attrs:{data:t.nodesData,select:t.selectExtends,columns:t.deptColumns},on:{"update:select":function(e){t.selectExtends=e}}}):t._e(),"super"==t.config.model?n("div",{staticClass:"super"},[n("EventSetting",{ref:"editor",attrs:{language:t.language,code:t.code}})],1):t._e()],1)]),n("div",{staticClass:"dept_right"},[n("SelectTree",{attrs:{"tree-data":t.roleData,select:t.selectRole},on:{"update:select":function(e){t.selectRole=e}}})],1)]),n("el-tab-pane",{attrs:{label:"直接选人",name:"1"}},[n("div",{staticClass:"dept_left"},[n("div",{staticClass:"top"},[n("el-radio",{attrs:{label:"assign"},on:{change:t.tabsChange},model:{value:t.config.model,callback:function(e){t.$set(t.config,"model",e)},expression:"config.model"}},[t._v(" 指定人员 ")]),n("el-radio",{attrs:{label:"extend"},on:{change:t.tabsChange},model:{value:t.config.model,callback:function(e){t.$set(t.config,"model",e)},expression:"config.model"}},[t._v(" 继承节点经办人 ")]),n("el-radio",{attrs:{label:"super"},on:{change:t.tabsChange},model:{value:t.config.model,callback:function(e){t.$set(t.config,"model",e)},expression:"config.model"}},[t._v(" 高级模式 ")])],1),n("div",{staticClass:"content-box",class:{assign:"assign"===t.config.model}},["assign"==t.config.model?n("SelectTree",{attrs:{"tree-data":t.peopleData,"default-keys":t.defaultShowPeoples,"expand-all":!1,multi:!0,select:t.selectPeople,loading:t.loadingPeople},on:{"update:select":function(e){t.selectPeople=e}}}):t._e(),"extend"===t.config.model?n("SelectTable",{attrs:{data:t.nodesData,select:t.selectExtendPerson,columns:t.noLevelColumns},on:{"update:select":function(e){t.selectExtendPerson=e}}}):t._e(),"super"==t.config.model?n("div",{staticClass:"super"},[n("EventSetting",{ref:"personEditor",attrs:{language:t.language,code:t.code}})],1):t._e()],1)])]),n("el-tab-pane",{attrs:{label:"行政岗位",name:"2"}},[n("div",{staticClass:"dept_left"},[n("div",{staticClass:"top"},[n("el-radio",{attrs:{label:"assign"},on:{change:t.tabsChange},model:{value:t.config.model,callback:function(e){t.$set(t.config,"model",e)},expression:"config.model"}},[t._v(" 指定岗位 ")]),n("el-radio",{attrs:{label:"super"},on:{change:t.tabsChange},model:{value:t.config.model,callback:function(e){t.$set(t.config,"model",e)},expression:"config.model"}},[t._v(" 高级模式 ")]),n("el-checkbox",{staticClass:"send-to-people",model:{value:t.config.IsUser,callback:function(e){t.$set(t.config,"IsUser",e)},expression:"config.IsUser"}},[t._v(" 发送到人 ")])],1),n("div",{staticClass:"content-box",class:{assign:"assign"===t.config.model}},["assign"===t.config.model?n("SelectTable",{attrs:{data:t.jobData,select:t.selectJobs,columns:t.jobColumns},on:{"update:select":function(e){t.selectJobs=e}}}):t._e(),"super"==t.config.model?n("div",{staticClass:"super"},[n("EventSetting",{ref:"jobEditor",attrs:{language:t.language,code:t.code}})],1):t._e()],1)])]),n("el-tab-pane",{staticClass:"dept",attrs:{label:"人+关系",name:"3",lazy:!0}},[n("div",{staticClass:"dept_left"},[n("div",{staticClass:"top"},[n("el-radio",{attrs:{label:"assign"},on:{change:t.tabsChange},model:{value:t.config.model,callback:function(e){t.$set(t.config,"model",e)},expression:"config.model"}},[t._v(" 继承节点经办人 ")]),n("el-radio",{attrs:{label:"super"},on:{change:t.tabsChange},model:{value:t.config.model,callback:function(e){t.$set(t.config,"model",e)},expression:"config.model"}},[t._v(" 高级模式 ")]),n("el-checkbox",{staticClass:"send-to-people",model:{value:t.config.IsUser,callback:function(e){t.$set(t.config,"IsUser",e)},expression:"config.IsUser"}},[t._v(" 发送到人 ")])],1),n("div",{staticClass:"content-box"},["assign"===t.config.model?n("SelectTable",{attrs:{data:t.nodesData,select:t.selectAgents,columns:t.noLevelColumns},on:{"update:select":function(e){t.selectAgents=e}}}):t._e(),"super"==t.config.model?n("div",{staticClass:"super"},[n("EventSetting",{ref:"relationEditor",attrs:{language:t.language,code:t.code}})],1):t._e()],1)]),n("div",{staticClass:"dept_right"},[n("SelectTree",{attrs:{"tree-data":t.roleData,select:t.selectRelation},on:{"update:select":function(e){t.selectRelation=e}}})],1)])],1),n("div",{staticClass:"bottom"},[n("div",{staticClass:"btnBox"},[n("el-button",{staticClass:"ds-button plain",attrs:{icon:"iconfont icon-xia",size:"small"},on:{click:t.chooseFun}},[t._v(" 选择 ")]),n("el-button",{staticClass:"ds-button plain",attrs:{icon:"iconfont icon-delete",size:"small"},on:{click:t.clearData}},[t._v(" 清空 ")])],1),n("div",{staticClass:"table-box"},[n("SelectTable",{attrs:{data:t.config.tableResult.Rule||[],columns:t.resultColumns}})],1)])],1)},r=[];i._withStripped=!0;n(20),n(24),n(25),n(15),n(48);var o=n(545),a={name:"RangeRule",props:{nodes:{type:Array,default:function(){return[]}},checked:{type:Object,default:function(){return{}}},code:{type:String,default:""},language:{type:String,default:"javascript"},value:{type:Object,default:function(){return{}}}},data:function(){return{config:{selectTab:"0",model:"assign",IsDeep:0,IsUser:!0,tableResult:{Type:"",IsUser:1,Rule:[]},chooseDataObj:{}},rangeType:null,deptData:[],defaultShowDepts:[],loadingDepts:!0,nodesData:[],roleData:[],peopleData:[],loadingPeople:!0,defaultShowPeoples:[],extendPersonData:[],jobData:[{label:1,desc:2}],selectDept:null,selectRole:null,selectExtends:[],selectPeople:null,selectExtendPerson:[],selectJobs:[],selectAgents:[],selectRelation:null,deptOptions:[{label:"当前部门",value:-1},{label:"子机构",value:0},{label:"一级部门",value:1},{label:"二级部门",value:2},{label:"三级部门",value:3}],deptColumns:[],resultColumns:[{prop:"name",label:"范围"},{prop:"IsSelected",label:"状态",width:"140",options:Object(o["b"])()},{label:"操作",width:"100",operate:!0}],noLevelColumns:[],jobColumns:[{selection:!0,type:"selection",width:50},{prop:"label",label:"岗位名称"},{prop:"desc",label:"备注"}],chooseValue:null,options:[{value:{IsDeep:0,IsUser:1},label:"发送到人-限本级部门"},{value:{IsDeep:1,IsUser:1},label:"发送到人-含下级部门"},{value:{IsDeep:0,IsUser:0},label:"发送到角色-限本级部门"},{value:{IsDeep:1,IsUser:0},label:"发送到角色-含下级部门"},{value:{IsDeep:2,IsUser:1},label:"只发送到有角色的部门-限本级部门"},{value:{IsDeep:3,IsUser:1},label:"只发送到有角色的部门-含下级部门"}]}},created:function(){var t=[{type:"index",width:44},{selection:!0,type:"selection",width:50},{prop:"label",label:"范围"}];this.deptColumns=[].concat(t,[{prop:"level",label:"级别",options:this.deptOptions}]),this.chooseValue=this.options[0],this.noLevelColumns=[].concat(t),this.initExtendDataForOrg(),this.initAssignDataForOrg(),this.getFlowPosition(),this.initAssignDataForPeople(),this.initData()},mounted:function(){},methods:{getContent:function(){return this.config.tableResult},tabsChange:function(t){this.clearData()},initData:function(){var t=this,e=this.value&&dsf.mix(!0,[],this.value.Rule)||[];e&&e.length>0&&(this.config.tableResult=dsf.mix(!0,{},this.value),e.forEach((function(e){var n,i=t.value,r=t.config;12===i.Type?(r.model="super",r.selectTab="2",n="jobAdvanced"):21===i.Type?(r.model="assign",r.selectTab="1",n=e.id):22===i.Type?(r.model="extend",r.selectTab="1",n=e.id):23===i.Type?(r.model="super",r.selectTab="1",n="personAdvanced"):31===i.Type?(r.model="assign",r.selectTab="0",n=e.DeptID+"-"+e.RoleID):32===i.Type?(r.model="extend",r.selectTab="0",n=e.NodeID+"-"+e.RoleID):33===i.Type?(r.model="super",r.selectTab="0",n="role-"+e.RoleID):41===i.Type?(r.model="assign",r.selectTab="3",n="relation"+e.id):42===i.Type?(r.model="super",r.selectTab="3",n="relationAdvanced"):n=e.id,t.config.chooseDataObj[n]=e})))},initAssignDataForOrg:function(){var t=this;this.$http.get("oua/getDeptByCurUnit",{}).then((function(e){if(e.data.success){var n=t.formatData(e.data.data);t.defaultShowDepts.push(n.id),t.deptData=[n],t.loadingDepts=!1}}))},initExtendDataForOrg:function(){var t=this.nodes,e=[];e.push({id:"DS_CUR_SEND_NODE",label:"当前发送节点",level:1});for(var n=0;n<t.length;n++)e.push({id:t[n].id,label:t[n].name,level:1});this.nodesData=e},initAssignDataForPeople:function(){var t=this;this.$http.get("oua/getUserByCurUnit",{}).then((function(e){if(e.data.success){var n=t.formatData(e.data.data,"1");t.defaultShowPeoples.push(n.id),t.peopleData=[n],t.loadingPeople=!1}}))},getFlowPosition:function(){var t=this;this.$http.get("oua/getRole",{}).then((function(e){if(e.data.success){var n=[];e.data.data.forEach((function(e){n.push(t.formatData(e,"2"))})),t.roleData=n}}))},formatData:function(t,e){if(t.label=t.NAME||t._name,t.id=t.id||t._id,t.type=t.TYPE||t._type,e&&(t.disabled=t.type!=e),t.attributes={NAME:t.label,id:t.id,FID:t.pid,type:t.type},delete t.NAME,delete t.Atts,delete t.TYPE,delete t.FID,t.children)for(var n=0;n<t.children.length;n++)this.formatData(t.children[n],e);return t},handleClick:function(t){t.index;this.config.model="assign",this.clearData()},editorLoaded:function(t){var e=this.code;"html"==this.language&&(e=dsf.unescapeHTML(e)),this.$refs[t].setContent(e)},deleteRow:function(t){12===t.Type?delete this.config.chooseDataObj["jobAdvanced"]:23===t.Type?delete this.config.chooseDataObj["personAdvanced"]:31===t.Type?delete this.config.chooseDataObj[t.DeptID+"-"+t.RoleID]:32===t.Type?delete this.config.chooseDataObj[t.NodeID+"-"+t.RoleID]:33===t.Type?delete this.config.chooseDataObj["role-"+t.RoleID]:41===t.Type?delete this.config.chooseDataObj["relation"+t.id]:42===t.Type?delete this.config.chooseDataObj["relationAdvanced"]:delete this.config.chooseDataObj[t.id]},chooseFun:function(){var t=this;if(this.verify()){var e=this.config;if("0"===e.selectTab)if("assign"===e.model)this.addRule(this.selectDept,this.selectRole);else if("extend"===e.model)this.selectExtends.forEach((function(e){t.addRule(e,t.selectRole)}));else{var n={label:"表达式选角色",exp:this.$refs.editor.getContent(),id:dsf.uuid(32)};this.addRule(n,this.selectRole)}else if("1"===e.selectTab)if("assign"===e.model)this.selectPeople.forEach((function(e){t.addPerson(e)}));else if("extend"===e.model)this.selectExtendPerson.forEach((function(e){t.addPerson(e)}));else{var i={label:"表达式选人",exp:this.$refs.personEditor.getContent(),id:dsf.uuid(32)};this.addPerson(i)}else if("2"===e.selectTab){if("super"===e.model){var r={label:"表达式选岗位"+(e.IsUser?"(发送到人)":""),exp:this.$refs.jobEditor.getContent(),id:dsf.uuid(32)};this.addJob(r)}}else if("assign"===e.model)this.selectAgents.forEach((function(e){t.addRelation(e,t.selectRelation)}));else if("super"===e.model){var o={label:"表达式选关系",exp:this.$refs.relationEditor.getContent(),id:dsf.uuid(32)};this.addRelation(o,this.selectRelation)}}},verify:function(){var t=this.config;if("0"===t.selectTab){if("assign"===t.model&&!this.selectDept)return dsf.layer.alert("请选择左侧指定部门节点"),!1;if("extend"===t.model&&0===this.selectExtends.length)return dsf.layer.alert("请选择继承的节点部门"),!1;if(!this.selectRole)return dsf.layer.alert("请选择右侧角色节点"),!1}else if("1"===t.selectTab){if("assign"===t.model&&!this.selectPeople)return dsf.layer.alert("请选择指定人员"),!1;if("extend"===t.model&&0===this.selectExtendPerson.length)return dsf.layer.alert("请选择继承节点经办人"),!1}else if("2"===t.selectTab){if("assign"===t.model)return dsf.layer.alert("暂无真实数据"),!1}else{if("assign"===t.model&&0===this.selectAgents.length)return dsf.layer.alert("请选择左侧继承节点经办人"),!1;if(!this.selectRelation)return dsf.layer.alert("请选择右侧关系节点"),!1}return!0},addRule:function(t,e){var n,i=this.config,r=0,o=0;"0"===i.selectTab?(n=this.chooseValue.label,r=this.chooseValue.value.IsDeep,o=this.chooseValue.value.IsUser):(n=i.IsUser?"发送到人":"",o=i.IsUser?1:0);var a,s="".concat(t&&t.label,"-").concat(this.getDeptLevel(t&&t.level)).concat(e.label).concat(n?"("+n+")":""),l={id:dsf.uuid(32),name:s,IsDeep:r,IsUser:o,IsSelected:0,RoleID:e.id,RoleName:e.label};"assign"===i.model?(Object.assign(l,{Type:31,DeptID:t.id,DeptName:t.label}),a=l.DeptID+"-"+l.RoleID):"extend"===i.model?(Object.assign(l,{NodeID:t.id,NodeName:t.label,Type:32,Level:t.level,DeptName:t.label}),a=l.NodeID+"-"+l.RoleID):(Object.assign(l,{Type:33,exp:t.exp}),a="role-"+e.id),this.addToTable(i,a,l)},addPerson:function(t){var e,n=this.config,i={id:t.id,name:t.label,IsSelected:0,IsUser:1};"assign"===n.model?(Object.assign(i,{UserID:t.id,UserName:t.label,DeptID:t.UnitID,DeptName:t.UnitName,Type:21}),e=i.id):"extend"===n.model?(Object.assign(i,{NodeID:t.id,NodeName:t.label,Type:22}),e=i.id):(Object.assign(i,{exp:t.exp,Type:23}),e="personAdvanced"),this.addToTable(n,e,i)},addJob:function(t){var e,n=this.config,i={id:t.id,name:t.label,IsDeep:n.IsDeep?1:0,IsUser:n.IsUser?1:0,IsSelected:0};"super"===n.model&&(Object.assign(i,{JobID:t.id,JobName:t.label,exp:t.exp,Type:12}),e="jobAdvanced"),this.addToTable(n,e,i)},addRelation:function(t,e){var n,i=this.config,r="".concat(t&&t.label,"-").concat(e.label).concat(i.IsUser?"(发送到人)":""),o={id:t.id,name:r,IsUser:i.IsUser?1:0,RelationID:e.id,RelationName:e.label,IsSelected:0};"assign"===i.model?(Object.assign(o,{NodeID:t.id,NodeName:t.label,Type:41}),n="relation"+t.id):"super"===i.model&&(o.Type=42,o.exp=t.exp,n="relationAdvanced"),this.addToTable(i,n,o)},addToTable:function(t,e,n){t.chooseDataObj[e]||(t.tableResult.IsUser=n.IsUser,t.tableResult.Type=n.Type,t.chooseDataObj[e]=n,t.tableResult.Rule.push(n))},getDeptLevel:function(t){if(!t||"0"!==this.config.selectTab)return"";var e=this.deptOptions.find((function(e){return e.value===t}));return e.label+"-"},clearData:function(){this.config.tableResult.Type=31,this.config.tableResult.IsUser=0,this.config.tableResult.Rule=[],this.config.chooseDataObj={}}}},s=a,l=(n(730),n(0)),c=Object(l["a"])(s,i,r,!1,null,"3b8c7cdd",null);c.options.__file="designer/setting/flow/rangeRule.vue";e["default"]=c.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ds-ueditor"},[n("DsfUEditor",{attrs:{value:t.content,"show-label":!1,"$rich-txt-height":320},on:{"editor-change":t.valueChange}})],1)},r=[];i._withStripped=!0;var o={name:"RichText",props:{value:{type:String,default:function(){return""}}},data:function(){return{content:""}},created:function(){this.content=this.value},mounted:function(){},methods:{getContent:function(){return this.content},valueChange:function(t,e){this.content=t.data}}},a=o,s=n(0),l=Object(s["a"])(a,i,r,!1,null,null,null);l.options.__file="designer/setting/flow/richText.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ds-institution-info"},[n("table",[n("tbody",[n("tr",[n("td",[t._v("风险控制点")]),n("td",{staticClass:"filed_common",attrs:{colspan:"2"}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.fxkz.jdmc,expression:"fxkz.jdmc"}],staticClass:"fxkzd",domProps:{value:t.fxkz.jdmc},on:{input:function(e){e.target.composing||t.$set(t.fxkz,"jdmc",e.target.value)}}})])]),n("tr",{staticClass:"table_tr_fxlb_title"},[n("td",{attrs:{colspan:"2",align:"left"}},[t._v("风险类别")]),n("td",[n("a",{staticClass:"ds-button--icon-text",on:{click:function(e){return t.addNew("fxlb")}}},[t._v("添加")])])]),t._m(0),t._l(t.fxkz.fxlb,(function(e,i){return n("tr",{key:i},[n("td",{staticClass:"xhfiled"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.xh,expression:"item.xh"}],staticClass:"zdyqxh",domProps:{value:e.xh},on:{input:function(n){n.target.composing||t.$set(e,"xh",n.target.value)}}})]),n("td",{staticClass:"filed_common"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"item.content"}],staticClass:"zdyq",domProps:{value:e.content},on:{input:function(n){n.target.composing||t.$set(e,"content",n.target.value)}}})]),n("td",{staticClass:"operation"},[n("a",{staticClass:"ds-button--icon-text",on:{click:function(e){return t.addNew("fxlb")}}},[t._v("添加")]),n("a",{staticClass:"ds-button--icon-text",on:{click:function(e){return t.deleteRow(i,"fxlb")}}},[t._v("删除")])])])})),n("tr",{staticClass:"table_tr_fxms_title"},[n("td",{attrs:{colspan:"2",align:"left"}},[t._v("风险描述")]),n("td",[n("a",{staticClass:"ds-button--icon-text",on:{click:function(e){return t.addNew("fxms")}}},[t._v("添加")])])]),t._m(1),t._l(t.fxkz.fxms,(function(e,i){return n("tr",{key:i},[n("td",{staticClass:"xhfiled"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.xh,expression:"item.xh"}],staticClass:"zdyqxh",domProps:{value:e.xh},on:{input:function(n){n.target.composing||t.$set(e,"xh",n.target.value)}}})]),n("td",{staticClass:"filed_common"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"item.content"}],staticClass:"zdyq",domProps:{value:e.content},on:{input:function(n){n.target.composing||t.$set(e,"content",n.target.value)}}})]),n("td",{staticClass:"operation"},[n("a",{staticClass:"ds-button--icon-text",on:{click:function(e){return t.addNew("fxms")}}},[t._v("添加")]),n("a",{staticClass:"ds-button--icon-text",on:{click:function(e){return t.deleteRow(i,"fxms")}}},[t._v("删除")])])])})),n("tr",{staticClass:"table_tr_kzcs_title"},[n("td",{attrs:{colspan:"2",align:"left"}},[t._v("控制措施")]),n("td",[n("a",{staticClass:"ds-button--icon-text",on:{click:function(e){return t.addNew("kzcs")}}},[t._v("添加")])])]),t._m(2),t._l(t.fxkz.kzcs,(function(e,i){return n("tr",{key:i},[n("td",{staticClass:"xhfiled"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.xh,expression:"item.xh"}],staticClass:"zdyqxh",domProps:{value:e.xh},on:{input:function(n){n.target.composing||t.$set(e,"xh",n.target.value)}}})]),n("td",{staticClass:"filed_common"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"item.content"}],staticClass:"zdyq",domProps:{value:e.content},on:{input:function(n){n.target.composing||t.$set(e,"content",n.target.value)}}})]),n("td",{staticClass:"operation"},[n("a",{staticClass:"ds-button--icon-text",on:{click:function(e){return t.addNew("kzcs")}}},[t._v("添加")]),n("a",{staticClass:"ds-button--icon-text",on:{click:function(e){return t.deleteRow(i,"kzcs")}}},[t._v("删除")])])])}))],2)])])},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("td",{staticClass:"xhfiled"},[t._v("序号")]),n("td",[t._v("风险类别")]),n("td",{staticClass:"operation"},[t._v("操作")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("td",{staticClass:"xhfiled"},[t._v("序号")]),n("td",[t._v("风险描述")]),n("td",{staticClass:"operation"},[t._v("操作")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("td",{staticClass:"xhfiled"},[t._v("序号")]),n("td",[t._v("控制措施")]),n("td",{staticClass:"operation"},[t._v("操作")])])}];i._withStripped=!0;n(15),n(33);var o={name:"RiskInfo",props:{checked:{type:Object,default:function(){return{}}},value:{type:Object,default:function(){return{}}}},data:function(){return{fxkz:{fxkzd:"",fxlb:[],fxms:[],kzcs:[]}}},created:function(){var t;this.checked,Object.assign(this.fxkz,{fxkzd:this.checked.name},(null===(t=this.value)||void 0===t?void 0:t.fxkz)||{})},mounted:function(){},methods:{yes:function(){return{fxkz:this.fxkz}},addNew:function(t){this.fxkz[t].push({content:"",xh:""})},deleteRow:function(t,e){this.fxkz[e].splice(t,1)}}},a=o,s=(n(732),n(0)),l=Object(s["a"])(a,i,r,!1,null,"3be3d1c9",null);l.options.__file="designer/setting/flow/riskInfo.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ds-select-icon"},t._l(t.list,(function(e,r){return i("div",{key:r,staticClass:"item",class:{active:t.selected===e}},[i("img",{attrs:{src:n(734)("./"+e+"_s.png"),alt:""},on:{click:function(n){t.selected=e}}})])})),0)},r=[];i._withStripped=!0;var o={name:"SelectImg",props:{value:{type:String,default:function(){return""}}},data:function(){return{selected:"",list:["101","201","299","301","302"]}},created:function(){this.selected=this.value||"101"},mounted:function(){},methods:{getContent:function(){return this.selected}}},a=o,s=(n(735),n(0)),l=Object(s["a"])(a,i,r,!1,null,null,null);l.options.__file="designer/setting/flow/selectImg.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.data,"header-align":"center",align:"center",height:t.height,border:"","tooltip-effect":"dark"},on:{"selection-change":t.selectTable}},[t._l(t.columns,(function(e,i){var r=e.type,o=e.isSelect,a=e.prop,s=e.label,l=e.align,c=e.width,u=e.options,f=e.operate,d=e.fieldType;return[u||f||d||o?t._e():n("el-table-column",{key:a,attrs:{type:r,prop:a,label:s,width:c,align:l||"center"}}),u?n("el-table-column",{key:a,attrs:{type:r,prop:a,label:s,width:c,align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-select",{staticClass:"level",attrs:{placeholder:"请选择"},model:{value:e.row[a],callback:function(n){t.$set(e.row,a,n)},expression:"scope.row[prop]"}},t._l(u,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)]}}],null,!0)}):t._e(),f?n("el-table-column",{key:a,attrs:{type:r,prop:a,label:s,width:c,align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.deleteRow(e.row)}}},[t._v(" 删除 ")])]}}],null,!0)}):t._e(),d&&"input"===d?n("el-table-column",{key:a,attrs:{type:r,prop:a,label:s,width:c,align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.row[a],callback:function(n){t.$set(e.row,a,n)},expression:"scope.row[prop]"}})]}}],null,!0)}):t._e(),d&&"editInput"===d?n("el-table-column",{key:a,attrs:{type:r,prop:a,label:s,width:c,align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row[a+"Edit"]?t._e():n("span",{staticClass:"edit-filed",on:{click:function(t){e.row[a+"Edit"]=!0}}},[t._v(" "+t._s(e.row[a])+" ")]),e.row[a+"Edit"]?n("el-input",{directives:[{name:"focus",rawName:"v-focus"}],attrs:{placeholder:"请输入内容"},on:{blur:function(t){e.row[a+"Edit"]=!1},keyup:function(n){if(!n.type.indexOf("key")&&t._k(n.keyCode,"enter",13,n.key,"Enter"))return null;e.row[a+"Edit"]=!1}},model:{value:e.row[a],callback:function(n){t.$set(e.row,a,n)},expression:"scope.row[prop]"}}):t._e()]}}],null,!0)}):t._e(),o?n("el-table-column",{key:a,attrs:{type:r,prop:a,label:s,width:c,align:l||"center"},scopedSlots:t._u([{key:"header",fn:function(e){return[n("span",[t._v(t._s(s)+"  ")]),n("el-checkbox",{attrs:{indeterminate:t.columns[i].isIndeterminate},on:{change:function(n){return t.checkAllChange(t.columns[i][a+"All"],a,t.columns[i],e)}},model:{value:t.columns[i][a+"All"],callback:function(e){t.$set(t.columns[i],a+"All",e)},expression:"columns[index][prop + 'All']"}})]}},{key:"default",fn:function(e){return[n("el-checkbox",{on:{change:function(n){return t.selectRow(e.row[a],a,t.columns[i])}},model:{value:e.row[a],callback:function(n){t.$set(e.row,a,n)},expression:"scope.row[prop]"}})]}}],null,!0)}):t._e()]}))],2)},r=[];i._withStripped=!0;n(8),n(24),n(25),n(23),n(33),n(28);var o={name:"SelectTable",props:{data:{type:Array,default:function(){return[]}},columns:{type:Array,default:function(){return[]}},select:{type:Array,default:function(){return[]}},height:{type:[String,Number],default:function(){return 200}}},data:function(){return{}},created:function(){},mounted:function(){var t=this;this.select&&this.select.length>0&&this.select.forEach((function(e){t.$refs.multipleTable.toggleRowSelection(e)}))},methods:{selectTable:function(t){this.$emit("update:select",t)},deleteRow:function(t){var e=this.data.indexOf(t);e>=0&&this.data.splice(e,1),this.$parent.deleteRow(t)},checkAllChange:function(t,e,n){this.data.forEach((function(n){n[e]=t})),n.isIndeterminate=!1},selectRow:function(t,e,n){var i=this.data.filter((function(t){return t[e]})),r=i.length;n[e+"All"]=r===this.data.length,n.isIndeterminate=r>0&&r<this.data.length}}},a=o,s=(n(737),n(0)),l=Object(s["a"])(a,i,r,!1,null,"0466d894",null);l.options.__file="designer/setting/flow/selectTable.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"send-condition"},[n("div",{staticClass:"editor"},[n("EventSetting",{ref:"event",attrs:{language:t.language,code:t.config.Condition.Expression}})],1),n("div",{staticClass:"table"},[n("SelectTable",{attrs:{data:t.config.Condition.Switch.ItemValue,columns:t.columns}})],1)])},r=[];i._withStripped=!0;n(24),n(25),n(15);var o={name:"SendCondition",props:{lines:{type:Array,default:function(){return[]}},checked:{type:Object,default:function(){return{}}},value:{type:Object,default:function(){return{}}},code:{type:String,default:""},language:{type:String,default:"javascript"}},data:function(){return{config:{IsEnabled:"1",Condition:{Expression:"",Switch:{ItemValue:[]}}},selectNodes:[],columns:[{prop:"LineName",label:"连线名称"},{prop:"Type",label:"条件",width:"140",options:[{label:"等于",value:0},{label:"包含",value:1},{label:"被包含",value:2},{label:"大于",value:3},{label:"大于等于",value:4},{label:"小于",value:5},{label:"小于等于",value:6},{label:"范围",value:7},{label:"有效",value:8}]},{prop:"Value",label:"值",fieldType:"input"}]}},created:function(){this.initTabel()},mounted:function(){},methods:{getContent:function(){return this.config.Condition.Expression=this.$refs.event.getContent(),this.config},initTabel:function(){var t,e=this,n=this.value.Condition;n&&n.Switch&&n.Switch.ItemValue&&(t=n.Switch.ItemValue),n&&n.Expression&&(this.config.Condition.Expression=n.Expression);var i={};t&&t.length>0&&t.forEach((function(t){i[t.LineID]=t}));var r=this.config.Condition.Switch.ItemValue,o=this.checked.out;o&&o.length>0&&o.forEach((function(t){e.lines.forEach((function(e){if(e.id===t){var n=i[e.id],o={Value:n&&n.Value||"",Type:dsf.isUnDef(n)?8:n.Type,LineID:e.id,LineName:e.name};r.push(o)}}))}))}}},a=o,s=(n(741),n(0)),l=Object(s["a"])(a,i,r,!1,null,"22e8a277",null);l.options.__file="designer/setting/flow/sendCondition.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("SelectTree",{attrs:{"tree-data":t.flowData,select:t.selectFlow,checked:t.checked,"show-search":!0},on:{"update:select":function(e){t.selectFlow=e}}})],1)},r=[];i._withStripped=!0;n(24),n(25),n(15);var o={name:"SetOpinionNode",props:{value:{type:String,default:function(){return""}},subNodes:{type:Array,default:function(){return[]}}},data:function(){return{flowData:[],selectFlow:null,checked:[]}},created:function(){this.initNodes()},mounted:function(){},methods:{yes:function(){return this.selectFlow},validate:function(){return!!this.selectFlow||(dsf.layer.message("请选择流程",!1),!1)},initNodes:function(){this.checked=[this.value],this.flowData=this.formatData(JSON.parse(JSON.stringify(this.subNodes)))},formatData:function(t,e){var n=this;return t.forEach((function(t){t.label=t.name,n.value===t.id&&(n.selectFlow=t)})),t}}},a=o,s=n(0),l=Object(s["a"])(a,i,r,!1,null,"672d230e",null);l.options.__file="designer/setting/flow/setOpinionNode.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ds-set-params"},[n("SelectTable",{attrs:{data:t.data,columns:t.columns}}),n("p",{staticClass:"add-btn"},[n("el-button",{attrs:{type:"danger"},on:{click:t.deleteAll}},[t._v(" 删除所有 ")]),n("el-button",{attrs:{type:"success"},on:{click:t.addRow}},[t._v(" 新增一行 ")])],1)],1)},r=[];i._withStripped=!0;n(16);var o={name:"SetParams",props:{value:{type:Array,default:function(){return[]}}},data:function(){return{data:[],columns:[{prop:"Key",label:"Key",fieldType:"editInput"},{prop:"Value",label:"Value",fieldType:"editInput"},{label:"操作",width:"100",operate:!0}]}},created:function(){this.init()},methods:{getContent:function(){var t=this.data.map((function(t){return{Key:t.Key,Value:t.Value}}));return t},init:function(){this.value&&this.value.length>0?this.data=this.value:this.addRow()},deleteRow:function(){},deleteAll:function(){this.data=[]},addRow:function(){this.data.push({Key:"",KeyEdit:!1,Value:"",ValueEdit:!1})}}},a=o,s=(n(743),n(0)),l=Object(s["a"])(a,i,r,!1,null,"5f2a800c",null);l.options.__file="designer/setting/flow/setParams.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-form",{ref:"form"},[n("el-form-item",{attrs:{label:"子流程类型"}},[n("el-select",{staticStyle:{width:"77%"},attrs:{name:"子流程类型"},model:{value:t.Mode,callback:function(e){t.Mode=e},expression:"Mode"}},[n("el-option",{attrs:{label:"引用",value:"0"}}),n("el-option",{attrs:{label:"复制",value:"1"}}),n("el-option",{attrs:{label:"新建",value:"2"}})],1)],1)],1),"2"!==t.Mode?n("SelectTree",{attrs:{"tree-data":t.flowData,select:t.selectFlow,checked:t.checked,"show-search":!0},on:{"update:select":function(e){t.selectFlow=e}}}):t._e()],1)},r=[];i._withStripped=!0;n(8),n(15);var o=n(533),a={name:"SetSubFlow",components:{SelectTree:o["default"]},props:{value:{type:String,default:function(){return""}},mode:{type:Number,default:function(){return 0}}},data:function(){return{flowData:[],selectFlow:null,checked:[],Mode:String(this.mode)}},created:function(){this.initFlow()},mounted:function(){},methods:{yes:function(){return{Mode:Number(this.Mode),SubWFID:"2"!==this.Mode?this.selectFlow.dsfa_rm_id:null,SubWFName:"2"!==this.Mode?this.selectFlow.name:null}},validate:function(){return!!this.selectFlow||(dsf.layer.message("请选择流程",!1),!1)},initFlow:function(){var t=this;this.$http.get("rm/list/wf",{}).then((function(e){if(e.data.success){var n=e.data.data[0],i=n?t.formatData(n,"0"):null;t.flowData=n?[i]:[],t.currentData&&t.currentData.dsfa_rm_id&&(t.checked=[t.currentData.dsfa_rm_id],t.selectFlow=t.currentData),t.value&&(t.checked=[t.value])}}))},formatData:function(t,e){if(t.label=t.name,t.id=t.dsfa_rm_id,e&&(t.disabled=t.type_value===e),"4"!=t.type_value&&(t.nocheck=!0),"4"==t.type_value||t.children||(t.iconSkin="_special"),t.children)for(var n=0;n<t.children.length;n++)this.formatData(t.children[n],e);return this.value===t.id&&(this.selectFlow=t),t}}},s=a,l=n(0),c=Object(l["a"])(s,i,r,!1,null,"2c97b410",null);c.options.__file="designer/setting/flow/setSubFlow.vue";e["default"]=c.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ds-sum-start-node"},[n("div",{staticClass:"proportion"},[n("label",[t._v("汇总比例：")]),n("el-input-number",{attrs:{min:0,"controls-position":"right"},model:{value:t.Proportion,callback:function(e){t.Proportion=e},expression:"Proportion"}})],1),n("el-card",{staticClass:"box-card",attrs:{shadow:"never","body-style":"{ padding: '0px' }"}},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[t._v("汇总范围")])]),t.nodes&&t.nodes.length>0?n("SumStartNode",{ref:"startNode",attrs:{value:t.value.GatherRange,nodes:t.nodes}}):t._e()],1)],1)},r=[];i._withStripped=!0;var o={name:"SumAllNode",props:{value:{type:Object,default:function(){return{Proportion:0,GatherRange:[]}}},nodes:{type:Array,default:function(){return[]}}},data:function(){return{Proportion:0,selects:[]}},created:function(){var t;this.Proportion=null!==(t=this.value.Proportion)&&void 0!==t?t:0},mounted:function(){},methods:{getContent:function(){var t=this.$refs.startNode.getContent();return{Proportion:this.Proportion,GatherRange:t}}}},a=o,s=(n(745),n(0)),l=Object(s["a"])(a,i,r,!1,null,"2204f5a4",null);l.options.__file="designer/setting/flow/sumAllNode.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ds-sum-start-node"},[n("SelectTable",{attrs:{data:t.nodesData,select:t.selects,columns:t.columns},on:{"update:select":function(e){t.selects=e}}})],1)},r=[];i._withStripped=!0;n(16),n(15),n(24),n(25);var o={name:"SumStartNode",props:{value:{type:String,default:function(){return""}},nodes:{type:Array,default:function(){return[]}}},data:function(){return{nodesData:[],selects:[],columns:[],content:""}},created:function(){this.columns=[{type:"index",width:44},{selection:!0,type:"selection",width:50},{prop:"label",label:"节点名称"}],this.initNodes()},mounted:function(){},methods:{getContent:function(){return this.selects.map((function(t){return t.id}))},initNodes:function(){for(var t=this,e=this.nodes,n=[],i=[],r=function(r){var o={id:e[r].id,label:e[r].name,level:1};n.push(o),t.value&&t.value.forEach((function(t){t===o.id&&i.push(o)}))},o=0;o<e.length;o++)r(o);this.nodesData=n,this.selects=i}}},a=o,s=n(0),l=Object(s["a"])(a,i,r,!1,null,null,null);l.options.__file="designer/setting/flow/sumStartNode.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"summary"},[n("p",[n("span",[t._v("汇总比例：")]),n("el-input-number",{attrs:{"controls-position":"right",min:0,max:100},model:{value:t.config.Proportion,callback:function(e){t.$set(t.config,"Proportion",e)},expression:"config.Proportion"}}),n("span",[t._v("%")])],1),n("div",{staticClass:"table"},[n("SelectTable",{attrs:{data:t.nodesData,select:t.selectNodes,columns:t.columns},on:{"update:select":function(e){t.selectNodes=e}}})],1)])},r=[];i._withStripped=!0;n(26),n(16),n(10),n(36),n(15),n(24),n(25);var o={name:"Summary",props:{lines:{type:Array,default:function(){return[]}},checked:{type:Object,default:function(){return{}}},value:{type:Object,default:function(){return{}}}},data:function(){return{config:{Proportion:0,GatherRange:""},nodesData:[],selectNodes:[],columns:[{selection:!0,type:"selection",width:50},{prop:"label",label:"连线名称",align:"left"}]}},created:function(){this.initTabel()},mounted:function(){},methods:{getContent:function(){return this.config.GatherRange=this.selectNodes.map((function(t){return t.value})).join(","),this.config},initTabel:function(){var t=this,e=this.value,n=e.GatherRange,i=e.Proportion,r=n&&n.split(",")||[];this.config.Proportion=i||0,this.selectNodes=[],this.nodesData=[];for(var o=function(e){var n=t.lines[e];if(n.id!=t.checked.id){var i={value:n.id,label:n.name};t.nodesData.push(i),r&&r.length>0&&r.forEach((function(e){e===n.id&&t.selectNodes.push(i)}))}},a=0;a<this.lines.length;a++)o(a)}}},a=o,s=(n(747),n(0)),l=Object(s["a"])(a,i,r,!1,null,"4d40632a",null);l.options.__file="designer/setting/flow/summary.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{staticStyle:{height:"100%"}},[n("el-aside",{staticStyle:{overflow:"auto",height:"100%",border:"1px solid #d4d4d4"},attrs:{width:"30%"}},[n("el-table",{ref:"table",attrs:{data:t.buttonsTable,"highlight-current-row":""},on:{"current-change":t.currentChangeHandler}},[n("el-table-column",{attrs:{type:"index",width:"50",label:"序号"}}),n("el-table-column",{attrs:{label:"按钮名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.text))])]}}])})],1)],1),n("el-main",{staticStyle:{padding:"0px",border:"1px solid #d4d4d4","margin-left":"10px"}},[n("el-tree",{ref:"tree",attrs:{"node-key":"_id","show-checkbox":"","default-expand-all":"","expand-on-click-node":!1,"check-on-click-node":!0,data:t.treeData,props:t.treeProps},on:{"check-change":t.checkChangeHandler}})],1)],1)},r=[];i._withStripped=!0;var o=n(3),a=n.n(o),s=n(9),l=(n(16),n(28),n(52),n(33),{name:"DesFunctionSetting",props:{buttons:{type:Array,default:function(){return[]}}},data:function(){return{treeData:[],treeProps:{label:"_name"},buttonsTable:[],currentSelectRow:null}},mounted:function(){var t=this;return Object(s["a"])(a.a.mark((function e(){var n;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getOuaRulesTree();case 2:n=e.sent,t.buttonsTable=_.map(t.buttons,(function(t){return t.setting?dsf.mix(!0,{},t):void 0})),t.buttons,t.buttonsTable=_.filter(t.buttonsTable,(function(t){return t})),t.treeData=n,t.$refs.table.setCurrentRow(t.buttonsTable[0]);case 8:case"end":return e.stop()}}),e)})))()},methods:{getOuaRulesTree:function(){var t=this;return Object(s["a"])(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.$webAPI.getOuaRulesTree().then((function(t){return t.data})).catch((function(t){throw dsf.layer.pc.message("加载角色树失败",!1),t})));case 1:case"end":return e.stop()}}),e)})))()},currentChangeHandler:function(t){this.currentSelectRow=t;var e=this.currentSelectRow.roles;e=_.map(e,"id"),this.$refs.tree.setCheckedKeys(e)},checkChangeHandler:function(t,e,n){if(t&&this.currentSelectRow&&2==t.type_value)if(e){var i=_.findIndex(this.currentSelectRow.roles,(function(e){return e.id===t._id}));i>=0&&this.currentSelectRow.roles.splice(i,1),this.currentSelectRow.roles.push({id:t._id,name:t._name,serial_number:t.serial_number})}else dsf.array.remove(this.currentSelectRow.roles,(function(e,n){return e.id==t._id}))},yes:function(){return this.buttonsTable}}}),c=l,u=n(0),f=Object(u["a"])(c,i,r,!1,null,null,null);f.options.__file="designer/setting/functionSetting.vue";e["default"]=f.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",[n("el-main",{staticStyle:{padding:"0px"}},[n("el-form",{ref:"form",attrs:{model:t.form,"label-width":"130px"}},[n("el-form-item",{attrs:{label:"字体大小"}},[n("el-select",{model:{value:t.form.fontSize,callback:function(e){t.$set(t.form,"fontSize",e)},expression:"form.fontSize"}},[n("el-option",{attrs:{label:"1号字(34px)",value:"ds-font1"}}),n("el-option",{attrs:{label:"2号字(24px)",value:"ds-font2"}}),n("el-option",{attrs:{label:"3号字(18px)",value:"ds-font3"}}),n("el-option",{attrs:{label:"4号字(16px)",value:"ds-font4"}}),n("el-option",{attrs:{label:"5号字(14px)",value:"ds-font5"}}),n("el-option",{attrs:{label:"6号字(12px)",value:"ds-font6"}})],1)],1),n("el-form-item",{attrs:{label:"是否加粗"}},[n("el-radio-group",{model:{value:t.form.bold,callback:function(e){t.$set(t.form,"bold",e)},expression:"form.bold"}},[n("el-radio",{attrs:{label:!0}},[t._v("是")]),n("el-radio",{attrs:{label:!1}},[t._v("否")])],1)],1),n("el-form-item",{attrs:{label:"字体颜色"}},[n("el-input",{attrs:{placeholder:"#606266"},model:{value:t.form.color,callback:function(e){t.$set(t.form,"color",e)},expression:"form.color"}})],1),n("el-form-item",{attrs:{label:"高度"}},[n("el-input",{attrs:{placeholder:"auto"},model:{value:t.form.height,callback:function(e){t.$set(t.form,"height",e)},expression:"form.height"}})],1),n("el-form-item",{attrs:{label:"行间距"}},[n("el-select",{model:{value:t.form.lineHeight,callback:function(e){t.$set(t.form,"lineHeight",e)},expression:"form.lineHeight"}},[n("el-option",{attrs:{label:"默认",value:"normal"}}),n("el-option",{attrs:{label:"1.2倍",value:"1.2em"}}),n("el-option",{attrs:{label:"1.5倍",value:"1.5em"}}),n("el-option",{attrs:{label:"2倍",value:"2em"}})],1)],1),n("el-form-item",{attrs:{label:"文字最大显示行数"}},[n("el-input-number",{attrs:{"controls-position":"right",min:0,max:5},model:{value:t.form.lineNum,callback:function(e){t.$set(t.form,"lineNum",e)},expression:"form.lineNum"}}),n("span",{staticStyle:{display:"inline-block","margin-left":"10px",color:"#c0c0c0"}},[t._v(" (0表示不省略且根据内容自动撑开容器)")])],1),n("el-form-item",{attrs:{label:"水平对齐方式"}},[n("el-select",{model:{value:t.form.align,callback:function(e){t.$set(t.form,"align",e)},expression:"form.align"}},[n("el-option",{attrs:{label:"居左",value:"left"}}),n("el-option",{attrs:{label:"居中",value:"center"}}),n("el-option",{attrs:{label:"居右",value:"right"}})],1)],1),n("el-form-item",{attrs:{label:"垂直对齐方式"}},[n("el-select",{model:{value:t.form.verticalAlign,callback:function(e){t.$set(t.form,"verticalAlign",e)},expression:"form.verticalAlign"}},[n("el-option",{attrs:{label:"居上",value:"top"}}),n("el-option",{attrs:{label:"居中",value:"middle"}}),n("el-option",{attrs:{label:"居下",value:"bottom"}})],1)],1),n("el-form-item",{attrs:{label:"边距"}},[n("div",{staticStyle:{display:"inline-block","margin-left":"10px"}},[t._v(" 上： "),n("el-input-number",{staticStyle:{width:"90px"},attrs:{"controls-position":"right",min:0,max:20},model:{value:t.form.paddingTop,callback:function(e){t.$set(t.form,"paddingTop",e)},expression:"form.paddingTop"}})],1),n("div",{staticStyle:{display:"inline-block","margin-left":"10px"}},[t._v(" 右："),n("el-input-number",{staticStyle:{width:"90px"},attrs:{"controls-position":"right",min:0,max:20},model:{value:t.form.paddingRight,callback:function(e){t.$set(t.form,"paddingRight",e)},expression:"form.paddingRight"}})],1),n("div",{staticStyle:{display:"inline-block","margin-left":"10px"}},[t._v(" 下："),n("el-input-number",{staticStyle:{width:"90px"},attrs:{"controls-position":"right",min:0,max:20},model:{value:t.form.paddingBottom,callback:function(e){t.$set(t.form,"paddingBottom",e)},expression:"form.paddingBottom"}})],1),n("div",{staticStyle:{display:"inline-block","margin-left":"10px"}},[t._v(" 左："),n("el-input-number",{staticStyle:{width:"90px"},attrs:{"controls-position":"right",min:0,max:20},model:{value:t.form.paddingLeft,callback:function(e){t.$set(t.form,"paddingLeft",e)},expression:"form.paddingLeft"}})],1)])],1)],1)],1)},r=[];i._withStripped=!0;n(15),n(510);var o={name:"DesGridLayoutCellSetting",mixins:[$mixins.propertyDialogSetting],props:{cells:{type:Array,default:function(){return[]}},owner:{type:Object,default:function(){return{}}}},data:function(){return{form:{fontSize:"",align:"left",verticalAlign:"middle",color:"#333",paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,lineNum:0,height:"auto",lineHeight:"normal",bold:!1}}},computed:{},created:function(){var t=this.cells[0]||null;if(t){var e=this.owner.contentLayout.setting?this.owner.contentLayout.setting[t.name]:{};e=e||{},this.form.fontSize=e.fontSize||"ds-font5",this.form.align=e.align||"left",this.form.verticalAlign=e.verticalAlign||"middle",this.form.color=e.color||"",this.form.paddingTop=e.paddingTop||0,this.form.paddingRight=e.paddingRight||0,this.form.paddingBottom=e.paddingBottom||0,this.form.paddingLeft=e.paddingLeft||0,this.form.lineNum=e.lineNum||0,this.form.height=e.height||"auto",this.form.lineHeight=e.lineHeight||"normal",this.form.bold=e.bold||!1}},beforeMount:function(){},mounted:function(){},methods:{yes:function(){var t=this,e={};return _.each(this.cells,(function(n){e[n.name]=dsf.mix({},t.form)})),e}}},a=o,s=(n(749),n(0)),l=Object(s["a"])(a,i,r,!1,null,"30507949",null);l.options.__file="designer/setting/gridLayoutCellSetting.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",[n("el-main",{staticStyle:{padding:"0px"}},[n("table",{staticClass:"table"},[n("tr",t._l(t.colNum,(function(e){return n("td",{key:e},[n("dsf-textbox",{attrs:{"show-label":!1},model:{value:t.widths[e-1],callback:function(n){t.$set(t.widths,e-1,n)},expression:"widths[$index-1]"}})],1)})),0)])])],1)},r=[];i._withStripped=!0;n(20),n(128),n(16),n(463),n(141),n(8);var o={name:"DesGridLayout",mixins:[$mixins.propertyDialogSetting],data:function(){return{widths:[],heights:[],tableData:[]}},computed:{rowNum:function(){return this.tableData.length},colNum:function(){return this.tableData.length?this.tableData[0].length:0},areas:function(){var t=[],e=_.flattenDeep(this.tableData);return t=e.concat(e),t=_.uniq(t),t=t.sort((function(t,e){return t<e?-1:1})),t=_.map(t,(function(t){return{text:"区域"+t,value:t}})),t}},created:function(){this.tableData=dsf.mix(!0,[],this.owner.contentLayout.grid),this.widths=dsf.mix(!0,[],this.owner.contentLayout.widths),this.heights=dsf.mix(!0,[],this.owner.contentLayout.heights)},beforeMount:function(){},mounted:function(){},methods:{rowClickHandler:function(){},addCol:function(){for(var t=[],e=0;e<this.rowNum;e++){for(var n=[],i=0;i<=this.colNum;i++)if(i==this.colNum)n.push(e*(this.colNum+1)+i+1);else{var r=this.tableData[e][i],o=(r-1)%this.colNum,a=(r-o-1)/this.colNum;n.push(a*(this.colNum+1)+o+1)}t.push(n)}this.widths=new Array(this.colNum+1).fill(this.pxToRem(+(100/(this.colNum+1)).toFixed(3)+"%")),this.tableData=t},addRow:function(){for(var t=[],e=1;e<=this.colNum;e++)t.push(this.colNum*this.rowNum+e);this.tableData.push(t),this.heights.push("46px")},vaildate:function(){return 0!=data.length||(dsf.layer.pc.message("至少存在一格",!1),!1)},deleted:function(t){var e=this;if(t.row.slots[0].controls.length>0){var n=t.row.slots[0].controls;dsf.layer.pc.confirm("栅格中存在"+n.length+"个子组件,删除该单元格子组件将一起被删除。<br/>是否确定要继续?").then((function(){dsf.array.remove(e.tableData,t.row)})).catch((function(){}))}else dsf.array.remove(this.tableData,t.row)},areaChange:function(t,e,n){},yes:function(){this.owner.contentLayout.widths=this.widths,this.owner.contentLayout.heights=this.heights,this.owner.$forceUpdate()},checkMaxSpan:function(t,e){t[e]=dsf.isNumber(t[e])?Number(t[e]):null,t[e]&&t[e]>24&&(t[e]=24),t[e]&&t[e]<0&&(t[e]=null)}}},a=o,s=(n(751),n(0)),l=Object(s["a"])(a,i,r,!1,null,"17ee94ea",null);l.options.__file="designer/setting/gridLayoutSetting.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ds-data-select",staticStyle:{height:"100%",overflow:"auto"}},[n("dsf-tree-select",{attrs:{"tree-data":t.treeData,loading:t.loading[0],"default-checked-key":t.defaultCheckedKey,multiple:t.multiple,"search-control":t.searchControl,theme:t.theme,"node-key":"ID","node-name":"label","default-expand-all":""},on:{"choose-key":t.chooseKey,"choose-node":t.chooseNode}})],1)},r=[];i._withStripped=!0;n(16),n(15),n(63);var o=n(175),a={name:"DesDbDataSelect",components:{DsfTreeSelect:o["default"]},props:{value:{type:Object,default:function(){return{key:null,node:null}}},theme:{type:String,default:"theme2"},searchControl:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1}},data:function(){return{loading:!1,treeData:[],defaultCheckedKey:"",node:null}},created:function(){this.initValue(),this.postData(),this.value.key&&(this.defaultCheckedKey=this.value.key||"")},methods:{initValue:function(){this.multiple?this.value.key&&"array"!==dsf.type(this.value.key)&&this.updateValue({key:[this.value.key],node:[this.value.node]}):this.value.key&&"array"===dsf.type(this.value.key)&&this.updateValue({key:this.value.key[0],node:this.value.node[0]})},postData:function(){var t=this;this.loading=!0,this.$http.get("/rm/list/ds",{namespace:""}).done((function(e){e.success?t.treeData=e.data.map((function(e){return t.dataFormat(e)})):dsf.layer.message("请求异常！",!1)})).always((function(){t.loading=!1}))},dataFormat:function(t){var e=this,n=t.name,i=t.ID,r=t.type_value,o=t.children,a={label:n,ID:i,nocheck:"3"!==r&&"8"!==r,iconSkin:""};return o?a.children=o.map((function(t){return e.dataFormat(t)})):a.nocheck&&(a.iconSkin="_special"),a},chooseKey:function(t){var e=this;setTimeout((function(){e.updateValue({key:t,node:e.node})}),20)},chooseNode:function(t){this.node=t},updateValue:function(t){this.$emit("input",t),this.$emit("change",t)}}},s=a,l=n(0),c=Object(l["a"])(s,i,r,!1,null,"e443bd6a",null);c.options.__file="designer/setting/item/dbDataSelect.vue";e["default"]=c.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ds-data-select",staticStyle:{height:"100%",overflow:"auto"}},[n("dsf-tree-select",{attrs:{"tree-data":t.treeData,loading:t.loading[0],"default-checked-key":t.defaultCheckedKey,multiple:t.multiple,"search-control":t.searchControl,theme:t.theme,"node-key":"ID","node-name":"label","default-expand-all":""},on:{"choose-key":t.chooseKey,"choose-node":t.chooseNode}})],1)},r=[];i._withStripped=!0;n(16),n(15),n(63);var o=n(175),a={name:"DesDictDataSelect",components:{DsfTreeSelect:o["default"]},props:{value:{type:Object,default:function(){return{key:null,node:null}}},theme:{type:String,default:"theme2"},searchControl:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1}},data:function(){return{loading:!1,treeData:[],defaultCheckedKey:"",node:null}},created:function(){this.initValue(),this.postData(),this.value.key&&(this.defaultCheckedKey=this.value.key||"")},methods:{initValue:function(){this.multiple?this.value.key&&"array"!==dsf.type(this.value.key)&&this.updateValue({key:[this.value.key],node:[this.value.node]}):this.value.key&&"array"===dsf.type(this.value.key)&&this.updateValue({key:this.value.key[0],node:this.value.node[0]})},postData:function(){var t=this;this.loading=!0,this.$http.get("/rm/list/dataDic").done((function(e){e.success?t.treeData=e.data.map((function(e){return t.dataFormat(e)})):dsf.layer.message("请求异常！",!1)})).always((function(){t.loading=!1}))},dataFormat:function(t){var e=this,n=t.name,i=t.dsfa_rm_id,r=t.type_value,o=t.children,a={label:n,ID:i,nocheck:"5"!==r,iconSkin:""};return o?a.children=o.map((function(t){return e.dataFormat(t)})):a.nocheck&&(a.iconSkin="_special"),a},chooseKey:function(t){var e=this;setTimeout((function(){e.updateValue({key:t,node:e.node})}),20)},chooseNode:function(t){this.node=t},updateValue:function(t){this.$emit("input",t),this.$emit("change",t)}}},s=a,l=n(0),c=Object(l["a"])(s,i,r,!1,null,"1ca646c3",null);c.options.__file="designer/setting/item/dictDataSelect.vue";e["default"]=c.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",[n("el-table",{ref:"table",staticClass:"ds-table",attrs:{border:!0,data:t.tableData,size:"mini",stripe:""}},[n("el-table-column",{attrs:{label:"#",type:"index",align:"center",width:"40",fixed:""}}),n("el-table-column",{attrs:{label:"内部键名",prop:"to","header-align":"center",align:"center",width:"120",fixed:""}}),n("el-table-column",{attrs:{label:"描述",prop:"desc","header-align":"center",align:"center",width:"120"}}),n("el-table-column",{attrs:{label:"类型",prop:"type","header-align":"center",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t._f("typeFilter")(e.row.type))+" ")]}}])}),n("el-table-column",{attrs:{label:"映射键名(必填)","header-align":"center",align:"center","min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{model:{value:e.row.from,callback:function(n){t.$set(e.row,"from","string"===typeof n?n.trim():n)},expression:"scope.row.from"}})]}}])}),t.hasLabel?n("el-table-column",{attrs:{label:"label","header-align":"center",align:"center","min-width":"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{attrs:{disabled:void 0===e.row.label},model:{value:e.row.label,callback:function(n){t.$set(e.row,"label","string"===typeof n?n.trim():n)},expression:"scope.row.label"}})]}}],null,!1,3034345892)}):t._e(),t.hasPrefix?n("el-table-column",{attrs:{label:"前缀","header-align":"center",align:"center","min-width":"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{attrs:{disabled:void 0===e.row.prefix},model:{value:e.row.prefix,callback:function(n){t.$set(e.row,"prefix","string"===typeof n?n.trim():n)},expression:"scope.row.prefix"}})]}}],null,!1,1416856708)}):t._e(),t.hasSuffix?n("el-table-column",{attrs:{label:"后缀","header-align":"center",align:"center","min-width":"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{attrs:{disabled:void 0===e.row.suffix},model:{value:e.row.suffix,callback:function(n){t.$set(e.row,"suffix","string"===typeof n?n.trim():n)},expression:"scope.row.suffix"}})]}}],null,!1,931262148)}):t._e()],1)],1)},r=[];i._withStripped=!0;n(24),n(25),n(10),n(36),n(26);var o={text:"文本",number:"数字",boolean:"布尔值",object:"对象",array:"数组"},a={name:"DesKeysMapSetting",mixins:[$mixins.propertyDialogSetting],data:function(){return{hasLabel:!1,hasPrefix:!1,hasSuffix:!1,tableData:[]}},filters:{typeFilter:function(t){var e=[];return _.forEach(t.split("|"),(function(t){var n=o[t];n&&e.push(n)})),e.join("/")}},created:function(){if(this.currentData){var t=_.cloneDeep(this.currentData),e=!1,n=!1,i=!1;_.forEach(t,(function(t){var r=t.label,o=t.prefix,a=t.suffix;void 0!==r&&(e=!0),void 0!==o&&(n=!0),void 0!==a&&(i=!0)})),this.hasLabel=e,this.hasPrefix=n,this.hasSuffix=i,this.tableData=t}},methods:{validate:function(){for(var t=0,e=this.tableData.length;t<e;t++){var n=this.tableData[t],i=n.to,r=n.from;if(!r)return dsf.layer.message("".concat(i,"的映射键名不能为空"),!1),!1}},yes:function(){return this.tableData}}},s=a,l=n(0),c=Object(l["a"])(s,i,r,!1,null,null,null);c.options.__file="designer/setting/keysMapSetting.vue";e["default"]=c.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{staticStyle:{height:"100%"}},[n("el-aside",{staticStyle:{overflow:"auto",height:"100%"},attrs:{width:"35%"}},[n("div",{staticStyle:{overflow:"auto",height:"100%"}},[n("el-tree",{attrs:{data:t.treeData,props:t.defaultProps,"default-expand-all":""},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.node,r=e.data;return n("span",{staticClass:"custom-tree-node"},[n("i",{staticClass:"iconfont icon-biaodanzujian-shurukuang",staticStyle:{"margin-right":"5px"}}),n("span",{on:{dblclick:function(e){return t.toList(i,r)}}},[t._v(t._s(i.label))]),r.field?n("span",{staticStyle:{color:"red"},on:{dblclick:function(e){return t.toList(i,r)}}},[t._v("(字段:"+t._s(r.field)+")")]):t._e()])}}])})],1)]),n("el-main",{staticStyle:{padding:"0px"}},[n("el-container",[n("el-main",[n("el-table",{attrs:{data:t.tableData,border:"","highlight-current-row":!0}},[n("el-table-column",{attrs:{prop:"fieldCaption",label:"字段描述"}}),n("el-table-column",{attrs:{prop:"field",label:"字段名称"}}),n("el-table-column",{attrs:{label:"排序类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-select",{model:{value:e.row.sortType,callback:function(n){t.$set(e.row,"sortType",n)},expression:"scope.row.sortType"}},[n("el-option",{attrs:{value:"asc",label:"升序"}}),n("el-option",{attrs:{value:"desc",label:"降序"}})],1)]}}])}),n("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("dsf-button",{attrs:{title:"删除",size:"small","btn-style":"icon-text",icon:"guanbi2"},on:{click:function(n){return n.stopPropagation(),t.remove(e.row)}}}),n("dsf-button",{attrs:{title:"上移",size:"small","btn-style":"icon-text",icon:"shang"},on:{click:function(n){return n.stopPropagation(),t.up(e.row)}}}),n("dsf-button",{attrs:{title:"下移",size:"small","btn-style":"icon-text",icon:"xia"},on:{click:function(n){return n.stopPropagation(),t.down(e.row)}}})]}}])})],1)],1)],1)],1)],1)},r=[];i._withStripped=!0;var o=n(3),a=n.n(o),s=n(9),l=(n(52),{name:"DesListOrderByEdit",mixins:[$mixins.propertyDialogSetting],data:function(){return{tableData:[],treeData:[],defaultProps:{children:"children",label:"name"}}},mounted:function(){var t=this;return Object(s["a"])(a.a.mark((function e(){var n,i,r;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.owner.$$getComponent(),i=n.$options.design.metadata.create.call(n),i&&!(i.length<=1)){e.next=5;break}return dsf.layer.pc.message("请将要展示的元数据拖动到列表中",!1),e.abrupt("return");case 5:if(r=i[1].metadata.at,r){e.next=9;break}return dsf.layer.pc.message("请将要展示的元数据拖动到列表中",!1),e.abrupt("return");case 9:return e.next=11,t.getTreeData(i[1].metadata,i[1].metadata.rm_type||3);case 11:t.treeData=e.sent,t.tableData=t.currentData||[];case 13:case"end":return e.stop()}}),e)})))()},methods:{toList:function(t,e){if(e.field){var n=_.findIndex(this.tableData,(function(t){return t.field==e.field}));n<0&&this.tableData.push({field:e.field,fieldCaption:e.fieldCaption,sortType:"asc"})}},getTreeData:function(t,e){var n=this;return Object(s["a"])(a.a.mark((function i(){var r,o,s;return a.a.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(r=[],"8"!=e){i.next=8;break}return o={rmId:t.rmId},i.next=5,n.$webAPI.getDbSourceFieldsTree(o);case 5:r=i.sent,i.next=13;break;case 8:if("3"!=e){i.next=13;break}return s={namespace:t.at},i.next=12,n.$webAPI.getMetaDataFieldsTree(s);case 12:r=i.sent;case 13:return i.abrupt("return",r);case 14:case"end":return i.stop()}}),i)})))()},remove:function(t){dsf.array.remove(this.tableData,t)},up:function(t){var e=_.findIndex(this.tableData,(function(e){return e==t}));if(e>0){var n=this.tableData[e-1];this.$set(this.tableData,e-1,t),this.$set(this.tableData,e,n)}},down:function(t){var e=_.findIndex(this.tableData,(function(e){return e==t}));if(e<this.tableData.length-1){var n=this.tableData[e+1];this.$set(this.tableData,e+1,t),this.$set(this.tableData,e,n)}},yes:function(){return this.tableData}}}),c=l,u=n(0),f=Object(u["a"])(c,i,r,!1,null,null,null);f.options.__file="designer/setting/listOrderbyEdit.vue";e["default"]=f.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div")},r=[];i._withStripped=!0;var o={name:"DesMyDialog",mixins:[$mixins.propertyDialogSetting],data:function(){return{}},computed:{},beforeCreate:function(){},created:function(){},beforeMount:function(){},mounted:function(){},beforeDestroy:function(){},destroyed:function(){}},a=o,s=n(0),l=Object(s["a"])(a,i,r,!1,null,null,null);l.options.__file="designer/setting/listStaticDataEdit.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",[n("el-header",{staticStyle:{padding:"10px 0px","text-align":"right"}},[n("DsfButton",{attrs:{size:"small",icon:"zidingyi"},on:{click:t.addCustomButton}},[t._v("新增状态")]),n("DsfButton",{attrs:{size:"small",icon:"Magnifier",type:"plain"},on:{click:t.openIcon}},[t._v("查看按钮图标")])],1),n("el-main",{staticStyle:{padding:"0px"}},[n("el-table",{ref:"table",staticClass:"ds-table",attrs:{border:!0,data:t.tableData}},[n("el-table-column",{attrs:{label:"#",type:"index",align:"center"}}),n("el-table-column",{attrs:{label:"状态值","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{model:{value:e.row.text,callback:function(n){t.$set(e.row,"text",n)},expression:"scope.row.text"}})]}}])}),n("el-table-column",{attrs:{label:"状态图标","header-align":"center",align:"center",width:300},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticStyle:{display:"flex","align-items":"center"}},[n("i",{class:["iconfont",e.row.icon],style:"color: "+e.row.color}),n("div",{staticStyle:{width:"180px",margin:"0 10px"}},[n("el-input",{model:{value:e.row.icon,callback:function(n){t.$set(e.row,"icon",n)},expression:"scope.row.icon"}})],1),n("el-color-picker",{model:{value:e.row.color,callback:function(n){t.$set(e.row,"color",n)},expression:"scope.row.color"}})],1)]}}])}),n("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("DsfButton",{attrs:{"btn-style":"icon-text",icon:"shanchu",size:"small",title:"删除"},on:{click:function(n){return t.removeButton(e)}}})]}}])})],1)],1)],1)},r=[];i._withStripped=!0;n(24),n(25),n(52),n(16),n(33);var o={name:"DesListStatusEdit",mixins:[$mixins.propertyDialogSetting],data:function(){return{tableData:[]}},created:function(){var t=this;this.currentData&&_.forEach(this.currentData,(function(e,n){t.tableData.push(e)}))},methods:{addCustomButton:function(){var t=dsf.mix(!0,{},{text:"状态值",icon:"icon-shezhi",color:"#5f5f5f"});this.tableData.push(t)},validate:function(){return-1!==_.findIndex(this.tableData,(function(t){return""===t.text}))?(dsf.layer.message("请输入状态值",!1),!1):this.isRepeat(_.map(this.tableData,"text"))?(dsf.layer.message("一种状态值只能配置一次",!1),!1):void 0},isRepeat:function(t){var e={};for(var n in t){if(e[t[n]])return!0;e[t[n]]=!0}return!1},yes:function(){var t={};return _(this.tableData).forEach((function(e){t[e.text]=e})),t},openIcon:function(){window.open(dsf.url.getWebPath("$/iconfont/".concat(dsf.config.runType,"/demo_index.html")),"icondemo")},removeButton:function(t){this.tableData.splice(t.$index,1)}}},a=o,s=n(0),l=Object(s["a"])(a,i,r,!1,null,null,null);l.options.__file="designer/setting/listStatusEdit.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",[n("el-header",{staticStyle:{padding:"10px 0px","text-align":"right"}},[n("DsfButton",{on:{click:t.add}},[t._v("新增页签")])],1),n("el-main",{staticStyle:{padding:"0px"}},[n("el-table",{ref:"table",staticClass:"ds-table",attrs:{border:!0,data:t.tableData,"row-class-name":t.tableRowClassName}},[n("el-table-column",{attrs:{label:"id","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.id)+" ")]}}])}),n("el-table-column",{attrs:{label:"菜单名称","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{model:{value:e.row.name,callback:function(n){t.$set(e.row,"name",n)},expression:"scope.row.name"}})]}}])}),n("el-table-column",{attrs:{label:"图标","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{model:{value:e.row.icon,callback:function(n){t.$set(e.row,"icon",n)},expression:"scope.row.icon"}})]}}])}),n("el-table-column",{attrs:{label:"跳转地址","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{model:{value:e.row.url,callback:function(n){t.$set(e.row,"url",n)},expression:"scope.row.url"}})]}}])}),n("el-table-column",{attrs:{label:"操作","header-align":"center",align:"center",width:120},scopedSlots:t._u([{key:"default",fn:function(e){return[n("DsfButton",{staticStyle:{"min-width":"auto","margin-left":"5px"},attrs:{size:"small",title:"插入",icon:"hao","btn-style":"icon-text"},on:{click:function(n){return t.insert(e)}}}),n("DsfButton",{staticStyle:{"min-width":"auto","margin-left":"5px"},attrs:{size:"small",title:"删除",icon:"guanbi2","btn-style":"icon-text"},on:{click:function(n){return t.deleted(e)}}}),n("DsfButton",{staticStyle:{"min-width":"auto","margin-left":"5px"},attrs:{size:"small",title:"上移",icon:"shang","btn-style":"icon-text"},on:{click:function(n){return t.up(e)}}}),n("DsfButton",{staticStyle:{"min-width":"auto","margin-left":"5px"},attrs:{size:"small",title:"下移",icon:"xia","btn-style":"icon-text"},on:{click:function(n){return t.down(e)}}})]}}])})],1)],1)],1)},r=[];i._withStripped=!0;n(15),n(23),n(33),n(8);var o={name:"MeMenusEdit",mixins:[$mixins.propertyDialogSetting],data:function(){return{tableData:[],names:[]}},created:function(){this.tableData=this.currentData||[this.newTab()]},methods:{tableRowClassName:function(t){var e=t.row,n=t.rowIndex,i="";if(e.name){this.names[n]="";var r=this.names.indexOf(e.name);-1!=r&&r<n&&(i="warning-row"),this.names[n]=e.name}return i},newTab:function(){return{id:this.tableData.length+1,name:"菜单名称",icon:"tab-addressBook-d",url:"",subhead:""}},add:function(){this.tableData.push(this.newTab())},insert:function(t){this.tableData.splice(t.$index+1,0,this.newTab())},deleted:function(t){this.tableData.splice(t.$index,1)},up:function(t){if(t.$index>0){var e=this.tableData[t.$index];this.tableData.splice(t.$index,1),this.tableData.splice(t.$index-1,0,e)}},down:function(t){if(this.tableData.length-1>t.$index){var e=this.tableData[t.$index];this.tableData.splice(t.$index,1),this.tableData.splice(t.$index+1,0,e)}},validate:function(){return!0},yes:function(){return this.tableData},checkMaxSpan:function(t,e){t[e]=dsf.isNumber(t[e])?Number(t[e]):null,t[e]&&t[e]>24&&(t[e]=24),t[e]&&t[e]<0&&(t[e]=null)}}},a=o,s=n(0),l=Object(s["a"])(a,i,r,!1,null,null,null);l.options.__file="designer/setting/meMenusEdit.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",[n("el-main",{staticStyle:{padding:"0px"}},[n("el-table",{ref:"table",staticClass:"ds-table",attrs:{border:!0,data:t.tableData,"row-class-name":t.tableRowClassName}},[n("el-table-column",{attrs:{label:"显示名称",width:"140px","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.title)+" ")]}}])}),n("el-table-column",{attrs:{label:"标识",width:"140px","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.name)+" ")]}}])}),n("el-table-column",{attrs:{label:"更多地址(不配不显)","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{model:{value:e.row.more.url,callback:function(n){t.$set(e.row.more,"url",n)},expression:"scope.row.more.url"}})]}}])}),n("el-table-column",{attrs:{label:"弹出方式",width:"120px","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{on:{click:function(n){return t.toUrlSet(e.row)}}},[t._v("配置")])]}}])}),n("el-table-column",{attrs:{label:"隐藏",width:"100px","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.row.hide,callback:function(n){t.$set(e.row,"hide",n)},expression:"scope.row.hide"}},[n("el-option",{attrs:{label:"是",value:!0}}),n("el-option",{attrs:{label:"否",value:!1}})],1)]}}])}),n("el-table-column",{attrs:{label:"懒加载",width:"100px","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.row.lazy,callback:function(n){t.$set(e.row,"lazy",n)},expression:"scope.row.lazy"}},[n("el-option",{attrs:{label:"是",value:!0}}),n("el-option",{attrs:{label:"否",value:!1}})],1)]}}])})],1)],1)],1)},r=[];i._withStripped=!0;n(15),n(23),n(33),n(8);var o={name:"MessageNotificationTabPanelEdit",mixins:[$mixins.propertyDialogSetting],data:function(){return{tableData:[],names:[]}},created:function(){for(var t=this.currentData,e=0;e<t.length;e++){var n=t[e];"string"!=typeof n.more&&n.more||this.$set(n,"more",{url:n.more||""})}this.tableData=t||[this.newTab()]},methods:{tableRowClassName:function(t){var e=t.row,n=t.rowIndex,i="";if(e.name){this.names[n]="";var r=this.names.indexOf(e.name);-1!=r&&r<n&&(i="warning-row"),this.names[n]=e.name}return i},newTab:function(){return{title:"Tab"+(this.tableData.length+1),name:"tab"+(this.tableData.length+1),hide:!1,badge:null,lazy:!1,url:"",controls:[],more:{}}},add:function(){this.tableData.push(this.newTab())},insert:function(t){this.tableData.splice(t.$index+1,0,this.newTab())},deleted:function(t){this.tableData.splice(t.$index,1)},up:function(t){if(t.$index>0){var e=this.tableData[t.$index];this.tableData.splice(t.$index,1),this.tableData.splice(t.$index-1,0,e)}},down:function(t){if(this.tableData.length-1>t.$index){var e=this.tableData[t.$index];this.tableData.splice(t.$index,1),this.tableData.splice(t.$index+1,0,e)}},validate:function(){for(var t in this.tableData){this.tableData[t]["name"]=this.tableData[t]["name"]||dsf.uuid();var e=this.names.indexOf(this.tableData[t]["name"]);if(-1!=e&&e<t)return dsf.layer.message("请解决重复标识",!1),!1}return!0},yes:function(){return this.tableData},checkMaxSpan:function(t,e){t[e]=dsf.isNumber(t[e])?Number(t[e]):null,t[e]&&t[e]>24&&(t[e]=24),t[e]&&t[e]<0&&(t[e]=null)},toUrlSet:function(t){var e=this;t.more||this.$set(t,"more",{}),this.$openDialog({title:"跳转配置",content:"ToUrlEdit",height:"400px",width:"700px",params:{currentData:t.more,noUrl:!0},btns:[{text:"确定",handler:function(n){e.$set(t,"more",n.yes())}},{text:"取消"}]})}}},a=o,s=n(0),l=Object(s["a"])(a,i,r,!1,null,null,null);l.options.__file="designer/setting/messageNotificationTabPanelEdit.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-tabs",{staticClass:"ds-meta-data-select",attrs:{type:"border-card"},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},[n("el-tab-pane",{attrs:{name:"0",label:"元数据"}},[t.loaded[0]?n("meta-data-select-item",{ref:"select0",attrs:{url:"rm/list/meta"}}):t._e()],1),n("el-tab-pane",{attrs:{name:"1",label:"数据源"}},[t.loaded[1]?n("meta-data-select-item",{ref:"select1",attrs:{url:"rm/list/ds"}}):t._e()],1)],1)},r=[];i._withStripped=!0;n(64);var o=n(495),a={name:"DesMetaDataSelect",components:{MetaDataSelectItem:o["default"]},mixins:[$mixins.propertyDialogSetting],data:function(){return{tabIndex:"0",loaded:[!0,!1]}},watch:{tabIndex:function(t){this.$set(this.loaded,parseInt(t),!0)}},methods:{yes:function(){return this.$refs["select"+this.tabIndex].yes()}}},s=a,l=n(0),c=Object(l["a"])(s,i,r,!1,null,null,null);c.options.__file="designer/setting/metaDataSelect.vue";e["default"]=c.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-table",{attrs:{data:t.data,fit:""}},[n("el-table-column",{attrs:{label:"组件名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.label))])]}}])}),n("el-table-column",{attrs:{label:"元数据代码"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-select",{on:{change:function(n){return t.changeKey(n,e.row)}},model:{value:e.row.mdkey,callback:function(n){t.$set(e.row,"mdkey",n)},expression:"scope.row.mdkey"}},t._l(t.dict,(function(t){return n("el-option",{key:t,attrs:{label:t,value:t}})})),1)]}}])})],1)},r=[];i._withStripped=!0;n(16);var o={name:"DesMetaDataSource",props:{source:{type:Array,default:function(){return[]}},dict:{type:Array,default:function(){return[]}}},data:function(){return{data:[]}},mounted:function(){this.data=_.map(this.source,(function(t,e){return{label:t.ctrl.label||t.ctrl.caption,ctrl:t.ctrl,mdkey:t.source,initKey:t.source,isChange:!1}}))},methods:{changeKey:function(t,e){e.mdkey!=e.initKey?e.isChange=!0:e.isChange=!1},yes:function(){return this.data}}},a=o,s=n(0),l=Object(s["a"])(a,i,r,!1,null,null,null);l.options.__file="designer/setting/metadataSouece.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",[n("el-main",{staticStyle:{padding:"0px"}},[n("el-tabs",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("el-tab-pane",{attrs:{label:"自定义",name:"list"}},[n("el-main",[n("el-header",{staticStyle:{padding:"10px 0px","text-align":"right"}},[n("DsfButton",{on:{click:t.addBanner}},[t._v("新增")])],1),n("el-table",{staticClass:"ds-table",attrs:{border:!0,data:t.data.list,"highlight-current-row":!0}},[n("el-table-column",{attrs:{label:"图片地址","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{attrs:{placeholder:"请输入图片地址"},model:{value:e.row.image,callback:function(n){t.$set(e.row,"image",n)},expression:"scope.row.image"}})]}}])}),n("el-table-column",{attrs:{label:"标题","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{attrs:{placeholder:"请输入标题"},model:{value:e.row.title,callback:function(n){t.$set(e.row,"title",t._n(n))},expression:"scope.row.title"}})]}}])}),n("el-table-column",{attrs:{label:"描述","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{attrs:{placeholder:"请输入描述"},model:{value:e.row.desc,callback:function(n){t.$set(e.row,"desc",t._n(n))},expression:"scope.row.desc"}})]}}])}),n("el-table-column",{attrs:{label:"链接","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{attrs:{placeholder:"请输入图片链接"},model:{value:e.row.url,callback:function(n){t.$set(e.row,"url",t._n(n))},expression:"scope.row.url"}})]}}])}),"app"==t.config.type?n("el-table-column",{attrs:{label:"复选框模式","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-select",{model:{value:e.row.jumpWay,callback:function(n){t.$set(e.row,"jumpWay",n)},expression:"scope.row.jumpWay"}},[n("el-option",{attrs:{label:"新窗口打开",value:"2"}}),n("el-option",{attrs:{label:"弹出框打开",value:"3"}}),n("el-option",{attrs:{label:"当前窗口打开",value:"4"}})],1)]}}],null,!1,2978058509)}):t._e(),n("el-table-column",{attrs:{label:"操作","header-align":"center",align:"center",width:120},scopedSlots:t._u([{key:"default",fn:function(e){return[n("DsfButton",{staticStyle:{"min-width":"auto","margin-left":"5px"},attrs:{size:"small",title:"插入",icon:"hao","btn-style":"icon-text"},on:{click:function(n){return t.insert(e)}}}),n("DsfButton",{staticStyle:{"min-width":"auto","margin-left":"5px"},attrs:{size:"small",title:"删除",icon:"guanbi2","btn-style":"icon-text"},on:{click:function(n){return t.deleted(e)}}}),n("DsfButton",{staticStyle:{"min-width":"auto","margin-left":"5px"},attrs:{size:"small",title:"上移",icon:"shang","btn-style":"icon-text"},on:{click:function(n){return t.up(e)}}}),n("DsfButton",{staticStyle:{"min-width":"auto","margin-left":"5px"},attrs:{size:"small",title:"下移",icon:"xia","btn-style":"icon-text"},on:{click:function(n){return t.down(e)}}})]}}])})],1)],1)],1),n("el-tab-pane",{attrs:{label:"接口",name:"url"}},[n("el-input",{attrs:{placeholder:"请输入接口地址"},model:{value:t.data.url,callback:function(e){t.$set(t.data,"url",e)},expression:"data.url"}})],1)],1)],1)],1)},r=[];i._withStripped=!0;var o=n(5);n(470),n(33),n(753),n(46),n(20);function a(){return{title:"",desc:"",image:"",url:"",jumpWay:"2"}}var s={name:"DesMobileBannerEdit",mixins:[$mixins.propertyDialogSetting],data:function(){return{data:{url:"",list:[]},tab:"list"}},created:function(){var t=this.owner.$$getComponent(),e=t.url,n=t.list;this.data.url=e,this.data.list=dsf.mix(!0,[],n),this.tab=e?"url":"list",this.data.url||0!==this.data.list.length||this.addBanner()},methods:{addBanner:function(){this.data.list.push(a())},vaildate:function(){var t="";if("url"!==this.tab||this.data.url){if("list"===this.tab){var e=this.data.list.every((function(t){return!!t.image}));e||(t="图片地址不能为空")}}else t="请输入url";return t},deleted:function(t){this.data.list.splice(t.$index,1)},up:function(t){if(t.$index>0){var e,n=this.data.list.slice(t.$index-1,t.$index+1).reverse();(e=this.data.list).splice.apply(e,[t.$index-1,2].concat(Object(o["a"])(n)))}},down:function(t){if(this.data.list.length-1>t.$index){var e,n=this.data.list.slice(t.$index,t.$index+2).reverse();(e=this.data.list).splice.apply(e,[t.$index,2].concat(Object(o["a"])(n)))}},insert:function(t){this.data.list.splice(t.$index+1,0,a())},yes:function(){var t=this.vaildate();if(t)throw dsf.layer.message(t,!1),new Error(t);this.owner.list=dsf.mix(!0,[],this.data.list),this.owner.url=this.data.url}}},l=s,c=n(0),u=Object(c["a"])(l,i,r,!1,null,null,null);u.options.__file="designer/setting/mobileBannerEdit.vue";e["default"]=u.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",[n("el-header",{staticStyle:{padding:"10px 0px","text-align":"right"}},[n("DsfButton",{on:{click:t.addCol}},[t._v("新增列")])],1),n("el-main",{staticStyle:{padding:"0px"}},[n("el-table",{ref:"table",staticClass:"ds-table",attrs:{border:!0,data:t.tableData,"highlight-current-row":!0},on:{"row-click":t.rowClickHandler}},[n("el-table-column",{attrs:{label:"名称","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" 第"+t._s(e.$index+1)+"格 ")]}}])}),n("el-table-column",{attrs:{label:"高度","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{model:{value:e.row.height,callback:function(n){t.$set(e.row,"height",n)},expression:"scope.row.height"}})]}}])}),n("el-table-column",{attrs:{label:"占用列数","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{model:{value:e.row.span,callback:function(n){t.$set(e.row,"span",t._n(n))},expression:"scope.row.span"}})]}}])}),n("el-table-column",{attrs:{label:"操作","header-align":"center",align:"center",width:120},scopedSlots:t._u([{key:"default",fn:function(e){return[n("DsfButton",{staticStyle:{"min-width":"auto","margin-left":"5px"},attrs:{size:"small",title:"插入",icon:"hao","btn-style":"icon-text"},on:{click:function(n){return t.insert(e)}}}),n("DsfButton",{staticStyle:{"min-width":"auto","margin-left":"5px"},attrs:{size:"small",title:"删除",icon:"guanbi2","btn-style":"icon-text"},on:{click:function(n){return t.deleted(e)}}}),n("DsfButton",{staticStyle:{"min-width":"auto","margin-left":"5px"},attrs:{size:"small",title:"上移",icon:"shang","btn-style":"icon-text"},on:{click:function(n){return t.up(e)}}}),n("DsfButton",{staticStyle:{"min-width":"auto","margin-left":"5px"},attrs:{size:"small",title:"下移",icon:"xia","btn-style":"icon-text"},on:{click:function(n){return t.down(e)}}})]}}])})],1)],1)],1)},r=[];i._withStripped=!0;n(33),n(16),n(8);var o={name:"DesMobileFlexGrid",mixins:[$mixins.propertyDialogSetting],data:function(){return{form:null,formNode:null,tableData:[],sizeMap:[{size:"lg",desc:"≥1920px"},{size:"xl",desc:"≥1200px"},{size:"md",desc:"≥992px"},{size:"sm",desc:"≥768px"},{size:"xs",desc:"<768px"}]}},created:function(){},beforeMount:function(){},mounted:function(){var t=this,e=this.owner.$$getComponent().slots;if(e=dsf.mix(!0,[],e),e[0]){var n=e[0].controls;_.each(n,(function(e){t.tableData.push(e)}))}},methods:{rowClickHandler:function(){},addCol:function(){var t={span:12,height:"auto"};this.tableData.push(dsf.designer.createMobileComponent("dsf.col",t))},vaildate:function(){return 0!=data.length||(dsf.layer.pc.message("至少存在一格",!1),!1)},deleted:function(t){var e=this;if(t.row.slots[0].controls.length>0){var n=t.row.slots[0].controls;dsf.layer.pc.confirm("栅格中存在"+n.length+"个子组件,删除该单元格子组件将一起被删除。<br/>是否确定要继续?").then((function(){dsf.array.remove(e.tableData,t.row)})).catch((function(){}))}else dsf.array.remove(this.tableData,t.row)},up:function(t){if(t.$index>0){var e=this.tableData[t.$index],n=t.$index;dsf.array.remove(this.tableData,e),this.tableData.splice(n-1,0,e)}},down:function(t){if(this.tableData.length-1>t.$index){var e=this.tableData[t.$index],n=t.$index;dsf.array.remove(this.tableData,e),this.tableData.splice(n+1,0,e)}},insert:function(t){var e={span:6,height:"auto"};this.tableData.splice(t.$index+1,0,dsf.designer.createMobileComponent("dsf.col",e))},yes:function(){var t=this,e=this.tableData;_.each(e,(function(e){t.checkMaxSpan(e,"span");var n=_.map(t.sizeMap,"size");_.each(n,(function(n){t.checkMaxSpan(e,n)}))})),this.owner.slots[0].controls=[],this.$nextTick((function(){var n=t.owner.slots[0].controls;_.each(e,(function(t){n.push(t)}))}))},checkMaxSpan:function(t,e){t[e]=dsf.isNumber(t[e])?Number(t[e]):null,t[e]&&t[e]>24&&(t[e]=24),t[e]&&t[e]<0&&(t[e]=null)}}},a=o,s=n(0),l=Object(s["a"])(a,i,r,!1,null,null,null);l.options.__file="designer/setting/mobileFlexGrid.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{staticStyle:{height:"100%"}},[n("el-aside",{staticStyle:{width:"900px",overflow:"auto"}},[n("el-container",{staticStyle:{height:"100%"}},[n("el-header",{staticStyle:{padding:"0 0 10px 0","text-align":"right",height:"auto"}},[n("DsfButton",{attrs:{size:"small",icon:"sousuofangda"},on:{click:t.addData}},[t._v("新增")]),n("DsfButton",{attrs:{size:"small",icon:"Magnifier",type:"plain"},on:{click:t.openIcon}},[t._v("查看按钮图标")])],1),n("el-main",{staticStyle:{padding:"0",height:"100%"}},[n("el-table",{ref:"table",attrs:{"show-header":!0,data:t.tableData,height:"100%",size:"small","highlight-current-row":"",border:"",stripe:""},on:{"row-click":t.rowClickHandler}},[n("el-table-column",{attrs:{label:"#",type:"index",align:"center"}}),n("el-table-column",{attrs:{label:"ID",prop:"_id",width:"100px"}}),n("el-table-column",{attrs:{label:"名称",prop:"name"}}),n("el-table-column",{attrs:{label:"图标",prop:"icon",width:"60px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[n("DsfButton",{attrs:{"btn-style":"icon-text",size:"small",icon:t.getIcon(i.icon)}})]}}])}),n("el-table-column",{attrs:{label:"背景色",prop:"color",width:"70px"},scopedSlots:t._u([{key:"default",fn:function(t){var e=t.row;return[n("div",{staticStyle:{width:"10px",height:"10px"},style:{background:e.color}})]}}])}),n("el-table-column",{attrs:{label:"前景色",prop:"foreColor",width:"70px"},scopedSlots:t._u([{key:"default",fn:function(t){var e=t.row;return[n("div",{staticStyle:{width:"10px",height:"10px"},style:{background:e.foreColor}})]}}])}),n("el-table-column",{attrs:{label:"图片",prop:"picture",width:"60px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[t._v(" "+t._s(""!=n.picture?"有":"")+" ")]}}])}),t.config.showType?n("el-table-column",{attrs:{label:"类型",prop:"type",width:"90px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[t._v(" "+t._s(t.buttonTypeConfig[n.type])+" ")]}}],null,!1,2319003813)}):t._e(),n("el-table-column",{attrs:{label:"跳转",prop:"url",width:"60px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[t._v(" "+t._s(""!=n.url?"有":"")+" ")]}}])}),n("el-table-column",{attrs:{label:"操作",width:"100px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row,r=e.$index;return["table"!=i.type?n("DsfButton",{attrs:{"btn-style":"icon-text",icon:"shanchu",size:"small",title:"删除"},on:{click:function(e){return t.removeData(i,r)}}}):t._e(),r>0?n("DsfButton",{attrs:{"btn-style":"icon-text",icon:"shang",size:"small",title:"上移"},on:{click:function(e){return t.up(i,r)}}}):t._e(),r<t.tableData.length-1?n("DsfButton",{attrs:{"btn-style":"icon-text",icon:"xia",size:"small",title:"下移"},on:{click:function(e){return t.down(i,r)}}}):t._e()]}}])})],1)],1)],1)],1),n("el-main",{staticStyle:{padding:"0"}},[n("el-container",[t.formModel?n("el-form",{staticStyle:{width:"90%"},attrs:{model:t.formModel,size:"small","label-width":"100px"}},[n("el-form-item",{attrs:{label:"ID"}},[n("el-input",{attrs:{disabled:""},model:{value:t.formModel._id,callback:function(e){t.$set(t.formModel,"_id",e)},expression:"formModel._id"}})],1),n("el-form-item",{attrs:{label:"名称"}},[n("el-input",{model:{value:t.formModel.name,callback:function(e){t.$set(t.formModel,"name",e)},expression:"formModel.name"}})],1),n("el-form-item",{attrs:{label:"图标"}},[n("el-input",{model:{value:t.formModel.icon,callback:function(e){t.$set(t.formModel,"icon",e)},expression:"formModel.icon"}})],1),n("el-form-item",{attrs:{label:"背景色"}},[n("el-input",{model:{value:t.formModel.color,callback:function(e){t.$set(t.formModel,"color",e)},expression:"formModel.color"}})],1),n("el-form-item",{attrs:{label:"前景色"}},[n("el-input",{model:{value:t.formModel.foreColor,callback:function(e){t.$set(t.formModel,"foreColor",e)},expression:"formModel.foreColor"}})],1),n("el-form-item",{attrs:{label:"图片地址"}},[n("el-input",{model:{value:t.formModel.picture,callback:function(e){t.$set(t.formModel,"picture",e)},expression:"formModel.picture"}})],1),t.config.showType?n("el-form-item",{attrs:{label:"按钮类型"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formModel.type,callback:function(e){t.$set(t.formModel,"type",e)},expression:"formModel.type"}},[t._l(t.buttonTypeConfig,(function(t,e){return[n("el-option",{key:e,attrs:{label:t,value:e}})]}))],2)],1):t._e(),"backTop"===t.formModel.type?[n("el-form-item",{attrs:{label:"容器选择器"}},[n("el-input",{model:{value:t.formModel.scrollDom,callback:function(e){t.$set(t.formModel,"scrollDom",e)},expression:"formModel.scrollDom"}})],1)]:"picture"===t.formModel.type?[n("el-form-item",{attrs:{label:"展示图片地址"}},[n("el-input",{model:{value:t.formModel.showPicture,callback:function(e){t.$set(t.formModel,"showPicture",e)},expression:"formModel.showPicture"}})],1),n("el-form-item",{attrs:{label:"展示图片宽"}},[n("el-input",{attrs:{placeholder:"默认200px"},model:{value:t.formModel.showPictureWidth,callback:function(e){t.$set(t.formModel,"showPictureWidth",e)},expression:"formModel.showPictureWidth"}})],1),n("el-form-item",{attrs:{label:"展示图片高"}},[n("el-input",{attrs:{placeholder:"默认200px"},model:{value:t.formModel.showPictureHeight,callback:function(e){t.$set(t.formModel,"showPictureHeight",e)},expression:"formModel.showPictureHeight"}})],1)]:"tips"===t.formModel.type?[n("el-form-item",{attrs:{label:"文字模板"}},[n("el-input",{attrs:{placeholder:"联系电话：[text]"},model:{value:t.formModel.showTemplate,callback:function(e){t.$set(t.formModel,"showTemplate",e)},expression:"formModel.showTemplate"}})],1),n("el-form-item",{attrs:{label:"高亮内容"}},[n("el-input",{attrs:{placeholder:"123-1234-6789"},model:{value:t.formModel.showContent,callback:function(e){t.$set(t.formModel,"showContent",e)},expression:"formModel.showContent"}})],1)]:[n("el-form-item",{attrs:{label:"跳转链接"}},[n("el-input",{model:{value:t.formModel.url,callback:function(e){t.$set(t.formModel,"url",e)},expression:"formModel.url"}})],1),n("el-form-item",{attrs:{label:"跳转方式"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formModel.opentype,callback:function(e){t.$set(t.formModel,"opentype",e)},expression:"formModel.opentype"}},[n("el-option",{attrs:{label:"当前窗口打开",value:"0"}}),n("el-option",{attrs:{label:"主窗口打开",value:"1"}}),n("el-option",{attrs:{label:"新窗口打开",value:"2"}}),n("el-option",{attrs:{label:"对话框打开",value:"3"}})],1)],1),3==t.formModel.opentype?n("el-form-item",{attrs:{label:"弹框标题"}},[n("el-input",{attrs:{placeholder:"默认取按钮名称"},model:{value:t.formModel.dialogTitle,callback:function(e){t.$set(t.formModel,"dialogTitle",e)},expression:"formModel.dialogTitle"}})],1):t._e(),3==t.formModel.opentype?n("el-form-item",{attrs:{label:"弹框宽"}},[n("el-input",{attrs:{placeholder:"默认：70vw"},model:{value:t.formModel.dialogWidth,callback:function(e){t.$set(t.formModel,"dialogWidth",e)},expression:"formModel.dialogWidth"}})],1):t._e(),3==t.formModel.opentype?n("el-form-item",{attrs:{label:"弹框高"}},[n("el-input",{attrs:{placeholder:"默认：60vh"},model:{value:t.formModel.dialogHeight,callback:function(e){t.$set(t.formModel,"dialogHeight",e)},expression:"formModel.dialogHeight"}})],1):t._e()]],2):t._e()],1)],1)],1)},r=[];i._withStripped=!0;var o=n(6),a=(n(16),n(104),n(33),{name:"DesMobileNavMenuData",mixins:[$mixins.propertyDialogSetting],data:function(){return{buttonTypeConfig:{default:"普通按钮",backTop:"返回顶部",picture:"展示图片",tips:"展示文字"},formModel:null,tableData:[]}},created:function(){this.currentData&&(this.tableData=_.map(this.currentData,(function(t){return Object(o["a"])(Object(o["a"])({},t),{},{type:t.type||"default"})})),this.tableData.length&&(this.formModel=this.tableData[0]))},mounted:function(){this.formModel&&this.$refs.table.setCurrentRow(this.formModel)},methods:{yes:function(){return this.tableData},getIcon:function(t){var e="icon-";return t.startsWith(e)?t.substr(e.length):t},rowClickHandler:function(t){this.formModel=t},addData:function(){var t=this,e={_id:dsf.uuid(8),name:"",icon:"",picture:"",color:"",foreColor:"",type:"default",url:"",opentype:"0",showPicture:"",showTemplate:"",showContent:"",scrollDom:"body",dialogWidth:"",dialogHeight:""};this.tableData.push(e),this.$nextTick((function(){t.$refs.table.setCurrentRow(e),t.formModel=e}))},removeData:function(t,e){this.tableData.splice(e,1)},up:function(t,e){var n=this.tableData[e-1];this.$set(this.tableData,e-1,t),this.$set(this.tableData,e,n)},down:function(t,e){var n=this.tableData[e+1];this.$set(this.tableData,e+1,t),this.$set(this.tableData,e,n)},openIcon:function(){window.open(dsf.url.getWebPath("$/iconfont/".concat(dsf.config.runType,"/demo_index.html")),"icondemo")}}}),s=a,l=n(0),c=Object(l["a"])(s,i,r,!1,null,null,null);c.options.__file="designer/setting/mobileNavMenuData.vue";e["default"]=c.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{staticClass:"ue-header-set"},[n("el-row",{staticClass:"content"},[n("el-col",{staticClass:"left",attrs:{span:6}},[n("el-checkbox",{attrs:{border:"",indeterminate:t.isIndeterminate},on:{change:t.chooseAll},model:{value:t.checkAll,callback:function(e){t.checkAll=e},expression:"checkAll"}},[t._v("全选")]),n("ul",{staticClass:"check-list"},t._l(t.tools,(function(e,i){return n("li",{key:e.text},[n("el-checkbox",{attrs:{label:e.val,value:e.checked,checked:!1,name:"type"},on:{change:function(n){return t.chooseItem(e,i)}}},[t._v(t._s(e.text))])],1)})),0)],1),n("el-col",{staticClass:"right",attrs:{span:18}},[n("div",{staticClass:"ue-container"},[t.showEditor?n("quill-editor",{ref:"myQuillEditor",staticClass:"quill-editor",style:{display:"flex",height:"100%","flex-direction":"column"},attrs:{options:t.option}}):t._e()],1)])],1)],1)},r=[];i._withStripped=!0;var o=n(195),a=n(472),s=(n(24),n(25),n(52),n(48),n(33),n(493)),l={name:"MobileUeditorToolbar",mixins:[$mixins.propertyDialogSetting],components:{quillEditor:s["quillEditor"]},data:function(){return{checkAll:!1,isIndeterminate:!1,tools:[{val:"bold",text:"加粗"},{val:"italic",text:"斜体"},{val:"underline",text:"下划线"},{val:"strike",text:"中划线"},{val:"blockquote",text:"引用"},{val:"code-block",text:"代码块"},{val:{header:1},text:"一级标题"},{val:{header:2},text:"二级标题"},{val:{list:"ordered"},text:"有序列表"},{val:{list:"bullet"},text:"无序列表"},{val:{script:"sub"},text:"下标"},{val:{script:"super"},text:"上标"},{val:{indent:"-1"},text:"取消首行缩进"},{val:{indent:"+1"},text:"首行缩进"},{val:{size:["small",!1,"large","huge"]},text:"字号"},{val:{header:[1,2,3,4,5,6,!1]},text:"段落"},{val:{color:[]},text:"字体颜色"},{val:{background:[]},text:"背景色"},{val:{font:[]},text:"字体"},{val:{align:[]},text:"对齐方式"},{val:"clean",text:"清除样式"},{val:"link",text:"链接"},{val:"image",text:"上传图片"},{val:"video",text:"视频地址"}],checkedTools:this.owner.toolBar,option:{modules:{toolbar:[]}},showEditor:!0}},watch:{checkedTools:function(){this.renderUEditor()}},created:function(){this.initData(),this.judgeCheckAllStatus()},mounted:function(){this.renderUEditor()},methods:{initData:function(){var t=this;this.tools.forEach((function(e){0===t.checkedTools.length?e.checked=!0:e.checked=!1}));var e,n=Object(a["a"])(this.checkedTools);try{var i=function(){var n=e.value,i=t.tools.findIndex((function(t){return"object"===Object(o["a"])(n)?"object"===Object(o["a"])(t.val)&&JSON.stringify(t.val)===JSON.stringify(n):t.val===n}));i>-1&&(t.tools[i].checked=!0)};for(n.s();!(e=n.n()).done;)i()}catch(err){n.e(err)}finally{n.f()}},judgeCheckAllStatus:function(){var t=!this.tools.find((function(t){return!t.checked}));if(t)return this.checkAll=!0,void(this.isIndeterminate=!1);var e=this.tools.findIndex((function(t){return t.checked}));if(-1!==e)return this.checkAll=!1,void(this.isIndeterminate=!0);this.checkAll=!1,this.isIndeterminate=!1},renderUEditor:function(){var t=this;this.showEditor=!1,this.option.modules.toolbar=this.checkedTools,this.$nextTick((function(){t.showEditor=!0}))},chooseItem:function(t,e){var n=_.assign({},t,{checked:!t.checked});this.tools.splice(e,1,n),this.refreshCheckedArr(),this.judgeCheckAllStatus()},chooseAll:function(){this.isIndeterminate=!1,this.checkAll?this.tools.forEach((function(t){t.checked=!0})):this.tools.forEach((function(t){t.checked=!1})),this.refreshCheckedArr()},refreshCheckedArr:function(){var t,e=[],n=Object(a["a"])(this.tools);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.checked&&e.push(i.val)}}catch(err){n.e(err)}finally{n.f()}this.checkedTools=e},yes:function(){return this.checkedTools}}},c=l,u=(n(754),n(0)),f=Object(u["a"])(c,i,r,!1,null,"57b37fa0",null);f.options.__file="designer/setting/mobileUeditorToolbar.vue";e["default"]=f.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",[n("el-header",{staticStyle:{padding:"10px 0px","text-align":"right"}},[n("DsfButton",{on:{click:t.add}},[t._v("新增页签")])],1),n("el-main",{staticStyle:{padding:"0px"}},[n("el-table",{ref:"table",staticClass:"ds-table",attrs:{border:!0,data:t.tableData,"row-class-name":t.tableRowClassName}},[n("el-table-column",{attrs:{label:"显示名称","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{model:{value:e.row.title,callback:function(n){t.$set(e.row,"title",n)},expression:"scope.row.title"}})]}}])}),n("el-table-column",{attrs:{label:"标识","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{model:{value:e.row.name,callback:function(n){t.$set(e.row,"name",n)},expression:"scope.row.name"}})]}}])}),n("el-table-column",{attrs:{label:"是否禁用","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{attrs:{placeholder:"支持表达式"},model:{value:e.row.disable,callback:function(n){t.$set(e.row,"disable",n)},expression:"scope.row.disable"}})]}}])}),n("el-table-column",{attrs:{label:"是否隐藏","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{attrs:{placeholder:"支持表达式"},model:{value:e.row.isHide,callback:function(n){t.$set(e.row,"isHide",t._n(n))},expression:"scope.row.isHide"}})]}}])}),n("el-table-column",{attrs:{label:"是否懒加载","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{attrs:{placeholder:"支持表达式"},model:{value:e.row.lazy,callback:function(n){t.$set(e.row,"lazy",t._n(n))},expression:"scope.row.lazy"}})]}}])}),n("el-table-column",{attrs:{label:"操作","header-align":"center",align:"center",width:120},scopedSlots:t._u([{key:"default",fn:function(e){return[n("DsfButton",{staticStyle:{"min-width":"auto","margin-left":"5px"},attrs:{size:"small",title:"插入",icon:"hao","btn-style":"icon-text"},on:{click:function(n){return t.insert(e)}}}),n("DsfButton",{staticStyle:{"min-width":"auto","margin-left":"5px"},attrs:{size:"small",title:"删除",icon:"guanbi2","btn-style":"icon-text"},on:{click:function(n){return t.deleted(e)}}}),n("DsfButton",{staticStyle:{"min-width":"auto","margin-left":"5px"},attrs:{size:"small",title:"上移",icon:"shang","btn-style":"icon-text"},on:{click:function(n){return t.up(e)}}}),n("DsfButton",{staticStyle:{"min-width":"auto","margin-left":"5px"},attrs:{size:"small",title:"下移",icon:"xia","btn-style":"icon-text"},on:{click:function(n){return t.down(e)}}})]}}])})],1)],1)],1)},r=[];i._withStripped=!0;n(15),n(23),n(33),n(8);var o={name:"NavTabEdit",mixins:[$mixins.propertyDialogSetting],data:function(){return{tableData:[],names:[]}},created:function(){this.tableData=this.currentData||[this.newTab()]},methods:{tableRowClassName:function(t){var e=t.row,n=t.rowIndex,i="";if(e.name){this.names[n]="";var r=this.names.indexOf(e.name);-1!=r&&r<n&&(i="warning-row"),this.names[n]=e.name}return i},newTab:function(){return{title:"Tab"+(this.tableData.length+1),name:null,disable:"false",isHide:"false",badge:null,lazy:"false",controls:[],error:!1}},add:function(){this.tableData.push(this.newTab())},insert:function(t){this.tableData.splice(t.$index+1,0,this.newTab())},deleted:function(t){dsf.array.remove(this.tableData,t.row)},up:function(t){if(t.$index>0){var e=this.tableData[t.$index],n=t.$index;dsf.array.remove(this.tableData,e),this.tableData.splice(n-1,0,e)}},down:function(t){if(this.tableData.length-1>t.$index){var e=this.tableData[t.$index],n=t.$index;dsf.array.remove(this.tableData,e),this.tableData.splice(n+1,0,e)}},validate:function(){for(var t in this.tableData){this.tableData[t]["name"]=this.tableData[t]["name"]||dsf.uuid();var e=this.names.indexOf(this.tableData[t]["name"]);if(-1!=e&&e<t)return dsf.layer.message("请解决重复标识",!1),!1}return!0},yes:function(){return this.tableData},checkMaxSpan:function(t,e){t[e]=dsf.isNumber(t[e])?Number(t[e]):null,t[e]&&t[e]>24&&(t[e]=24),t[e]&&t[e]<0&&(t[e]=null)}}},a=o,s=n(0),l=Object(s["a"])(a,i,r,!1,null,null,null);l.options.__file="designer/setting/navTabEdit.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",[n("el-header",[n("div",{staticStyle:{"text-align":"right",height:"auto",margin:"0px -20px"}},[n("DsfButton",{on:{click:t.add}},[t._v("新增")])],1)]),n("el-main",{staticStyle:{padding:"0px"}},[n("el-table",{attrs:{data:t.tableData,border:"","highlight-current-row":!0}},[n("el-table-column",{attrs:{prop:"code",label:"元数据代码","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{model:{value:e.row.code,callback:function(n){t.$set(e.row,"code",n)},expression:"scope.row.code"}})]}}])}),n("el-table-column",{attrs:{prop:"name",label:"描述","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{attrs:{disabled:!e.row.isAttach},model:{value:e.row.name,callback:function(n){t.$set(e.row,"name",n)},expression:"scope.row.name"}})]}}])}),n("el-table-column",{attrs:{prop:"valueExpress",label:"对应字段","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{model:{value:e.row.dataField,callback:function(n){t.$set(e.row,"dataField",n)},expression:"scope.row.dataField"}})]}}])}),n("el-table-column",{attrs:{label:"操作",width:"80px","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.isAttach?n("el-link",{attrs:{type:"primary"},on:{click:function(n){return t.remove(e.row)}}},[t._v("删除")]):t._e()]}}])})],1)],1)],1)},r=[];i._withStripped=!0;var o={name:"NavTreeEdit",mixins:[$mixins.propertyDialogSetting],data:function(){return{tableData:[],type:0}},created:function(){var t=this.currentData||[];this.tableData=t},mounted:function(){},methods:{add:function(){this.tableData.push({code:"",isAttach:!0,alias:"",name:"",type:{text:"文本",value:"string"},length:"100",dataField:"",defaultValue:null,unit:null})},remove:function(t){dsf.array.remove(this.tableData,t)},yes:function(){return this.tableData}}},a=o,s=n(0),l=Object(s["a"])(a,i,r,!1,null,null,null);l.options.__file="designer/setting/navTreeEdit.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,border:!0}},[n("el-table-column",{attrs:{label:"",width:"35"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-radio",{attrs:{label:e.row._id},model:{value:t.radioId,callback:function(e){t.radioId=e},expression:"radioId"}})]}}])}),n("el-table-column",{attrs:{label:"规则名称"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[t._v(" "+t._s(n["dsfa_number_rule.name"])+" ")]}}])})],1)},r=[];i._withStripped=!0;var o={name:"DesNumeration",mixins:[$mixins.propertyDialogSetting],data:function(){return{tableData:[],loading:!1,param:{pageNum:1,pageSize:1e3,namespace:"dsfa.number.rule",pageName:"list"},radioId:this.currentData}},created:function(){this.initData()},methods:{initData:function(){var t=this;this.loading=!0,this.$http.get("meta/list/data",this.param).done((function(e){e.success?t.tableData=e.data:dsf.layer.message(e.message||"服务器异常",!1)})).error((function(t){dsf.layer.message(t.message||"服务器异常",!1)})).always((function(){t.loading=!1}))},yes:function(){return this.radioId||dsf.layer.message("请选择一个编号规则",!1),this.radioId}}},a=o,s=n(0),l=Object(s["a"])(a,i,r,!1,null,null,null);l.options.__file="designer/setting/numeration.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",[n("el-header",{staticStyle:{padding:"10px 0px","text-align":"right"}},[n("DsfButton",{on:{click:t.add}},[t._v("权限选择")])],1),n("el-main",{staticStyle:{padding:"0px"}},[n("el-table",{ref:"table",staticClass:"ds-table",attrs:{border:!0,data:t.tableData}},[n("el-table-column",{attrs:{label:"序号",type:"index",width:"50","header-align":"center",align:"center"}}),n("el-table-column",{attrs:{label:"权限标识","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{model:{value:e.row.key,callback:function(n){t.$set(e.row,"key",n)},expression:"scope.row.key"}})]}}])}),n("el-table-column",{attrs:{label:"权限名称",prop:"name","header-align":"center",align:"center"}}),n("el-table-column",{attrs:{label:"权限ID",prop:"priid",width:"280","header-align":"center",align:"center"}}),n("el-table-column",{attrs:{label:"操作","header-align":"center",align:"center",width:120},scopedSlots:t._u([{key:"default",fn:function(e){return[n("DsfButton",{staticStyle:{"min-width":"auto","margin-left":"5px"},attrs:{size:"small",title:"删除",icon:"guanbi2","btn-style":"icon-text"},on:{click:function(n){return t.deleted(e)}}})]}}])})],1)],1)],1)},r=[];i._withStripped=!0;n(24),n(25),n(28),n(15);var o={name:"PagePrivilege",mixins:[$mixins.propertyDialogSetting],data:function(){return{tableData:[]}},created:function(){this.tableData=this.currentData||[]},methods:{add:function(){var t=this;this.$openDialog({title:"页面选择",width:this.config.width,height:this.config.height,top:"10vh",params:{path:"dsfa/oua/privilege/selectpri"},btns:[{text:"确定",handler:function(e){if(e.content){var n=e.content;if(n&&n.yes&&dsf.isFunction(n.yes)){var i=n.yes();if(!i)return!1;_.forEach(i,(function(e){var n=t.tableData.filter((function(t,n){return t["priid"]==e["dsfa_oua_privilege_id"]}));n.length>0?n.name=e["_name"]:t.tableData.push({key:"",priid:e["dsfa_oua_privilege_id"],name:e["_name"]})}))}}}},{text:"取消"}]})},deleted:function(t){dsf.array.remove(this.tableData,t.row)},yes:function(){return this.tableData}}},a=o,s=n(0),l=Object(s["a"])(a,i,r,!1,null,null,null);l.options.__file="designer/setting/pagePrivilege.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n(t.componentId,{ref:"form",tag:"component",attrs:{owner:t.property},on:{showDialog:t.showDialog}}),n("el-dialog",{attrs:{title:"题目关联",visible:t.dialogVisible,modal:!0,"append-to-body":!0,"modal-append-to-body":!1,"before-close":t.closeRelaDialog,closed:t.resetRela,width:"500px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("el-form",{attrs:{model:t.relaForm,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"当前题目:"}},[n("el-input",{staticStyle:{border:"none"},attrs:{value:t.owner.questionIndex+"题",readonly:""}})],1),n("el-form-item",{attrs:{label:"关联题目:"}},[n("el-select",{on:{change:t.chooseRela},model:{value:t.relaForm.relaIndex,callback:function(e){t.$set(t.relaForm,"relaIndex",e)},expression:"relaForm.relaIndex"}},[n("el-option",{attrs:{value:"no-rela",label:"无关联"}}),t._l(t.prevObjs,(function(t){return n("el-option",{key:t.questionIndex,attrs:{label:t.questionIndex+"题",value:t.questionIndex}})}))],2)],1),n("el-form-item",{attrs:{label:""}},[n("div",{staticClass:"rela-option-box"},[t.relaItem?[n("p",[t._v("当“关联题目”选择下面的选项：")]),"dsf.qiradio"==t.relaItem.ctrlType?[n("el-radio-group",{model:{value:t.relaForm.relaRadio,callback:function(e){t.$set(t.relaForm,"relaRadio",e)},expression:"relaForm.relaRadio"}},t._l(t.relaItem.items,(function(e){return n("el-radio",{key:e.value,attrs:{label:e.value}},[t._v(t._s(e.text))])})),1)]:"dsf.qicheckbox"==t.relaItem.ctrlType?[n("el-checkbox-group",{model:{value:t.relaForm.relaCheckBox,callback:function(e){t.$set(t.relaForm,"relaCheckBox",e)},expression:"relaForm.relaCheckBox"}},t._l(t.relaItem.items,(function(e){return n("el-checkbox",{key:e.value,attrs:{label:e.value}},[t._v(t._s(e.text))])})),1)]:void 0,n("p",[t._v("“当前题目”才出现")])]:t._e()],2)])],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("dsf-button",{on:{click:t.setRela}},[t._v("确 定")]),n("dsf-button",{attrs:{type:"plain"},on:{click:t.closeRelaDialog}},[t._v("取 消")])],1)],1),n("el-dialog",{attrs:{title:"跳题逻辑",visible:t.logicVisible,modal:!0,"append-to-body":!0,"modal-append-to-body":!1,"before-close":t.closeLogicDialog,closed:t.resetLogic,width:"600px"},on:{"update:visible":function(e){t.logicVisible=e}}},[n("div",{staticClass:"ds-logic-option-box"},[t.owner.items&&t.owner.items.length>0?n("table",{staticClass:"el-table el-table--border",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[n("thead",[n("th"),n("th",[t._v("选项")]),n("th",[t._v("选项值")]),n("th",[t._v("跳转到")])]),n("tbody",t._l(t.owner.items,(function(e){return n("tr",{key:e.value},[n("td",[n("b",[t._v("选择")])]),n("td",[t._v(t._s(e.text))]),n("td",[t._v(t._s(e.value))]),n("td",[n("el-select",{on:{change:t.chooseRela},model:{value:t.logic[e.value],callback:function(n){t.$set(t.logic,e.value,n)},expression:"logic[item.value]"}},[n("el-option",{attrs:{value:"",label:"不跳题"}}),t._l(t.nextObjs,(function(t){return n("el-option",{key:t,attrs:{value:t,label:t+"题"}})}))],2)],1)])})),0)]):t._e()]),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("dsf-button",{on:{click:t.setLogic}},[t._v("确 定")]),n("dsf-button",{attrs:{type:"plain"},on:{click:t.closeLogicDialog}},[t._v("取 消")])],1)])],1)},r=[];i._withStripped=!0;n(10),n(35),n(48),n(24),n(25);var o=n(535),a=n(534),s=n(536),l=n(537),c=n(538),u=n(539),f=n(540),d={name:"DesQuestionConfig",mixins:[$mixins.propertyDialogSetting],data:function(){return{dialogVisible:!1,logicVisible:!1,relaForm:{relaIndex:"no-rela",relaCheckBox:[],relaRadio:""},question:{},prevObjs:[],relaItem:null,nextObjs:[],logic:{}}},computed:{componentId:function(){var t=null;if(!this.owner.ctrlType)return t;switch(this.owner.ctrlType.toLowerCase().replace("dsf.","")){case"qiqa":t=o["default"];break;case"qirate":t=u["default"];break;case"qifill":t=a["default"];break;case"qicheckbox":t=s["default"];break;case"qiradio":t=c["default"];break;case"qihellomsg":t=l["default"];break;case"qislider":t=f["default"]}return t},property:function(){return{questionIndex:this.owner.questionIndex,questionBody:this.owner.questionBody,required:this.owner.required,readOnly:this.owner.readOnly,items:this.owner.items,visible:this.owner.visible,layout:this.owner.layout,mustCheckNum:this.owner.mustCheckNum,maxCheckNum:this.owner.maxCheckNum,isTextArea:this.owner.isTextArea,maxLength:this.owner.maxLength,isOther:this.owner.isOther,showText:this.owner.showText,starLength:this.owner.starLength,min:this.owner.min,max:this.owner.max,minText:this.owner.minText,maxText:this.owner.maxText,logicRela:this.owner.logicRela,logic:this.owner.logic}}},methods:{validate:function(){var t=!1;return this.$refs.form.form?this.$refs.form.$refs.form.validate((function(e){t=e})):t=!0,t},yes:function(){var t;return this.$refs.form.form?(t=JSON.parse(JSON.stringify(this.$refs.form.form)),t.items&&(this.owner.metadata.dataSource={type:"static",code:t.items})):t={questionBody:this.$refs.form.$ue.getContent()},Object.assign(this.owner,t),null},showDialog:function(t){if("rela"===t){if(this.getPrevRelaQuestions(),!window._.isEmpty(this.owner.logicRela)){var e=this.owner.logicRela.Q;this.relaForm.relaIndex=this.owner.logicRela.Q,this.relaItem=window._.find(this.prevObjs,(function(t){if(t.questionIndex==e)return t})),this.relaForm.relaRadio=this.owner.logicRela.trig[0],this.relaForm.relaCheckBox=window._.clone(this.owner.logicRela.trig)}this.dialogVisible=!0}else if("logic"===t){var n={},i=this;window._.forEach(this.owner.items,(function(t){n[t.value]=_.isUndefined(i.owner.logic[t.value])?"":i.owner.logic[t.value]})),this.logic=n,this.getNextQuestions(),this.logicVisible=!0}},closeRelaDialog:function(){this.dialogVisible=!1},resetRela:function(){this.relaItem=null,this.prevObjs=[],this.relaForm.relaCheckBox=[],this.relaForm.relaRadio="",this.relaForm.relaIndex="no-rela"},setRela:function(){if("no-rela"!=this.relaForm.relaIndex){var t=null;"dsf.qiradio"==this.relaItem.ctrlType?""==this.relaForm.relaRadio?dsf.layer.message("请选择需要关联的选项",!1):t=[this.relaForm.relaRadio]:0===this.relaForm.relaCheckBox.length?dsf.layer.message("请选择需要关联的选项",!1):t=window._.clone(this.relaForm.relaCheckBox),this.$set(this.owner,"logicRela",{Q:this.relaForm.relaIndex,trig:t})}else this.$set(this.owner,"logicRela",{});this.dialogVisible=!1},chooseRela:function(t){this.relaItem=window._.find(this.prevObjs,(function(e){if(e.questionIndex==t)return e})),this.relaForm.relaRadio="",this.relaForm.relaCheckBox=[]},getPrevRelaQuestions:function(){var t=$(this.owner.$el).prevAll().find(".ds-question-item[ctrl_type='dsf.qiradio'],.ds-question-item[ctrl_type='dsf.qicheckbox']"),e=[];window._.forEach(t,(function(t){e.push(t.__vue__)})),this.prevObjs=e},getNextQuestions:function(){var t=$(this.owner.$el).nextAll().find(".ds-question-item:not(.ds-hello)"),e=[];window._.forEach(t,(function(t){t.__vue__.questionIndex&&e.push(t.__vue__.questionIndex)})),this.nextObjs=e},setLogic:function(){var t={};window._.forEach(this.logic,(function(e,n){""!=e&&(t[n]=e)})),this.$set(this.owner,"logic",t),this.logicVisible=!1},resetLogic:function(){this.logic={}},closeLogicDialog:function(){this.logicVisible=!1}}},h=d,p=n(0),m=Object(p["a"])(h,i,r,!1,null,null,null);m.options.__file="designer/setting/questionConfig/questionConfig.vue";e["default"]=m.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{staticClass:"container-full",on:{click:t.emptyClick}},[n("el-aside",{staticClass:"container-aside",attrs:{width:"250px"}},[n("div",[n("div",{staticClass:"tool-box"},[n("DsfIcon",{attrs:{name:"hao",title:"新增"},on:{click:t.addNew}})],1),n("ul",{staticClass:"box"},t._l(t.items,(function(e,i){return n("li",{key:e.id,class:{actived:i==t.activedIndex},on:{dblclick:function(e){return t.editItem(i)},click:function(e){return e.stopPropagation(),t.selected(i)}}},[t.editorIndex==i?n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"item.name"}],staticClass:"item-editor",class:["input-"+e.id],attrs:{tabindex:"index"},domProps:{value:e.name},on:{input:function(n){n.target.composing||t.$set(e,"name",n.target.value)}}}):n("span",{staticClass:"ellipsis",attrs:{title:e.name}},[t._v(t._s(e.name))]),n("DsfIcon",{staticClass:"item-deleted",attrs:{name:"guanbi1",title:"删除"},on:{click:function(e){return e.stopPropagation(),t.deleteItem(i)}}})],1)})),0)])]),n("el-main",[n("el-form",{ref:"form",attrs:{"label-width":"80px",model:t.form}},[n("el-form-item",{attrs:{label:"绑定角色"}},[n("DsfDataChoice",{staticClass:"ds-no-padding",attrs:{disabled:t.dsf.isEmptyObject(t.form),"show-label":!1,"dialog-url":"dsfa/oua/role/selectrole","dialog-width":"800px","dialog-height":"60vh","text-key":"_id","value-key":"name"},model:{value:t.form.roles,callback:function(e){t.$set(t.form,"roles",e)},expression:"form.roles"}})],1)],1),n("el-table",{attrs:{data:t.form.data,fit:"",border:""},scopedSlots:t._u([{key:"empty",fn:function(){return[t._v(" 未能检测到可配置的信息 ")]},proxy:!0}])},[n("el-table-column",{attrs:{label:"组件标识"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.label))])]}}])}),n("el-table-column",{scopedSlots:t._u([{key:"header",fn:function(){return[t._v(" "+t._s("隐藏")+" "),n("el-checkbox",{attrs:{indeterminate:t.getIndeterminate("visible")},on:{change:function(e){return t.checkAllChange(e,"visible")}},model:{value:t.form.checkAllVisible,callback:function(e){t.$set(t.form,"checkAllVisible",e)},expression:"form.checkAllVisible"}})]},proxy:!0},{key:"default",fn:function(e){return[n("el-checkbox",{on:{change:function(n){return t.checkChange(n,e.row,"visible")}},model:{value:e.row.visible,callback:function(n){t.$set(e.row,"visible",n)},expression:"scope.row.visible"}})]}}])}),n("el-table-column",{scopedSlots:t._u([{key:"header",fn:function(){return[t._v(" "+t._s("只读")+" "),n("el-checkbox",{attrs:{indeterminate:t.getIndeterminate("readOnly")},on:{change:function(e){return t.checkAllChange(e,"readOnly")}},model:{value:t.form.checkAllReadOnly,callback:function(e){t.$set(t.form,"checkAllReadOnly",e)},expression:"form.checkAllReadOnly"}})]},proxy:!0},{key:"default",fn:function(e){return[n("el-checkbox",{on:{change:function(n){return t.checkChange(n,e.row,"readOnly")}},model:{value:e.row.readOnly,callback:function(n){t.$set(e.row,"readOnly",n)},expression:"scope.row.readOnly"}})]}}])}),n("el-table-column",{scopedSlots:t._u([{key:"header",fn:function(){return[t._v(" "+t._s("必填")+" "),n("el-checkbox",{attrs:{indeterminate:t.getIndeterminate("required")},on:{change:function(e){return t.checkAllChange(e,"required")}},model:{value:t.form.checkAllRequired,callback:function(e){t.$set(t.form,"checkAllRequired",e)},expression:"form.checkAllRequired"}})]},proxy:!0},{key:"default",fn:function(e){return[n("el-checkbox",{on:{change:function(n){return t.checkChange(n,e.row,"required")}},model:{value:e.row.required,callback:function(n){t.$set(e.row,"required",n)},expression:"scope.row.required"}})]}}])})],1)],1)],1)},r=[];i._withStripped=!0;n(48);var o={name:"DesStateManageEdit",mixins:[$mixins.propertyDialogSetting],props:{designer:{type:Object,default:function(){return null}},setting:{type:[Array,Object],default:function(){return[]}}},data:function(){return{items:this.setting,editorIndex:-1,activedIndex:-1,form:{}}},computed:{},beforeCreate:function(){},created:function(){document.addEventListener("click",this.emptyClick)},beforeMount:function(){},mounted:function(){var t=this;if(this.items.length>0){var e=this.getDesignerComponents();_.each(this.items,(function(n){var i=dsf.mix(!0,[],e),r=item.data;_.each(i,(function(e){var n=_.find(r,(function(t){return t.caption==e.caption}));n&&dsf.mix(e,{visible:n.visible,readOnly:n.readOnly,required:n.required}),t.$set(e,"data",i)}))})),this.selected(0)}},beforeDestroy:function(){document.removeEventListener("click",this.emptyClick)},destroyed:function(){},methods:{getDesignerComponents:function(){var t=[];return dsf.designer.recursionLayoutTree(this.designer.$refs.viewProxy,null,null,(function(e,n,i){if(!e.treeProxy&&!e.isView){if(e.childMetaDataCodes)return!!e.isFormControl&&(t.push({caption:e.caption,label:e.label?e.label+"("+e.caption+")":e.caption,visible:!1,readOnly:!1,required:!1}),!1);e.isBlockControl?t.push({caption:e.caption,label:e.caption,visible:!1,readOnly:!1,required:!1}):e.isFormControl&&!e.forceHidden&&t.push({caption:e.caption,label:e.label?e.label+"("+e.caption+")":e.caption,visible:!1,readOnly:!1,required:!1})}})),t},emptyClick:function(){this.editorIndex=-1},addNew:function(){this.items.push({id:dsf.uuid(32),name:"新建规则"+(this.items.length+1),roles:[],data:this.getDesignerComponents()})},editItem:function(t){var e=this;this.editorIndex=t;var n=_.find(this.items,(function(e,n){return n==t}));this.$nextTick((function(){var t,i;null===(t=e.$el.querySelector(".input-"+n.id))||void 0===t||null===(i=t.focus)||void 0===i||i.call(t)}))},selected:function(t){this.activedIndex=t;var e=_.find(this.items,(function(e,n){return n==t}));e?(this.form=e,this.leepDataCheckIsCheckedAll(this.form)):this.form={}},deleteItem:function(t){var e=this;dsf.layer.confirm("您确定要删除?").then((function(){var n=_.find(e.items,(function(e,n){return n==t}));n&&(dsf.array.remove(e.items,n),e.activedIndex==t&&e.selected(t-1))})).catch((function(){}))},getIndeterminate:function(t){var e,n,i=0,r=(null===this||void 0===this||null===(e=this.form)||void 0===e?void 0:e.data)||[];return!!r&&(_.each((null===this||void 0===this||null===(n=this.form)||void 0===n?void 0:n.data)||[],(function(e){!0===e[t]&&i++})),i>0&&i<r.length)},checkAllChange:function(t,e){var n,i=(null===this||void 0===this||null===(n=this.form)||void 0===n?void 0:n.data)||[];_.each(i,(function(n){n[e]=t}))},checkChange:function(t,e,n){this.leepDataCheckIsCheckedAll(this.form)},leepDataCheckIsCheckedAll:function(t){var e=0,n=0,i=0,r=t.data||[];_.each(r,(function(t){t.visible&&e++,t.readOnly&&n++,t.required&&i++})),r.length>0&&(this.$set(this.form,"checkAllVisible",e>=r.length),this.$set(this.form,"checkAllReadOnly",n>=r.length),this.$set(this.form,"checkAllRequired",i>=r.length))},yes:function(){var t=dsf.mix(!0,[],this.items);return _.each(t,(function(t){delete t.checkAllVisible,delete t.checkAllReadOnly,delete t.checkAllRequired})),t}}},a=o,s=(n(756),n(0)),l=Object(s["a"])(a,i,r,!1,null,"62e174ab",null);l.options.__file="designer/setting/stateManageEdit.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"des-default-value"},[n("div",{staticStyle:{overflow:"auto"}},[t._l(t.tableData,(function(e,i){return[n("el-table",{key:i,staticStyle:{width:"100%","margin-bottom":"15px"},attrs:{data:e,border:!0}},[n("el-table-column",{attrs:{prop:"text",label:"名称",width:"150"}}),n("el-table-column",{attrs:{prop:"value",label:"值"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{model:{value:e.row.value,callback:function(n){t.$set(e.row,"value",n)},expression:"scope.row.value"}})]}}],null,!0)},[t.multiple?n("div",{attrs:{slot:"header"},slot:"header"},[n("span",[t._v("值")]),n("DsfButton",{staticStyle:{float:"right"},attrs:{text:"删除",size:"mini"},on:{click:function(e){return t.removeData(i)}}})],1):t._e()])],1)]}))],2)])},r=[];i._withStripped=!0;var o=n(18),a=(n(16),n(24),n(25),n(15),n(33),{name:"DesStaticDataFormItem",mixins:[$mixins.propertyDialogSetting],data:function(){return{multiple:!1,tableData:[]}},created:function(){this.multiple=!1,this.valueAttributes=dsf.mix(!0,[],this.owner.metadata.valueAttributes),this.init()},methods:{yes:function(){var t=this.tableData.map((function(t){var e={};return t.forEach((function(t){e[t.code]=t.value||""})),e}));return 1==t.length?t[0]:t},init:function(){var t=this,e=this.owner.staticValue;if(e){dsf.isString(e)&&(e=Object(o["a"])({},this.valueAttributes[0].code,e)),dsf.isArray(e)||(e=[e]);var n=dsf.mix(!0,[],e);n.forEach((function(e){return t.addData(e)}))}else this.addData()},addData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.tableData.push(this.valueAttributes.map((function(e){return{code:e.code,text:e.name,value:void 0==t[e.code]?null:t[e.code]}})))},removeData:function(t){this.tableData.length<2?(this.tableData=[],this.addData()):this.tableData.splice(t,1)}}}),s=a,l=n(0),c=Object(l["a"])(s,i,r,!1,null,null,null);c.options.__file="designer/setting/staticDataFormItem.vue";e["default"]=c.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{staticClass:"box"},[0==t.data.length?n("el-header",[n("DsfButton",{attrs:{icon:"iconfont icon-icon_tianjia",size:"small",type:"plain"},on:{click:t.crtData}},[t._v(" 新增 ")])],1):n("el-header",[n("DsfButton",{attrs:{icon:"iconfont icon-shanchu",size:"small",type:"plain"},on:{click:t.remove}},[t._v("重置")])],1),n("el-main",[n("el-tree",{ref:"tree",staticClass:"ds-tree-select-tree-box",attrs:{"node-key":"_id","default-expand-all":"",data:t.data,"expand-on-click-node":!1,"highlight-current":!0,"check-on-click-node":!0},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.node,r=e.data;return n("div",{staticClass:"tree-node custom-tree-node"},[n("i",{staticClass:"iconfont",class:[i.childNodes.length>0?i.expanded?"icon-dakai":"icon-wenjianjia":"icon-shiyongwendang"]}),n("el-input",{ref:"input"+r._id,attrs:{size:"mini",placeholder:"请输入节点名称"},model:{value:r._name,callback:function(e){t.$set(r,"_name",e)},expression:"data._name"}}),n("div",{staticClass:"btns"},[n("el-button",{attrs:{type:"text",size:"mini",title:"增加同级"},on:{click:function(){return t.append(0,r)}}},[n("i",{staticClass:"el-icon-circle-plus-outline"}),t._v("同级 ")]),n("el-button",{attrs:{type:"text",size:"mini",title:"增加子级"},on:{click:function(){return t.append(1,r)}}},[n("i",{staticClass:"el-icon-circle-plus-outline"}),t._v("子级 ")]),n("el-button",{attrs:{type:"text",size:"mini",title:"删除节点"},on:{click:function(){return t.remove(1,i)}}},[n("i",{staticClass:"el-icon-remove-outline"}),t._v("节点 ")])],1)],1)}}])})],1)],1)},r=[];i._withStripped=!0;n(63);var o=[{_id:"1",_name:"1级",treeinfo_level:1,num:1,globalLevel:""}],a={name:"DesStaticTreeData",mixins:[$mixins.propertyDialogSetting],props:{value:{type:Array,default:function(){return[]}}},data:function(){return{data:JSON.parse(JSON.stringify(this.value)),timeOutTimer:null}},created:function(){var t,e;null!==(t=this.currentData)&&void 0!==t&&t.length&&(this.data=JSON.parse(JSON.stringify(this.currentData))),null!==(e=this.data)&&void 0!==e&&e.length||this.crtData()},methods:{crtData:function(){var t=this;this.data=JSON.parse(JSON.stringify(o)),this.focusInput("1"),this.$nextTick((function(){t.$refs.tree.setCurrentKey("1")}))},focusInput:function(t){var e=this;this.$nextTick((function(){e.$refs["input"+t].$refs.input.focus()}))},append:function(t,e){var n=this,i={};if(t){var r,o=((null===(r=_.last(e.children))||void 0===r?void 0:r.num)||0)+1;i={num:o,globalLevel:e._id,treeinfo_level:e.treeinfo_level+1,_id:e._id+"."+o,_name:e.treeinfo_level+1+"级-"+o},this.$refs.tree.append(i,e)}else{var a,s=1,l=e.globalLevel,c=null;if(e.treeinfo_level>1){var u=this.$refs.tree.getNode(l);c=_.last(u.data.children)}else c=_.last(this.data);s=((null===(a=c)||void 0===a?void 0:a.num)||0)+1,i={num:s,globalLevel:l,_id:l+(e.treeinfo_level>1?".":"")+s,_name:e.treeinfo_level+"级-"+s,treeinfo_level:e.treeinfo_level},this.$refs.tree.insertAfter(i,c)}this.focusInput(i._id),this.$nextTick((function(){n.timeOutTimer=setTimeout((function(){n.$refs.tree.setCurrentKey(i._id),clearTimeout(n.timeOutTimer)}))}))},remove:function(t,e){e?this.$refs.tree.remove(e):this.data=[]},yes:function(){return this.data}},beforeDestroy:function(){this.timeOutTimer&&clearTimeout(this.timeOutTimer)}},s=a,l=(n(758),n(0)),c=Object(l["a"])(s,i,r,!1,null,"6134aeca",null);c.options.__file="designer/setting/staticTreeData.vue";e["default"]=c.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{staticStyle:{height:"100%"}},[n("el-main",{staticStyle:{padding:"0px",height:"100%",overflow:"hidden"}},[n("el-form",{ref:"form",attrs:{inline:!0,model:t.formData,"label-width":"100px"}}),n("el-tabs",{staticClass:"tabs",staticStyle:{height:"100%"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},["treeselect"!=t.item.model?n("el-tab-pane",{attrs:{label:"静态数据",name:"static"}},[n("div",{staticStyle:{height:"100%",overflow:"auto"}},[n("div",{staticStyle:{"margin-bottom":"5px",float:"right"}},[n("dsf-button",{attrs:{size:"small",icon:"hao"},on:{click:t.addRow}},[t._v("增加")]),n("dsf-button",{attrs:{size:"small",icon:"guanbi2",type:"plain"}},[t._v("清空")])],1),n("el-table",{attrs:{data:t.values.static,border:""}},[n("el-table-column",{attrs:{label:"名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{attrs:{placeholder:"选项文本"},model:{value:e.row.text,callback:function(n){t.$set(e.row,"text",n)},expression:"scope.row.text"}})]}}],null,!1,3042062022)}),n("el-table-column",{attrs:{label:"值"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{attrs:{placeholder:"多个值用;分割"},model:{value:e.row.value,callback:function(n){t.$set(e.row,"value",n)},expression:"scope.row.value"}})]}}],null,!1,4185447808)}),n("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("dsf-button",{attrs:{title:"删除",size:"small","btn-style":"icon-text",icon:"guanbi2"},on:{click:function(n){return n.stopPropagation(),t.remove(e.row)}}}),n("dsf-button",{attrs:{title:"上移",size:"small","btn-style":"icon-text",icon:"shang"},on:{click:function(n){return n.stopPropagation(),t.up(e.row)}}}),n("dsf-button",{attrs:{title:"下移",size:"small","btn-style":"icon-text",icon:"xia"},on:{click:function(n){return n.stopPropagation(),t.down(e.row)}}})]}}],null,!1,3903304481)})],1)],1)]):t._e(),"treeselect"!=t.item.model?n("el-tab-pane",{attrs:{label:"数据字典",name:"dict"}},[n("div",{staticStyle:{height:"100%"}},[n("DesDictDataSelect",{staticStyle:{height:"100%",overflow:"hidden"},model:{value:t.values.dict,callback:function(e){t.$set(t.values,"dict",e)},expression:"values.dict"}})],1)]):t._e(),"treeselect"!=t.item.model?n("el-tab-pane",{attrs:{label:"数据源",name:"dbsource"}},[n("div",{staticStyle:{height:"100%",overflow:"hidden"}},[n("DesDbDataSelect",{staticStyle:{height:"100%",overflow:"hidden"},model:{value:t.values.dbsource,callback:function(e){t.$set(t.values,"dbsource",e)},expression:"values.dbsource"}})],1)]):t._e(),n("el-tab-pane",{attrs:{label:"接口",name:"interface"}},[n("el-input",{attrs:{type:"textarea",rows:5,placeholder:"请输入接口地址"},model:{value:t.values.interface,callback:function(e){t.$set(t.values,"interface",e)},expression:"values.interface"}})],1)],1)],1)],1)},r=[];i._withStripped=!0;n(28),n(38),n(108),n(52);var o={name:"DesSuperSearchEnumItems",mixins:[$mixins.propertyDialogSetting],props:{item:{type:Object,default:function(){return{}}},currentData:{type:Object,default:function(){return null}},searchItems:{type:Array,default:function(){return[]}}},data:function(){return{formData:{rel:"",operator:"eq"},activeName:"static",values:{static:[],dict:{key:null,node:null},dbsource:{key:null,node:null},interface:""}}},computed:{sitems:function(){var t=this;return _.filter(this.searchItems,(function(e){return e.id!==t.item.id}))}},created:function(){var t=dsf.mix(!0,{},this.currentData);dsf.isEmptyObject(t)||(this.formData.rel=t.rel,this.formData.operator=t.operator,this.values[t.type]=t.value,this.activeName=t.type||"static"),"treeselect"==this.item.model&&(this.activeName="interface")},mounted:function(){},methods:{yes:function(){return{operator:this.formData.operator,rel:this.formData.rel,type:this.activeName,value:this.values[this.activeName]}},addRow:function(){this.values.static.push({})},remove:function(t){dsf.array.remove(this.values.static,t)},up:function(t){var e=_.findIndex(this.values.static,(function(e){return e==t}));if(e>0){var n=this.values.static[e-1];this.$set(this.values.static,e-1,t),this.$set(this.values.static,e,n)}},down:function(t){var e=_.findIndex(this.values.static,(function(e){return e==t}));if(e<this.values.static.length-1){var n=this.values.static[e+1];this.$set(this.values.static,e+1,t),this.$set(this.values.static,e,n)}}}},a=o,s=(n(760),n(0)),l=Object(s["a"])(a,i,r,!1,null,"7d6f9f3e",null);l.options.__file="designer/setting/superSearchEnumItems.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{staticStyle:{height:"100%"}},[n("el-aside",{staticStyle:{overflow:"auto",height:"100%",flex:"none"},attrs:{width:"20%"}},[n("el-tree",{attrs:{data:t.treeData,props:t.defaultProps,"default-expand-all":""},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.node,r=e.data;return n("span",{staticClass:"custom-tree-node",on:{dblclick:function(e){return t.toList(i,r)}}},[n("i",{staticClass:"iconfont icon-biaodanzujian-shurukuang",staticStyle:{"margin-right":"5px"}}),n("span",[t._v(t._s(i.label))]),r.field?n("span",{staticStyle:{color:"red"}},[t._v("(字段:"+t._s(r.field)+")")]):t._e()])}}])})],1),n("el-main",{staticStyle:{width:"0",padding:"0 0 0 15px",flex:"auto"}},[n("el-table",{attrs:{data:t.tableData,"row-key":t.getRowId,"tree-props":{children:"children"},"highlight-current-row":"",border:"",stripe:""}},[n("el-table-column",{attrs:{type:"index",label:"#",width:"50",align:"center"}}),n("el-table-column",{attrs:{label:"配置","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[n("el-form",{staticClass:"demo-form-inline",attrs:{model:i,inline:!0,size:"mini","label-width":"100px"}},[n("el-row",[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"名称"}},[n("el-input",{model:{value:i.fieldCaption,callback:function(e){t.$set(i,"fieldCaption",e)},expression:"row.fieldCaption"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"字段名"}},[n("el-input",{attrs:{disabled:""},model:{value:i.field,callback:function(e){t.$set(i,"field",e)},expression:"row.field"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"类型"}},[n("el-select",{on:{change:function(e){return t.searchTypeChange(e,i)}},model:{value:i.searchType,callback:function(e){t.$set(i,"searchType",e)},expression:"row.searchType"}},t._l(t.options,(function(t){return n("el-option",{key:t.value,attrs:{value:t.value,label:t.label}})})),1)],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"默认值(选中)"}},[n("el-input",{model:{value:i.defaultValue,callback:function(e){t.$set(i,"defaultValue",e)},expression:"row.defaultValue"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"布局"}},[n("el-select",{on:{change:function(e){return t.updateLayout(i)}},model:{value:i.layout,callback:function(e){t.$set(i,"layout",e)},expression:"row.layout"}},[n("el-option",{attrs:{value:"24",label:"整行"}}),n("el-option",{attrs:{value:"12",label:"1/2"}}),n("el-option",{attrs:{value:"8",label:"1/3"}}),n("el-option",{attrs:{value:"6",label:"1/4"}})],1)],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"显示方式"}},["enum"==i.searchType?n("el-select",{on:{change:function(e){return t.updateModel(i)}},model:{value:i.model,callback:function(e){t.$set(i,"model",e)},expression:"row.model"}},[n("el-option",{attrs:{value:"select",label:"下拉框"}}),n("el-option",{attrs:{value:"treeselect",label:"树下拉框"}}),n("el-option",{attrs:{value:"tile",label:"平铺"}}),n("el-option",{attrs:{value:"treeTile",label:"树平铺(需子级级联)"}})],1):t._e(),"text"==i.searchType?n("el-select",{model:{value:i.model,callback:function(e){t.$set(i,"model",e)},expression:"row.model"}},[n("el-option",{attrs:{value:"textbox",label:"文本框"}})],1):t._e(),"number"==i.searchType?n("el-select",{model:{value:i.model,callback:function(e){t.$set(i,"model",e)},expression:"row.model"}},[n("el-option",{attrs:{value:"textbox",label:"文本框"}})],1):t._e(),"datetime"==i.searchType?n("el-select",{model:{value:i.model,callback:function(e){t.$set(i,"model",e)},expression:"row.model"}},[n("el-option",{attrs:{value:"ymd",label:"年月日"}}),n("el-option",{attrs:{value:"ym",label:"年月"}})],1):t._e()],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"提示文字"}},[n("el-input",{attrs:{placeholder:"请输入"},model:{value:i.placeholder,callback:function(e){t.$set(i,"placeholder",e)},expression:"row.placeholder"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"操作符"}},[n("el-select",{model:{value:i.operator,callback:function(e){t.$set(i,"operator",e)},expression:"row.operator"}},["enum"==i.searchType?[n("el-option",{attrs:{label:"多选",value:"in"}}),n("el-option",{attrs:{label:"单选",value:"between"}}),n("el-option",{attrs:{label:"匹配",value:"like"}}),n("el-option",{attrs:{label:"匹配开始字符",value:"slike"}}),n("el-option",{attrs:{label:"匹配结尾字符",value:"elike"}})]:"text"==i.searchType?[n("el-option",{attrs:{label:"匹配",value:"like"}}),n("el-option",{attrs:{label:"匹配开始字符",value:"slike"}}),n("el-option",{attrs:{label:"匹配结尾字符",value:"elike"}}),n("el-option",{attrs:{label:"区间",value:"between"}})]:"number"==i.searchType||"datetime"==i.searchType?[n("el-option",{attrs:{label:"等于",value:"eq"}}),n("el-option",{attrs:{label:"大于",value:"gt"}}),n("el-option",{attrs:{label:"小于",value:"lt"}}),n("el-option",{attrs:{label:"大于等于",value:"gteq"}}),n("el-option",{attrs:{label:"小于等于",value:"lteq"}}),n("el-option",{attrs:{label:"区间",value:"between"}})]:t._e()],2)],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"后续换行"}},[n("el-radio-group",{model:{value:i.isLineBreak,callback:function(e){t.$set(i,"isLineBreak",e)},expression:"row.isLineBreak"}},[n("el-radio",{attrs:{label:!1}},[t._v("默认")]),n("el-radio",{attrs:{label:!0}},[t._v("强制")])],1)],1)],1),"enum"==i.searchType&&"treeTile"==i.model?n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"级联子级字段"}},[n("el-input",{attrs:{placeholder:"子级需枚举树平铺类型"},model:{value:i.childField,callback:function(e){t.$set(i,"childField",e)},expression:"row.childField"}})],1)],1):t._e()],1)],1)]}}])}),n("el-table-column",{attrs:{label:"操作",width:"130px",align:"center","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[["enum"==i.searchType?n("dsf-button",{attrs:{title:"选项配置",size:"small","btn-style":"icon-text",icon:"shezhi"},on:{click:function(e){return e.stopPropagation(),t.settingEnumItems(i)}}}):t._e(),n("dsf-button",{attrs:{title:"删除",size:"small","btn-style":"icon-text",icon:"guanbi2"},on:{click:function(e){return e.stopPropagation(),t.remove(i)}}}),n("dsf-button",{attrs:{title:"上移",size:"small","btn-style":"icon-text",icon:"shang"},on:{click:function(e){return e.stopPropagation(),t.up(i)}}}),n("dsf-button",{attrs:{title:"下移",size:"small","btn-style":"icon-text",icon:"xia"},on:{click:function(e){return e.stopPropagation(),t.down(i)}}})]]}}])})],1)],1)],1)},r=[];i._withStripped=!0;var o=n(3),a=n.n(o),s=n(9),l=(n(48),n(52),n(16),{name:"DesSuperSearchSetting",mixins:[$mixins.propertyDialogSetting],data:function(){return{tableData:[],treeData:[],defaultProps:{children:"children",label:"name"},options:[{label:"选项枚举",value:"enum",defaultField:["value"]},{label:"文本",value:"text"},{label:"数字",value:"number"},{label:"日期时间",value:"datetime"}]}},created:function(){},mounted:function(){var t=this;return Object(s["a"])(a.a.mark((function e(){var n,i,r;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.owner.$$getComponent(),i=n.$getChildMetadataList(),i&&!(i.length<1)){e.next=5;break}return dsf.layer.pc.message("请将要展示的元数据拖动到列表中",!1),e.abrupt("return");case 5:if(r=i[0].metadata.at,r){e.next=9;break}return dsf.layer.pc.message("请将要展示的元数据拖动到列表中",!1),e.abrupt("return");case 9:return e.next=11,n.$getMetadataTree(i);case 11:t.treeData=e.sent,t.tableData=t.currentData||[];case 13:case"end":return e.stop()}}),e)})))()},methods:{getRowId:function(t){var e=t.id;return e},getParentRow:function(t){var e=_.find(this.tableData,(function(e){return e.id==t.parent}));return e||{}},searchTypeChange:function(t,e){this.updateValueAttributeJoin(e,t)},updateValueAttributeJoin:function(t,e){"enum"==t.searchType?(t.model="select",t.operator="in"):"text"==t.searchType?(t.model="textbox",t.operator="like"):"datetime"==t.searchType?(t.model="ymd",t.operator="between"):"number"==t.searchType&&(t.model="textbox",t.operator="eq")},updateLayout:function(t){"24"!=t.layout&&"enum"==t.searchType&&(t.model="select")},updateModel:function(t){"tile"==t.model&&"enum"==t.searchType&&(t.layout="24")},toList:function(t,e){if(e.field){var n=_.findIndex(this.tableData,(function(t){return t.field==e.field}));if(n<0){var i={id:e.id,field:e.field,fieldCaption:e.fieldCaption,type:"metadata",searchType:"enum",code:e.code,layout:"24",model:"select",defaultValue:"",operator:"in",isLineBreak:!1,placeholder:"",childField:""};this.updateValueAttributeJoin(i,i.searchType),this.tableData.push(i)}}},settingEnumItems:function(t){this.$openDialog({title:"选项设置",content:"DesSuperSearchEnumItems",height:"60vh",width:"700px",params:{item:t,searchItems:this.tableData,currentData:t.setting},btns:[{text:"确定",handler:function(e){var n=e.yes();t.setting=n||null}},{text:"取消"}]})},remove:function(t){dsf.array.remove(this.tableData,t)},up:function(t){var e=_.findIndex(this.tableData,(function(e){return e==t}));if(e>0){var n=this.tableData[e-1];this.$set(this.tableData,e-1,t),this.$set(this.tableData,e,n)}},down:function(t){var e=_.findIndex(this.tableData,(function(e){return e==t}));if(e<this.tableData.length-1){var n=this.tableData[e+1];this.$set(this.tableData,e+1,t),this.$set(this.tableData,e,n)}},yes:function(){var t=_.map(this.tableData,(function(t){var e,n=dsf.mix(!0,{},t);return"enum"!=n.searchType&&delete n.items,"treeselect"==n.model&&"interface"!==(null===n||void 0===n||null===(e=n.setting)||void 0===e?void 0:e.type)&&(n.setting=null),n}));return t}}}),c=l,u=n(0),f=Object(u["a"])(c,i,r,!1,null,null,null);f.options.__file="designer/setting/superSearchSetting.vue";e["default"]=f.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",[n("el-header",{staticStyle:{padding:"10px 0px","text-align":"right"}},[n("DsfButton",{on:{click:t.add}},[t._v("新增页签")])],1),n("el-main",{staticStyle:{padding:"0px"}},[n("el-table",{ref:"table",staticClass:"ds-table",attrs:{border:!0,data:t.tableData,"row-class-name":t.tableRowClassName}},[n("el-table-column",{attrs:{label:"显示名称",width:"140px","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{model:{value:e.row.title,callback:function(n){t.$set(e.row,"title",n)},expression:"scope.row.title"}})]}}])}),n("el-table-column",{attrs:{label:"标识",width:"140px","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{model:{value:e.row.name,callback:function(n){t.$set(e.row,"name",n)},expression:"scope.row.name"}})]}}])}),n("el-table-column",{attrs:{label:"更多地址(不配不显)","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{model:{value:e.row.more.url,callback:function(n){t.$set(e.row.more,"url",n)},expression:"scope.row.more.url"}})]}}])}),n("el-table-column",{attrs:{label:"弹出方式",width:"120px","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{on:{click:function(n){return t.toUrlSet(e.row)}}},[t._v("配置")])]}}])}),n("el-table-column",{attrs:{label:"隐藏",width:"100px","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.row.hide,callback:function(n){t.$set(e.row,"hide",n)},expression:"scope.row.hide"}},[n("el-option",{attrs:{label:"是",value:!0}}),n("el-option",{attrs:{label:"否",value:!1}})],1)]}}])}),n("el-table-column",{attrs:{label:"懒加载",width:"100px","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.row.lazy,callback:function(n){t.$set(e.row,"lazy",n)},expression:"scope.row.lazy"}},[n("el-option",{attrs:{label:"是",value:!0}}),n("el-option",{attrs:{label:"否",value:!1}})],1)]}}])}),n("el-table-column",{attrs:{label:"操作","header-align":"center",align:"center",width:120},scopedSlots:t._u([{key:"default",fn:function(e){return[n("DsfButton",{staticStyle:{"min-width":"auto","margin-left":"5px"},attrs:{size:"small",title:"插入",icon:"hao","btn-style":"icon-text"},on:{click:function(n){return t.insert(e)}}}),n("DsfButton",{staticStyle:{"min-width":"auto","margin-left":"5px"},attrs:{size:"small",title:"删除",icon:"guanbi2","btn-style":"icon-text"},on:{click:function(n){return t.deleted(e)}}}),n("DsfButton",{staticStyle:{"min-width":"auto","margin-left":"5px"},attrs:{size:"small",title:"上移",icon:"shang","btn-style":"icon-text"},on:{click:function(n){return t.up(e)}}}),n("DsfButton",{staticStyle:{"min-width":"auto","margin-left":"5px"},attrs:{size:"small",title:"下移",icon:"xia","btn-style":"icon-text"},on:{click:function(n){return t.down(e)}}})]}}])})],1)],1)],1)},r=[];i._withStripped=!0;n(15),n(23),n(33),n(8);var o={name:"TabPanelEdit",mixins:[$mixins.propertyDialogSetting],data:function(){return{tableData:[],names:[]}},created:function(){for(var t=this.currentData,e=0;e<t.length;e++){var n=t[e];"string"!=typeof n.more&&n.more||this.$set(n,"more",{url:n.more||""})}this.tableData=t||[this.newTab()]},methods:{tableRowClassName:function(t){var e=t.row,n=t.rowIndex,i="";if(e.name){this.names[n]="";var r=this.names.indexOf(e.name);-1!=r&&r<n&&(i="warning-row"),this.names[n]=e.name}return i},newTab:function(){return{title:"Tab"+(this.tableData.length+1),name:"tab"+(this.tableData.length+1),hide:!1,badge:null,lazy:!1,url:"",controls:[],more:{}}},add:function(){this.tableData.push(this.newTab())},insert:function(t){this.tableData.splice(t.$index+1,0,this.newTab())},deleted:function(t){this.tableData.splice(t.$index,1)},up:function(t){if(t.$index>0){var e=this.tableData[t.$index];this.tableData.splice(t.$index,1),this.tableData.splice(t.$index-1,0,e)}},down:function(t){if(this.tableData.length-1>t.$index){var e=this.tableData[t.$index];this.tableData.splice(t.$index,1),this.tableData.splice(t.$index+1,0,e)}},validate:function(){for(var t in this.tableData){this.tableData[t]["name"]=this.tableData[t]["name"]||dsf.uuid();var e=this.names.indexOf(this.tableData[t]["name"]);if(-1!=e&&e<t)return dsf.layer.message("请解决重复标识",!1),!1}return!0},yes:function(){return this.tableData},checkMaxSpan:function(t,e){t[e]=dsf.isNumber(t[e])?Number(t[e]):null,t[e]&&t[e]>24&&(t[e]=24),t[e]&&t[e]<0&&(t[e]=null)},toUrlSet:function(t){var e=this;t.more||this.$set(t,"more",{}),this.$openDialog({title:"跳转配置",content:"ToUrlEdit",height:"400px",width:"700px",params:{currentData:t.more,noUrl:!0},btns:[{text:"确定",handler:function(n){e.$set(t,"more",n.yes())}},{text:"取消"}]})}}},a=o,s=n(0),l=Object(s["a"])(a,i,r,!1,null,null,null);l.options.__file="designer/setting/tabPanelEdit.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:!0}},[n("el-table-column",{attrs:{prop:"text",label:"名称",width:"150"}}),n("el-table-column",{attrs:{prop:"value",label:"宽度"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{attrs:{placeholder:"auto"},model:{value:e.row.width,callback:function(n){t.$set(e.row,"width",n)},expression:"scope.row.width"}})]}}])})],1)},r=[];i._withStripped=!0;n(16);var o={name:"DesTableColumnsInfo",mixins:[$mixins.propertyDialogSetting],data:function(){return{tableData:[]}},mounted:function(){for(var t=0;t<this.currentData.length;t++)this.tableData.push({text:"第"+(t+1)+"列",width:this.currentData[t].width})},methods:{yes:function(){var t=_.map(this.tableData,(function(t){return dsf.isNumber(t.width)&&(t.width=t.width+"px"),{width:t.width}}));return t}}},a=o,s=n(0),l=Object(s["a"])(a,i,r,!1,null,null,null);l.options.__file="designer/setting/tableColumnsInfo.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:!0}},[n("el-table-column",{attrs:{prop:"text",label:"名称",width:"150"}}),n("el-table-column",{attrs:{prop:"value",label:"高度"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{attrs:{placeholder:"auto"},model:{value:e.row.height,callback:function(n){t.$set(e.row,"height",n)},expression:"scope.row.height"}})]}}])})],1)},r=[];i._withStripped=!0;n(97);var o={name:"DesTableRowsInfo",mixins:[$mixins.propertyDialogSetting],data:function(){return{tableData:[]}},mounted:function(){for(var t=0;t<this.currentData.length;t++)this.tableData.push({text:"第"+(t+1)+"行",height:this.currentData[t].height})},methods:{yes:function(){for(var t=0;t<this.tableData.length;t++){var e=this.tableData[t].height;""==e.trim()&&(e=57),dsf.isNumber(e)&&(e+="px"),this.owner.rows[t].height=e}}}},a=o,s=n(0),l=Object(s["a"])(a,i,r,!1,null,null,null);l.options.__file="designer/setting/tableRowsInfo.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{staticStyle:{height:"100%"}},[n("el-aside",{staticStyle:{width:"500px",overflow:"auto"}},[n("el-container",[n("el-header",{staticStyle:{padding:"0px 0px 10px 0px","text-align":"right",height:"auto"}},[n("DsfButton",{attrs:{size:"small",icon:"hao"},on:{click:t.addTab}},[t._v(" 新增标签 ")])],1),n("el-main",{staticStyle:{padding:"0px",height:"100%"}},[n("el-table",{attrs:{border:"","show-header":!0,data:t.tableData,"highlight-current-row":!0},on:{"row-click":t.rowClickHandler}},[n("el-table-column",{attrs:{label:"#",type:"index",align:"center"}}),n("el-table-column",{attrs:{label:"KEY",prop:"text"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.key)+" ")]}}])}),n("el-table-column",{attrs:{label:"名称",prop:"caption"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.name)+" ")]}}])}),n("el-table-column",{attrs:{label:"不显示",prop:"text"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.hide?"是":"否")+" ")]}}])}),n("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("DsfButton",{attrs:{"btn-style":"icon-text",icon:"shanchu",size:"small",title:"删除"},on:{click:function(n){return t.removeTab(e.row)}}}),n("DsfButton",{attrs:{"btn-style":"icon-text",icon:"shang",size:"small",title:"上移"},on:{click:function(n){return t.up(e.row)}}}),n("DsfButton",{attrs:{"btn-style":"icon-text",icon:"xia",size:"small",title:"下移"},on:{click:function(n){return t.down(e.row)}}})]}}])})],1)],1)],1)],1),n("el-main",{staticStyle:{padding:"0px"}},[n("el-container",[n("el-main",[n("el-form",{attrs:{model:t.formModel,disabled:!Object.keys(t.formModel).length,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"KEY"}},[n("el-input",{model:{value:t.formModel.key,callback:function(e){t.$set(t.formModel,"key",e)},expression:"formModel.key"}})],1),n("el-form-item",{attrs:{label:"名称"}},[n("el-input",{model:{value:t.formModel.name,callback:function(e){t.$set(t.formModel,"name",e)},expression:"formModel.name"}})],1),n("el-form-item",{attrs:{label:"数据接口"}},[n("el-input",{model:{value:t.formModel.dataUrl,callback:function(e){t.$set(t.formModel,"dataUrl",e)},expression:"formModel.dataUrl"}})],1),n("el-form-item",{attrs:{label:"跳转SRC"}},[n("el-input",{model:{value:t.formModel.iframeSrc,callback:function(e){t.$set(t.formModel,"iframeSrc",e)},expression:"formModel.iframeSrc"}})],1),n("el-form-item",{attrs:{label:"不显示"}},[n("el-radio-group",{model:{value:t.formModel.hide,callback:function(e){t.$set(t.formModel,"hide",e)},expression:"formModel.hide"}},[n("el-radio",{attrs:{label:!0}},[t._v("是")]),n("el-radio",{attrs:{label:!1}},[t._v("否")])],1)],1),n("el-form-item",{attrs:{label:"使用自定义插槽"}},[n("el-radio-group",{model:{value:t.formModel.customize,callback:function(e){t.$set(t.formModel,"customize",e)},expression:"formModel.customize"}},[n("el-radio",{attrs:{label:!0}},[t._v("是")]),n("el-radio",{attrs:{label:!1}},[t._v("否")])],1)],1)],1)],1)],1)],1)],1)},r=[];i._withStripped=!0;n(52),n(267),n(16);var o={name:"TabsListSetting",mixins:[$mixins.propertyDialogSetting],props:{defaultShowText:{type:Boolean,default:!0},defaultButtonStyle:{type:String,default:""},isDblClickBind:{type:Boolean,default:!1},isMobile:{type:Boolean,default:!1}},data:function(){return{tableData:[{}],formModel:{}}},created:function(){this.currentData;var t=dsf.mix(!0,[],this.currentData);_.each(t,(function(t){dsf.isUnDef(t.id)&&(t.id=dsf.uuid())})),this.tableData=t},computed:{setRequestUrl:function(){return dsf.url.getWebPath("file/upload?db=1")}},mounted:function(){},methods:{rowClickHandler:function(t){this.formModel=t},addTab:function(){var t=this.tableData,e=t.length+1;this.tableData.push({key:"key".concat(e),name:"name".concat(e),hide:!1,dataUrl:"",noSearch:!1,customize:!1})},removeTab:function(t){dsf.array.remove(this.tableData,t)},up:function(t){var e=_.findIndex(this.tableData,(function(e){return e==t}));if(e>0){var n=this.tableData[e-1];this.$set(this.tableData,e-1,t),this.$set(this.tableData,e,n)}},down:function(t){var e=_.findIndex(this.tableData,(function(e){return e==t}));if(e>0){var n=this.tableData[e+1];this.$set(this.tableData,e+1,t),this.$set(this.tableData,e,n)}},validate:function(){var t=this.tableData,e=t.some((function(e){var n=0;if(t.map((function(t){t.key==e.key&&n++})),n>1)return dsf.layer.message("请解决重复".concat(e.key,"标识"),!1),!0}));return!e},yes:function(){return this.tableData}}},a=o,s=n(0),l=Object(s["a"])(a,i,r,!1,null,null,null);l.options.__file="designer/setting/tabsListSetting.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",[n("el-main",{staticStyle:{padding:"0px"}},[n("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[t.noUrl||t.config&&t.config.noUrl?t._e():n("el-form-item",{attrs:{label:"弹出地址"}},[n("el-input",{attrs:{placeholder:"支持表达式@[url]"},model:{value:t.form.url,callback:function(e){t.$set(t.form,"url",e)},expression:"form.url"}}),n("div",{staticStyle:{"line-height":"20px",color:"#999"}},[t._v(" 4.0兼容 #/iframeloader?src=xxx(需要转码)"),n("br"),t._v(" 主框架兼容 /index.html#/iframeloader?src=xxx(需要转码) ")])],1),n("el-form-item",{attrs:{label:"打开方式"}},[n("el-radio",{attrs:{label:4},model:{value:t.form.state,callback:function(e){t.$set(t.form,"state",e)},expression:"form.state"}},[t._v("当前页面打开")]),n("el-radio",{attrs:{label:3},model:{value:t.form.state,callback:function(e){t.$set(t.form,"state",e)},expression:"form.state"}},[t._v("对话框打开")]),n("el-radio",{attrs:{label:2},model:{value:t.form.state,callback:function(e){t.$set(t.form,"state",e)},expression:"form.state"}},[t._v("新建窗口打开")])],1),3==t.form.state||5==t.form.state?[n("el-form-item",{attrs:{label:"标题"}},[n("el-input",{model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),n("el-form-item",{attrs:{label:"宽度"}},[n("el-input",{model:{value:t.form.width,callback:function(e){t.$set(t.form,"width",e)},expression:"form.width"}})],1),n("el-form-item",{attrs:{label:"高度"}},[n("el-input",{model:{value:t.form.height,callback:function(e){t.$set(t.form,"height",e)},expression:"form.height"}})],1)]:t._e()],2)],1)],1)},r=[];i._withStripped=!0;var o=n(6),a={name:"ToUrlEdit",mixins:[$mixins.propertyDialogSetting],props:{noUrl:{type:Boolean,default:!1}},data:function(){return{form:{url:"",state:2,title:"对话框标题",width:"1000px",height:"60vh"}}},created:function(){this.form=Object(o["a"])(Object(o["a"])({},this.form),this.currentData||{})},methods:{yes:function(){return this.form}}},s=a,l=n(0),c=Object(l["a"])(s,i,r,!1,null,null,null);c.options.__file="designer/setting/toUrlEdit.vue";e["default"]=c.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-tabs",{staticClass:"ds-enum-editor",attrs:{type:"border-card"},model:{value:t.tabIndex,callback:function(e){t.tabIndex=e},expression:"tabIndex"}},[n("el-tab-pane",{attrs:{name:"1",label:"元数据"}},[n("enum-editor-item",{ref:"meta",attrs:{type:"meta","tree-data":t.treeData1,"default-checked-key":t.defaultCheckedKey1,"table-post":t.tablePost,"tree-loading":t.loading[0],"empty-text":"请选择元数据","name-key":"name","id-key":"treeinfo_globalid"},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}})],1),t.config&&t.config.other&&"ds"==t.config.other.exclude?t._e():n("el-tab-pane",{attrs:{name:"2",label:"数据源"}},[n("enum-editor-item",{attrs:{type:"ds","tree-data":t.treeData2,"default-checked-key":t.defaultCheckedKey2,"table-post":t.tablePost,"hide-right":!0,"tree-loading":t.loading[1],"empty-text":"请选择数据源","name-key":"name","id-key":"treeinfo_globalid"},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}})],1),t.showStatic?n("el-tab-pane",{attrs:{name:"3",label:"静态数据"}},[n("DesStaticTreeData",{ref:"staticBox",attrs:{value:t.staticV}})],1):t._e()],1)},r=[];i._withStripped=!0;n(64),n(38),n(16);var o=n(246),a={name:"TreeDataSource",components:{EnumEditorItem:o["default"]},mixins:[$mixins.propertyDialogSetting],data:function(){return{tabIndex:0,loaded:[!1,!1],loading:[!1,!1],value1:{type:"meta",code:"",attach:[]},value2:{type:"ds",code:null,attach:[]},treeData1:[],treeData2:[],showStatic:!1,staticV:[],defaultCheckedKey1:"",defaultCheckedKey2:"",tablePost:function(){}}},watch:{tabIndex:function(t){t>2||(!this.loaded[t-1]&&this["postData"+t]&&this["postData"+t](),this.$set(this.loaded,parseInt(t)-1,!0))}},created:function(){var t,e;this.showStatic=!(null===(t=this.config)||void 0===t||!t.static)&&(null===(e=this.owner)||void 0===e?void 0:e.$isPrototype),this.currentData&&void 0!==this.currentData.type?this.init(this.currentData):this.$attrs&&this.$attrs.chooseMetaData&&this.$attrs.chooseMetaData.code?this.init(this.$attrs.chooseMetaData):this.tabIndex="1"},methods:{init:function(t){var e=t.type,n=t.attach,i=t.code,r=t.chooseKey,o=dsf.mix(!0,[],n);"meta"===e?(this.value1={type:e,attach:o,code:i,chooseKey:r},this.defaultCheckedKey1=r,this.tabIndex="1"):"ds"===e?(this.value2={type:e,attach:o,code:i,chooseKey:r},this.defaultCheckedKey2=r,this.tabIndex="2"):"static"===e&&(this.staticV=o,this.tabIndex="3")},validate:function(){return 3==this.tabIndex||(this.$refs.meta.getResult(),!!this["value"+this.tabIndex]["code"]||(dsf.layer.message("请选择"+("1"===this.tabIndex?"元数据以及右侧具体节点名称字段":"数据源"),!1),!1))},yes:function(){return"3"==this.tabIndex?{type:"static",attach:this.$refs.staticBox.yes()}:this["value"+this.tabIndex]},postData1:function(){var t=this;this.$set(this.loading,0,!0),this.$http.get("rm/list/meta",{namespace:""}).then((function(e){var n=e.data;n.success?(t.treeData1=n.data.map((function(e){return t.dataFormat(e,"1")})),t.$nextTick((function(){t.$refs.meta.initMetaTable()}))):dsf.layer.message("请求异常！",!1)})).finally((function(){t.$set(t.loading,0,!1)}))},postData2:function(){var t=this;this.$set(this.loading,1,!0),this.$http.get("/rm/list/ds",{namespace:""}).then((function(e){var n=e.data;n.success?t.treeData2=n.data.map((function(e){return t.dataFormat(e,"2")})):dsf.layer.message("请求异常！",!1)})).finally((function(){t.$set(t.loading,1,!1)}))},dataFormat:function(t,e){var n=this;return"3"!=t.type_value&&"8"!=t.type_value&&(t.nocheck=!0),"3"==t.type_value||"8"==t.type_value||t.children||(t.iconSkin="_special"),t.children&&(t.children=t.children.map((function(t){return n.dataFormat(t,e)}))),t}}},s=a,l=n(0),c=Object(l["a"])(s,i,r,!1,null,null,null);c.options.__file="designer/setting/treeDataSource.vue";e["default"]=c.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{staticClass:"tree-selector-edit"},[n("el-header",{staticStyle:{padding:"10px 0px","text-align":"right"}},[n("DsfButton",{attrs:{icon:"iconfont icon-zidingyi"},on:{click:t.add}},[t._v("添加")]),n("DsfButton",{attrs:{icon:"iconfont icon-Magnifier"},on:{click:t.openIcon}},[t._v("图标库")])],1),n("el-main",{staticStyle:{padding:"0px"}},[n("el-table",{ref:"table",staticClass:"ds-table",attrs:{border:!0,data:t.tableData}},[n("el-table-column",{attrs:{label:"条件","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{attrs:{placeholder:"支持表达式"},model:{value:e.row.code,callback:function(n){t.$set(e.row,"code",n)},expression:"scope.row.code"}})]}}])}),n("el-table-column",{attrs:{label:"节点展开时图标","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{attrs:{placeholder:"空则为无图标"},model:{value:e.row.iconExpand,callback:function(n){t.$set(e.row,"iconExpand",n)},expression:"scope.row.iconExpand"}})]}}])}),n("el-table-column",{attrs:{label:"节点折叠时图标","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{attrs:{placeholder:"空则为无图标"},model:{value:e.row.iconFold,callback:function(n){t.$set(e.row,"iconFold",n)},expression:"scope.row.iconFold"}})]}}])}),n("el-table-column",{attrs:{label:"图标颜色","header-align":"center",align:"center",width:"110"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{attrs:{placeholder:"空则为原色图标"},model:{value:e.row.color,callback:function(n){t.$set(e.row,"color",n)},expression:"scope.row.color"}})]}}])}),n("el-table-column",{attrs:{label:"操作","header-align":"center",align:"center",width:120},scopedSlots:t._u([{key:"default",fn:function(e){return[n("DsfButton",{staticStyle:{"min-width":"auto","margin-left":"5px"},attrs:{size:"small",title:"插入",icon:"hao","btn-style":"icon-text"},on:{click:function(n){return t.insert(e)}}}),n("DsfButton",{staticStyle:{"min-width":"auto","margin-left":"5px"},attrs:{size:"small",title:"删除",icon:"guanbi2","btn-style":"icon-text"},on:{click:function(n){return t.deleted(e)}}}),n("DsfButton",{staticStyle:{"min-width":"auto","margin-left":"5px"},attrs:{size:"small",title:"上移",icon:"shang","btn-style":"icon-text"},on:{click:function(n){return t.up(e)}}}),n("DsfButton",{staticStyle:{"min-width":"auto","margin-left":"5px"},attrs:{size:"small",title:"下移",icon:"xia","btn-style":"icon-text"},on:{click:function(n){return t.down(e)}}})]}}])})],1)],1)],1)},r=[];i._withStripped=!0;n(33);var o={name:"TreeIconEdit",mixins:[$mixins.propertyDialogSetting],data:function(){return{tableData:[],names:[],isOuaSelect:!1}},created:function(){this.tableData=this.currentData||[]},methods:{newTab:function(){return{code:"",iconExpand:"",iconFold:"",color:""}},add:function(){this.tableData.push(this.newTab())},insert:function(t){this.tableData.splice(t.$index+1,0,this.newTab())},deleted:function(t){dsf.array.remove(this.tableData,t.row)},up:function(t){if(t.$index>0){var e=this.tableData[t.$index],n=t.$index;dsf.array.remove(this.tableData,e),this.tableData.splice(n-1,0,e)}},down:function(t){if(this.tableData.length-1>t.$index){var e=this.tableData[t.$index],n=t.$index;dsf.array.remove(this.tableData,e),this.tableData.splice(n+1,0,e)}},openIcon:function(){window.open(dsf.url.getWebPath("$/iconfont/".concat(dsf.config.runType,"/demo_index.html")),"icondemo")},yes:function(){return this.tableData}}},a=o,s=n(0),l=Object(s["a"])(a,i,r,!1,null,null,null);l.options.__file="designer/setting/treeIconEdit.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tree-img-list"},t._l(t.imgList,(function(e){return i("div",{key:e.name,staticClass:"img-box",class:{active:e.icon===t.chooseIcon},on:{click:function(n){return t.addClass(e)}}},[i("el-image",{attrs:{alt:e.item,src:n(762)("./"+e.showIcon+".png")}}),i("p",{staticClass:"demonstration"},[t._v(" "+t._s(e.icon)+" ")])],1)})),0)},r=[];i._withStripped=!0;n(46);var o={name:"DesTreeImgList",mixins:[$mixins.propertyDialogSetting],props:{treeList:{type:Object,default:function(){return{}}}},data:function(){return{imgList:[],chooseIcon:"",urlPath:"../../../assets/styles/themes/tree_img/"}},created:function(){this.getTreeImgList()},mounted:function(){},methods:{addClass:function(t){this.chooseIcon=t.icon,this.treeList.icon=t.icon?this.urlPath+t.icon+".png":""},getTreeImgList:function(){var t=this;this.$http.get("./static/other/treeImgList.json").done((function(e){t.imgList=e[t.treeList.imgType];var n=t.treeList.icon;t.chooseIcon=n?n.slice(t.urlPath.length,-4):""})).error((function(t){dsf.error(t)}))}}},a=o,s=n(0),l=Object(s["a"])(a,i,r,!1,null,null,null);l.options.__file="designer/setting/treeImgList.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",[n("el-header",{staticStyle:{"padding-right":"10px","text-align":"right"}},[n("DsfButton",{on:{click:t.addCol}},[t._v("新增")])],1),n("el-main",{staticStyle:{padding:"0px"}},[n("el-table",{staticClass:"ds-table",attrs:{border:!0,data:t.tableData,size:"small","highlight-current-row":!0}},[n("el-table-column",{attrs:{label:"节点类型","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{attrs:{placeholder:"请输入"},model:{value:e.row.typeName,callback:function(n){t.$set(e.row,"typeName",n)},expression:"scope.row.typeName"}})]}}])}),n("el-table-column",{attrs:{label:"图标类型","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-select",{attrs:{placeholder:"请选择"},on:{change:function(n){return t.changeProperty(e.row,e.$index)}},model:{value:e.row.imgType,callback:function(n){t.$set(e.row,"imgType",n)},expression:"scope.row.imgType"}},t._l(t.imgType,(function(t){return n("el-option",{key:t.value,attrs:{label:t.name,value:t.value}})})),1)]}}])}),n("el-table-column",{attrs:{label:"节点图标","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text"},on:{click:function(n){return t.openIconDialog(e.row)}}},[t._v(" "+t._s(e.row.icon?t.sliceIcon(e.row.icon):"选择图标")+" ")])]}}])}),n("el-table-column",{attrs:{label:"操作","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text"},on:{click:function(n){return t.deleted(e)}}},[t._v("删除")])]}}])})],1)],1)],1)},r=[];i._withStripped=!0;n(46),n(33),n(52),n(16);var o={name:"DesTreeImgSet",mixins:[$mixins.propertyDialogSetting],data:function(){return{tableData:[],imgType:[{name:"请选择类型",value:""},{name:"文件类型",value:"file"},{name:"用户类型",value:"user"},{name:"数据类型",value:"data"},{name:"组织类型",value:"unit"}],path:"../../../assets/styles/themes/tree_img/"}},mounted:function(){this.owner.iconMap&&(this.tableData=this.owner.iconMap)},methods:{sliceIcon:function(t){return t?t.slice(this.path.length):""},addCol:function(){var t={typeName:"",imgType:"",icon:""};this.tableData.push(t)},changeProperty:function(t,e){t.icon&&(this.tableData[e].icon="")},deleted:function(t){var e=this;dsf.layer.confirm("确定要删除【".concat(t.row.typeName,"】节点类型吗?")).then((function(){e.tableData.splice(t.$index,1)})).catch((function(t){return t}))},validate:function(){return-1!==_.findIndex(this.tableData,(function(t){return""===t.typeName}))?(dsf.layer.message("请输入节点类型",!1),!1):this.isRepeat(_.map(this.tableData,"typeName"))?(dsf.layer.message("一种节点类型只能配置一次",!1),!1):void 0},isRepeat:function(t){var e={};for(var n in t){if(e[t[n]])return!0;e[t[n]]=!0}return!1},yes:function(){return this.tableData},openIconDialog:function(t){if(!t.imgType)return dsf.layer.message("请先选择图标类型",!1),!1;dsf.layer.openDialog({title:"树图标选择",fullscreen:!1,content:"DesTreeImgList",params:{treeList:t},width:"500px",height:"350px",btns:[{text:"确定",handler:function(t){}},{text:"取消"}]})}}},a=o,s=n(0),l=Object(s["a"])(a,i,r,!1,null,null,null);l.options.__file="designer/setting/treeImgSet.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{staticClass:"tree-selector-edit"},[n("el-header",{staticStyle:{padding:"10px 0px","text-align":"right"}},[n("DsfButton",{on:{click:t.add}},[t._v("新增")])],1),n("el-main",{staticStyle:{padding:"0px"}},[n("el-table",{ref:"table",staticClass:"ds-table",attrs:{border:!0,data:t.tableData,"row-class-name":t.tableRowClassName}},[n("el-table-column",{attrs:{label:"显示名称","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{model:{value:e.row.title,callback:function(n){t.$set(e.row,"title",n)},expression:"scope.row.title"}})]}}])}),n("el-table-column",{attrs:{label:"复选框模式","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-select",{attrs:{placeholder:"启用/不启用"},model:{value:e.row.showCheckBox,callback:function(n){t.$set(e.row,"showCheckBox",n)},expression:"scope.row.showCheckBox"}},[n("el-option",{attrs:{label:"启用",value:"1"}}),n("el-option",{attrs:{label:"不启用",value:"0"}})],1)]}}])}),n("el-table-column",{attrs:{label:"选择条件","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{attrs:{placeholder:"无"},model:{value:e.row.types,callback:function(n){t.$set(e.row,"types",n)},expression:"scope.row.types"}})]}}])},[n("template",{slot:"header"},[n("el-popover",{attrs:{trigger:"hover",placement:"top"}},[n("p",[t._v("支持表达式，严格区分值类型；比如:@[isExist(_type,1,2,'3')]")]),n("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[n("div",[t._v("选择条件")])])])],1)],2),n("el-table-column",{attrs:{label:"父子关联状态","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-select",{attrs:{placeholder:"关联/不关联"},model:{value:e.row.chooseOneNode,callback:function(n){t.$set(e.row,"chooseOneNode",n)},expression:"scope.row.chooseOneNode"}},[n("el-option",{attrs:{label:"关联(不带父级)",value:"2"}}),n("el-option",{attrs:{label:"关联(带父级)",value:"1"}}),n("el-option",{attrs:{label:"不关联",value:"0"}})],1)]}}])},[n("template",{slot:"header"},[n("el-popover",{attrs:{trigger:"hover",placement:"top"}},[n("p",[t._v(" 选中一个节点后，父子节点的选中状态是否受当前节点选中状态影响 ")]),n("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[n("div",[t._v("父子关联状态")])])])],1)],2),n("el-table-column",{attrs:{label:"初始化展开层级","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{attrs:{placeholder:"不设置则为展开所有"},model:{value:e.row.defaultOpenSeries,callback:function(n){t.$set(e.row,"defaultOpenSeries",n)},expression:"scope.row.defaultOpenSeries"}})]}}])}),t.isOuaSelect?n("el-table-column",{attrs:{label:"数据类型","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.row.metaDataType,callback:function(n){t.$set(e.row,"metaDataType",n)},expression:"scope.row.metaDataType"}},[n("el-option",{attrs:{label:"本部门",value:"2"}}),n("el-option",{attrs:{label:"本单位",value:"3"}}),n("el-option",{attrs:{label:"组织架构",value:"4"}})],1)]}}],null,!1,1136998362)}):n("el-table-column",{attrs:{label:"数据类型","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.row.metaDataType,callback:function(n){t.$set(e.row,"metaDataType",n)},expression:"scope.row.metaDataType"}},[n("el-option",{attrs:{label:"接口",value:"0"}}),n("el-option",{attrs:{label:"元数据组",value:"1"}})],1)]}}])}),n("el-table-column",{attrs:{label:"数据详情","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1*e.row.metaDataType>1?n("div",[n("el-select",{attrs:{placeholder:"显示类型",title:"选择显示类型：人员、部门，两者的请求接口不一样。"},model:{value:e.row.showType,callback:function(n){t.$set(e.row,"showType",n)},expression:"scope.row.showType"}},[n("el-option",{attrs:{label:"人员类型",value:"user"}}),n("el-option",{attrs:{label:"部门类型",value:"dept"}})],1),"4"==e.row.metaDataType&&"user"==e.row.showType?n("el-select",{attrs:{placeholder:"仅显示子机构",title:"是否仅显示子机构"},model:{value:e.row.showSubDept,callback:function(n){t.$set(e.row,"showSubDept",n)},expression:"scope.row.showSubDept"}},[n("el-option",{attrs:{label:"仅显示子机构",value:"1"}}),n("el-option",{attrs:{label:"不仅显示子机构",value:"0"}})],1):t._e(),"4"==e.row.metaDataType?n("el-input",{attrs:{title:"组织架构显示层级（0代表子机构）"},model:{value:e.row.showLevel,callback:function(n){t.$set(e.row,"showLevel",n)},expression:"scope.row.showLevel"}},[n("template",{slot:"prepend"},[t._v("显示第")]),n("template",{slot:"append"},[t._v("级")])],2):t._e()],1):"1"!=e.row.metaDataType?n("el-input",{attrs:{disabled:"0"!=e.row.metaDataType,placeholder:"支持表达式",title:"数据请求地址"},model:{value:e.row.sqlUrl,callback:function(n){t.$set(e.row,"sqlUrl",n)},expression:"scope.row.sqlUrl"}}):n("el-button",{attrs:{type:"text"},on:{click:function(n){return t.setChooseMetaData(e)}}},[t._v(" 选择元数据组 ")])]}}])}),n("el-table-column",{attrs:{label:"操作","header-align":"center",align:"center",width:120},scopedSlots:t._u([{key:"default",fn:function(e){return[n("DsfButton",{staticStyle:{"min-width":"auto","margin-left":"5px"},attrs:{size:"small",title:"插入",icon:"hao","btn-style":"icon-text"},on:{click:function(n){return t.insert(e)}}}),n("DsfButton",{staticStyle:{"min-width":"auto","margin-left":"5px"},attrs:{size:"small",title:"删除",icon:"guanbi2","btn-style":"icon-text"},on:{click:function(n){return t.deleted(e)}}}),n("DsfButton",{staticStyle:{"min-width":"auto","margin-left":"5px"},attrs:{size:"small",title:"上移",icon:"shang","btn-style":"icon-text"},on:{click:function(n){return t.up(e)}}}),n("DsfButton",{staticStyle:{"min-width":"auto","margin-left":"5px"},attrs:{size:"small",title:"下移",icon:"xia","btn-style":"icon-text"},on:{click:function(n){return t.down(e)}}})]}}])})],1)],1)],1)},r=[];i._withStripped=!0;n(23),n(33);var o={name:"TreeSelectorEdit",mixins:[$mixins.propertyDialogSetting],data:function(){return{tableData:[],names:[],isOuaSelect:!1}},created:function(){this.config.params&&"checkNode"==this.config.params.type&&(this.isOuaSelect=!0),this.tableData=this.currentData||[]},methods:{tableRowClassName:function(t){var e=t.row,n=t.rowIndex,i="";if(e.title){this.names[n]="";var r=this.names.indexOf(e.title);-1!=r&&r<n&&(i="warning-row"),this.names[n]=e.title}return i},newTab:function(){return{title:"Tab"+(this.tableData.length+1),showCheckBox:"0",types:"",chooseOneNode:"1",defaultOpenSeries:"1",metaDataType:this.isOuaSelect?"2":"0",showType:"user",showSubDept:"1",showLevel:"0",chooseMetaData:{},sqlUrl:"",async:"0",controls:[],name:dsf.uuid(),error:!1}},add:function(){this.tableData.push(this.newTab())},insert:function(t){this.tableData.splice(t.$index+1,0,this.newTab())},deleted:function(t){dsf.array.remove(this.tableData,t.row)},up:function(t){if(t.$index>0){var e=this.tableData[t.$index],n=t.$index;dsf.array.remove(this.tableData,e),this.tableData.splice(n-1,0,e)}},down:function(t){if(this.tableData.length-1>t.$index){var e=this.tableData[t.$index],n=t.$index;dsf.array.remove(this.tableData,e),this.tableData.splice(n+1,0,e)}},validate:function(){for(var t in this.tableData){this.tableData[t]["title"]=this.tableData[t]["title"]||dsf.uuid();var e=this.names.indexOf(this.tableData[t]["title"]);if(-1!=e&&e<t)return dsf.layer.message("请解决重复名称",!1),!1}return!0},yes:function(){return this.tableData},setChooseMetaData:function(t){var e=this;dsf.layer.openDialog({title:"请选择",fullscreen:!1,width:"1000px",overflow:"hidden",content:"TreeDataSource",params:{chooseMetaData:e["tableData"][t.$index].chooseMetaData},btns:[{text:"确定",handler:function(n){var i=n.validate();if(!i)return!1;e["tableData"][t.$index].chooseMetaData=n.yes()}},{text:"取消"}]})}}},a=o,s=n(0),l=Object(s["a"])(a,i,r,!1,null,null,null);l.options.__file="designer/setting/treeSelectorEdit.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",[n("el-row",{staticStyle:{width:"100%"}},[n("el-col",{attrs:{span:6}},[n("el-checkbox",{attrs:{border:"",indeterminate:t.isIndeterminate},on:{change:t.chooseAll},model:{value:t.checkAll,callback:function(e){t.checkAll=e},expression:"checkAll"}},[t._v("全选")]),n("ul",{staticClass:"check-list"},t._l(t.tools,(function(e,i){return n("li",{key:e.val},[n("el-checkbox",{attrs:{label:e.val,value:e.checked,checked:!1,name:"type"},on:{change:function(n){return t.chooseItem(e,i)}}},[t._v(t._s(e.text))])],1)})),0)],1),n("el-col",{attrs:{span:18}},[n("div",{staticClass:"ue-container"},[n("div",{attrs:{id:"u_template"}})])])],1)],1)},r=[];i._withStripped=!0;var o=n(472),a=(n(16),n(52),n(33),n(24),n(25),n(48),{name:"DesUeditorToolbar",mixins:[$mixins.propertyDialogSetting],data:function(){return{checkAll:!1,tools:[{val:"fullscreen",text:"全屏"},{val:"source",text:"源代码"},{val:"undo",text:"撤销"},{val:"redo",text:"重做"},{val:"bold",text:"加粗"},{val:"italic",text:"斜体"},{val:"underline",text:"下划线"},{val:"fontborder",text:"字符边框"},{val:"strikethrough",text:"删除线"},{val:"superscript",text:"上标"},{val:"subscript",text:"下标"},{val:"removeformat",text:"清除格式"},{val:"formatmatch",text:"格式刷"},{val:"autotypeset",text:"自动排版"},{val:"blockquote",text:"引用"},{val:"pasteplain",text:"纯文本粘贴模式"},{val:"forecolor",text:"字体颜色"},{val:"backcolor",text:"背景色"},{val:"insertorderedlist",text:"有序列表"},{val:"insertunorderedlist",text:"无序列表"},{val:"selectall",text:"全选"},{val:"cleardoc",text:"清空文档"},{val:"rowspacingtop",text:"段前距"},{val:"rowspacingbottom",text:"段后距"},{val:"lineheight",text:"行间距"},{val:"customstyle",text:"自定义标题"},{val:"paragraph",text:"段落"},{val:"fontfamily",text:"字体"},{val:"fontsize",text:"字号"},{val:"directionalityltr",text:"从左向右输入"},{val:"directionalityrtl",text:"从右向左输入"},{val:"indent",text:"首行缩进"},{val:"justifyleft",text:"居左对齐"},{val:"justifycenter",text:"居中对齐"},{val:"justifyright",text:"居右对齐"},{val:"justifyjustify",text:"两端对齐"},{val:"touppercase",text:"字母大写"},{val:"tolowercase",text:"字母小写"},{val:"link",text:"超链接"},{val:"unlink",text:"取消链接"},{val:"anchor",text:"锚点"},{val:"imagenone",text:"图片位置默认"},{val:"imageleft",text:"图片左浮动"},{val:"imageright",text:"图片右浮动"},{val:"imagecenter",text:"图片居中"},{val:"simpleupload",text:"单图上传"},{val:"insertimage",text:"多图上传"},{val:"emotion",text:"表情"},{val:"scrawl",text:"涂鸦"},{val:"insertvideo",text:"插入视频"},{val:"music",text:"音乐"},{val:"attachment",text:"附件"},{val:"map",text:"百度地图"},{val:"gmap",text:"Google地图"},{val:"insertframe",text:"插入Iframe"},{val:"insertcode",text:"插入代码"},{val:"webapp",text:"百度应用"},{val:"pagebreak",text:"分页"},{val:"template",text:"模板"},{val:"background",text:"背景"},{val:"horizontal",text:"分隔线"},{val:"date",text:"日期"},{val:"time",text:"时间"},{val:"spechars",text:"特殊字符"},{val:"snapscreen",text:"截图"},{val:"wordimage",text:"图片转存"},{val:"inserttable",text:"插入表格"},{val:"deletetable",text:"删除表格"},{val:"insertparagraphbeforetable",text:"表格前插入行"},{val:"insertrow",text:"表格插入行"},{val:"deleterow",text:"表格删除行"},{val:"insertcol",text:"表格插入列"},{val:"deletecol",text:"表格删除列"},{val:"mergecells",text:"表格合并多个单元格"},{val:"mergeright",text:"表格右合并单元格"},{val:"mergedown",text:"表格下合并单元格"},{val:"splittocells",text:"表格完全拆分单元格"},{val:"splittorows",text:"表格拆分成行"},{val:"splittocols",text:"表格拆分成列"},{val:"charts",text:"图表"},{val:"print",text:"打印"},{val:"preview",text:"预览"},{val:"searchreplace",text:"查询替换"},{val:"drafts",text:"从草稿箱加载"},{val:"help",text:"帮助"}],checkedTools:this.owner.toolBar,isIndeterminate:!1,dialogUe:null}},watch:{checkedTools:function(){c.call(this)}},created:function(){var t,e=this,n=e.tools.map((function(t){return t.checked=!1,t})),i=Object(o["a"])(e.checkedTools);try{var r=function(){var e=t.value,i=n.findIndex((function(t){return t.val===e}));n[i].checked=!0};for(i.s();!(t=i.n()).done;)r()}catch(err){i.e(err)}finally{i.f()}e.tools=n,l.call(e)},mounted:function(){c.call(this)},methods:{chooseItem:function(t,e){var n=this,i=_.assign({},t,{checked:!t.checked});n.tools.splice(e,1,i),s.call(n),l.call(n)},chooseAll:function(){var t=this;t.isIndeterminate=!1,t.checkAll?t.tools.forEach((function(t){t.checked=!0})):t.tools.forEach((function(t){t.checked=!1})),s.call(t)},yes:function(){return this.dialogUe.destroy(),this.checkedTools}}});function s(){var t,e=this,n=[],i=Object(o["a"])(e.tools);try{for(i.s();!(t=i.n()).done;){var r=t.value;r.checked&&n.push(r.val)}}catch(err){i.e(err)}finally{i.f()}e.checkedTools=n}function l(){var t=this,e=!t.tools.find((function(t){return!t.checked}));if(e)return t.checkAll=!0,void(t.isIndeterminate=!1);var n=t.tools.findIndex((function(t){return t.checked}));if(-1!==n)return t.checkAll=!1,void(t.isIndeterminate=!0);t.checkAll=!1,t.isIndeterminate=!1}function c(){var t=this;t.dialogUe&&t.dialogUe.destroy(),t.dialogUe=UE.getEditor("u_template",{autoHeightEnabled:!1,toolbars:[t.checkedTools],UEDITOR_HOME_URL:dsf.url.getWebPath("$/js/libs/UEditor/")}),t.dialogUe.ready((function(){u.call(t)}))}function u(){var t=this;$("#u_template").css("width","100%"),t.dialogUe.setHeight(390)}var f=a,d=(n(828),n(0)),h=Object(d["a"])(f,i,r,!1,null,"63b1551e",null);h.options.__file="designer/setting/ueditorToolbar.vue";e["default"]=h.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.tabsValue,callback:function(e){t.tabsValue=e},expression:"tabsValue"}},[n("el-tab-pane",{attrs:{label:"常用列表",name:"0"}},[n("el-form",{ref:"form"},t._l(t.fileExtArr,(function(e,i){return n("el-form-item",{key:i,attrs:{label:e.itemName}},[n("el-checkbox-group",{on:{change:t.handleCheckedChange},model:{value:t.fileExtArr[i].checkStatus,callback:function(e){t.$set(t.fileExtArr[i],"checkStatus",e)},expression:"fileExtArr[index].checkStatus"}},[n("el-checkbox",{attrs:{label:e.file.value,title:e.file.title}},[t._v(" "+t._s(e.file.title)+" ")])],1)],1)})),1)],1),n("el-tab-pane",{attrs:{label:"个性化配置",name:"1"}},[n("el-form",{ref:"formSel"},[n("el-form-item",{attrs:{label:"允许上传文件类型"}},[n("el-select",{attrs:{placeholder:"请选择活动区域"},on:{change:t.handleFileType},model:{value:t.fileType,callback:function(e){t.fileType=e},expression:"fileType"}},[n("el-option",{attrs:{value:"file",label:"file(所有文件)"}}),n("el-option",{attrs:{value:"images",label:"images（图片）"}}),n("el-option",{attrs:{value:"video",label:"video（视频）"}}),n("el-option",{attrs:{value:"audio",label:"audio（音频）"}})],1)],1),n("p",[t._v("允许上传文件后缀")]),t._l(t.fileExtArr,(function(e,i){return[t.fileShow(e)?n("el-form-item",{key:i,attrs:{label:e.itemName}},[n("el-checkbox-group",{on:{change:t.handleCheckedChange},model:{value:t.fileExtArr[i].checkType,callback:function(e){t.$set(t.fileExtArr[i],"checkType",e)},expression:"fileExtArr[index].checkType"}},t._l(e.children,(function(e,i){return n("el-checkbox",{key:i+"_sel",attrs:{label:e.title+"&"+e.value,title:e.title}},[t._v(" "+t._s(e.title)+" ")])})),1)],1):t._e()]})),n("p"),n("el-form-item",{attrs:{label:"是否在文件筛选框中显示指定类型文件"}},[n("el-switch",{attrs:{"inactive-color":"#d2d2d2"},model:{value:t.isLinkeMine,callback:function(e){t.isLinkeMine=e},expression:"isLinkeMine"}})],1),t.choosenExtsStr?n("el-form-item",{attrs:{label:"已选上传文件后缀"}},[t._v(" "+t._s(t.choosenExtsStr)+" ")]):t._e(),n("p")],2)],1)],1)},r=[];i._withStripped=!0;n(16),n(185),n(196),n(15),n(26),n(28),n(10),n(36),n(24),n(25);var o={name:"DesUploadFileAttr",mixins:[$mixins.propertyDialogSetting],data:function(){return{tabsValue:"0",allowExtObj:{},fileExtArr:[],isLinkeMine:!0,extsSetting:{},fileType:"file",choosenExtsStr:""}},computed:{},created:function(){this.tabsValue=this.owner.extsSetting.tabIndex||"0",this.getExtObj()},methods:{fileShow:function(t){var e=this;return"images"!=this.fileType&&"video"!=this.fileType&&"audio"!=this.fileType||(_.each(this.fileExtArr,(function(t){t.itemKey!=e.fileType&&(t.checkType=[])})),t.itemKey==this.fileType)},getExtObj:function(){var t=this;this.$http.get("./static/other/uploadFileExt.json").done((function(e){t.allowExtObj=e,t.fileExtArr=e.file,_.map(t.fileExtArr,(function(e){if(t.owner.extsSetting.CheckedNameStr){var n=t.owner.extsSetting.CheckedNameStr;e.checkStatus=n.includes(e.itemKey)}else{var i=t.owner.extsSetting.extStr;i&&(e.checkType=_.map(e.children,(function(t){return i.includes(t.name)?t.title+"&"+t.value:""})),t.choosenExtsStr=_.filter(i.split(","),(function(t){return""!==t})).join(),t.isLinkeMine=t.owner.extsSetting.isLinkeMine,t.fileType=t.owner.extsSetting.fileType)}e.file={title:_.map(e.children,(function(t){return t.title})).join(),value:_.map(e.children,(function(t){return t.value})).join()}}))})).error((function(t){dsf.error(t)}))},handleFileType:function(t){this.fileType=t},handleCheckedChange:function(){var t="",e="",n="",i=[],r=[];if("1"==this.tabsValue){var o=_.filter(this.fileExtArr,(function(t){return t.checkType.length}));_.map(o,(function(t){_(t.checkType).forEach((function(t){t.split("&")[0].substr(1)&&i.push(t.split("&")[0].substr(1)),t.split("&")[1]&&r.push(t.split("&")[1])}))})),e=i.join(","),n=r.join(","),this.choosenExtsStr=_.filter(e.split(","),(function(t){return""!==t})).join(),this.extsSetting={CheckedNameStr:t,extStr:e,mineStr:n}}else{var a=_.filter(this.fileExtArr,(function(t){return t.checkStatus}));_(a).forEach((function(i){t+=i.itemKey+",",e+=i.file.title+",",n+=i.file.value+","})),this.extsSetting={CheckedNameStr:t,extStr:e,mineStr:n}}},handleClick:function(t){this.tabsValue=t.index},yes:function(){return this.owner.extsSetting=Object.assign({},this.extsSetting,{fileType:this.fileType,isLinkeMine:this.isLinkeMine,tabIndex:this.tabsValue}),this.owner.extsSetting}}},a=o,s=(n(830),n(0)),l=Object(s["a"])(a,i,r,!1,null,"bbd5535a",null);l.options.__file="designer/setting/uploadFileAttr.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"control-filter-tree"},[n("dsf-tree-select",{attrs:{"tree-data":t.treeData,"node-key":"dsfa_rm_id","node-name":"name",loading:t.treeLoading,"default-checked-key":t.defaultCheckedKey,"search-control":"","default-expand-all":""},on:{"choose-node":function(e){t.radioData=e}}})],1)},r=[];i._withStripped=!0;n(38);var o=n(175),a={name:"DesUseLayoutTpl",components:{DsfTreeSelect:o["default"]},mixins:[$mixins.propertyDialogSetting],props:{isMobile:{type:Boolean,default:!1}},data:function(){return{treeData:[],treeLoading:!1,radioData:null,defaultCheckedKey:""}},created:function(){this.getDesignCtrl()},methods:{getDesignCtrl:function(){var t=this;this.loading=!0;var e="/rm/list/temp";this.isMobile&&(e="/rm/list/mobileTemp"),this.$http.get(e).done((function(e){e.success?t.treeData=e.data:dsf.layer.message(e.message,!1)})).error((function(t){dsf.layer.message(t.message,!1)})).finally((function(){t.loading=!1}))}}},s=a,l=n(0),c=Object(l["a"])(s,i,r,!1,null,null,null);c.options.__file="designer/setting/useLayoutTpl.vue";e["default"]=c.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{staticStyle:{height:"100%"}},[n("el-aside",{attrs:{width:"200px"}},[n("el-tree",{attrs:{data:t.valueAttributes,props:t.treeConfig,"highlight-current":!0,"node-key":"code","current-node-key":t.currentNodeKey},on:{"node-click":t.nodeClickHandler}})],1),n("el-main",{staticStyle:{overflow:"auto"}},[n("el-form",{attrs:{model:t.model,"label-width":"130px"}},[n("el-card",{staticStyle:{"margin-bottom":"10px"},scopedSlots:t._u([{key:"header",fn:function(){return[t._v(" 必填规则 ")]},proxy:!0}])},[n("el-form-item",{attrs:{label:"是否必填"}},[n("el-switch",{model:{value:t.model.required,callback:function(e){t.$set(t.model,"required",e)},expression:"model.required"}})],1),n("el-form-item",{attrs:{label:"错误提示"}},[n("el-input",{model:{value:t.model.errorMsg.required,callback:function(e){t.$set(t.model.errorMsg,"required",e)},expression:"model.errorMsg.required"}})],1)],1),n("el-card",{staticStyle:{"margin-bottom":"10px"},scopedSlots:t._u([{key:"header",fn:function(){return[t._v(" 类型规则 ")]},proxy:!0}])},[n("el-form-item",{attrs:{label:"是否是数字"}},[n("el-switch",{model:{value:t.model.isNumber,callback:function(e){t.$set(t.model,"isNumber",e)},expression:"model.isNumber"}})],1),n("el-form-item",{attrs:{label:"错误提示"}},[n("el-input",{model:{value:t.model.errorMsg.isNumber,callback:function(e){t.$set(t.model.errorMsg,"isNumber",e)},expression:"model.errorMsg.isNumber"}})],1)],1),n("el-card",{staticStyle:{"margin-bottom":"10px"},scopedSlots:t._u([{key:"header",fn:function(){return[t._v(" 精度规则 ")]},proxy:!0}])},[t.model.isNumber?[n("el-form-item",{attrs:{label:"最小数"}},[n("el-input",{on:{change:function(e){return t.checkNum("numberMin")}},model:{value:t.model.numberMin,callback:function(e){t.$set(t.model,"numberMin",e)},expression:"model.numberMin"}})],1),n("el-form-item",{attrs:{label:"错误提示"}},[n("el-input",{model:{value:t.model.errorMsg.numberMin,callback:function(e){t.$set(t.model.errorMsg,"numberMin",e)},expression:"model.errorMsg.numberMin"}})],1),n("el-form-item",{attrs:{label:"最大数"}},[n("el-input",{on:{change:function(e){return t.checkNum("numberMax")}},model:{value:t.model.numberMax,callback:function(e){t.$set(t.model,"numberMax",e)},expression:"model.numberMax"}})],1),n("el-form-item",{attrs:{label:"错误提示"}},[n("el-input",{model:{value:t.model.errorMsg.numberMax,callback:function(e){t.$set(t.model.errorMsg,"numberMax",e)},expression:"model.errorMsg.numberMax"}})],1),n("el-form-item",{attrs:{label:"小数点后保留位数"}},[n("el-input",{on:{change:function(e){return t.checkNum("precision",!0)}},model:{value:t.model.precision,callback:function(e){t.$set(t.model,"precision",e)},expression:"model.precision"}})],1),n("el-form-item",{attrs:{label:"错误提示"}},[n("el-input",{model:{value:t.model.errorMsg.precision,callback:function(e){t.$set(t.model.errorMsg,"precision",e)},expression:"model.errorMsg.precision"}})],1)]:[n("el-form-item",{attrs:{label:"字符串最小长度"}},[n("el-input",{attrs:{min:0},on:{change:function(e){return t.checkNum("min",!0)}},model:{value:t.model.min,callback:function(e){t.$set(t.model,"min",e)},expression:"model.min"}})],1),n("el-form-item",{attrs:{label:"错误提示"}},[n("el-input",{model:{value:t.errorMsg.min,callback:function(e){t.$set(t.errorMsg,"min",e)},expression:"errorMsg.min"}})],1),n("el-form-item",{attrs:{label:"字符串最大长度"}},[n("el-input",{attrs:{min:0},on:{change:function(e){return t.checkNum("max",!0)}},model:{value:t.model.max,callback:function(e){t.$set(t.model,"max",e)},expression:"model.max"}})],1),n("el-form-item",{attrs:{label:"错误提示"}},[n("el-input",{model:{value:t.model.errorMsg.max,callback:function(e){t.$set(t.model.errorMsg,"max",e)},expression:"model.errorMsg.max"}})],1)]],2),n("el-card",{staticStyle:{"margin-bottom":"10px"},scopedSlots:t._u([{key:"header",fn:function(){return[t._v(" 格式规则 ")]},proxy:!0}])},[n("el-form-item",{attrs:{label:"格式"}},[n("el-select",{staticStyle:{width:"100%"},model:{value:t.model.express,callback:function(e){t.$set(t.model,"express",e)},expression:"model.express"}},t._l(t.expressOptions,(function(t,e){return n("el-option",{key:e,attrs:{label:t.text||"无",value:t.value}})})),1)],1),n("el-form-item",{attrs:{label:"错误提示"}},[n("el-input",{model:{value:t.model.errorMsg.express,callback:function(e){t.$set(t.model.errorMsg,"express",e)},expression:"model.errorMsg.express"}})],1)],1)],1)],1)],1)},r=[];i._withStripped=!0;n(198),n(28),n(16),n(15),n(64),n(140),n(38),n(202);var o={name:"DesValidateRule",mixins:[$mixins.propertyDialogSetting],data:function(){return{activeName:"base",valueAttributes:[],currentNodeKey:"",treeConfig:{label:"name"},formModel:{},errorMsg:{required:"该项必须填写",isNumber:"该项必须填写数字",min:"该项长度不可小于@[min]个字符",max:"该项长度不可大于@[max]个字符",numberMin:"该项不可小于@[numberMin]",numberMax:"该项不可大于@[numberMax]",express:"@[expressName]格式不正确",precision:"小数点后最多保留@[precision]位小数",isPasswd:"请输入@[min]-@[max]位数字与字母组合，区分大小写"},javascript:"",expressOptions:[{expressName:"",text:"",value:""},{expressName:"身份证号码",text:"身份证号码",value:"isIDCard"},{expressName:"身份证号码",text:"身份证号码(强校验)",value:"isIDCardFull"},{expressName:"手机号码",text:"手机号码",value:"isMobile"},{expressName:"电话号码",text:"电话号码",value:"isTelPhone"},{expressName:"电话/手机号码",text:"电话/手机号码",value:"isMobileOrTelPhone"},{expressName:"电子邮箱",text:"电子邮箱",value:"isEmail"},{expressName:"车牌号",text:"车牌号",value:"isPlateNumber"},{expressName:"字母数字组合",text:"字母数字组合",value:"isCombination"},{expressName:"邮政编码",text:"邮政编码",value:"isPostcode"}],metaDataValidateConfig:null}},computed:{ownerCtrl:function(){return this.owner.$$getComponent()},model:function(){return this.formModel[this.currentNodeKey]}},created:function(){var t=this;this.valueAttributes=dsf.mix(!0,[],this.ownerCtrl.metadata.valueAttributes),this.currentNodeKey=this.valueAttributes[0].code,this.ownerCtrl.metadata.validate&&this.ownerCtrl.metadata.validate.config&&(this.metaDataValidateConfig=dsf.mix(!0,{},this.ownerCtrl.metadata.validate.config)),this.metaDataValidateConfig||(this.metaDataValidateConfig={}),_.each(this.valueAttributes,(function(e){var n=e.code;t.ownerCtrl.metadata&&(t.$set(t.metaDataValidateConfig,n,t.createValideConfig(n)),t.setFormModel(n,t.metaDataValidateConfig[n]))})),this.javascript=this.currentData&&this.currentData.code||""},methods:{yes:function(){var t=this,e={config:null,code:null},n="";if(n)return e.code=n,e;var i={},r=!1,o=function(e){var n=t.formModel[e],o=n.required,a=n.isNumber,s=n.isNumber?n.numberMin:n.min,l=n.isNumber?n.numberMax:n.max,c=n.isNumber?n.precision:"",u=n.express;if(!o&&!a&&!s&&!l&&!c&&!u)return"continue";var f=_.filter(t.expressOptions,(function(t){return t.value==n.express}));n.expressName=_.map(f,"expressName"),i[e]=n,o&&(r=!0)};for(var a in this.formModel)o(a);return"required"in this.owner&&(this.owner.required=r),0==Object.keys(i).length?null:(e.config=i,e)},createValideConfig:function(t){var e={required:!1,isNumber:!1,min:"",max:"",numberMax:"",numberMin:"",express:"",expressName:"",precision:"",errorMsg:dsf.mix({},this.errorMsg)};if(this.metaDataValidateConfig[t]){var n=this.metaDataValidateConfig[t];return dsf.mix(!0,e,n),dsf.mix(n,e)}return dsf.mix({},e)},setFormModel:function(t,e){var n={};n.required=e.required,n.isNumber=e.isNumber,n.numberMin="",n.numberMax="",n.max="",n.min="",n.precision="",e.isNumber?(n.numberMin=e.numberMin,n.numberMax=e.numberMax,n.precision=e.precision):(n.min=e.min,n.max=e.max),n.express=e.express,n.expressName=e.expressName,n.errorMsg=e.errorMsg,this.$set(this.formModel,t,n)},tabsCliekHandler:function(t){var e=this;this.$nextTick((function(){var n=t.name,i=n+"Editor";e.$refs[i]&&e.$refs[i].layout()}))},editorLoaded:function(t){var e=t+"Editor";this.$refs[e]&&this.$refs[e].setContent(this.javascript)},checkNum:function(t,e){if(this.model[t]){var n=e?parseInt:parseFloat;this.model[t]=n(this.model[t]).toString(),dsf.isNumber(this.model[t])||(this.model[t]="")}},nodeClickHandler:function(t){this.currentNodeKey=t.code}}},a=o,s=n(0),l=Object(s["a"])(a,i,r,!1,null,null,null);l.options.__file="designer/setting/validateRuleEdit.vue";e["default"]=l.exports},function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:!0}},[n("el-table-column",{attrs:{prop:"code",label:"标识",width:"100"}}),n("el-table-column",{attrs:{prop:"name",label:"描述"}}),n("el-table-column",{attrs:{prop:"typeValue",label:"数据类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-select",{on:{change:function(n){return t.typeChange(e.row,n)}},model:{value:e.row.typeValue,callback:function(n){t.$set(e.row,"typeValue",n)},expression:"scope.row.typeValue"}},t._l(t.getType(),(function(t){return n("el-option",{key:t.value,attrs:{label:t.text,value:t.value}})})),1)]}}])}),n("el-table-column",{attrs:{prop:"length",label:"数据长度"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{attrs:{placeholder:"无"},model:{value:e.row.length,callback:function(n){t.$set(e.row,"length",n)},expression:"scope.row.length"}})]}}])}),n("el-table-column",{attrs:{prop:"defaultValue",label:"默认值"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{attrs:{placeholder:"无"},model:{value:e.row.defaultValue,callback:function(n){t.$set(e.row,"defaultValue",n)},expression:"scope.row.defaultValue"}})]}}])}),n("el-table-column",{attrs:{prop:"encrypt",label:"加密"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-checkbox",{model:{value:e.row.encrypt,callback:function(n){t.$set(e.row,"encrypt",n)},expression:"scope.row.encrypt"}})]}}])}),n("el-table-column",{attrs:{prop:"pinyin",label:"拼音"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-checkbox",{model:{value:e.row.pinyin,callback:function(n){t.$set(e.row,"pinyin",n)},expression:"scope.row.pinyin"}})]}}])})],1)},r=[];i._withStripped=!0;n(48);var o={name:"DesValueAttributes",mixins:[$mixins.propertyDialogSetting],data:function(){return{tableData:[]}},mounted:function(){var t=this;if(this.owner){var e=dsf.mix(!0,[],this.owner.metadata.valueAttributes);_.each(e,(function(e){e.typeValue=e.type.value,dsf.isUnDef(e.encrypt)&&(e.encrypt=!1),dsf.isUnDef(e.pinyin)&&(e.pinyin=!1),t.tableData.push(e)}))}},methods:{getType:function(){return dsf.metadata.dataType},typeChange:function(t,e){t.type=_.find(dsf.metadata.dataType,(function(t){return t.value==e}))},yes:function(){var t=dsf.mix(!0,[],this.tableData),e=[];return _.each(t,(function(t){delete t.typeValue,e.push(t)})),e}}},a=o,s=n(0),l=Object(s["a"])(a,i,r,!1,null,null,null);l.options.__file="designer/setting/valueAttribute.vue";e["default"]=l.exports}])["default"]}));
//# sourceMappingURL=dsf-platform.designer.js.map