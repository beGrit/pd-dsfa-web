/*!
 * Name: @dsf/cli-nc
 * Version: 0.2.0
 * Description: 网络学院
 * BuildTime: 2021-7-19 18:18:33
 */
(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e(require("jQuery")):"function"===typeof define&&define.amd?define("nc",["jQuery"],e):"object"===typeof exports?exports["nc"]=e(require("jQuery")):t["nc"]=e(t["jQuery"])})("undefined"!==typeof self?self:this,(function(t){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=1249)}([function(t,e,i){var n=i(3),r=i(11),a=i(22),s=i(18),o=i(26),l="prototype",c=function(t,e,i){var u,d,h,f,p=t&c.F,m=t&c.G,v=t&c.S,g=t&c.P,y=t&c.B,_=m?n:v?n[e]||(n[e]={}):(n[e]||{})[l],b=m?r:r[e]||(r[e]={}),T=b[l]||(b[l]={});for(u in m&&(i=e),i)d=!p&&_&&void 0!==_[u],h=(d?_:i)[u],f=y&&d?o(h,n):g&&"function"==typeof h?o(Function.call,h):h,_&&s(_,u,h,t&c.U),b[u]!=h&&a(b,u,f),g&&T[u]!=h&&(T[u]=h)};n.core=r,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e,i){"use strict";function n(t,e,i,n,r,a,s,o){var l,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=i,c._compiled=!0),n&&(c.functional=!0),a&&(c._scopeId="data-v-"+a),s?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},c._ssrRegister=l):r&&(l=o?function(){r.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:c}}i.d(e,"a",(function(){return n}))},,function(t,e){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e,i){var n=i(6);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},function(t,e,i){var n=i(88)("wks"),r=i(51),a=i(3).Symbol,s="function"==typeof a,o=t.exports=function(t){return n[t]||(n[t]=s&&a[t]||(s?a:r)("Symbol."+t))};o.store=n},,function(t,e,i){"use strict";function n(t,e){for(var i=[],n={},r=0;r<e.length;r++){var a=e[r],s=a[0],o=a[1],l=a[2],c=a[3],u={id:t+":"+r,css:o,media:l,sourceMap:c};n[s]?n[s].parts.push(u):i.push(n[s]={id:s,parts:[u]})}return i}i.r(e),i.d(e,"default",(function(){return p}));var r="undefined"!==typeof document;if("undefined"!==typeof DEBUG&&DEBUG&&!r)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var a={},s=r&&(document.head||document.getElementsByTagName("head")[0]),o=null,l=0,c=!1,u=function(){},d=null,h="data-vue-ssr-id",f="undefined"!==typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(t,e,i,r){c=i,d=r||{};var s=n(t,e);return m(s),function(e){for(var i=[],r=0;r<s.length;r++){var o=s[r],l=a[o.id];l.refs--,i.push(l)}e?(s=n(t,e),m(s)):s=[];for(r=0;r<i.length;r++){l=i[r];if(0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete a[l.id]}}}}function m(t){for(var e=0;e<t.length;e++){var i=t[e],n=a[i.id];if(n){n.refs++;for(var r=0;r<n.parts.length;r++)n.parts[r](i.parts[r]);for(;r<i.parts.length;r++)n.parts.push(g(i.parts[r]));n.parts.length>i.parts.length&&(n.parts.length=i.parts.length)}else{var s=[];for(r=0;r<i.parts.length;r++)s.push(g(i.parts[r]));a[i.id]={id:i.id,refs:1,parts:s}}}}function v(){var t=document.createElement("style");return t.type="text/css",s.appendChild(t),t}function g(t){var e,i,n=document.querySelector("style["+h+'~="'+t.id+'"]');if(n){if(c)return u;n.parentNode.removeChild(n)}if(f){var r=l++;n=o||(o=v()),e=_.bind(null,n,r,!1),i=_.bind(null,n,r,!0)}else n=v(),e=b.bind(null,n),i=function(){n.parentNode.removeChild(n)};return e(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;e(t=n)}else i()}}var y=function(){var t=[];return function(e,i){return t[e]=i,t.filter(Boolean).join("\n")}}();function _(t,e,i,n){var r=i?"":n.css;if(t.styleSheet)t.styleSheet.cssText=y(e,r);else{var a=document.createTextNode(r),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(a,s[e]):t.appendChild(a)}}function b(t,e){var i=e.css,n=e.media,r=e.sourceMap;if(n&&t.setAttribute("media",n),d.ssrId&&t.setAttribute(h,e.id),r&&(i+="\n/*# sourceURL="+r.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),t.styleSheet)t.styleSheet.cssText=i;else{while(t.firstChild)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}},function(t,e,i){var n=i(28),r=Math.min;t.exports=function(t){return t>0?r(n(t),9007199254740991):0}},function(t,e){var i=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=i)},function(t,e,i){t.exports=!i(4)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e,i){var n=i(5),r=i(165),a=i(43),s=Object.defineProperty;e.f=i(12)?Object.defineProperty:function(t,e,i){if(n(t),e=a(e,!0),n(i),r)try{return s(t,e,i)}catch(o){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},,function(t,e,i){(function(e){var i=function(t){return t&&t.Math==Math&&t};t.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof e&&e)||function(){return this}()||Function("return this")()}).call(this,i(204))},function(t,e,i){var n=i(37);t.exports=function(t){return Object(n(t))}},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e,i){var n=i(3),r=i(22),a=i(21),s=i(51)("src"),o=i(247),l="toString",c=(""+o).split(l);i(11).inspectSource=function(t){return o.call(t)},(t.exports=function(t,e,i,o){var l="function"==typeof i;l&&(a(i,"name")||r(i,"name",e)),t[e]!==i&&(l&&(a(i,s)||r(i,s,t[e]?""+t[e]:c.join(String(e)))),t===n?t[e]=i:o?t[e]?t[e]=i:r(t,e,i):(delete t[e],r(t,e,i)))})(Function.prototype,l,(function(){return"function"==typeof this&&this[s]||o.call(this)}))},function(t,e,i){var n=i(0),r=i(4),a=i(37),s=/"/g,o=function(t,e,i,n){var r=String(a(t)),o="<"+e;return""!==i&&(o+=" "+i+'="'+String(n).replace(s,"&quot;")+'"'),o+">"+r+"</"+e+">"};t.exports=function(t,e){var i={};i[t]=e(o),n(n.P+n.F*r((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})),"String",i)}},function(t,e,i){var n=i(15),r=i(139),a=i(32),s=i(158),o=i(159),l=i(231),c=r("wks"),u=n.Symbol,d=l?u:u&&u.withoutSetter||s;t.exports=function(t){return a(c,t)&&(o||"string"==typeof c[t])||(o&&a(u,t)?c[t]=u[t]:c[t]=d("Symbol."+t)),c[t]}},function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},function(t,e,i){var n=i(13),r=i(50);t.exports=i(12)?function(t,e,i){return n.f(t,e,r(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e,i){var n=i(77),r=i(37);t.exports=function(t){return n(r(t))}},,function(t,e,i){"use strict";var n=i(4);t.exports=function(t,e){return!!t&&n((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},function(t,e,i){var n=i(27);t.exports=function(t,e,i){if(n(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){var i=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:i)(t)}},function(t,e,i){var n=i(78),r=i(50),a=i(23),s=i(43),o=i(21),l=i(165),c=Object.getOwnPropertyDescriptor;e.f=i(12)?c:function(t,e){if(t=a(t),e=s(e,!0),l)try{return c(t,e)}catch(i){}if(o(t,e))return r(!n.f.call(t,e),t[e])}},function(t,e,i){var n=i(0),r=i(11),a=i(4);t.exports=function(t,e){var i=(r.Object||{})[t]||Object[t],s={};s[t]=e(i),n(n.S+n.F*a((function(){i(1)})),"Object",s)}},function(t,e,i){var n=i(26),r=i(77),a=i(16),s=i(10),o=i(181);t.exports=function(t,e){var i=1==t,l=2==t,c=3==t,u=4==t,d=6==t,h=5==t||d,f=e||o;return function(e,o,p){for(var m,v,g=a(e),y=r(g),_=n(o,p,3),b=s(y.length),T=0,S=i?f(e,b):l?f(e,0):void 0;b>T;T++)if((h||T in y)&&(m=y[T],v=_(m,T,g),t))if(i)S[T]=v;else if(v)switch(t){case 3:return!0;case 5:return m;case 6:return T;case 2:S.push(m)}else if(u)return!1;return d?-1:c||u?u:S}}},function(t,e,i){var n=i(81),r={}.hasOwnProperty;t.exports=Object.hasOwn||function(t,e){return r.call(n(t),e)}},,function(t,e,i){"use strict";var n=i(35),r=i(151);n({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},function(t,e,i){var n=i(15),r=i(142).f,a=i(47),s=i(71),o=i(141),l=i(232),c=i(200);t.exports=function(t,e){var i,u,d,h,f,p,m=t.target,v=t.global,g=t.stat;if(u=v?n:g?n[m]||o(m,{}):(n[m]||{}).prototype,u)for(d in e){if(f=e[d],t.noTargetGet?(p=r(u,d),h=p&&p.value):h=u[d],i=c(v?d:m+(g?".":"#")+d,t.forced),!i&&void 0!==h){if(typeof f===typeof h)continue;l(f,h)}(t.sham||h&&h.sham)&&a(f,"sham",!0),s(u,d,f,t)}}},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,i){"use strict";if(i(12)){var n=i(52),r=i(3),a=i(4),s=i(0),o=i(99),l=i(137),c=i(26),u=i(66),d=i(50),h=i(22),f=i(67),p=i(28),m=i(10),v=i(192),g=i(54),y=i(43),_=i(21),b=i(79),T=i(6),S=i(16),w=i(129),C=i(55),k=i(57),x=i(56).f,E=i(131),P=i(51),O=i(7),I=i(31),L=i(89),A=i(80),D=i(133),M=i(64),j=i(92),N=i(65),R=i(132),B=i(183),U=i(13),F=i(29),$=U.f,z=F.f,V=r.RangeError,q=r.TypeError,H=r.Uint8Array,W="ArrayBuffer",G="Shared"+W,X="BYTES_PER_ELEMENT",Y="prototype",K=Array[Y],J=l.ArrayBuffer,Q=l.DataView,Z=I(0),tt=I(2),et=I(3),it=I(4),nt=I(5),rt=I(6),at=L(!0),st=L(!1),ot=D.values,lt=D.keys,ct=D.entries,ut=K.lastIndexOf,dt=K.reduce,ht=K.reduceRight,ft=K.join,pt=K.sort,mt=K.slice,vt=K.toString,gt=K.toLocaleString,yt=O("iterator"),_t=O("toStringTag"),bt=P("typed_constructor"),Tt=P("def_constructor"),St=o.CONSTR,wt=o.TYPED,Ct=o.VIEW,kt="Wrong length!",xt=I(1,(function(t,e){return Lt(A(t,t[Tt]),e)})),Et=a((function(){return 1===new H(new Uint16Array([1]).buffer)[0]})),Pt=!!H&&!!H[Y].set&&a((function(){new H(1).set({})})),Ot=function(t,e){var i=p(t);if(i<0||i%e)throw V("Wrong offset!");return i},It=function(t){if(T(t)&&wt in t)return t;throw q(t+" is not a typed array!")},Lt=function(t,e){if(!T(t)||!(bt in t))throw q("It is not a typed array constructor!");return new t(e)},At=function(t,e){return Dt(A(t,t[Tt]),e)},Dt=function(t,e){var i=0,n=e.length,r=Lt(t,n);while(n>i)r[i]=e[i++];return r},Mt=function(t,e,i){$(t,e,{get:function(){return this._d[i]}})},jt=function(t){var e,i,n,r,a,s,o=S(t),l=arguments.length,u=l>1?arguments[1]:void 0,d=void 0!==u,h=E(o);if(void 0!=h&&!w(h)){for(s=h.call(o),n=[],e=0;!(a=s.next()).done;e++)n.push(a.value);o=n}for(d&&l>2&&(u=c(u,arguments[2],2)),e=0,i=m(o.length),r=Lt(this,i);i>e;e++)r[e]=d?u(o[e],e):o[e];return r},Nt=function(){var t=0,e=arguments.length,i=Lt(this,e);while(e>t)i[t]=arguments[t++];return i},Rt=!!H&&a((function(){gt.call(new H(1))})),Bt=function(){return gt.apply(Rt?mt.call(It(this)):It(this),arguments)},Ut={copyWithin:function(t,e){return B.call(It(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return it(It(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return R.apply(It(this),arguments)},filter:function(t){return At(this,tt(It(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return nt(It(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return rt(It(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){Z(It(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return st(It(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return at(It(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return ft.apply(It(this),arguments)},lastIndexOf:function(t){return ut.apply(It(this),arguments)},map:function(t){return xt(It(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return dt.apply(It(this),arguments)},reduceRight:function(t){return ht.apply(It(this),arguments)},reverse:function(){var t,e=this,i=It(e).length,n=Math.floor(i/2),r=0;while(r<n)t=e[r],e[r++]=e[--i],e[i]=t;return e},some:function(t){return et(It(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return pt.call(It(this),t)},subarray:function(t,e){var i=It(this),n=i.length,r=g(t,n);return new(A(i,i[Tt]))(i.buffer,i.byteOffset+r*i.BYTES_PER_ELEMENT,m((void 0===e?n:g(e,n))-r))}},Ft=function(t,e){return At(this,mt.call(It(this),t,e))},$t=function(t){It(this);var e=Ot(arguments[1],1),i=this.length,n=S(t),r=m(n.length),a=0;if(r+e>i)throw V(kt);while(a<r)this[e+a]=n[a++]},zt={entries:function(){return ct.call(It(this))},keys:function(){return lt.call(It(this))},values:function(){return ot.call(It(this))}},Vt=function(t,e){return T(t)&&t[wt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},qt=function(t,e){return Vt(t,e=y(e,!0))?d(2,t[e]):z(t,e)},Ht=function(t,e,i){return!(Vt(t,e=y(e,!0))&&T(i)&&_(i,"value"))||_(i,"get")||_(i,"set")||i.configurable||_(i,"writable")&&!i.writable||_(i,"enumerable")&&!i.enumerable?$(t,e,i):(t[e]=i.value,t)};St||(F.f=qt,U.f=Ht),s(s.S+s.F*!St,"Object",{getOwnPropertyDescriptor:qt,defineProperty:Ht}),a((function(){vt.call({})}))&&(vt=gt=function(){return ft.call(this)});var Wt=f({},Ut);f(Wt,zt),h(Wt,yt,zt.values),f(Wt,{slice:Ft,set:$t,constructor:function(){},toString:vt,toLocaleString:Bt}),Mt(Wt,"buffer","b"),Mt(Wt,"byteOffset","o"),Mt(Wt,"byteLength","l"),Mt(Wt,"length","e"),$(Wt,_t,{get:function(){return this[wt]}}),t.exports=function(t,e,i,l){l=!!l;var c=t+(l?"Clamped":"")+"Array",d="get"+t,f="set"+t,p=r[c],g=p||{},y=p&&k(p),_=!p||!o.ABV,S={},w=p&&p[Y],E=function(t,i){var n=t._d;return n.v[d](i*e+n.o,Et)},P=function(t,i,n){var r=t._d;l&&(n=(n=Math.round(n))<0?0:n>255?255:255&n),r.v[f](i*e+r.o,n,Et)},O=function(t,e){$(t,e,{get:function(){return E(this,e)},set:function(t){return P(this,e,t)},enumerable:!0})};_?(p=i((function(t,i,n,r){u(t,p,c,"_d");var a,s,o,l,d=0,f=0;if(T(i)){if(!(i instanceof J||(l=b(i))==W||l==G))return wt in i?Dt(p,i):jt.call(p,i);a=i,f=Ot(n,e);var g=i.byteLength;if(void 0===r){if(g%e)throw V(kt);if(s=g-f,s<0)throw V(kt)}else if(s=m(r)*e,s+f>g)throw V(kt);o=s/e}else o=v(i),s=o*e,a=new J(s);h(t,"_d",{b:a,o:f,l:s,e:o,v:new Q(a)});while(d<o)O(t,d++)})),w=p[Y]=C(Wt),h(w,"constructor",p)):a((function(){p(1)}))&&a((function(){new p(-1)}))&&j((function(t){new p,new p(null),new p(1.5),new p(t)}),!0)||(p=i((function(t,i,n,r){var a;return u(t,p,c),T(i)?i instanceof J||(a=b(i))==W||a==G?void 0!==r?new g(i,Ot(n,e),r):void 0!==n?new g(i,Ot(n,e)):new g(i):wt in i?Dt(p,i):jt.call(p,i):new g(v(i))})),Z(y!==Function.prototype?x(g).concat(x(y)):x(g),(function(t){t in p||h(p,t,g[t])})),p[Y]=w,n||(w.constructor=p));var I=w[yt],L=!!I&&("values"==I.name||void 0==I.name),A=zt.values;h(p,bt,!0),h(w,wt,c),h(w,Ct,!0),h(w,Tt,p),(l?new p(1)[_t]==c:_t in w)||$(w,_t,{get:function(){return c}}),S[c]=p,s(s.G+s.W+s.F*(p!=g),S),s(s.S,c,{BYTES_PER_ELEMENT:e}),s(s.S+s.F*a((function(){g.of.call(p,1)})),c,{from:jt,of:Nt}),X in w||h(w,X,e),s(s.P,c,Ut),N(c),s(s.P+s.F*Pt,c,{set:$t}),s(s.P+s.F*!L,c,zt),n||w.toString==vt||(w.toString=vt),s(s.P+s.F*a((function(){new p(1).slice()})),c,{slice:Ft}),s(s.P+s.F*(a((function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()}))||!a((function(){w.toLocaleString.call([1,2])}))),c,{toLocaleString:Bt}),M[c]=L?I:A,n||L||h(w,yt,A)}}else t.exports=function(){}},function(t,e,i){var n=i(40);t.exports=function(t){if(!n(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},,function(t,e,i){var n=i(17);t.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e,i){var n=i(6);t.exports=function(t,e){if(!n(t))return t;var i,r;if(e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;if("function"==typeof(i=t.valueOf)&&!n(r=i.call(t)))return r;if(!e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,i){var n=i(51)("meta"),r=i(6),a=i(21),s=i(13).f,o=0,l=Object.isExtensible||function(){return!0},c=!i(4)((function(){return l(Object.preventExtensions({}))})),u=function(t){s(t,n,{value:{i:"O"+ ++o,w:{}}})},d=function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,n)){if(!l(t))return"F";if(!e)return"E";u(t)}return t[n].i},h=function(t,e){if(!a(t,n)){if(!l(t))return!0;if(!e)return!1;u(t)}return t[n].w},f=function(t){return c&&p.NEED&&l(t)&&!a(t,n)&&u(t),t},p=t.exports={KEY:n,NEED:!1,fastKey:d,getWeak:h,onFreeze:f}},function(t,e,i){var n=i(42),r=i(196),a=i(39),s=i(103),o=Object.defineProperty;e.f=n?o:function(t,e,i){if(a(t),e=s(e,!0),a(i),r)try{return o(t,e,i)}catch(n){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},function(t,e,i){"use strict";var n=i(42),r=i(15),a=i(200),s=i(71),o=i(32),l=i(69),c=i(444),u=i(103),d=i(17),h=i(111),f=i(156).f,p=i(142).f,m=i(45).f,v=i(429).trim,g="Number",y=r[g],_=y.prototype,b=l(h(_))==g,T=function(t){var e,i,n,r,a,s,o,l,c=u(t,!1);if("string"==typeof c&&c.length>2)if(c=v(c),e=c.charCodeAt(0),43===e||45===e){if(i=c.charCodeAt(2),88===i||120===i)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+c}for(a=c.slice(2),s=a.length,o=0;o<s;o++)if(l=a.charCodeAt(o),l<48||l>r)return NaN;return parseInt(a,n)}return+c};if(a(g,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var S,w=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof w&&(b?d((function(){_.valueOf.call(i)})):l(i)!=g)?c(new y(T(e)),i,w):T(e)},C=n?f(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),k=0;C.length>k;k++)o(y,S=C[k])&&!o(w,S)&&m(w,S,p(y,S));w.prototype=_,_.constructor=w,s(r,g,w)}},function(t,e,i){var n=i(42),r=i(45),a=i(104);t.exports=n?function(t,e,i){return r.f(t,e,a(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e,i){"use strict";var n=i(421),r=i(234),a=i(39),s=i(68),o=i(459),l=i(422),c=i(74),u=i(424),d=i(151),h=i(223),f=i(17),p=h.UNSUPPORTED_Y,m=[].push,v=Math.min,g=4294967295,y=!f((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var i="ab".split(t);return 2!==i.length||"a"!==i[0]||"b"!==i[1]}));n("split",(function(t,e,i){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,i){var n=String(s(this)),a=void 0===i?g:i>>>0;if(0===a)return[];if(void 0===t)return[n];if(!r(t))return e.call(n,t,a);var o,l,c,u=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,p=new RegExp(t.source,h+"g");while(o=d.call(p,n)){if(l=p.lastIndex,l>f&&(u.push(n.slice(f,o.index)),o.length>1&&o.index<n.length&&m.apply(u,o.slice(1)),c=o[0].length,f=l,u.length>=a))break;p.lastIndex===o.index&&p.lastIndex++}return f===n.length?!c&&p.test("")||u.push(""):u.push(n.slice(f)),u.length>a?u.slice(0,a):u}:"0".split(void 0,0).length?function(t,i){return void 0===t&&0===i?[]:e.call(this,t,i)}:e,[function(e,i){var r=s(this),a=void 0==e?void 0:e[t];return void 0!==a?a.call(e,r,i):n.call(String(r),e,i)},function(t,r){var s=i(n,this,t,r,n!==e);if(s.done)return s.value;var d=a(this),h=String(t),f=o(d,RegExp),m=d.unicode,y=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(p?"g":"y"),_=new f(p?"^(?:"+d.source+")":d,y),b=void 0===r?g:r>>>0;if(0===b)return[];if(0===h.length)return null===u(_,h)?[h]:[];var T=0,S=0,w=[];while(S<h.length){_.lastIndex=p?0:S;var C,k=u(_,p?h.slice(S):h);if(null===k||(C=v(c(_.lastIndex+(p?S:0)),h.length))===T)S=l(h,S,m);else{if(w.push(h.slice(T,S)),w.length===b)return w;for(var x=1;x<=k.length-1;x++)if(w.push(k[x]),w.length===b)return w;S=T=C}}return w.push(h.slice(T)),w}]}),!y,p)},function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var n=i(148);function r(t){if(Array.isArray(t))return Object(n["a"])(t)}function a(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var s=i(242);function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t){return r(t)||a(t)||Object(s["a"])(t)||o()}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var i=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+n).toString(36))}},function(t,e){t.exports=!1},function(t,e,i){var n=i(167),r=i(116);t.exports=Object.keys||function(t){return n(t,r)}},function(t,e,i){var n=i(28),r=Math.max,a=Math.min;t.exports=function(t,e){return t=n(t),t<0?r(t+e,0):a(t,e)}},function(t,e,i){var n=i(5),r=i(168),a=i(116),s=i(115)("IE_PROTO"),o=function(){},l="prototype",c=function(){var t,e=i(113)("iframe"),n=a.length,r="<",s=">";e.style.display="none",i(117).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(r+"script"+s+"document.F=Object"+r+"/script"+s),t.close(),c=t.F;while(n--)delete c[l][a[n]];return c()};t.exports=Object.create||function(t,e){var i;return null!==t?(o[l]=n(t),i=new o,o[l]=null,i[s]=t):i=c(),void 0===e?i:r(i,e)}},function(t,e,i){var n=i(167),r=i(116).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,r)}},function(t,e,i){var n=i(21),r=i(16),a=i(115)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),n(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,i){var n=i(7)("unscopables"),r=Array.prototype;void 0==r[n]&&i(22)(r,n,{}),t.exports=function(t){r[n][t]=!0}},function(t,e,i){var n=i(6);t.exports=function(t,e){if(!n(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},,,function(t,e,i){var n=i(13).f,r=i(21),a=i(7)("toStringTag");t.exports=function(t,e,i){t&&!r(t=i?t:t.prototype,a)&&n(t,a,{configurable:!0,value:e})}},function(t,e,i){var n=i(0),r=i(37),a=i(4),s=i(119),o="["+s+"]",l="​",c=RegExp("^"+o+o+"*"),u=RegExp(o+o+"*$"),d=function(t,e,i){var r={},o=a((function(){return!!s[t]()||l[t]()!=l})),c=r[t]=o?e(h):s[t];i&&(r[i]=c),n(n.P+n.F*o,"String",r)},h=d.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(u,"")),t};t.exports=d},function(t,e){t.exports={}},function(t,e,i){"use strict";var n=i(3),r=i(13),a=i(12),s=i(7)("species");t.exports=function(t){var e=n[t];a&&e&&!e[s]&&r.f(e,s,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports=function(t,e,i,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(i+": incorrect invocation!");return t}},function(t,e,i){var n=i(18);t.exports=function(t,e,i){for(var r in e)n(t,r,e[r],i);return t}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on "+t);return t}},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},,function(t,e,i){var n=i(15),r=i(47),a=i(32),s=i(141),o=i(198),l=i(108),c=l.get,u=l.enforce,d=String(String).split("String");(t.exports=function(t,e,i,o){var l,c=!!o&&!!o.unsafe,h=!!o&&!!o.enumerable,f=!!o&&!!o.noTargetGet;"function"==typeof i&&("string"!=typeof e||a(i,"name")||r(i,"name",e),l=u(i),l.source||(l.source=d.join("string"==typeof e?e:""))),t!==n?(c?!f&&t[e]&&(h=!0):delete t[e],h?t[e]=i:r(t,e,i)):h?t[e]=i:s(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||o(this)}))},,function(t,e,i){var n=i(150),r=i(68);t.exports=function(t){return n(r(t))}},function(t,e,i){var n=i(82),r=Math.min;t.exports=function(t){return t>0?r(n(t),9007199254740991):0}},function(t,e,i){var n=i(35),r=i(15),a=i(220),s=[].slice,o=/MSIE .\./.test(a),l=function(t){return function(e,i){var n=arguments.length>2,r=n?s.call(arguments,2):void 0;return t(n?function(){("function"==typeof e?e:Function(e)).apply(this,r)}:e,i)}};n({global:!0,bind:!0,forced:o},{setTimeout:l(r.setTimeout),setInterval:l(r.setInterval)})},function(t,e,i){
/**
 * @license
 * Video.js 6.13.0 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/master/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/master/LICENSE>
 */
function n(t){return t&&"object"===typeof t&&"default"in t?t["default"]:t}var r=n(i(106)),a=n(i(505)),s=n(i(1253)),o=n(i(1254)),l=n(i(1255)),c=n(i(1259)),u="6.13.0",d=r.navigator&&r.navigator.userAgent||"",h=/AppleWebKit\/([\d.]+)/i.exec(d),f=h?parseFloat(h.pop()):null,p=/iPad/i.test(d),m=/iPhone/i.test(d)&&!p,v=/iPod/i.test(d),g=m||p||v,y=function(){var t=d.match(/OS (\d+)_/i);return t&&t[1]?t[1]:null}(),_=/Android/i.test(d),b=function(){var t=d.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var e=t[1]&&parseFloat(t[1]),i=t[2]&&parseFloat(t[2]);return e&&i?parseFloat(t[1]+"."+t[2]):e||null}(),T=_&&/webkit/i.test(d)&&b<2.3,S=_&&b<5&&f<537,w=/Firefox/i.test(d),C=/Edge/i.test(d),k=!C&&(/Chrome/i.test(d)||/CriOS/i.test(d)),x=function(){var t=d.match(/(Chrome|CriOS)\/(\d+)/);return t&&t[2]?parseFloat(t[2]):null}(),E=/MSIE\s8\.0/.test(d),P=function(){var t=/MSIE\s(\d+)\.\d/.exec(d),e=t&&parseFloat(t[1]);return!e&&/Trident\/7.0/i.test(d)&&/rv:11.0/.test(d)&&(e=11),e}(),O=/Safari/i.test(d)&&!k&&!_&&!C,I=(O||g)&&!k,L=it()&&("ontouchstart"in r||r.navigator.maxTouchPoints||r.DocumentTouch&&r.document instanceof r.DocumentTouch),A=it()&&"backgroundSize"in r.document.createElement("video").style,D=(Object.freeze||Object)({IS_IPAD:p,IS_IPHONE:m,IS_IPOD:v,IS_IOS:g,IOS_VERSION:y,IS_ANDROID:_,ANDROID_VERSION:b,IS_OLD_ANDROID:T,IS_NATIVE_ANDROID:S,IS_FIREFOX:w,IS_EDGE:C,IS_CHROME:k,CHROME_VERSION:x,IS_IE8:E,IE_VERSION:P,IS_SAFARI:O,IS_ANY_SAFARI:I,TOUCH_ENABLED:L,BACKGROUND_SIZE_SUPPORTED:A}),M="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},N=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},R=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e},B=function(t,e){return t.raw=e,t},U=Object.prototype.toString,F=function(t){return q(t)?Object.keys(t):[]};function $(t,e){F(t).forEach((function(i){return e(t[i],i)}))}function z(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return F(t).reduce((function(i,n){return e(i,t[n],n)}),i)}function V(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return Object.assign?Object.assign.apply(Object,[t].concat(i)):(i.forEach((function(e){e&&$(e,(function(e,i){t[i]=e}))})),t)}function q(t){return!!t&&"object"===("undefined"===typeof t?"undefined":M(t))}function H(t){return q(t)&&"[object Object]"===U.call(t)&&t.constructor===Object}var W=[],G=function(t,e){return function(i,n,a,s){var o=e.levels[n],l=new RegExp("^("+o+")$");if("log"!==i&&a.unshift(i.toUpperCase()+":"),a.unshift(t+":"),W&&W.push([].concat(a)),r.console){var c=r.console[i];c||"debug"!==i||(c=r.console.info||r.console.log),c&&o&&l.test(i)&&(s&&(a=a.map((function(t){if(q(t)||Array.isArray(t))try{return JSON.stringify(t)}catch(e){return String(t)}return String(t)})).join(" ")),c.apply?c[Array.isArray(a)?"apply":"call"](r.console,a):c(a))}}};function X(t){var e="info",i=void 0,n=function t(){for(var n=t.stringify||P&&P<11,r=arguments.length,a=Array(r),s=0;s<r;s++)a[s]=arguments[s];i("log",e,a,n)};return i=G(t,n),n.createLogger=function(e){return X(t+": "+e)},n.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:e},n.level=function(t){if("string"===typeof t){if(!n.levels.hasOwnProperty(t))throw new Error('"'+t+'" in not a valid log level');e=t}return e},n.history=function(){return W?[].concat(W):[]},n.history.filter=function(t){return(W||[]).filter((function(e){return new RegExp(".*"+t+".*").test(e[0])}))},n.history.clear=function(){W&&(W.length=0)},n.history.disable=function(){null!==W&&(W.length=0,W=null)},n.history.enable=function(){null===W&&(W=[])},n.error=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return i("error",e,n)},n.warn=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return i("warn",e,n)},n.debug=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return i("debug",e,n)},n}var Y=X("VIDEOJS"),K=Y.createLogger;function J(t,e){if(!t||!e)return"";if("function"===typeof r.getComputedStyle){var i=r.getComputedStyle(t);return i?i[e]:""}return t.currentStyle[e]||""}var Q=B(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]);function Z(t){return"string"===typeof t&&/\S/.test(t)}function tt(t){if(/\s/.test(t))throw new Error("class has illegal whitespace characters")}function et(t){return new RegExp("(^|\\s)"+t+"($|\\s)")}function it(){return a===r.document&&"undefined"!==typeof a.createElement}function nt(t){return q(t)&&1===t.nodeType}function rt(){try{return r.parent!==r.self}catch(t){return!0}}function at(t){return function(e,i){if(!Z(e))return a[t](null);Z(i)&&(i=a.querySelector(i));var n=nt(i)?i:a;return n[t]&&n[t](e)}}function st(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments[3],r=a.createElement(t);return Object.getOwnPropertyNames(e).forEach((function(t){var i=e[t];-1!==t.indexOf("aria-")||"role"===t||"type"===t?(Y.warn(s(Q,t,i)),r.setAttribute(t,i)):"textContent"===t?ot(r,i):r[t]=i})),Object.getOwnPropertyNames(i).forEach((function(t){r.setAttribute(t,i[t])})),n&&xt(r,n),r}function ot(t,e){return"undefined"===typeof t.textContent?t.innerText=e:t.textContent=e,t}function lt(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function ct(t,e){return tt(e),t.classList?t.classList.contains(e):et(e).test(t.className)}function ut(t,e){return t.classList?t.classList.add(e):ct(t,e)||(t.className=(t.className+" "+e).trim()),t}function dt(t,e){return t.classList?t.classList.remove(e):(tt(e),t.className=t.className.split(/\s+/).filter((function(t){return t!==e})).join(" ")),t}function ht(t,e,i){var n=ct(t,e);if("function"===typeof i&&(i=i(t,e)),"boolean"!==typeof i&&(i=!n),i!==n)return i?ut(t,e):dt(t,e),t}function ft(t,e){Object.getOwnPropertyNames(e).forEach((function(i){var n=e[i];null===n||"undefined"===typeof n||!1===n?t.removeAttribute(i):t.setAttribute(i,!0===n?"":n)}))}function pt(t){var e={},i=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(t&&t.attributes&&t.attributes.length>0)for(var n=t.attributes,r=n.length-1;r>=0;r--){var a=n[r].name,s=n[r].value;"boolean"!==typeof t[a]&&-1===i.indexOf(","+a+",")||(s=null!==s),e[a]=s}return e}function mt(t,e){return t.getAttribute(e)}function vt(t,e,i){t.setAttribute(e,i)}function gt(t,e){t.removeAttribute(e)}function yt(){a.body.focus(),a.onselectstart=function(){return!1}}function _t(){a.onselectstart=function(){return!0}}function bt(t){if(t&&t.getBoundingClientRect&&t.parentNode){var e=t.getBoundingClientRect(),i={};return["bottom","height","left","right","top","width"].forEach((function(t){void 0!==e[t]&&(i[t]=e[t])})),i.height||(i.height=parseFloat(J(t,"height"))),i.width||(i.width=parseFloat(J(t,"width"))),i}}function Tt(t){var e=void 0;if(t.getBoundingClientRect&&t.parentNode&&(e=t.getBoundingClientRect()),!e)return{left:0,top:0};var i=a.documentElement,n=a.body,s=i.clientLeft||n.clientLeft||0,o=r.pageXOffset||n.scrollLeft,l=e.left+o-s,c=i.clientTop||n.clientTop||0,u=r.pageYOffset||n.scrollTop,d=e.top+u-c;return{left:Math.round(l),top:Math.round(d)}}function St(t,e){var i={},n=Tt(t),r=t.offsetWidth,a=t.offsetHeight,s=n.top,o=n.left,l=e.pageY,c=e.pageX;return e.changedTouches&&(c=e.changedTouches[0].pageX,l=e.changedTouches[0].pageY),i.y=Math.max(0,Math.min(1,(s-l+a)/a)),i.x=Math.max(0,Math.min(1,(c-o)/r)),i}function wt(t){return q(t)&&3===t.nodeType}function Ct(t){while(t.firstChild)t.removeChild(t.firstChild);return t}function kt(t){return"function"===typeof t&&(t=t()),(Array.isArray(t)?t:[t]).map((function(t){return"function"===typeof t&&(t=t()),nt(t)||wt(t)?t:"string"===typeof t&&/\S/.test(t)?a.createTextNode(t):void 0})).filter((function(t){return t}))}function xt(t,e){return kt(e).forEach((function(e){return t.appendChild(e)})),t}function Et(t,e){return xt(Ct(t),e)}function Pt(t){return void 0===t.button&&void 0===t.buttons||(0===t.button&&void 0===t.buttons||(9===P||0===t.button&&1===t.buttons))}var Ot=at("querySelector"),It=at("querySelectorAll"),Lt=(Object.freeze||Object)({isReal:it,isEl:nt,isInFrame:rt,createEl:st,textContent:ot,prependTo:lt,hasClass:ct,addClass:ut,removeClass:dt,toggleClass:ht,setAttributes:ft,getAttributes:pt,getAttribute:mt,setAttribute:vt,removeAttribute:gt,blockTextSelection:yt,unblockTextSelection:_t,getBoundingClientRect:bt,findPosition:Tt,getPointerPosition:St,isTextNode:wt,emptyEl:Ct,normalizeContent:kt,appendContent:xt,insertContent:Et,isSingleLeftClick:Pt,$:Ot,$$:It}),At=1;function Dt(){return At++}var Mt={},jt="vdata"+(new Date).getTime();function Nt(t){var e=t[jt];return e||(e=t[jt]=Dt()),Mt[e]||(Mt[e]={}),Mt[e]}function Rt(t){var e=t[jt];return!!e&&!!Object.getOwnPropertyNames(Mt[e]).length}function Bt(t){var e=t[jt];if(e){delete Mt[e];try{delete t[jt]}catch(i){t.removeAttribute?t.removeAttribute(jt):t[jt]=null}}}function Ut(t,e){var i=Nt(t);0===i.handlers[e].length&&(delete i.handlers[e],t.removeEventListener?t.removeEventListener(e,i.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,i.dispatcher)),Object.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled),0===Object.getOwnPropertyNames(i).length&&Bt(t)}function Ft(t,e,i,n){i.forEach((function(i){t(e,i,n)}))}function $t(t){function e(){return!0}function i(){return!1}if(!t||!t.isPropagationStopped){var n=t||r.event;for(var s in t={},n)"layerX"!==s&&"layerY"!==s&&"keyLocation"!==s&&"webkitMovementX"!==s&&"webkitMovementY"!==s&&("returnValue"===s&&n.preventDefault||(t[s]=n[s]));if(t.target||(t.target=t.srcElement||a),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){n.preventDefault&&n.preventDefault(),t.returnValue=!1,n.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){n.stopPropagation&&n.stopPropagation(),t.cancelBubble=!0,n.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=i,t.stopImmediatePropagation=function(){n.stopImmediatePropagation&&n.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=i,null!==t.clientX&&void 0!==t.clientX){var o=a.documentElement,l=a.body;t.pageX=t.clientX+(o&&o.scrollLeft||l&&l.scrollLeft||0)-(o&&o.clientLeft||l&&l.clientLeft||0),t.pageY=t.clientY+(o&&o.scrollTop||l&&l.scrollTop||0)-(o&&o.clientTop||l&&l.clientTop||0)}t.which=t.charCode||t.keyCode,null!==t.button&&void 0!==t.button&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t}var zt=!1;(function(){try{var t=Object.defineProperty({},"passive",{get:function(){zt=!0}});r.addEventListener("test",null,t),r.removeEventListener("test",null,t)}catch(e){}})();var Vt=["touchstart","touchmove"];function qt(t,e,i){if(Array.isArray(e))return Ft(qt,t,e,i);var n=Nt(t);if(n.handlers||(n.handlers={}),n.handlers[e]||(n.handlers[e]=[]),i.guid||(i.guid=Dt()),n.handlers[e].push(i),n.dispatcher||(n.disabled=!1,n.dispatcher=function(e,i){if(!n.disabled){e=$t(e);var r=n.handlers[e.type];if(r)for(var a=r.slice(0),s=0,o=a.length;s<o;s++){if(e.isImmediatePropagationStopped())break;try{a[s].call(t,e,i)}catch(l){Y.error(l)}}}}),1===n.handlers[e].length)if(t.addEventListener){var r=!1;zt&&Vt.indexOf(e)>-1&&(r={passive:!0}),t.addEventListener(e,n.dispatcher,r)}else t.attachEvent&&t.attachEvent("on"+e,n.dispatcher)}function Ht(t,e,i){if(Rt(t)){var n=Nt(t);if(n.handlers){if(Array.isArray(e))return Ft(Ht,t,e,i);var r=function(t,e){n.handlers[e]=[],Ut(t,e)};if(void 0!==e){var a=n.handlers[e];if(a)if(i){if(i.guid)for(var s=0;s<a.length;s++)a[s].guid===i.guid&&a.splice(s--,1);Ut(t,e)}else r(t,e)}else for(var o in n.handlers)Object.prototype.hasOwnProperty.call(n.handlers||{},o)&&r(t,o)}}}function Wt(t,e,i){var n=Rt(t)?Nt(t):{},r=t.parentNode||t.ownerDocument;if("string"===typeof e?e={type:e,target:t}:e.target||(e.target=t),e=$t(e),n.dispatcher&&n.dispatcher.call(t,e,i),r&&!e.isPropagationStopped()&&!0===e.bubbles)Wt.call(null,r,e,i);else if(!r&&!e.defaultPrevented){var a=Nt(e.target);e.target[e.type]&&(a.disabled=!0,"function"===typeof e.target[e.type]&&e.target[e.type](),a.disabled=!1)}return!e.defaultPrevented}function Gt(t,e,i){if(Array.isArray(e))return Ft(Gt,t,e,i);var n=function n(){Ht(t,e,n),i.apply(this,arguments)};n.guid=i.guid=i.guid||Dt(),qt(t,e,n)}var Xt=(Object.freeze||Object)({fixEvent:$t,on:qt,off:Ht,trigger:Wt,one:Gt}),Yt=!1,Kt=void 0,Jt=function(){if(it()&&!1!==Kt.options.autoSetup){var t=a.getElementsByTagName("video"),e=a.getElementsByTagName("audio"),i=a.getElementsByTagName("video-js"),n=[];if(t&&t.length>0)for(var r=0,s=t.length;r<s;r++)n.push(t[r]);if(e&&e.length>0)for(var o=0,l=e.length;o<l;o++)n.push(e[o]);if(i&&i.length>0)for(var c=0,u=i.length;c<u;c++)n.push(i[c]);if(n&&n.length>0)for(var d=0,h=n.length;d<h;d++){var f=n[d];if(!f||!f.getAttribute){Qt(1);break}if(void 0===f.player){var p=f.getAttribute("data-setup");null!==p&&Kt(f)}}else Yt||Qt(1)}};function Qt(t,e){e&&(Kt=e),r.setTimeout(Jt,t)}it()&&"complete"===a.readyState?Yt=!0:Gt(r,"load",(function(){Yt=!0}));var Zt=function(t){var e=a.createElement("style");return e.className=t,e},te=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e},ee=function(t,e,i){e.guid||(e.guid=Dt());var n=function(){return e.apply(t,arguments)};return n.guid=i?i+"_"+e.guid:e.guid,n},ie=function(t,e){var i=Date.now(),n=function(){var n=Date.now();n-i>=e&&(t.apply(void 0,arguments),i=n)};return n},ne=function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r,a=void 0,s=function(){n.clearTimeout(a),a=null},o=function(){var r=this,s=arguments,o=function(){a=null,o=null,i||t.apply(r,s)};!a&&i&&t.apply(r,s),n.clearTimeout(a),a=n.setTimeout(o,e)};return o.cancel=s,o},re=function(){};re.prototype.allowedEvents_={},re.prototype.on=function(t,e){var i=this.addEventListener;this.addEventListener=function(){},qt(this,t,e),this.addEventListener=i},re.prototype.addEventListener=re.prototype.on,re.prototype.off=function(t,e){Ht(this,t,e)},re.prototype.removeEventListener=re.prototype.off,re.prototype.one=function(t,e){var i=this.addEventListener;this.addEventListener=function(){},Gt(this,t,e),this.addEventListener=i},re.prototype.trigger=function(t){var e=t.type||t;"string"===typeof t&&(t={type:e}),t=$t(t),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](t),Wt(this,t)},re.prototype.dispatchEvent=re.prototype.trigger;var ae=function(t){return t instanceof re||!!t.eventBusEl_&&["on","one","off","trigger"].every((function(e){return"function"===typeof t[e]}))},se=function(t){return"string"===typeof t&&/\S/.test(t)||Array.isArray(t)&&!!t.length},oe=function(t){if(!t.nodeName&&!ae(t))throw new Error("Invalid target; must be a DOM node or evented object.")},le=function(t){if(!se(t))throw new Error("Invalid event type; must be a non-empty string or array.")},ce=function(t){if("function"!==typeof t)throw new Error("Invalid listener; must be a function.")},ue=function(t,e){var i=e.length<3||e[0]===t||e[0]===t.eventBusEl_,n=void 0,r=void 0,a=void 0;return i?(n=t.eventBusEl_,e.length>=3&&e.shift(),r=e[0],a=e[1]):(n=e[0],r=e[1],a=e[2]),oe(n),le(r),ce(a),a=ee(t,a),{isTargetingSelf:i,target:n,type:r,listener:a}},de=function(t,e,i,n){oe(t),t.nodeName?Xt[e](t,i,n):t[e](i,n)},he={on:function(){for(var t=this,e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];var r=ue(this,i),a=r.isTargetingSelf,s=r.target,o=r.type,l=r.listener;if(de(s,"on",o,l),!a){var c=function(){return t.off(s,o,l)};c.guid=l.guid;var u=function(){return t.off("dispose",c)};u.guid=l.guid,de(this,"on","dispose",c),de(s,"on","dispose",u)}},one:function(){for(var t=this,e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];var r=ue(this,i),a=r.isTargetingSelf,s=r.target,o=r.type,l=r.listener;if(a)de(s,"one",o,l);else{var c=function e(){for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];t.off(s,o,e),l.apply(null,n)};c.guid=l.guid,de(s,"one",o,c)}},off:function(t,e,i){if(!t||se(t))Ht(this.eventBusEl_,t,e);else{var n=t,r=e;oe(n),le(r),ce(i),i=ee(this,i),this.off("dispose",i),n.nodeName?(Ht(n,r,i),Ht(n,"dispose",i)):ae(n)&&(n.off(r,i),n.off("dispose",i))}},trigger:function(t,e){return Wt(this.eventBusEl_,t,e)}};function fe(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.eventBusKey;if(i){if(!t[i].nodeName)throw new Error('The eventBusKey "'+i+'" does not refer to an element.');t.eventBusEl_=t[i]}else t.eventBusEl_=st("span",{className:"vjs-event-bus"});return V(t,he),t.on("dispose",(function(){t.off(),r.setTimeout((function(){t.eventBusEl_=null}),0)})),t}var pe={state:{},setState:function(t){var e=this;"function"===typeof t&&(t=t());var i=void 0;return $(t,(function(t,n){e.state[n]!==t&&(i=i||{},i[n]={from:e.state[n],to:t}),e.state[n]=t})),i&&ae(this)&&this.trigger({changes:i,type:"statechanged"}),i}};function me(t,e){return V(t,pe),t.state=V({},t.state,e),"function"===typeof t.handleStateChanged&&ae(t)&&t.on("statechanged",t.handleStateChanged),t}function ve(t){return"string"!==typeof t?t:t.charAt(0).toUpperCase()+t.slice(1)}function ge(t,e){return ve(t)===ve(e)}function ye(){for(var t={},e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];return i.forEach((function(e){e&&$(e,(function(e,i){H(e)?(H(t[i])||(t[i]={}),t[i]=ye(t[i],e)):t[i]=e}))})),t}var _e=function(){function t(e,i,n){if(j(this,t),!e&&this.play?this.player_=e=this:this.player_=e,this.options_=ye({},this.options_),i=this.options_=ye(this.options_,i),this.id_=i.id||i.el&&i.el.id,!this.id_){var r=e&&e.id&&e.id()||"no_player";this.id_=r+"_component_"+Dt()}this.name_=i.name||null,i.el?this.el_=i.el:!1!==i.createEl&&(this.el_=this.createEl()),!1!==i.evented&&fe(this,{eventBusKey:this.el_?"el_":null}),me(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},!1!==i.initChildren&&this.initChildren(),this.ready(n),!1!==i.reportTouchActivity&&this.enableTouchActivity()}return t.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var t=this.children_.length-1;t>=0;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),Bt(this.el_),this.el_=null),this.player_=null},t.prototype.player=function(){return this.player_},t.prototype.options=function(t){return Y.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),t?(this.options_=ye(this.options_,t),this.options_):this.options_},t.prototype.el=function(){return this.el_},t.prototype.createEl=function(t,e,i){return st(t,e,i)},t.prototype.localize=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,n=this.player_.language&&this.player_.language(),r=this.player_.languages&&this.player_.languages(),a=r&&r[n],s=n&&n.split("-")[0],o=r&&r[s],l=i;return a&&a[t]?l=a[t]:o&&o[t]&&(l=o[t]),e&&(l=l.replace(/\{(\d+)\}/g,(function(t,i){var n=e[i-1],r=n;return"undefined"===typeof n&&(r=t),r}))),l},t.prototype.contentEl=function(){return this.contentEl_||this.el_},t.prototype.id=function(){return this.id_},t.prototype.name=function(){return this.name_},t.prototype.children=function(){return this.children_},t.prototype.getChildById=function(t){return this.childIndex_[t]},t.prototype.getChild=function(t){if(t)return t=ve(t),this.childNameIndex_[t]},t.prototype.addChild=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.children_.length,r=void 0,a=void 0;if("string"===typeof e){a=ve(e);var s=i.componentClass||a;i.name=a;var o=t.getComponent(s);if(!o)throw new Error("Component "+s+" does not exist");if("function"!==typeof o)return null;r=new o(this.player_||this,i)}else r=e;if(this.children_.splice(n,0,r),"function"===typeof r.id&&(this.childIndex_[r.id()]=r),a=a||r.name&&ve(r.name()),a&&(this.childNameIndex_[a]=r),"function"===typeof r.el&&r.el()){var l=this.contentEl().children,c=l[n]||null;this.contentEl().insertBefore(r.el(),c)}return r},t.prototype.removeChild=function(t){if("string"===typeof t&&(t=this.getChild(t)),t&&this.children_){for(var e=!1,i=this.children_.length-1;i>=0;i--)if(this.children_[i]===t){e=!0,this.children_.splice(i,1);break}if(e){this.childIndex_[t.id()]=null,this.childNameIndex_[t.name()]=null;var n=t.el();n&&n.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el())}}},t.prototype.initChildren=function(){var e=this,i=this.options_.children;if(i){var n=this.options_,r=function(t){var i=t.name,r=t.opts;if(void 0!==n[i]&&(r=n[i]),!1!==r){!0===r&&(r={}),r.playerOptions=e.options_.playerOptions;var a=e.addChild(i,r);a&&(e[i]=a)}},a=void 0,s=t.getComponent("Tech");a=Array.isArray(i)?i:Object.keys(i),a.concat(Object.keys(this.options_).filter((function(t){return!a.some((function(e){return"string"===typeof e?t===e:t===e.name}))}))).map((function(t){var n=void 0,r=void 0;return"string"===typeof t?(n=t,r=i[n]||e.options_[n]||{}):(n=t.name,r=t),{name:n,opts:r}})).filter((function(e){var i=t.getComponent(e.opts.componentClass||ve(e.name));return i&&!s.isTech(i)})).forEach(r)}},t.prototype.buildCSSClass=function(){return""},t.prototype.ready=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t)return this.isReady_?void(e?t.call(this):this.setTimeout(t,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(t))},t.prototype.triggerReady=function(){this.isReady_=!0,this.setTimeout((function(){var t=this.readyQueue_;this.readyQueue_=[],t&&t.length>0&&t.forEach((function(t){t.call(this)}),this),this.trigger("ready")}),1)},t.prototype.$=function(t,e){return Ot(t,e||this.contentEl())},t.prototype.$$=function(t,e){return It(t,e||this.contentEl())},t.prototype.hasClass=function(t){return ct(this.el_,t)},t.prototype.addClass=function(t){ut(this.el_,t)},t.prototype.removeClass=function(t){dt(this.el_,t)},t.prototype.toggleClass=function(t,e){ht(this.el_,t,e)},t.prototype.show=function(){this.removeClass("vjs-hidden")},t.prototype.hide=function(){this.addClass("vjs-hidden")},t.prototype.lockShowing=function(){this.addClass("vjs-lock-showing")},t.prototype.unlockShowing=function(){this.removeClass("vjs-lock-showing")},t.prototype.getAttribute=function(t){return mt(this.el_,t)},t.prototype.setAttribute=function(t,e){vt(this.el_,t,e)},t.prototype.removeAttribute=function(t){gt(this.el_,t)},t.prototype.width=function(t,e){return this.dimension("width",t,e)},t.prototype.height=function(t,e){return this.dimension("height",t,e)},t.prototype.dimensions=function(t,e){this.width(t,!0),this.height(e)},t.prototype.dimension=function(t,e,i){if(void 0!==e)return null!==e&&e===e||(e=0),-1!==(""+e).indexOf("%")||-1!==(""+e).indexOf("px")?this.el_.style[t]=e:this.el_.style[t]="auto"===e?"":e+"px",void(i||this.trigger("componentresize"));if(!this.el_)return 0;var n=this.el_.style[t],r=n.indexOf("px");return-1!==r?parseInt(n.slice(0,r),10):parseInt(this.el_["offset"+ve(t)],10)},t.prototype.currentDimension=function(t){var e=0;if("width"!==t&&"height"!==t)throw new Error("currentDimension only accepts width or height value");if("function"===typeof r.getComputedStyle){var i=r.getComputedStyle(this.el_);e=i.getPropertyValue(t)||i[t]}if(e=parseFloat(e),0===e){var n="offset"+ve(t);e=this.el_[n]}return e},t.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},t.prototype.currentWidth=function(){return this.currentDimension("width")},t.prototype.currentHeight=function(){return this.currentDimension("height")},t.prototype.focus=function(){this.el_.focus()},t.prototype.blur=function(){this.el_.blur()},t.prototype.emitTapEvents=function(){var t=0,e=null,i=10,n=200,r=void 0;this.on("touchstart",(function(i){1===i.touches.length&&(e={pageX:i.touches[0].pageX,pageY:i.touches[0].pageY},t=(new Date).getTime(),r=!0)})),this.on("touchmove",(function(t){if(t.touches.length>1)r=!1;else if(e){var n=t.touches[0].pageX-e.pageX,a=t.touches[0].pageY-e.pageY,s=Math.sqrt(n*n+a*a);s>i&&(r=!1)}}));var a=function(){r=!1};this.on("touchleave",a),this.on("touchcancel",a),this.on("touchend",(function(i){if(e=null,!0===r){var a=(new Date).getTime()-t;a<n&&(i.preventDefault(),this.trigger("tap"))}}))},t.prototype.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var t=ee(this.player(),this.player().reportUserActivity),e=void 0;this.on("touchstart",(function(){t(),this.clearInterval(e),e=this.setInterval(t,250)}));var i=function(i){t(),this.clearInterval(e)};this.on("touchmove",t),this.on("touchend",i),this.on("touchcancel",i)}},t.prototype.setTimeout=function(t,e){var i,n,a=this;return t=ee(this,t),i=r.setTimeout((function(){a.off("dispose",n),t()}),e),n=function(){return a.clearTimeout(i)},n.guid="vjs-timeout-"+i,this.on("dispose",n),i},t.prototype.clearTimeout=function(t){r.clearTimeout(t);var e=function(){};return e.guid="vjs-timeout-"+t,this.off("dispose",e),t},t.prototype.setInterval=function(t,e){var i=this;t=ee(this,t);var n=r.setInterval(t,e),a=function(){return i.clearInterval(n)};return a.guid="vjs-interval-"+n,this.on("dispose",a),n},t.prototype.clearInterval=function(t){r.clearInterval(t);var e=function(){};return e.guid="vjs-interval-"+t,this.off("dispose",e),t},t.prototype.requestAnimationFrame=function(t){var e,i,n=this;return this.supportsRaf_?(t=ee(this,t),e=r.requestAnimationFrame((function(){n.off("dispose",i),t()})),i=function(){return n.cancelAnimationFrame(e)},i.guid="vjs-raf-"+e,this.on("dispose",i),e):this.setTimeout(t,1e3/60)},t.prototype.cancelAnimationFrame=function(t){if(this.supportsRaf_){r.cancelAnimationFrame(t);var e=function(){};return e.guid="vjs-raf-"+t,this.off("dispose",e),t}return this.clearTimeout(t)},t.registerComponent=function(e,i){if("string"!==typeof e||!e)throw new Error('Illegal component name, "'+e+'"; must be a non-empty string.');var n=t.getComponent("Tech"),r=n&&n.isTech(i),a=t===i||t.prototype.isPrototypeOf(i.prototype);if(r||!a){var s=void 0;throw s=r?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+e+'"; '+s+".")}e=ve(e),t.components_||(t.components_={});var o=t.getComponent("Player");if("Player"===e&&o&&o.players){var l=o.players,c=Object.keys(l);if(l&&c.length>0&&c.map((function(t){return l[t]})).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return t.components_[e]=i,i},t.getComponent=function(e){if(e)return e=ve(e),t.components_&&t.components_[e]?t.components_[e]:void 0},t}();function be(t,e,i){if("number"!==typeof e||e<0||e>i)throw new Error("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+e+") is non-numeric or out of bounds (0-"+i+").")}function Te(t,e,i,n){return be(t,n,i.length-1),i[n][e]}function Se(t){return void 0===t||0===t.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:t.length,start:Te.bind(null,"start",0,t),end:Te.bind(null,"end",1,t)}}function we(t,e){return Array.isArray(t)?Se(t):void 0===t||void 0===e?Se():Se([[t,e]])}function Ce(t,e){var i=0,n=void 0,r=void 0;if(!e)return 0;t&&t.length||(t=we(0,0));for(var a=0;a<t.length;a++)n=t.start(a),r=t.end(a),r>e&&(r=e),i+=r-n;return i/e}_e.prototype.supportsRaf_="function"===typeof r.requestAnimationFrame&&"function"===typeof r.cancelAnimationFrame,_e.registerComponent("Component",_e);for(var ke={},xe=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],Ee=xe[0],Pe=void 0,Oe=0;Oe<xe.length;Oe++)if(xe[Oe][1]in a){Pe=xe[Oe];break}if(Pe)for(var Ie=0;Ie<Pe.length;Ie++)ke[Ee[Ie]]=Pe[Ie];function Le(t){if(t instanceof Le)return t;"number"===typeof t?this.code=t:"string"===typeof t?this.message=t:q(t)&&("number"===typeof t.code&&(this.code=t.code),V(this,t)),this.message||(this.message=Le.defaultMessages[this.code]||"")}Le.prototype.code=0,Le.prototype.message="",Le.prototype.status=null,Le.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],Le.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Ae=0;Ae<Le.errorTypes.length;Ae++)Le[Le.errorTypes[Ae]]=Ae,Le.prototype[Le.errorTypes[Ae]]=Ae;function De(t){return void 0!==t&&null!==t&&"function"===typeof t.then}function Me(t){De(t)&&t.then(null,(function(t){}))}var je=function(t){var e=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((function(e,i,n){return t[i]&&(e[i]=t[i]),e}),{cues:t.cues&&Array.prototype.map.call(t.cues,(function(t){return{startTime:t.startTime,endTime:t.endTime,text:t.text,id:t.id}}))});return e},Ne=function(t){var e=t.$$("track"),i=Array.prototype.map.call(e,(function(t){return t.track})),n=Array.prototype.map.call(e,(function(t){var e=je(t.track);return t.src&&(e.src=t.src),e}));return n.concat(Array.prototype.filter.call(t.textTracks(),(function(t){return-1===i.indexOf(t)})).map(je))},Re=function(t,e){return t.forEach((function(t){var i=e.addRemoteTextTrack(t).track;!t.src&&t.cues&&t.cues.forEach((function(t){return i.addCue(t)}))})),e.textTracks()},Be={textTracksToJson:Ne,jsonToTextTracks:Re,trackToJson_:je},Ue="vjs-modal-dialog",Fe=27,$e=function(t){function e(i,n){j(this,e);var r=R(this,t.call(this,i,n));return r.opened_=r.hasBeenOpened_=r.hasBeenFilled_=!1,r.closeable(!r.options_.uncloseable),r.content(r.options_.content),r.contentEl_=st("div",{className:Ue+"-content"},{role:"document"}),r.descEl_=st("p",{className:Ue+"-description vjs-control-text",id:r.el().getAttribute("aria-describedby")}),ot(r.descEl_,r.description()),r.el_.appendChild(r.descEl_),r.el_.appendChild(r.contentEl_),r}return N(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},e.prototype.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,t.prototype.dispose.call(this)},e.prototype.buildCSSClass=function(){return Ue+" vjs-hidden "+t.prototype.buildCSSClass.call(this)},e.prototype.handleKeyPress=function(t){t.which===Fe&&this.closeable()&&this.close()},e.prototype.label=function(){return this.localize(this.options_.label||"Modal Window")},e.prototype.description=function(){var t=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t},e.prototype.open=function(){if(!this.opened_){var t=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!t.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&t.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",ee(this,this.handleKeyPress)),this.hadControls_=t.controls(),t.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},e.prototype.opened=function(t){return"boolean"===typeof t&&this[t?"open":"close"](),this.opened_},e.prototype.close=function(){if(this.opened_){var t=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&t.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",ee(this,this.handleKeyPress)),this.hadControls_&&t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},e.prototype.closeable=function(t){if("boolean"===typeof t){var e=this.closeable_=!!t,i=this.getChild("closeButton");if(e&&!i){var n=this.contentEl_;this.contentEl_=this.el_,i=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=n,this.on(i,"close",this.close)}!e&&i&&(this.off(i,"close",this.close),this.removeChild(i),i.dispose())}return this.closeable_},e.prototype.fill=function(){this.fillWith(this.content())},e.prototype.fillWith=function(t){var e=this.contentEl(),i=e.parentNode,n=e.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,i.removeChild(e),this.empty(),Et(e,t),this.trigger("modalfill"),n?i.insertBefore(e,n):i.appendChild(e);var r=this.getChild("closeButton");r&&i.appendChild(r.el_)},e.prototype.empty=function(){this.trigger("beforemodalempty"),Ct(this.contentEl()),this.trigger("modalempty")},e.prototype.content=function(t){return"undefined"!==typeof t&&(this.content_=t),this.content_},e.prototype.conditionalFocus_=function(){var t=a.activeElement,e=this.player_.el_;this.previouslyActiveEl_=null,(e.contains(t)||e===t)&&(this.previouslyActiveEl_=t,this.focus(),this.on(a,"keydown",this.handleKeyDown))},e.prototype.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null),this.off(a,"keydown",this.handleKeyDown)},e.prototype.handleKeyDown=function(t){if(9===t.which){for(var e=this.focusableEls_(),i=this.el_.querySelector(":focus"),n=void 0,r=0;r<e.length;r++)if(i===e[r]){n=r;break}a.activeElement===this.el_&&(n=0),t.shiftKey&&0===n?(e[e.length-1].focus(),t.preventDefault()):t.shiftKey||n!==e.length-1||(e[0].focus(),t.preventDefault())}},e.prototype.focusableEls_=function(){var t=this.el_.querySelectorAll("*");return Array.prototype.filter.call(t,(function(t){return(t instanceof r.HTMLAnchorElement||t instanceof r.HTMLAreaElement)&&t.hasAttribute("href")||(t instanceof r.HTMLInputElement||t instanceof r.HTMLSelectElement||t instanceof r.HTMLTextAreaElement||t instanceof r.HTMLButtonElement)&&!t.hasAttribute("disabled")||t instanceof r.HTMLIFrameElement||t instanceof r.HTMLObjectElement||t instanceof r.HTMLEmbedElement||t.hasAttribute("tabindex")&&-1!==t.getAttribute("tabindex")||t.hasAttribute("contenteditable")}))},e}(_e);$e.prototype.options_={pauseOnOpen:!0,temporary:!0},_e.registerComponent("ModalDialog",$e);var ze=function(t){function e(){var i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;j(this,e);var s=R(this,t.call(this));if(!r&&(r=s,E))for(var o in r=a.createElement("custom"),e.prototype)"constructor"!==o&&(r[o]=e.prototype[o]);r.tracks_=[],Object.defineProperty(r,"length",{get:function(){return this.tracks_.length}});for(var l=0;l<n.length;l++)r.addTrack(n[l]);return i=r,R(s,i)}return N(e,t),e.prototype.addTrack=function(t){var e=this.tracks_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.tracks_[e]}}),-1===this.tracks_.indexOf(t)&&(this.tracks_.push(t),this.trigger({track:t,type:"addtrack"}))},e.prototype.removeTrack=function(t){for(var e=void 0,i=0,n=this.length;i<n;i++)if(this[i]===t){e=this[i],e.off&&e.off(),this.tracks_.splice(i,1);break}e&&this.trigger({track:e,type:"removetrack"})},e.prototype.getTrackById=function(t){for(var e=null,i=0,n=this.length;i<n;i++){var r=this[i];if(r.id===t){e=r;break}}return e},e}(re);for(var Ve in ze.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},ze.prototype.allowedEvents_)ze.prototype["on"+Ve]=null;var qe=function(t,e){for(var i=0;i<t.length;i++)Object.keys(t[i]).length&&e.id!==t[i].id&&(t[i].enabled=!1)},He=function(t){function e(){var i,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];j(this,e);for(var s=void 0,o=r.length-1;o>=0;o--)if(r[o].enabled){qe(r,r[o]);break}if(E){for(var l in s=a.createElement("custom"),ze.prototype)"constructor"!==l&&(s[l]=ze.prototype[l]);for(var c in e.prototype)"constructor"!==c&&(s[c]=e.prototype[c])}return i=R(this,t.call(this,r,s)),s=i,s.changing_=!1,n=s,R(i,n)}return N(e,t),e.prototype.addTrack=function(e){var i=this;e.enabled&&qe(this,e),t.prototype.addTrack.call(this,e),e.addEventListener&&e.addEventListener("enabledchange",(function(){i.changing_||(i.changing_=!0,qe(i,e),i.changing_=!1,i.trigger("change"))}))},e}(ze),We=function(t,e){for(var i=0;i<t.length;i++)Object.keys(t[i]).length&&e.id!==t[i].id&&(t[i].selected=!1)},Ge=function(t){function e(){var i,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];j(this,e);for(var s=void 0,o=r.length-1;o>=0;o--)if(r[o].selected){We(r,r[o]);break}if(E){for(var l in s=a.createElement("custom"),ze.prototype)"constructor"!==l&&(s[l]=ze.prototype[l]);for(var c in e.prototype)"constructor"!==c&&(s[c]=e.prototype[c])}return i=R(this,t.call(this,r,s)),s=i,s.changing_=!1,Object.defineProperty(s,"selectedIndex",{get:function(){for(var t=0;t<this.length;t++)if(this[t].selected)return t;return-1},set:function(){}}),n=s,R(i,n)}return N(e,t),e.prototype.addTrack=function(e){var i=this;e.selected&&We(this,e),t.prototype.addTrack.call(this,e),e.addEventListener&&e.addEventListener("selectedchange",(function(){i.changing_||(i.changing_=!0,We(i,e),i.changing_=!1,i.trigger("change"))}))},e}(ze),Xe=function(t){function e(){var i,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];j(this,e);var s=void 0;if(E){for(var o in s=a.createElement("custom"),ze.prototype)"constructor"!==o&&(s[o]=ze.prototype[o]);for(var l in e.prototype)"constructor"!==l&&(s[l]=e.prototype[l])}return i=R(this,t.call(this,r,s)),s=i,n=s,R(i,n)}return N(e,t),e.prototype.addTrack=function(e){t.prototype.addTrack.call(this,e),e.addEventListener("modechange",ee(this,(function(){this.trigger("change")})));var i=["metadata","chapters"];-1===i.indexOf(e.kind)&&e.addEventListener("modechange",ee(this,(function(){this.trigger("selectedlanguagechange")})))},e}(ze),Ye=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];j(this,t);var i=this;if(E)for(var n in i=a.createElement("custom"),t.prototype)"constructor"!==n&&(i[n]=t.prototype[n]);i.trackElements_=[],Object.defineProperty(i,"length",{get:function(){return this.trackElements_.length}});for(var r=0,s=e.length;r<s;r++)i.addTrackElement_(e[r]);if(E)return i}return t.prototype.addTrackElement_=function(t){var e=this.trackElements_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.trackElements_[e]}}),-1===this.trackElements_.indexOf(t)&&this.trackElements_.push(t)},t.prototype.getTrackElementByTrack_=function(t){for(var e=void 0,i=0,n=this.trackElements_.length;i<n;i++)if(t===this.trackElements_[i].track){e=this.trackElements_[i];break}return e},t.prototype.removeTrackElement_=function(t){for(var e=0,i=this.trackElements_.length;e<i;e++)if(t===this.trackElements_[e]){this.trackElements_.splice(e,1);break}},t}(),Ke=function(){function t(e){j(this,t);var i=this;if(E)for(var n in i=a.createElement("custom"),t.prototype)"constructor"!==n&&(i[n]=t.prototype[n]);if(t.prototype.setCues_.call(i,e),Object.defineProperty(i,"length",{get:function(){return this.length_}}),E)return i}return t.prototype.setCues_=function(t){var e=this.length||0,i=0,n=t.length;this.cues_=t,this.length_=t.length;var r=function(t){""+t in this||Object.defineProperty(this,""+t,{get:function(){return this.cues_[t]}})};if(e<n)for(i=e;i<n;i++)r.call(this,i)},t.prototype.getCueById=function(t){for(var e=null,i=0,n=this.length;i<n;i++){var r=this[i];if(r.id===t){e=r;break}}return e},t}(),Je={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Qe={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},Ze={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},ti={disabled:"disabled",hidden:"hidden",showing:"showing"},ei=function(t){function e(){var i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};j(this,e);var r=R(this,t.call(this)),s=r;if(E)for(var o in s=a.createElement("custom"),e.prototype)"constructor"!==o&&(s[o]=e.prototype[o]);var l={id:n.id||"vjs_track_"+Dt(),kind:n.kind||"",label:n.label||"",language:n.language||""},c=function(t){Object.defineProperty(s,t,{get:function(){return l[t]},set:function(){}})};for(var u in l)c(u);return i=s,R(r,i)}return N(e,t),e}(re),ii=function(t){var e=["protocol","hostname","port","pathname","search","hash","host"],i=a.createElement("a");i.href=t;var n=""===i.host&&"file:"!==i.protocol,s=void 0;n&&(s=a.createElement("div"),s.innerHTML='<a href="'+t+'"></a>',i=s.firstChild,s.setAttribute("style","display:none; position:absolute;"),a.body.appendChild(s));for(var o={},l=0;l<e.length;l++)o[e[l]]=i[e[l]];return"http:"===o.protocol&&(o.host=o.host.replace(/:80$/,"")),"https:"===o.protocol&&(o.host=o.host.replace(/:443$/,"")),o.protocol||(o.protocol=r.location.protocol),n&&a.body.removeChild(s),o},ni=function(t){if(!t.match(/^https?:\/\//)){var e=a.createElement("div");e.innerHTML='<a href="'+t+'">x</a>',t=e.firstChild.href}return t},ri=function(t){if("string"===typeof t){var e=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i,i=e.exec(t);if(i)return i.pop().toLowerCase()}return""},ai=function(t){var e=r.location,i=ii(t),n=":"===i.protocol?e.protocol:i.protocol,a=n+i.host!==e.protocol+e.host;return a},si=(Object.freeze||Object)({parseUrl:ii,getAbsoluteURL:ni,getFileExtension:ri,isCrossOrigin:ai}),oi=function(t,e){var i=new r.WebVTT.Parser(r,r.vttjs,r.WebVTT.StringDecoder()),n=[];i.oncue=function(t){e.addCue(t)},i.onparsingerror=function(t){n.push(t)},i.onflush=function(){e.trigger({type:"loadeddata",target:e})},i.parse(t),n.length>0&&(r.console&&r.console.groupCollapsed&&r.console.groupCollapsed("Text Track parsing errors for "+e.src),n.forEach((function(t){return Y.error(t)})),r.console&&r.console.groupEnd&&r.console.groupEnd()),i.flush()},li=function(t,e){var i={uri:t},n=ai(t);n&&(i.cors=n),l(i,ee(this,(function(t,i,n){if(t)return Y.error(t,i);if(e.loaded_=!0,"function"!==typeof r.WebVTT){if(e.tech_){var a=function(){return oi(n,e)};e.tech_.on("vttjsloaded",a),e.tech_.on("vttjserror",(function(){Y.error("vttjs failed to load, stopping trying to process "+e.src),e.tech_.off("vttjsloaded",a)}))}}else oi(n,e)})))},ci=function(t){function e(){var i,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(j(this,e),!r.tech)throw new Error("A tech was not provided.");var a=ye(r,{kind:Ze[r.kind]||"subtitles",language:r.language||r.srclang||""}),s=ti[a.mode]||"disabled",o=a["default"];"metadata"!==a.kind&&"chapters"!==a.kind||(s="hidden");var l=(i=R(this,t.call(this,a)),i);if(l.tech_=a.tech,E)for(var c in e.prototype)"constructor"!==c&&(l[c]=e.prototype[c]);l.cues_=[],l.activeCues_=[];var u=new Ke(l.cues_),d=new Ke(l.activeCues_),h=!1,f=ee(l,(function(){this.activeCues=this.activeCues,h&&(this.trigger("cuechange"),h=!1)}));return"disabled"!==s&&l.tech_.ready((function(){l.tech_.on("timeupdate",f)}),!0),Object.defineProperty(l,"default",{get:function(){return o},set:function(){}}),Object.defineProperty(l,"mode",{get:function(){return s},set:function(t){var e=this;ti[t]&&(s=t,"disabled"!==s?this.tech_.ready((function(){e.tech_.on("timeupdate",f)}),!0):this.tech_.off("timeupdate",f),this.trigger("modechange"))}}),Object.defineProperty(l,"cues",{get:function(){return this.loaded_?u:null},set:function(){}}),Object.defineProperty(l,"activeCues",{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return d;for(var t=this.tech_.currentTime(),e=[],i=0,n=this.cues.length;i<n;i++){var r=this.cues[i];(r.startTime<=t&&r.endTime>=t||r.startTime===r.endTime&&r.startTime<=t&&r.startTime+.5>=t)&&e.push(r)}if(h=!1,e.length!==this.activeCues_.length)h=!0;else for(var a=0;a<e.length;a++)-1===this.activeCues_.indexOf(e[a])&&(h=!0);return this.activeCues_=e,d.setCues_(this.activeCues_),d},set:function(){}}),a.src?(l.src=a.src,li(a.src,l)):l.loaded_=!0,n=l,R(i,n)}return N(e,t),e.prototype.addCue=function(t){var e=t;if(r.vttjs&&!(t instanceof r.vttjs.VTTCue)){for(var i in e=new r.vttjs.VTTCue(t.startTime,t.endTime,t.text),t)i in e||(e[i]=t[i]);e.id=t.id,e.originalCue_=t}for(var n=this.tech_.textTracks(),a=0;a<n.length;a++)n[a]!==this&&n[a].removeCue(e);this.cues_.push(e),this.cues.setCues_(this.cues_)},e.prototype.removeCue=function(t){var e=this.cues_.length;while(e--){var i=this.cues_[e];if(i===t||i.originalCue_&&i.originalCue_===t){this.cues_.splice(e,1),this.cues.setCues_(this.cues_);break}}},e}(ei);ci.prototype.allowedEvents_={cuechange:"cuechange"};var ui=function(t){function e(){var i,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};j(this,e);var a=ye(r,{kind:Qe[r.kind]||""}),s=(i=R(this,t.call(this,a)),i),o=!1;if(E)for(var l in e.prototype)"constructor"!==l&&(s[l]=e.prototype[l]);return Object.defineProperty(s,"enabled",{get:function(){return o},set:function(t){"boolean"===typeof t&&t!==o&&(o=t,this.trigger("enabledchange"))}}),a.enabled&&(s.enabled=a.enabled),s.loaded_=!0,n=s,R(i,n)}return N(e,t),e}(ei),di=function(t){function e(){var i,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};j(this,e);var a=ye(r,{kind:Je[r.kind]||""}),s=(i=R(this,t.call(this,a)),i),o=!1;if(E)for(var l in e.prototype)"constructor"!==l&&(s[l]=e.prototype[l]);return Object.defineProperty(s,"selected",{get:function(){return o},set:function(t){"boolean"===typeof t&&t!==o&&(o=t,this.trigger("selectedchange"))}}),a.selected&&(s.selected=a.selected),n=s,R(i,n)}return N(e,t),e}(ei),hi=0,fi=1,pi=2,mi=3,vi=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};j(this,e);var n=R(this,t.call(this)),r=void 0,s=n;if(E)for(var o in s=a.createElement("custom"),e.prototype)"constructor"!==o&&(s[o]=e.prototype[o]);var l,c=new ci(i);return s.kind=c.kind,s.src=c.src,s.srclang=c.language,s.label=c.label,s["default"]=c["default"],Object.defineProperty(s,"readyState",{get:function(){return r}}),Object.defineProperty(s,"track",{get:function(){return c}}),r=hi,c.addEventListener("loadeddata",(function(){r=pi,s.trigger({type:"load",target:s})})),E?(l=s,R(n,l)):n}return N(e,t),e}(re);vi.prototype.allowedEvents_={load:"load"},vi.NONE=hi,vi.LOADING=fi,vi.LOADED=pi,vi.ERROR=mi;var gi={audio:{ListClass:He,TrackClass:ui,capitalName:"Audio"},video:{ListClass:Ge,TrackClass:di,capitalName:"Video"},text:{ListClass:Xe,TrackClass:ci,capitalName:"Text"}};Object.keys(gi).forEach((function(t){gi[t].getterName=t+"Tracks",gi[t].privateName=t+"Tracks_"}));var yi={remoteText:{ListClass:Xe,TrackClass:ci,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Ye,TrackClass:vi,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},_i=ye(gi,yi);function bi(t,e,i,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=t.textTracks();r.kind=e,i&&(r.label=i),n&&(r.language=n),r.tech=t;var s=new _i.text.TrackClass(r);return a.addTrack(s),s}yi.names=Object.keys(yi),gi.names=Object.keys(gi),_i.names=[].concat(yi.names).concat(gi.names);var Ti=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};j(this,e),i.reportTouchActivity=!1;var r=R(this,t.call(this,null,i,n));return r.hasStarted_=!1,r.on("playing",(function(){this.hasStarted_=!0})),r.on("loadstart",(function(){this.hasStarted_=!1})),_i.names.forEach((function(t){var e=_i[t];i&&i[e.getterName]&&(r[e.privateName]=i[e.getterName])})),r.featuresProgressEvents||r.manualProgressOn(),r.featuresTimeupdateEvents||r.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach((function(t){!1===i["native"+t+"Tracks"]&&(r["featuresNative"+t+"Tracks"]=!1)})),!1===i.nativeCaptions||!1===i.nativeTextTracks?r.featuresNativeTextTracks=!1:!0!==i.nativeCaptions&&!0!==i.nativeTextTracks||(r.featuresNativeTextTracks=!0),r.featuresNativeTextTracks||r.emulateTextTracks(),r.autoRemoteTextTracks_=new _i.text.ListClass,r.initTrackListeners(),i.nativeControlsForTouch||r.emitTapEvents(),r.constructor&&(r.name_=r.constructor.name||"Unknown Tech"),r}return N(e,t),e.prototype.triggerSourceset=function(t){var e=this;this.isReady_||this.one("ready",(function(){return e.setTimeout((function(){return e.triggerSourceset(t)}),1)})),this.trigger({src:t,type:"sourceset"})},e.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},e.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},e.prototype.trackProgress=function(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval(ee(this,(function(){var t=this.bufferedPercent();this.bufferedPercent_!==t&&this.trigger("progress"),this.bufferedPercent_=t,1===t&&this.stopTrackingProgress()})),500)},e.prototype.onDurationChange=function(t){this.duration_=this.duration()},e.prototype.buffered=function(){return we(0,0)},e.prototype.bufferedPercent=function(){return Ce(this.buffered(),this.duration_)},e.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},e.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},e.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},e.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval((function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}),250)},e.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},e.prototype.dispose=function(){this.clearTracks(gi.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},e.prototype.clearTracks=function(t){var e=this;t=[].concat(t),t.forEach((function(t){var i=e[t+"Tracks"]()||[],n=i.length;while(n--){var r=i[n];"text"===t&&e.removeRemoteTextTrack(r),i.removeTrack(r)}}))},e.prototype.cleanupAutoTextTracks=function(){var t=this.autoRemoteTextTracks_||[],e=t.length;while(e--){var i=t[e];this.removeRemoteTextTrack(i)}},e.prototype.reset=function(){},e.prototype.error=function(t){return void 0!==t&&(this.error_=new Le(t),this.trigger("error")),this.error_},e.prototype.played=function(){return this.hasStarted_?we(0,0):we()},e.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},e.prototype.initTrackListeners=function(){var t=this;gi.names.forEach((function(e){var i=gi[e],n=function(){t.trigger(e+"trackchange")},r=t[i.getterName]();r.addEventListener("removetrack",n),r.addEventListener("addtrack",n),t.on("dispose",(function(){r.removeEventListener("removetrack",n),r.removeEventListener("addtrack",n)}))}))},e.prototype.addWebVttScript_=function(){var t=this;if(!r.WebVTT)if(a.body.contains(this.el())){if(!this.options_["vtt.js"]&&H(c)&&Object.keys(c).length>0)return void this.trigger("vttjsloaded");var e=a.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.12.4/vtt.min.js",e.onload=function(){t.trigger("vttjsloaded")},e.onerror=function(){t.trigger("vttjserror")},this.on("dispose",(function(){e.onload=null,e.onerror=null})),r.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)},e.prototype.emulateTextTracks=function(){var t=this,e=this.textTracks(),i=this.remoteTextTracks(),n=function(t){return e.addTrack(t.track)},r=function(t){return e.removeTrack(t.track)};i.on("addtrack",n),i.on("removetrack",r),this.addWebVttScript_();var a=function(){return t.trigger("texttrackchange")},s=function(){a();for(var t=0;t<e.length;t++){var i=e[t];i.removeEventListener("cuechange",a),"showing"===i.mode&&i.addEventListener("cuechange",a)}};s(),e.addEventListener("change",s),e.addEventListener("addtrack",s),e.addEventListener("removetrack",s),this.on("dispose",(function(){i.off("addtrack",n),i.off("removetrack",r),e.removeEventListener("change",s),e.removeEventListener("addtrack",s),e.removeEventListener("removetrack",s);for(var t=0;t<e.length;t++){var o=e[t];o.removeEventListener("cuechange",a)}}))},e.prototype.addTextTrack=function(t,e,i){if(!t)throw new Error("TextTrack kind is required but was not provided");return bi(this,t,e,i)},e.prototype.createRemoteTextTrack=function(t){var e=ye(t,{tech:this});return new yi.remoteTextEl.TrackClass(e)},e.prototype.addRemoteTextTrack=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments[1],n=this.createRemoteTextTrack(e);return!0!==i&&!1!==i&&(Y.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),i=!0),this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack(n.track),!0!==i&&this.ready((function(){return t.autoRemoteTextTracks_.addTrack(n.track)})),n},e.prototype.removeRemoteTextTrack=function(t){var e=this.remoteTextTrackEls().getTrackElementByTrack_(t);this.remoteTextTrackEls().removeTrackElement_(e),this.remoteTextTracks().removeTrack(t),this.autoRemoteTextTracks_.removeTrack(t)},e.prototype.getVideoPlaybackQuality=function(){return{}},e.prototype.setPoster=function(){},e.prototype.playsinline=function(){},e.prototype.setPlaysinline=function(){},e.prototype.canPlayType=function(){return""},e.canPlayType=function(){return""},e.canPlaySource=function(t,i){return e.canPlayType(t.type)},e.isTech=function(t){return t.prototype instanceof e||t instanceof e||t===e},e.registerTech=function(t,i){if(e.techs_||(e.techs_={}),!e.isTech(i))throw new Error("Tech "+t+" must be a Tech");if(!e.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!e.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return t=ve(t),e.techs_[t]=i,"Tech"!==t&&e.defaultTechOrder_.push(t),i},e.getTech=function(t){if(t)return t=ve(t),e.techs_&&e.techs_[t]?e.techs_[t]:r&&r.videojs&&r.videojs[t]?(Y.warn("The "+t+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),r.videojs[t]):void 0},e}(_e);_i.names.forEach((function(t){var e=_i[t];Ti.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}})),Ti.prototype.featuresVolumeControl=!0,Ti.prototype.featuresMuteControl=!0,Ti.prototype.featuresFullscreenResize=!1,Ti.prototype.featuresPlaybackRate=!1,Ti.prototype.featuresProgressEvents=!1,Ti.prototype.featuresSourceset=!1,Ti.prototype.featuresTimeupdateEvents=!1,Ti.prototype.featuresNativeTextTracks=!1,Ti.withSourceHandlers=function(t){t.registerSourceHandler=function(e,i){var n=t.sourceHandlers;n||(n=t.sourceHandlers=[]),void 0===i&&(i=n.length),n.splice(i,0,e)},t.canPlayType=function(e){for(var i=t.sourceHandlers||[],n=void 0,r=0;r<i.length;r++)if(n=i[r].canPlayType(e),n)return n;return""},t.selectSourceHandler=function(e,i){for(var n=t.sourceHandlers||[],r=void 0,a=0;a<n.length;a++)if(r=n[a].canHandleSource(e,i),r)return n[a];return null},t.canPlaySource=function(e,i){var n=t.selectSourceHandler(e,i);return n?n.canHandleSource(e,i):""};var e=["seekable","seeking","duration"];e.forEach((function(t){var e=this[t];"function"===typeof e&&(this[t]=function(){return this.sourceHandler_&&this.sourceHandler_[t]?this.sourceHandler_[t].apply(this.sourceHandler_,arguments):e.apply(this,arguments)})}),t.prototype),t.prototype.setSource=function(e){var i=t.selectSourceHandler(e,this.options_);i||(t.nativeSourceHandler?i=t.nativeSourceHandler:Y.error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),i!==t.nativeSourceHandler&&(this.currentSource_=e),this.sourceHandler_=i.handleSource(e,this,this.options_),this.on("dispose",this.disposeSourceHandler)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},_e.registerComponent("Tech",Ti),Ti.registerTech("Tech",Ti),Ti.defaultTechOrder_=[];var Si={},wi={},Ci={};function ki(t,e){Si[t]=Si[t]||[],Si[t].push(e)}function xi(t,e,i){t.setTimeout((function(){return Bi(e,Si[e.type],i,t)}),1)}function Ei(t,e){t.forEach((function(t){return t.setTech&&t.setTech(e)}))}function Pi(t,e,i){return t.reduceRight(Mi(i),e[i]())}function Oi(t,e,i,n){return e[i](t.reduce(Mi(i),n))}function Ii(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r="call"+ve(i),a=t.reduce(Mi(r),n),s=a===Ci,o=s?null:e[i](a);return ji(t,i,o,s),o}var Li={buffered:1,currentTime:1,duration:1,seekable:1,played:1,paused:1},Ai={setCurrentTime:1},Di={play:1,pause:1};function Mi(t){return function(e,i){return e===Ci?Ci:i[t]?i[t](e):e}}function ji(t,e,i,n){for(var r=t.length-1;r>=0;r--){var a=t[r];a[e]&&a[e](n,i)}}function Ni(t){wi[t.id()]=null}function Ri(t,e){var i=wi[t.id()],n=null;if(void 0===i||null===i)return n=e(t),wi[t.id()]=[[e,n]],n;for(var r=0;r<i.length;r++){var a=i[r],s=a[0],o=a[1];s===e&&(n=o)}return null===n&&(n=e(t),i.push([e,n])),n}function Bi(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments[2],n=arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=e[0],o=e.slice(1);if("string"===typeof s)Bi(t,Si[s],i,n,r,a);else if(s){var l=Ri(n,s);if(!l.setSource)return r.push(l),Bi(t,o,i,n,r,a);l.setSource(V({},t),(function(e,s){if(e)return Bi(t,o,i,n,r,a);r.push(l),Bi(s,t.type===s.type?o:Si[s.type],i,n,r,a)}))}else o.length?Bi(t,o,i,n,r,a):a?i(t,r):Bi(t,Si["*"],i,n,r,!0)}var Ui={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",mp3:"audio/mpeg",aac:"audio/aac",oga:"audio/ogg",m3u8:"application/x-mpegURL"},Fi=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=ri(t),i=Ui[e.toLowerCase()];return i||""},$i=function(t,e){if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;var i=t.cache_.sources.filter((function(t){return t.src===e}));if(i.length)return i[0].type;for(var n=t.$$("source"),r=0;r<n.length;r++){var a=n[r];if(a.type&&a.src&&a.src===e)return a.type}return Fi(e)},zi=function t(e){if(Array.isArray(e)){var i=[];e.forEach((function(e){e=t(e),Array.isArray(e)?i=i.concat(e):q(e)&&i.push(e)})),e=i}else e="string"===typeof e&&e.trim()?[Vi({src:e})]:q(e)&&"string"===typeof e.src&&e.src&&e.src.trim()?[Vi(e)]:[];return e};function Vi(t){var e=Fi(t.src);return!t.type&&e&&(t.type=e),t}var qi=function(t){function e(i,n,r){j(this,e);var a=ye({createEl:!1},n),s=R(this,t.call(this,i,a,r));if(n.playerOptions.sources&&0!==n.playerOptions.sources.length)i.src(n.playerOptions.sources);else for(var o=0,l=n.playerOptions.techOrder;o<l.length;o++){var c=ve(l[o]),u=Ti.getTech(c);if(c||(u=_e.getComponent(c)),u&&u.isSupported()){i.loadTech_(c);break}}return s}return N(e,t),e}(_e);_e.registerComponent("MediaLoader",qi);var Hi=function(t){function e(i,n){j(this,e);var r=R(this,t.call(this,i,n));return r.emitTapEvents(),r.enable(),r}return N(e,t),e.prototype.createEl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i=V({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},i),"button"===e&&Y.error("Creating a ClickableComponent with an HTML element of "+e+" is not supported; use a Button instead."),n=V({role:"button"},n),this.tabIndex_=i.tabIndex;var r=t.prototype.createEl.call(this,e,i,n);return this.createControlTextEl(r),r},e.prototype.dispose=function(){this.controlTextEl_=null,t.prototype.dispose.call(this)},e.prototype.createControlTextEl=function(t){return this.controlTextEl_=st("span",{className:"vjs-control-text"},{"aria-live":"polite"}),t&&t.appendChild(this.controlTextEl_),this.controlText(this.controlText_,t),this.controlTextEl_},e.prototype.controlText=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.el();if(void 0===t)return this.controlText_||"Need Text";var i=this.localize(t);this.controlText_=t,ot(this.controlTextEl_,i),this.nonIconControl||e.setAttribute("title",i)},e.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+t.prototype.buildCSSClass.call(this)},e.prototype.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),"undefined"!==typeof this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur))},e.prototype.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),"undefined"!==typeof this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur)},e.prototype.handleClick=function(t){},e.prototype.handleFocus=function(t){qt(a,"keydown",ee(this,this.handleKeyPress))},e.prototype.handleKeyPress=function(e){32===e.which||13===e.which?(e.preventDefault(),this.trigger("click")):t.prototype.handleKeyPress&&t.prototype.handleKeyPress.call(this,e)},e.prototype.handleBlur=function(t){Ht(a,"keydown",ee(this,this.handleKeyPress))},e}(_e);_e.registerComponent("ClickableComponent",Hi);var Wi=function(t){function e(i,n){j(this,e);var r=R(this,t.call(this,i,n));return r.update(),i.on("posterchange",ee(r,r.update)),r}return N(e,t),e.prototype.dispose=function(){this.player().off("posterchange",this.update),t.prototype.dispose.call(this)},e.prototype.createEl=function(){var t=st("div",{className:"vjs-poster",tabIndex:-1});return A||(this.fallbackImg_=st("img"),t.appendChild(this.fallbackImg_)),t},e.prototype.update=function(t){var e=this.player().poster();this.setSrc(e),e?this.show():this.hide()},e.prototype.setSrc=function(t){if(this.fallbackImg_)this.fallbackImg_.src=t;else{var e="";t&&(e='url("'+t+'")'),this.el_.style.backgroundImage=e}},e.prototype.handleClick=function(t){this.player_.controls()&&(this.player_.paused()?Me(this.player_.play()):this.player_.pause())},e}(Hi);_e.registerComponent("PosterImage",Wi);var Gi="#222",Xi="#ccc",Yi={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function Ki(t,e){var i=void 0;if(4===t.length)i=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else{if(7!==t.length)throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");i=t.slice(1)}return"rgba("+parseInt(i.slice(0,2),16)+","+parseInt(i.slice(2,4),16)+","+parseInt(i.slice(4,6),16)+","+e+")"}function Ji(t,e,i){try{t.style[e]=i}catch(n){return}}var Qi=function(t){function e(i,n,a){j(this,e);var s=R(this,t.call(this,i,n,a)),o=ee(s,s.updateDisplay);return i.on("loadstart",ee(s,s.toggleDisplay)),i.on("texttrackchange",o),i.on("loadstart",ee(s,s.preselectTrack)),i.ready(ee(s,(function(){if(i.tech_&&i.tech_.featuresNativeTextTracks)this.hide();else{i.on("fullscreenchange",o),i.on("playerresize",o),r.addEventListener&&r.addEventListener("orientationchange",o),i.on("dispose",(function(){return r.removeEventListener("orientationchange",o)}));for(var t=this.options_.playerOptions.tracks||[],e=0;e<t.length;e++)this.player_.addRemoteTextTrack(t[e],!0);this.preselectTrack()}}))),s}return N(e,t),e.prototype.preselectTrack=function(){for(var t={captions:1,subtitles:1},e=this.player_.textTracks(),i=this.player_.cache_.selectedLanguage,n=void 0,r=void 0,a=void 0,s=0;s<e.length;s++){var o=e[s];i&&i.enabled&&i.language===o.language?o.kind===i.kind?a=o:a||(a=o):i&&!i.enabled?(a=null,n=null,r=null):o["default"]&&("descriptions"!==o.kind||n?o.kind in t&&!r&&(r=o):n=o)}a?a.mode="showing":r?r.mode="showing":n&&(n.mode="showing")},e.prototype.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},e.prototype.clearDisplay=function(){"function"===typeof r.WebVTT&&r.WebVTT.processCues(r,[],this.el_)},e.prototype.updateDisplay=function(){var t=this.player_.textTracks();this.clearDisplay();var e=null,i=null,n=t.length;while(n--){var r=t[n];"showing"===r.mode&&("descriptions"===r.kind?e=r:i=r)}i?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(i)):e&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(e))},e.prototype.updateForTrack=function(t){if("function"===typeof r.WebVTT&&t.activeCues){for(var e=[],i=0;i<t.activeCues.length;i++)e.push(t.activeCues[i]);if(r.WebVTT.processCues(r,e,this.el_),this.player_.textTrackSettings){var n=this.player_.textTrackSettings.getValues(),a=e.length;while(a--){var s=e[a];if(s){var o=s.displayState;if(n.color&&(o.firstChild.style.color=n.color),n.textOpacity&&Ji(o.firstChild,"color",Ki(n.color||"#fff",n.textOpacity)),n.backgroundColor&&(o.firstChild.style.backgroundColor=n.backgroundColor),n.backgroundOpacity&&Ji(o.firstChild,"backgroundColor",Ki(n.backgroundColor||"#000",n.backgroundOpacity)),n.windowColor&&(n.windowOpacity?Ji(o,"backgroundColor",Ki(n.windowColor,n.windowOpacity)):o.style.backgroundColor=n.windowColor),n.edgeStyle&&("dropshadow"===n.edgeStyle?o.firstChild.style.textShadow="2px 2px 3px "+Gi+", 2px 2px 4px "+Gi+", 2px 2px 5px "+Gi:"raised"===n.edgeStyle?o.firstChild.style.textShadow="1px 1px "+Gi+", 2px 2px "+Gi+", 3px 3px "+Gi:"depressed"===n.edgeStyle?o.firstChild.style.textShadow="1px 1px "+Xi+", 0 1px "+Xi+", -1px -1px "+Gi+", 0 -1px "+Gi:"uniform"===n.edgeStyle&&(o.firstChild.style.textShadow="0 0 4px "+Gi+", 0 0 4px "+Gi+", 0 0 4px "+Gi+", 0 0 4px "+Gi)),n.fontPercent&&1!==n.fontPercent){var l=r.parseFloat(o.style.fontSize);o.style.fontSize=l*n.fontPercent+"px",o.style.height="auto",o.style.top="auto",o.style.bottom="2px"}n.fontFamily&&"default"!==n.fontFamily&&("small-caps"===n.fontFamily?o.firstChild.style.fontVariant="small-caps":o.firstChild.style.fontFamily=Yi[n.fontFamily])}}}}},e}(_e);_e.registerComponent("TextTrackDisplay",Qi);var Zi=function(t){function e(){return j(this,e),R(this,t.apply(this,arguments))}return N(e,t),e.prototype.createEl=function(){var e=this.player_.isAudio(),i=this.localize(e?"Audio Player":"Video Player"),n=st("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[i])}),r=t.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return r.appendChild(n),r},e}(_e);_e.registerComponent("LoadingSpinner",Zi);var tn=function(t){function e(){return j(this,e),R(this,t.apply(this,arguments))}return N(e,t),e.prototype.createEl=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t="button",e=V({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},e),i=V({type:"button"},i);var n=_e.prototype.createEl.call(this,t,e,i);return this.createControlTextEl(n),n},e.prototype.addChild=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.constructor.name;return Y.warn("Adding an actionable (user controllable) child to a Button ("+i+") is not supported; use a ClickableComponent instead."),_e.prototype.addChild.call(this,t,e)},e.prototype.enable=function(){t.prototype.enable.call(this),this.el_.removeAttribute("disabled")},e.prototype.disable=function(){t.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},e.prototype.handleKeyPress=function(e){32!==e.which&&13!==e.which&&t.prototype.handleKeyPress.call(this,e)},e}(Hi);_e.registerComponent("Button",tn);var en=function(t){function e(i,n){j(this,e);var r=R(this,t.call(this,i,n));return r.mouseused_=!1,r.on("mousedown",r.handleMouseDown),r}return N(e,t),e.prototype.buildCSSClass=function(){return"vjs-big-play-button"},e.prototype.handleClick=function(t){var e=this.player_.play();if(this.mouseused_&&t.clientX&&t.clientY)Me(e);else{var i=this.player_.getChild("controlBar"),n=i&&i.getChild("playToggle");if(n){var r=function(){return n.focus()};De(e)?e.then(r,(function(){})):this.setTimeout(r,1)}else this.player_.focus()}},e.prototype.handleKeyPress=function(e){this.mouseused_=!1,t.prototype.handleKeyPress.call(this,e)},e.prototype.handleMouseDown=function(t){this.mouseused_=!0},e}(tn);en.prototype.controlText_="Play Video",_e.registerComponent("BigPlayButton",en);var nn=function(t){function e(i,n){j(this,e);var r=R(this,t.call(this,i,n));return r.controlText(n&&n.controlText||r.localize("Close")),r}return N(e,t),e.prototype.buildCSSClass=function(){return"vjs-close-button "+t.prototype.buildCSSClass.call(this)},e.prototype.handleClick=function(t){this.trigger({type:"close",bubbles:!1})},e}(tn);_e.registerComponent("CloseButton",nn);var rn=function(t){function e(i,n){j(this,e);var r=R(this,t.call(this,i,n));return r.on(i,"play",r.handlePlay),r.on(i,"pause",r.handlePause),r.on(i,"ended",r.handleEnded),r}return N(e,t),e.prototype.buildCSSClass=function(){return"vjs-play-control "+t.prototype.buildCSSClass.call(this)},e.prototype.handleClick=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},e.prototype.handleSeeked=function(t){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(t):this.handlePlay(t)},e.prototype.handlePlay=function(t){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},e.prototype.handlePause=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},e.prototype.handleEnded=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},e}(tn);rn.prototype.controlText_="Play",_e.registerComponent("PlayToggle",rn);var an=function(t,e){t=t<0?0:t;var i=Math.floor(t%60),n=Math.floor(t/60%60),r=Math.floor(t/3600),a=Math.floor(e/60%60),s=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(r=n=i="-"),r=r>0||s>0?r+":":"",n=((r||a>=10)&&n<10?"0"+n:n)+":",i=i<10?"0"+i:i,r+n+i},sn=an;function on(t){sn=t}function ln(){sn=an}var cn=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return sn(t,e)},un=function(t){function e(i,n){j(this,e);var r=R(this,t.call(this,i,n));return r.throttledUpdateContent=ie(ee(r,r.updateContent),25),r.on(i,"timeupdate",r.throttledUpdateContent),r}return N(e,t),e.prototype.createEl=function(e){var i=this.buildCSSClass(),n=t.prototype.createEl.call(this,"div",{className:i+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text">'+this.localize(this.labelText_)+" </span>"});return this.contentEl_=st("span",{className:i+"-display"},{"aria-live":"off"}),this.updateTextNode_(),n.appendChild(this.contentEl_),n},e.prototype.dispose=function(){this.contentEl_=null,this.textNode_=null,t.prototype.dispose.call(this)},e.prototype.updateTextNode_=function(){if(this.contentEl_){while(this.contentEl_.firstChild)this.contentEl_.removeChild(this.contentEl_.firstChild);this.textNode_=a.createTextNode(this.formattedTime_||this.formatTime_(0)),this.contentEl_.appendChild(this.textNode_)}},e.prototype.formatTime_=function(t){return cn(t)},e.prototype.updateFormattedTime_=function(t){var e=this.formatTime_(t);e!==this.formattedTime_&&(this.formattedTime_=e,this.requestAnimationFrame(this.updateTextNode_))},e.prototype.updateContent=function(t){},e}(_e);un.prototype.labelText_="Time",un.prototype.controlText_="Time",_e.registerComponent("TimeDisplay",un);var dn=function(t){function e(i,n){j(this,e);var r=R(this,t.call(this,i,n));return r.on(i,"ended",r.handleEnded),r}return N(e,t),e.prototype.buildCSSClass=function(){return"vjs-current-time"},e.prototype.updateContent=function(t){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateFormattedTime_(e)},e.prototype.handleEnded=function(t){this.player_.duration()&&this.updateFormattedTime_(this.player_.duration())},e}(un);dn.prototype.labelText_="Current Time",dn.prototype.controlText_="Current Time",_e.registerComponent("CurrentTimeDisplay",dn);var hn=function(t){function e(i,n){j(this,e);var r=R(this,t.call(this,i,n));return r.on(i,"durationchange",r.updateContent),r.on(i,"loadedmetadata",r.throttledUpdateContent),r}return N(e,t),e.prototype.buildCSSClass=function(){return"vjs-duration"},e.prototype.updateContent=function(t){var e=this.player_.duration();e&&this.duration_!==e&&(this.duration_=e,this.updateFormattedTime_(e))},e}(un);hn.prototype.labelText_="Duration",hn.prototype.controlText_="Duration",_e.registerComponent("DurationDisplay",hn);var fn=function(t){function e(){return j(this,e),R(this,t.apply(this,arguments))}return N(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},e}(_e);_e.registerComponent("TimeDivider",fn);var pn=function(t){function e(i,n){j(this,e);var r=R(this,t.call(this,i,n));return r.on(i,"durationchange",r.throttledUpdateContent),r.on(i,"ended",r.handleEnded),r}return N(e,t),e.prototype.buildCSSClass=function(){return"vjs-remaining-time"},e.prototype.formatTime_=function(e){return"-"+t.prototype.formatTime_.call(this,e)},e.prototype.updateContent=function(t){this.player_.duration()&&(this.player_.remainingTimeDisplay?this.updateFormattedTime_(this.player_.remainingTimeDisplay()):this.updateFormattedTime_(this.player_.remainingTime()))},e.prototype.handleEnded=function(t){this.player_.duration()&&this.updateFormattedTime_(0)},e}(un);pn.prototype.labelText_="Remaining Time",pn.prototype.controlText_="Remaining Time",_e.registerComponent("RemainingTimeDisplay",pn);var mn=function(t){function e(i,n){j(this,e);var r=R(this,t.call(this,i,n));return r.updateShowing(),r.on(r.player(),"durationchange",r.updateShowing),r}return N(e,t),e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=st("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+" </span>"+this.localize("LIVE")},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},e.prototype.dispose=function(){this.contentEl_=null,t.prototype.dispose.call(this)},e.prototype.updateShowing=function(t){this.player().duration()===1/0?this.show():this.hide()},e}(_e);_e.registerComponent("LiveDisplay",mn);var vn=function(t){function e(i,n){j(this,e);var r=R(this,t.call(this,i,n));return r.bar=r.getChild(r.options_.barName),r.vertical(!!r.options_.vertical),r.enable(),r}return N(e,t),e.prototype.enabled=function(){return this.enabled_},e.prototype.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},e.prototype.disable=function(){if(this.enabled()){var t=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},e.prototype.createEl=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i.className=i.className+" vjs-slider",i=V({tabIndex:0},i),n=V({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},n),t.prototype.createEl.call(this,e,i,n)},e.prototype.handleMouseDown=function(t){var e=this.bar.el_.ownerDocument;"mousedown"===t.type&&t.preventDefault(),"touchstart"!==t.type||k||t.preventDefault(),yt(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(e,"mousemove",this.handleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchmove",this.handleMouseMove),this.on(e,"touchend",this.handleMouseUp),this.handleMouseMove(t)},e.prototype.handleMouseMove=function(t){},e.prototype.handleMouseUp=function(){var t=this.bar.el_.ownerDocument;_t(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.update()},e.prototype.update=function(){if(this.el_){var t=this.getPercent(),e=this.bar;if(e){("number"!==typeof t||t!==t||t<0||t===1/0)&&(t=0);var i=(100*t).toFixed(2)+"%",n=e.el().style;return this.vertical()?n.height=i:n.width=i,t}}},e.prototype.calculateDistance=function(t){var e=St(this.el_,t);return this.vertical()?e.y:e.x},e.prototype.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},e.prototype.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepBack()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepForward())},e.prototype.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},e.prototype.handleClick=function(t){t.stopImmediatePropagation(),t.preventDefault()},e.prototype.vertical=function(t){if(void 0===t)return this.vertical_||!1;this.vertical_=!!t,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},e}(_e);_e.registerComponent("Slider",vn);var gn=function(t){function e(i,n){j(this,e);var r=R(this,t.call(this,i,n));return r.partEls_=[],r.on(i,"progress",r.update),r}return N(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},e.prototype.dispose=function(){this.partEls_=null,t.prototype.dispose.call(this)},e.prototype.update=function(t){var e=this.player_.buffered(),i=this.player_.duration(),n=this.player_.bufferedEnd(),r=this.partEls_,a=function(t,e){var i=t/e||0;return 100*(i>=1?1:i)+"%"};this.el_.style.width=a(n,i);for(var s=0;s<e.length;s++){var o=e.start(s),l=e.end(s),c=r[s];c||(c=this.el_.appendChild(st()),r[s]=c),c.style.left=a(o,n),c.style.width=a(l-o,n)}for(var u=r.length;u>e.length;u--)this.el_.removeChild(r[u-1]);r.length=e.length},e}(_e);_e.registerComponent("LoadProgressBar",gn);var yn=function(t){function e(){return j(this,e),R(this,t.apply(this,arguments))}return N(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"})},e.prototype.update=function(t,e,i){var n=bt(this.el_),r=bt(this.player_.el()),a=t.width*e;if(r&&n){var s=t.left-r.left+a,o=t.width-a+(r.right-t.right),l=n.width/2;s<l?l+=l-s:o<l&&(l=o),l<0?l=0:l>n.width&&(l=n.width),this.el_.style.right="-"+l+"px",ot(this.el_,i)}},e}(_e);_e.registerComponent("TimeTooltip",yn);var _n=function(t){function e(){return j(this,e),R(this,t.apply(this,arguments))}return N(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},e.prototype.update=function(t,e){var i=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame((function(){var n=i.player_.scrubbing()?i.player_.getCache().currentTime:i.player_.currentTime(),r=cn(n,i.player_.duration()),a=i.getChild("timeTooltip");a&&a.update(t,e,r)}))},e}(_e);_n.prototype.options_={children:[]},P&&!(P>8)||g||_||_n.prototype.options_.children.push("timeTooltip"),_e.registerComponent("PlayProgressBar",_n);var bn=function(t){function e(i,n){j(this,e);var r=R(this,t.call(this,i,n));return r.update=ie(ee(r,r.update),25),r}return N(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},e.prototype.update=function(t,e){var i=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame((function(){var n=i.player_.duration(),r=cn(e*n,n);i.el_.style.left=t.width*e+"px",i.getChild("timeTooltip").update(t,e,r)}))},e}(_e);bn.prototype.options_={children:["timeTooltip"]},_e.registerComponent("MouseTimeDisplay",bn);var Tn=5,Sn=30,wn=function(t){function e(i,n){j(this,e);var r=R(this,t.call(this,i,n));return r.setEventHandlers_(),r}return N(e,t),e.prototype.setEventHandlers_=function(){var t=this;this.update=ie(ee(this,this.update),Sn),this.on(this.player_,"timeupdate",this.update),this.on(this.player_,"ended",this.handleEnded),this.updateInterval=null,this.on(this.player_,["playing"],(function(){t.clearInterval(t.updateInterval),t.updateInterval=t.setInterval((function(){t.requestAnimationFrame((function(){t.update()}))}),Sn)})),this.on(this.player_,["ended","pause","waiting"],(function(){t.clearInterval(t.updateInterval)})),this.on(this.player_,["timeupdate","ended"],this.update)},e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},e.prototype.update_=function(t,e){var i=this.player_.duration();this.el_.setAttribute("aria-valuenow",(100*e).toFixed(2)),this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[cn(t,i),cn(i,i)],"{1} of {2}")),this.bar.update(bt(this.el_),e)},e.prototype.update=function(e){var i=t.prototype.update.call(this);return this.update_(this.getCurrentTime_(),i),i},e.prototype.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},e.prototype.handleEnded=function(t){this.update_(this.player_.duration(),1)},e.prototype.getPercent=function(){var t=this.getCurrentTime_()/this.player_.duration();return t>=1?1:t},e.prototype.handleMouseDown=function(e){Pt(e)&&(e.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),t.prototype.handleMouseDown.call(this,e))},e.prototype.handleMouseMove=function(t){if(Pt(t)){var e=this.calculateDistance(t)*this.player_.duration();e===this.player_.duration()&&(e-=.1),this.player_.currentTime(e)}},e.prototype.enable=function(){t.prototype.enable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.show()},e.prototype.disable=function(){t.prototype.disable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.hide()},e.prototype.handleMouseUp=function(e){t.prototype.handleMouseUp.call(this,e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying&&Me(this.player_.play())},e.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+Tn)},e.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-Tn)},e.prototype.handleAction=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},e.prototype.handleKeyPress=function(e){32===e.which||13===e.which?(e.preventDefault(),this.handleAction(e)):t.prototype.handleKeyPress&&t.prototype.handleKeyPress.call(this,e)},e}(vn);wn.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},P&&!(P>8)||g||_||wn.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),wn.prototype.playerEvent="timeupdate",_e.registerComponent("SeekBar",wn);var Cn=function(t){function e(i,n){j(this,e);var r=R(this,t.call(this,i,n));return r.handleMouseMove=ie(ee(r,r.handleMouseMove),25),r.throttledHandleMouseSeek=ie(ee(r,r.handleMouseSeek),25),r.enable(),r}return N(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},e.prototype.handleMouseMove=function(t){var e=this.getChild("seekBar");if(e){var i=e.getChild("mouseTimeDisplay"),n=e.el(),r=bt(n),a=St(n,t).x;a>1?a=1:a<0&&(a=0),i&&i.update(r,a)}},e.prototype.handleMouseSeek=function(t){var e=this.getChild("seekBar");e&&e.handleMouseMove(t)},e.prototype.enabled=function(){return this.enabled_},e.prototype.disable=function(){this.children().forEach((function(t){return t.disable&&t.disable()})),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},e.prototype.enable=function(){this.children().forEach((function(t){return t.enable&&t.enable()})),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},e.prototype.handleMouseDown=function(t){var e=this.el_.ownerDocument,i=this.getChild("seekBar");i&&i.handleMouseDown(t),this.on(e,"mousemove",this.throttledHandleMouseSeek),this.on(e,"touchmove",this.throttledHandleMouseSeek),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},e.prototype.handleMouseUp=function(t){var e=this.el_.ownerDocument,i=this.getChild("seekBar");i&&i.handleMouseUp(t),this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},e}(_e);Cn.prototype.options_={children:["seekBar"]},_e.registerComponent("ProgressControl",Cn);var kn=function(t){function e(i,n){j(this,e);var r=R(this,t.call(this,i,n));return r.on(i,"fullscreenchange",r.handleFullscreenChange),!1===a[ke.fullscreenEnabled]&&r.disable(),r}return N(e,t),e.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+t.prototype.buildCSSClass.call(this)},e.prototype.handleFullscreenChange=function(t){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},e.prototype.handleClick=function(t){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},e}(tn);kn.prototype.controlText_="Fullscreen",_e.registerComponent("FullscreenToggle",kn);var xn=function(t,e){e.tech_&&!e.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",(function(){e.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")}))},En=function(t){function e(){return j(this,e),R(this,t.apply(this,arguments))}return N(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},e}(_e);_e.registerComponent("VolumeLevel",En);var Pn=function(t){function e(i,n){j(this,e);var r=R(this,t.call(this,i,n));return r.on("slideractive",r.updateLastVolume_),r.on(i,"volumechange",r.updateARIAAttributes),i.ready((function(){return r.updateARIAAttributes()})),r}return N(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},e.prototype.handleMouseDown=function(e){Pt(e)&&t.prototype.handleMouseDown.call(this,e)},e.prototype.handleMouseMove=function(t){Pt(t)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(t)))},e.prototype.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},e.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},e.prototype.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},e.prototype.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},e.prototype.updateARIAAttributes=function(t){var e=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",e),this.el_.setAttribute("aria-valuetext",e+"%")},e.prototype.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},e.prototype.updateLastVolume_=function(){var t=this,e=this.player_.volume();this.one("sliderinactive",(function(){0===t.player_.volume()&&t.player_.lastVolume_(e)}))},e}(vn);Pn.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},Pn.prototype.playerEvent="volumechange",_e.registerComponent("VolumeBar",Pn);var On=function(t){function e(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};j(this,e),n.vertical=n.vertical||!1,("undefined"===typeof n.volumeBar||H(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical);var r=R(this,t.call(this,i,n));return xn(r,i),r.throttledHandleMouseMove=ie(ee(r,r.handleMouseMove),25),r.on("mousedown",r.handleMouseDown),r.on("touchstart",r.handleMouseDown),r.on(r.volumeBar,["focus","slideractive"],(function(){r.volumeBar.addClass("vjs-slider-active"),r.addClass("vjs-slider-active"),r.trigger("slideractive")})),r.on(r.volumeBar,["blur","sliderinactive"],(function(){r.volumeBar.removeClass("vjs-slider-active"),r.removeClass("vjs-slider-active"),r.trigger("sliderinactive")})),r}return N(e,t),e.prototype.createEl=function(){var e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+e})},e.prototype.handleMouseDown=function(t){var e=this.el_.ownerDocument;this.on(e,"mousemove",this.throttledHandleMouseMove),this.on(e,"touchmove",this.throttledHandleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},e.prototype.handleMouseUp=function(t){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseMove),this.off(e,"touchmove",this.throttledHandleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},e.prototype.handleMouseMove=function(t){this.volumeBar.handleMouseMove(t)},e}(_e);On.prototype.options_={children:["volumeBar"]},_e.registerComponent("VolumeControl",On);var In=function(t,e){e.tech_&&!e.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",(function(){e.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")}))},Ln=function(t){function e(i,n){j(this,e);var r=R(this,t.call(this,i,n));return In(r,i),r.on(i,["loadstart","volumechange"],r.update),r}return N(e,t),e.prototype.buildCSSClass=function(){return"vjs-mute-control "+t.prototype.buildCSSClass.call(this)},e.prototype.handleClick=function(t){var e=this.player_.volume(),i=this.player_.lastVolume_();if(0===e){var n=i<.1?.1:i;this.player_.volume(n),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},e.prototype.update=function(t){this.updateIcon_(),this.updateControlText_()},e.prototype.updateIcon_=function(){var t=this.player_.volume(),e=3;g&&this.player_.muted(this.player_.tech_.el_.muted),0===t||this.player_.muted()?e=0:t<.33?e=1:t<.67&&(e=2);for(var i=0;i<4;i++)dt(this.el_,"vjs-vol-"+i);ut(this.el_,"vjs-vol-"+e)},e.prototype.updateControlText_=function(){var t=this.player_.muted()||0===this.player_.volume(),e=t?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)},e}(tn);Ln.prototype.controlText_="Mute",_e.registerComponent("MuteToggle",Ln);var An=function(t){function e(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};j(this,e),"undefined"!==typeof n.inline?n.inline=n.inline:n.inline=!0,("undefined"===typeof n.volumeControl||H(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline);var r=R(this,t.call(this,i,n));return r.on(i,["loadstart"],r.volumePanelState_),r.on(r.volumeControl,["slideractive"],r.sliderActive_),r.on(r.volumeControl,["sliderinactive"],r.sliderInactive_),r}return N(e,t),e.prototype.sliderActive_=function(){this.addClass("vjs-slider-active")},e.prototype.sliderInactive_=function(){this.removeClass("vjs-slider-active")},e.prototype.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},e.prototype.createEl=function(){var e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+e})},e}(_e);An.prototype.options_={children:["muteToggle","volumeControl"]},_e.registerComponent("VolumePanel",An);var Dn=function(t){function e(i,n){j(this,e);var r=R(this,t.call(this,i,n));return n&&(r.menuButton_=n.menuButton),r.focusedChild_=-1,r.on("keydown",r.handleKeyPress),r}return N(e,t),e.prototype.addItem=function(t){this.addChild(t),t.on("click",ee(this,(function(e){this.menuButton_&&(this.menuButton_.unpressButton(),"CaptionSettingsMenuItem"!==t.name()&&this.menuButton_.focus())})))},e.prototype.createEl=function(){var e=this.options_.contentElType||"ul";this.contentEl_=st(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var i=t.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return i.appendChild(this.contentEl_),qt(i,"click",(function(t){t.preventDefault(),t.stopImmediatePropagation()})),i},e.prototype.dispose=function(){this.contentEl_=null,t.prototype.dispose.call(this)},e.prototype.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepForward()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepBack())},e.prototype.stepForward=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_+1),this.focus(t)},e.prototype.stepBack=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_-1),this.focus(t)},e.prototype.focus=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=this.children().slice(),i=e.length&&e[0].className&&/vjs-menu-title/.test(e[0].className);i&&e.shift(),e.length>0&&(t<0?t=0:t>=e.length&&(t=e.length-1),this.focusedChild_=t,e[t].el_.focus())},e}(_e);_e.registerComponent("Menu",Dn);var Mn=function(t){function e(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};j(this,e);var r=R(this,t.call(this,i,n));r.menuButton_=new tn(i,n),r.menuButton_.controlText(r.controlText_),r.menuButton_.el_.setAttribute("aria-haspopup","true");var a=tn.prototype.buildCSSClass();return r.menuButton_.el_.className=r.buildCSSClass()+" "+a,r.menuButton_.removeClass("vjs-control"),r.addChild(r.menuButton_),r.update(),r.enabled_=!0,r.on(r.menuButton_,"tap",r.handleClick),r.on(r.menuButton_,"click",r.handleClick),r.on(r.menuButton_,"focus",r.handleFocus),r.on(r.menuButton_,"blur",r.handleBlur),r.on("keydown",r.handleSubmenuKeyPress),r}return N(e,t),e.prototype.update=function(){var t=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=t,this.addChild(t),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},e.prototype.createMenu=function(){var t=new Dn(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var e=st("li",{className:"vjs-menu-title",innerHTML:ve(this.options_.title),tabIndex:-1});this.hideThreshold_+=1,t.children_.unshift(e),lt(e,t.contentEl())}if(this.items=this.createItems(),this.items)for(var i=0;i<this.items.length;i++)t.addItem(this.items[i]);return t},e.prototype.createItems=function(){},e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},e.prototype.buildWrapperCSSClass=function(){var e="vjs-menu-button";!0===this.options_.inline?e+="-inline":e+="-popup";var i=tn.prototype.buildCSSClass();return"vjs-menu-button "+e+" "+i+" "+t.prototype.buildCSSClass.call(this)},e.prototype.buildCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+t.prototype.buildCSSClass.call(this)},e.prototype.controlText=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.menuButton_.el();return this.menuButton_.controlText(t,e)},e.prototype.handleClick=function(t){this.one(this.menu.contentEl(),"mouseleave",ee(this,(function(t){this.unpressButton(),this.el_.blur()}))),this.buttonPressed_?this.unpressButton():this.pressButton()},e.prototype.focus=function(){this.menuButton_.focus()},e.prototype.blur=function(){this.menuButton_.blur()},e.prototype.handleFocus=function(){qt(a,"keydown",ee(this,this.handleKeyPress))},e.prototype.handleBlur=function(){Ht(a,"keydown",ee(this,this.handleKeyPress))},e.prototype.handleKeyPress=function(t){27===t.which||9===t.which?(this.buttonPressed_&&this.unpressButton(),9!==t.which&&(t.preventDefault(),this.menuButton_.el_.focus())):38!==t.which&&40!==t.which||this.buttonPressed_||(this.pressButton(),t.preventDefault())},e.prototype.handleSubmenuKeyPress=function(t){27!==t.which&&9!==t.which||(this.buttonPressed_&&this.unpressButton(),9!==t.which&&(t.preventDefault(),this.menuButton_.el_.focus()))},e.prototype.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),g&&rt())return;this.menu.focus()}},e.prototype.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},e.prototype.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},e.prototype.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},e}(_e);_e.registerComponent("MenuButton",Mn);var jn=function(t){function e(i,n){j(this,e);var r=n.tracks,a=R(this,t.call(this,i,n));if(a.items.length<=1&&a.hide(),!r)return R(a);var s=ee(a,a.update);return r.addEventListener("removetrack",s),r.addEventListener("addtrack",s),a.player_.on("ready",s),a.player_.on("dispose",(function(){r.removeEventListener("removetrack",s),r.removeEventListener("addtrack",s)})),a}return N(e,t),e}(Mn);_e.registerComponent("TrackButton",jn);var Nn=function(t){function e(i,n){j(this,e);var r=R(this,t.call(this,i,n));return r.selectable=n.selectable,r.isSelected_=n.selected||!1,r.multiSelectable=n.multiSelectable,r.selected(r.isSelected_),r.selectable?r.multiSelectable?r.el_.setAttribute("role","menuitemcheckbox"):r.el_.setAttribute("role","menuitemradio"):r.el_.setAttribute("role","menuitem"),r}return N(e,t),e.prototype.createEl=function(e,i,n){return this.nonIconControl=!0,t.prototype.createEl.call(this,"li",V({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},i),n)},e.prototype.handleClick=function(t){this.selected(!0)},e.prototype.selected=function(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},e}(Hi);_e.registerComponent("MenuItem",Nn);var Rn=function(t){function e(i,n){j(this,e);var s=n.track,o=i.textTracks();n.label=s.label||s.language||"Unknown",n.selected="showing"===s.mode;var l=R(this,t.call(this,i,n));l.track=s;var c=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];l.handleTracksChange.apply(l,e)},u=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];l.handleSelectedLanguageChange.apply(l,e)};if(i.on(["loadstart","texttrackchange"],c),o.addEventListener("change",c),o.addEventListener("selectedlanguagechange",u),l.on("dispose",(function(){i.off(["loadstart","texttrackchange"],c),o.removeEventListener("change",c),o.removeEventListener("selectedlanguagechange",u)})),void 0===o.onchange){var d=void 0;l.on(["tap","click"],(function(){if("object"!==M(r.Event))try{d=new r.Event("change")}catch(t){}d||(d=a.createEvent("Event"),d.initEvent("change",!0,!0)),o.dispatchEvent(d)}))}return l.handleTracksChange(),l}return N(e,t),e.prototype.handleClick=function(e){var i=this.track.kind,n=this.track.kinds,r=this.player_.textTracks();if(n||(n=[i]),t.prototype.handleClick.call(this,e),r)for(var a=0;a<r.length;a++){var s=r[a];s===this.track&&n.indexOf(s.kind)>-1?"showing"!==s.mode&&(s.mode="showing"):"disabled"!==s.mode&&(s.mode="disabled")}},e.prototype.handleTracksChange=function(t){var e="showing"===this.track.mode;e!==this.isSelected_&&this.selected(e)},e.prototype.handleSelectedLanguageChange=function(t){if("showing"===this.track.mode){var e=this.player_.cache_.selectedLanguage;if(e&&e.enabled&&e.language===this.track.language&&e.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},e.prototype.dispose=function(){this.track=null,t.prototype.dispose.call(this)},e}(Nn);_e.registerComponent("TextTrackMenuItem",Rn);var Bn=function(t){function e(i,n){return j(this,e),n.track={player:i,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.label?n.track.label=n.label:n.track.label=n.kinds.join(" and ")+" off",n.selectable=!0,n.multiSelectable=!1,R(this,t.call(this,i,n))}return N(e,t),e.prototype.handleTracksChange=function(t){for(var e=this.player().textTracks(),i=!0,n=0,r=e.length;n<r;n++){var a=e[n];if(this.options_.kinds.indexOf(a.kind)>-1&&"showing"===a.mode){i=!1;break}}i!==this.isSelected_&&this.selected(i)},e.prototype.handleSelectedLanguageChange=function(t){for(var e=this.player().textTracks(),i=!0,n=0,r=e.length;n<r;n++){var a=e[n];if(["captions","descriptions","subtitles"].indexOf(a.kind)>-1&&"showing"===a.mode){i=!1;break}}i&&(this.player_.cache_.selectedLanguage={enabled:!1})},e}(Rn);_e.registerComponent("OffTextTrackMenuItem",Bn);var Un=function(t){function e(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return j(this,e),n.tracks=i.textTracks(),R(this,t.call(this,i,n))}return N(e,t),e.prototype.createItems=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rn,i=void 0;this.label_&&(i=this.label_+" off"),t.push(new Bn(this.player_,{kinds:this.kinds_,kind:this.kind_,label:i})),this.hideThreshold_+=1;var n=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var r=0;r<n.length;r++){var a=n[r];if(this.kinds_.indexOf(a.kind)>-1){var s=new e(this.player_,{track:a,selectable:!0,multiSelectable:!1});s.addClass("vjs-"+a.kind+"-menu-item"),t.push(s)}}return t},e}(jn);_e.registerComponent("TextTrackButton",Un);var Fn=function(t){function e(i,n){j(this,e);var r=n.track,a=n.cue,s=i.currentTime();n.selectable=!0,n.multiSelectable=!1,n.label=a.text,n.selected=a.startTime<=s&&s<a.endTime;var o=R(this,t.call(this,i,n));return o.track=r,o.cue=a,r.addEventListener("cuechange",ee(o,o.update)),o}return N(e,t),e.prototype.handleClick=function(e){t.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},e.prototype.update=function(t){var e=this.cue,i=this.player_.currentTime();this.selected(e.startTime<=i&&i<e.endTime)},e}(Nn);_e.registerComponent("ChaptersTrackMenuItem",Fn);var $n=function(t){function e(i,n,r){return j(this,e),R(this,t.call(this,i,n,r))}return N(e,t),e.prototype.buildCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildCSSClass.call(this)},e.prototype.buildWrapperCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildWrapperCSSClass.call(this)},e.prototype.update=function(e){this.track_&&(!e||"addtrack"!==e.type&&"removetrack"!==e.type)||this.setTrack(this.findChaptersTrack()),t.prototype.update.call(this)},e.prototype.setTrack=function(t){if(this.track_!==t){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);e&&e.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=t,this.track_){this.track_.mode="hidden";var i=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);i&&i.addEventListener("load",this.updateHandler_)}}},e.prototype.findChaptersTrack=function(){for(var t=this.player_.textTracks()||[],e=t.length-1;e>=0;e--){var i=t[e];if(i.kind===this.kind_)return i}},e.prototype.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(ve(this.kind_))},e.prototype.createMenu=function(){return this.options_.title=this.getMenuCaption(),t.prototype.createMenu.call(this)},e.prototype.createItems=function(){var t=[];if(!this.track_)return t;var e=this.track_.cues;if(!e)return t;for(var i=0,n=e.length;i<n;i++){var r=e[i],a=new Fn(this.player_,{track:this.track_,cue:r});t.push(a)}return t},e}(Un);$n.prototype.kind_="chapters",$n.prototype.controlText_="Chapters",_e.registerComponent("ChaptersButton",$n);var zn=function(t){function e(i,n,r){j(this,e);var a=R(this,t.call(this,i,n,r)),s=i.textTracks(),o=ee(a,a.handleTracksChange);return s.addEventListener("change",o),a.on("dispose",(function(){s.removeEventListener("change",o)})),a}return N(e,t),e.prototype.handleTracksChange=function(t){for(var e=this.player().textTracks(),i=!1,n=0,r=e.length;n<r;n++){var a=e[n];if(a.kind!==this.kind_&&"showing"===a.mode){i=!0;break}}i?this.disable():this.enable()},e.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildCSSClass.call(this)},e.prototype.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(Un);zn.prototype.kind_="descriptions",zn.prototype.controlText_="Descriptions",_e.registerComponent("DescriptionsButton",zn);var Vn=function(t){function e(i,n,r){return j(this,e),R(this,t.call(this,i,n,r))}return N(e,t),e.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildCSSClass.call(this)},e.prototype.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(Un);Vn.prototype.kind_="subtitles",Vn.prototype.controlText_="Subtitles",_e.registerComponent("SubtitlesButton",Vn);var qn=function(t){function e(i,n){j(this,e),n.track={player:i,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1,n.name="CaptionSettingsMenuItem";var r=R(this,t.call(this,i,n));return r.addClass("vjs-texttrack-settings"),r.controlText(", opens "+n.kind+" settings dialog"),r}return N(e,t),e.prototype.handleClick=function(t){this.player().getChild("textTrackSettings").open()},e}(Rn);_e.registerComponent("CaptionSettingsMenuItem",qn);var Hn=function(t){function e(i,n,r){return j(this,e),R(this,t.call(this,i,n,r))}return N(e,t),e.prototype.buildCSSClass=function(){return"vjs-captions-button "+t.prototype.buildCSSClass.call(this)},e.prototype.buildWrapperCSSClass=function(){return"vjs-captions-button "+t.prototype.buildWrapperCSSClass.call(this)},e.prototype.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new qn(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),t.prototype.createItems.call(this,e)},e}(Un);Hn.prototype.kind_="captions",Hn.prototype.controlText_="Captions",_e.registerComponent("CaptionsButton",Hn);var Wn=function(t){function e(){return j(this,e),R(this,t.apply(this,arguments))}return N(e,t),e.prototype.createEl=function(e,i,n){var r='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);"captions"===this.options_.track.kind&&(r+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),r+="</span>";var a=t.prototype.createEl.call(this,e,V({innerHTML:r},i),n);return a},e}(Rn);_e.registerComponent("SubsCapsMenuItem",Wn);var Gn=function(t){function e(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};j(this,e);var r=R(this,t.call(this,i,n));return r.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(r.player_.language_)>-1&&(r.label_="captions"),r.menuButton_.controlText(ve(r.label_)),r}return N(e,t),e.prototype.buildCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildCSSClass.call(this)},e.prototype.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildWrapperCSSClass.call(this)},e.prototype.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new qn(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=t.prototype.createItems.call(this,e,Wn),e},e}(Un);Gn.prototype.kinds_=["captions","subtitles"],Gn.prototype.controlText_="Subtitles",_e.registerComponent("SubsCapsButton",Gn);var Xn=function(t){function e(i,n){j(this,e);var r=n.track,a=i.audioTracks();n.label=r.label||r.language||"Unknown",n.selected=r.enabled;var s=R(this,t.call(this,i,n));s.track=r,s.addClass("vjs-"+r.kind+"-menu-item");var o=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];s.handleTracksChange.apply(s,e)};return a.addEventListener("change",o),s.on("dispose",(function(){a.removeEventListener("change",o)})),s}return N(e,t),e.prototype.createEl=function(e,i,n){var r='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);"main-desc"===this.options_.track.kind&&(r+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"</span>\n      "),r+="</span>";var a=t.prototype.createEl.call(this,e,V({innerHTML:r},i),n);return a},e.prototype.handleClick=function(e){var i=this.player_.audioTracks();t.prototype.handleClick.call(this,e);for(var n=0;n<i.length;n++){var r=i[n];r.enabled=r===this.track}},e.prototype.handleTracksChange=function(t){this.selected(this.track.enabled)},e}(Nn);_e.registerComponent("AudioTrackMenuItem",Xn);var Yn=function(t){function e(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return j(this,e),n.tracks=i.audioTracks(),R(this,t.call(this,i,n))}return N(e,t),e.prototype.buildCSSClass=function(){return"vjs-audio-button "+t.prototype.buildCSSClass.call(this)},e.prototype.buildWrapperCSSClass=function(){return"vjs-audio-button "+t.prototype.buildWrapperCSSClass.call(this)},e.prototype.createItems=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.hideThreshold_=1;for(var e=this.player_.audioTracks(),i=0;i<e.length;i++){var n=e[i];t.push(new Xn(this.player_,{track:n,selectable:!0,multiSelectable:!1}))}return t},e}(jn);Yn.prototype.controlText_="Audio Track",_e.registerComponent("AudioTrackButton",Yn);var Kn=function(t){function e(i,n){j(this,e);var r=n.rate,a=parseFloat(r,10);n.label=r,n.selected=1===a,n.selectable=!0,n.multiSelectable=!1;var s=R(this,t.call(this,i,n));return s.label=r,s.rate=a,s.on(i,"ratechange",s.update),s}return N(e,t),e.prototype.handleClick=function(e){t.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},e.prototype.update=function(t){this.selected(this.player().playbackRate()===this.rate)},e}(Nn);Kn.prototype.contentElType="button",_e.registerComponent("PlaybackRateMenuItem",Kn);var Jn=function(t){function e(i,n){j(this,e);var r=R(this,t.call(this,i,n));return r.updateVisibility(),r.updateLabel(),r.on(i,"loadstart",r.updateVisibility),r.on(i,"ratechange",r.updateLabel),r}return N(e,t),e.prototype.createEl=function(){var e=t.prototype.createEl.call(this);return this.labelEl_=st("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),e.appendChild(this.labelEl_),e},e.prototype.dispose=function(){this.labelEl_=null,t.prototype.dispose.call(this)},e.prototype.buildCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildCSSClass.call(this)},e.prototype.buildWrapperCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildWrapperCSSClass.call(this)},e.prototype.createMenu=function(){var t=new Dn(this.player()),e=this.playbackRates();if(e)for(var i=e.length-1;i>=0;i--)t.addChild(new Kn(this.player(),{rate:e[i]+"x"}));return t},e.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},e.prototype.handleClick=function(t){for(var e=this.player().playbackRate(),i=this.playbackRates(),n=i[0],r=0;r<i.length;r++)if(i[r]>e){n=i[r];break}this.player().playbackRate(n)},e.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},e.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},e.prototype.updateVisibility=function(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},e.prototype.updateLabel=function(t){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},e}(Mn);Jn.prototype.controlText_="Playback Rate",_e.registerComponent("PlaybackRateMenuButton",Jn);var Qn=function(t){function e(){return j(this,e),R(this,t.apply(this,arguments))}return N(e,t),e.prototype.buildCSSClass=function(){return"vjs-spacer "+t.prototype.buildCSSClass.call(this)},e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},e}(_e);_e.registerComponent("Spacer",Qn);var Zn=function(t){function e(){return j(this,e),R(this,t.apply(this,arguments))}return N(e,t),e.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,{className:this.buildCSSClass()});return e.innerHTML=" ",e},e}(Qn);_e.registerComponent("CustomControlSpacer",Zn);var tr=function(t){function e(){return j(this,e),R(this,t.apply(this,arguments))}return N(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},e}(_e);tr.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},_e.registerComponent("ControlBar",tr);var er=function(t){function e(i,n){j(this,e);var r=R(this,t.call(this,i,n));return r.on(i,"error",r.open),r}return N(e,t),e.prototype.buildCSSClass=function(){return"vjs-error-display "+t.prototype.buildCSSClass.call(this)},e.prototype.content=function(){var t=this.player().error();return t?this.localize(t.message):""},e}($e);er.prototype.options_=ye($e.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),_e.registerComponent("ErrorDisplay",er);var ir="vjs-text-track-settings",nr=["#000","Black"],rr=["#00F","Blue"],ar=["#0FF","Cyan"],sr=["#0F0","Green"],or=["#F0F","Magenta"],lr=["#F00","Red"],cr=["#FFF","White"],ur=["#FF0","Yellow"],dr=["1","Opaque"],hr=["0.5","Semi-Transparent"],fr=["0","Transparent"],pr={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[nr,cr,lr,sr,rr,ur,or,ar]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[dr,hr,fr]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[cr,nr,lr,sr,rr,ur,or,ar]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(t){return"1.00"===t?null:Number(t)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[dr,hr]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[fr,hr,dr]}};function mr(t,e){if(e&&(t=e(t)),t&&"none"!==t)return t}function vr(t,e){var i=t.options[t.options.selectedIndex].value;return mr(i,e)}function gr(t,e,i){if(e)for(var n=0;n<t.options.length;n++)if(mr(t.options[n].value,i)===e){t.selectedIndex=n;break}}pr.windowColor.options=pr.backgroundColor.options;var yr=function(t){function e(i,n){j(this,e),n.temporary=!1;var r=R(this,t.call(this,i,n));return r.updateDisplay=ee(r,r.updateDisplay),r.fill(),r.hasBeenOpened_=r.hasBeenFilled_=!0,r.endDialog=st("p",{className:"vjs-control-text",textContent:r.localize("End of dialog window.")}),r.el().appendChild(r.endDialog),r.setDefaults(),void 0===n.persistTextTrackSettings&&(r.options_.persistTextTrackSettings=r.options_.playerOptions.persistTextTrackSettings),r.on(r.$(".vjs-done-button"),"click",(function(){r.saveSettings(),r.close()})),r.on(r.$(".vjs-default-button"),"click",(function(){r.setDefaults(),r.updateDisplay()})),$(pr,(function(t){r.on(r.$(t.selector),"change",r.updateDisplay)})),r.options_.persistTextTrackSettings&&r.restoreSettings(),r}return N(e,t),e.prototype.dispose=function(){this.endDialog=null,t.prototype.dispose.call(this)},e.prototype.createElSelect_=function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"label",r=pr[t],a=r.id.replace("%s",this.id_),s=[i,a].join(" ").trim();return["<"+n+' id="'+a+'" class="'+("label"===n?"vjs-label":"")+'">',this.localize(r.label),"</"+n+">",'<select aria-labelledby="'+s+'">'].concat(r.options.map((function(t){var i=a+"-"+t[1].replace(/\W+/g,"");return['<option id="'+i+'" value="'+t[0]+'" ','aria-labelledby="'+s+" "+i+'">',e.localize(t[1]),"</option>"].join("")}))).concat("</select>").join("")},e.prototype.createElFgColor_=function(){var t="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",t),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",t),"</span>","</fieldset>"].join("")},e.prototype.createElBgColor_=function(){var t="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",t),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",t),"</span>","</fieldset>"].join("")},e.prototype.createElWinColor_=function(){var t="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",t),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",t),"</span>","</fieldset>"].join("")},e.prototype.createElColors_=function(){return st("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},e.prototype.createElFont_=function(){return st("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},e.prototype.createElControls_=function(){var t=this.localize("restore all settings to the default values");return st("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+t+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+t+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},e.prototype.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},e.prototype.label=function(){return this.localize("Caption Settings Dialog")},e.prototype.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},e.prototype.buildCSSClass=function(){return t.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},e.prototype.getValues=function(){var t=this;return z(pr,(function(e,i,n){var r=vr(t.$(i.selector),i.parser);return void 0!==r&&(e[n]=r),e}),{})},e.prototype.setValues=function(t){var e=this;$(pr,(function(i,n){gr(e.$(i.selector),t[n],i.parser)}))},e.prototype.setDefaults=function(){var t=this;$(pr,(function(e){var i=e.hasOwnProperty("default")?e["default"]:0;t.$(e.selector).selectedIndex=i}))},e.prototype.restoreSettings=function(){var t=void 0;try{t=JSON.parse(r.localStorage.getItem(ir))}catch(e){Y.warn(e)}t&&this.setValues(t)},e.prototype.saveSettings=function(){if(this.options_.persistTextTrackSettings){var t=this.getValues();try{Object.keys(t).length?r.localStorage.setItem(ir,JSON.stringify(t)):r.localStorage.removeItem(ir)}catch(e){Y.warn(e)}}},e.prototype.updateDisplay=function(){var t=this.player_.getChild("textTrackDisplay");t&&t.updateDisplay()},e.prototype.conditionalBlur_=function(){this.previouslyActiveEl_=null,this.off(a,"keydown",this.handleKeyDown);var t=this.player_.controlBar,e=t&&t.subsCapsButton,i=t&&t.captionsButton;e?e.focus():i&&i.focus()},e}($e);_e.registerComponent("TextTrackSettings",yr);var _r=function(t){function e(i,n){j(this,e);var a=n.ResizeObserver||r.ResizeObserver;null===n.ResizeObserver&&(a=!1);var s=ye({createEl:!a},n),o=R(this,t.call(this,i,s));return o.ResizeObserver=n.ResizeObserver||r.ResizeObserver,o.loadListener_=null,o.resizeObserver_=null,o.debouncedHandler_=ne((function(){o.resizeHandler()}),100,!1,o),a?(o.resizeObserver_=new o.ResizeObserver(o.debouncedHandler_),o.resizeObserver_.observe(i.el())):(o.loadListener_=function(){o.el_&&o.el_.contentWindow&&qt(o.el_.contentWindow,"resize",o.debouncedHandler_)},o.one("load",o.loadListener_)),o}return N(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager"})},e.prototype.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},e.prototype.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.el_&&this.el_.contentWindow&&Ht(this.el_.contentWindow,"resize",this.debouncedHandler_),this.loadListener_&&this.off("load",this.loadListener_),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null},e}(_e);_e.registerComponent("ResizeManager",_r);var br=function(t){var e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),!0;var i=t.$$("source"),n=[],r="";if(!i.length)return!1;for(var a=0;a<i.length;a++){var s=i[a].src;s&&-1===n.indexOf(s)&&n.push(s)}return!!n.length&&(1===n.length&&(r=n[0]),t.triggerSourceset(r),!0)},Tr={};E||(Tr=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(t){var e=a.createElement(this.nodeName.toLowerCase());e.innerHTML=t;var i=a.createDocumentFragment();while(e.childNodes.length)i.appendChild(e.childNodes[0]);return this.innerText="",r.Element.prototype.appendChild.call(this,i),this.innerHTML}}));var Sr=function(t,e){for(var i={},n=0;n<t.length;n++)if(i=Object.getOwnPropertyDescriptor(t[n],e),i&&i.set&&i.get)break;return i.enumerable=!0,i.configurable=!0,i},wr=function(t){return Sr([t.el(),r.HTMLMediaElement.prototype,r.Element.prototype,Tr],"innerHTML")},Cr=function(t){var e=t.el();if(!e.resetSourceWatch_){var i={},n=wr(t),r=function(i){return function(){for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var s=i.apply(e,r);return br(t),s}};["append","appendChild","insertAdjacentHTML"].forEach((function(t){e[t]&&(i[t]=e[t],e[t]=r(i[t]))})),Object.defineProperty(e,"innerHTML",ye(n,{set:r(n.set)})),e.resetSourceWatch_=function(){e.resetSourceWatch_=null,Object.keys(i).forEach((function(t){e[t]=i[t]})),Object.defineProperty(e,"innerHTML",n)},t.one("sourceset",e.resetSourceWatch_)}},kr={};E||(kr=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?ni(r.Element.prototype.getAttribute.call(this,"src")):""},set:function(t){return r.Element.prototype.setAttribute.call(this,"src",t),t}}));var xr=function(t){return Sr([t.el(),r.HTMLMediaElement.prototype,kr],"src")},Er=function(t){if(t.featuresSourceset){var e=t.el();if(!e.resetSourceset_){var i=xr(t),n=e.setAttribute,r=e.load;Object.defineProperty(e,"src",ye(i,{set:function(n){var r=i.set.call(e,n);return t.triggerSourceset(e.src),r}})),e.setAttribute=function(i,r){var a=n.call(e,i,r);return/src/i.test(i)&&t.triggerSourceset(e.src),a},e.load=function(){var i=r.call(e);return br(t)||(t.triggerSourceset(""),Cr(t)),i},e.currentSrc?t.triggerSourceset(e.currentSrc):br(t)||Cr(t),e.resetSourceset_=function(){e.resetSourceset_=null,e.load=r,e.setAttribute=n,Object.defineProperty(e,"src",i),e.resetSourceWatch_&&e.resetSourceWatch_()}}}},Pr=B(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]),Or=function(t){function e(i,n){j(this,e);var r=R(this,t.call(this,i,n)),a=i.source,o=!1;if(a&&(r.el_.currentSrc!==a.src||i.tag&&3===i.tag.initNetworkState_)?r.setSource(a):r.handleLateInit_(r.el_),i.enableSourceset&&r.setupSourcesetHandling_(),r.el_.hasChildNodes()){var l=r.el_.childNodes,c=l.length,u=[];while(c--){var d=l[c],h=d.nodeName.toLowerCase();"track"===h&&(r.featuresNativeTextTracks?(r.remoteTextTrackEls().addTrackElement_(d),r.remoteTextTracks().addTrack(d.track),r.textTracks().addTrack(d.track),o||r.el_.hasAttribute("crossorigin")||!ai(d.src)||(o=!0)):u.push(d))}for(var f=0;f<u.length;f++)r.el_.removeChild(u[f])}return r.proxyNativeTracks_(),r.featuresNativeTextTracks&&o&&Y.warn(s(Pr)),r.restoreMetadataTracksInIOSNativePlayer_(),(L||m||S)&&!0===i.nativeControlsForTouch&&r.setControls(!0),r.proxyWebkitFullscreen_(),r.triggerReady(),r}return N(e,t),e.prototype.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),e.disposeMediaElement(this.el_),this.options_=null,t.prototype.dispose.call(this)},e.prototype.setupSourcesetHandling_=function(){Er(this)},e.prototype.restoreMetadataTracksInIOSNativePlayer_=function(){var t=this.textTracks(),e=void 0,i=function(){e=[];for(var i=0;i<t.length;i++){var n=t[i];"metadata"===n.kind&&e.push({track:n,storedMode:n.mode})}};i(),t.addEventListener("change",i),this.on("dispose",(function(){return t.removeEventListener("change",i)}));var n=function i(){for(var n=0;n<e.length;n++){var r=e[n];"disabled"===r.track.mode&&r.track.mode!==r.storedMode&&(r.track.mode=r.storedMode)}t.removeEventListener("change",i)};this.on("webkitbeginfullscreen",(function(){t.removeEventListener("change",i),t.removeEventListener("change",n),t.addEventListener("change",n)})),this.on("webkitendfullscreen",(function(){t.removeEventListener("change",i),t.addEventListener("change",i),t.removeEventListener("change",n)}))},e.prototype.proxyNativeTracks_=function(){var t=this;gi.names.forEach((function(e){var i=gi[e],n=t.el()[i.getterName],r=t[i.getterName]();if(t["featuresNative"+i.capitalName+"Tracks"]&&n&&n.addEventListener){var a={change:function(t){r.trigger({type:"change",target:r,currentTarget:r,srcElement:r})},addtrack:function(t){r.addTrack(t.track)},removetrack:function(t){r.removeTrack(t.track)}},s=function(){for(var t=[],e=0;e<r.length;e++){for(var i=!1,a=0;a<n.length;a++)if(n[a]===r[e]){i=!0;break}i||t.push(r[e])}while(t.length)r.removeTrack(t.shift())};Object.keys(a).forEach((function(e){var i=a[e];n.addEventListener(e,i),t.on("dispose",(function(t){return n.removeEventListener(e,i)}))})),t.on("loadstart",s),t.on("dispose",(function(e){return t.off("loadstart",s)}))}}))},e.prototype.createEl=function(){var t=this.options_.tag;if(!t||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(t){var i=t.cloneNode(!0);t.parentNode&&t.parentNode.insertBefore(i,t),e.disposeMediaElement(t),t=i}else{t=a.createElement("video");var n=this.options_.tag&&pt(this.options_.tag),r=ye({},n);L&&!0===this.options_.nativeControlsForTouch||delete r.controls,ft(t,V(r,{id:this.options_.techId,class:"vjs-tech"}))}t.playerId=this.options_.playerId}"undefined"!==typeof this.options_.preload&&vt(t,"preload",this.options_.preload);for(var s=["loop","muted","playsinline","autoplay"],o=0;o<s.length;o++){var l=s[o],c=this.options_[l];"undefined"!==typeof c&&(c?vt(t,l,l):gt(t,l),t[l]=c)}return t},e.prototype.handleLateInit_=function(t){if(0!==t.networkState&&3!==t.networkState){if(0===t.readyState){var e=!1,i=function(){e=!0};this.on("loadstart",i);var n=function(){e||this.trigger("loadstart")};return this.on("loadedmetadata",n),void this.ready((function(){this.off("loadstart",i),this.off("loadedmetadata",n),e||this.trigger("loadstart")}))}var r=["loadstart"];r.push("loadedmetadata"),t.readyState>=2&&r.push("loadeddata"),t.readyState>=3&&r.push("canplay"),t.readyState>=4&&r.push("canplaythrough"),this.ready((function(){r.forEach((function(t){this.trigger(t)}),this)}))}},e.prototype.setCurrentTime=function(t){try{this.el_.currentTime=t}catch(e){Y(e,"Video is not ready. (Video.js)")}},e.prototype.duration=function(){var t=this;if(this.el_.duration===1/0&&_&&k&&0===this.el_.currentTime){var e=function e(){t.el_.currentTime>0&&(t.el_.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",e))};return this.on("timeupdate",e),NaN}return this.el_.duration||NaN},e.prototype.width=function(){return this.el_.offsetWidth},e.prototype.height=function(){return this.el_.offsetHeight},e.prototype.proxyWebkitFullscreen_=function(){var t=this;if("webkitDisplayingFullscreen"in this.el_){var e=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},i=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0}))};this.on("webkitbeginfullscreen",i),this.on("dispose",(function(){t.off("webkitbeginfullscreen",i),t.off("webkitendfullscreen",e)}))}},e.prototype.supportsFullScreen=function(){if("function"===typeof this.el_.webkitEnterFullScreen){var t=r.navigator&&r.navigator.userAgent||"";if(/Android/.test(t)||!/Chrome|Mac OS X 10.5/.test(t))return!0}return!1},e.prototype.enterFullScreen=function(){var t=this.el_;t.paused&&t.networkState<=t.HAVE_METADATA?(this.el_.play(),this.setTimeout((function(){t.pause(),t.webkitEnterFullScreen()}),0)):t.webkitEnterFullScreen()},e.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},e.prototype.src=function(t){if(void 0===t)return this.el_.src;this.setSrc(t)},e.prototype.reset=function(){e.resetMediaElement(this.el_)},e.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},e.prototype.setControls=function(t){this.el_.controls=!!t},e.prototype.addTextTrack=function(e,i,n){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,i,n):t.prototype.addTextTrack.call(this,e,i,n)},e.prototype.createRemoteTextTrack=function(e){if(!this.featuresNativeTextTracks)return t.prototype.createRemoteTextTrack.call(this,e);var i=a.createElement("track");return e.kind&&(i.kind=e.kind),e.label&&(i.label=e.label),(e.language||e.srclang)&&(i.srclang=e.language||e.srclang),e["default"]&&(i["default"]=e["default"]),e.id&&(i.id=e.id),e.src&&(i.src=e.src),i},e.prototype.addRemoteTextTrack=function(e,i){var n=t.prototype.addRemoteTextTrack.call(this,e,i);return this.featuresNativeTextTracks&&this.el().appendChild(n),n},e.prototype.removeRemoteTextTrack=function(e){if(t.prototype.removeRemoteTextTrack.call(this,e),this.featuresNativeTextTracks){var i=this.$$("track"),n=i.length;while(n--)e!==i[n]&&e!==i[n].track||this.el().removeChild(i[n])}},e.prototype.getVideoPlaybackQuality=function(){if("function"===typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var t={};return"undefined"!==typeof this.el().webkitDroppedFrameCount&&"undefined"!==typeof this.el().webkitDecodedFrameCount&&(t.droppedVideoFrames=this.el().webkitDroppedFrameCount,t.totalVideoFrames=this.el().webkitDecodedFrameCount),r.performance&&"function"===typeof r.performance.now?t.creationTime=r.performance.now():r.performance&&r.performance.timing&&"number"===typeof r.performance.timing.navigationStart&&(t.creationTime=r.Date.now()-r.performance.timing.navigationStart),t},e}(Ti);if(it()){Or.TEST_VID=a.createElement("video");var Ir=a.createElement("track");Ir.kind="captions",Ir.srclang="en",Ir.label="English",Or.TEST_VID.appendChild(Ir)}Or.isSupported=function(){try{Or.TEST_VID.volume=.5}catch(t){return!1}return!(!Or.TEST_VID||!Or.TEST_VID.canPlayType)},Or.canPlayType=function(t){return Or.TEST_VID.canPlayType(t)},Or.canPlaySource=function(t,e){return Or.canPlayType(t.type)},Or.canControlVolume=function(){try{var t=Or.TEST_VID.volume;return Or.TEST_VID.volume=t/2+.1,t!==Or.TEST_VID.volume}catch(e){return!1}},Or.canMuteVolume=function(){try{var t=Or.TEST_VID.muted;return Or.TEST_VID.muted=!t,Or.TEST_VID.muted?vt(Or.TEST_VID,"muted","muted"):gt(Or.TEST_VID,"muted","muted"),t!==Or.TEST_VID.muted}catch(e){return!1}},Or.canControlPlaybackRate=function(){if(_&&k&&x<58)return!1;try{var t=Or.TEST_VID.playbackRate;return Or.TEST_VID.playbackRate=t/2+.1,t!==Or.TEST_VID.playbackRate}catch(e){return!1}},Or.canOverrideAttributes=function(){if(E)return!1;try{var t=function(){};Object.defineProperty(a.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(a.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(a.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(a.createElement("audio"),"innerHTML",{get:t,set:t})}catch(e){return!1}return!0},Or.supportsNativeTextTracks=function(){return I||g&&k},Or.supportsNativeVideoTracks=function(){return!(!Or.TEST_VID||!Or.TEST_VID.videoTracks)},Or.supportsNativeAudioTracks=function(){return!(!Or.TEST_VID||!Or.TEST_VID.audioTracks)},Or.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],Or.prototype.featuresVolumeControl=Or.canControlVolume(),Or.prototype.featuresMuteControl=Or.canMuteVolume(),Or.prototype.featuresPlaybackRate=Or.canControlPlaybackRate(),Or.prototype.featuresSourceset=Or.canOverrideAttributes(),Or.prototype.movingMediaElementInDOM=!g,Or.prototype.featuresFullscreenResize=!0,Or.prototype.featuresProgressEvents=!0,Or.prototype.featuresTimeupdateEvents=!0,Or.prototype.featuresNativeTextTracks=Or.supportsNativeTextTracks(),Or.prototype.featuresNativeVideoTracks=Or.supportsNativeVideoTracks(),Or.prototype.featuresNativeAudioTracks=Or.supportsNativeAudioTracks();var Lr=Or.TEST_VID&&Or.TEST_VID.constructor.prototype.canPlayType,Ar=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,Dr=/^video\/mp4/i;Or.patchCanPlayType=function(){b>=4&&!w&&!k?Or.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&Ar.test(t)?"maybe":Lr.call(this,t)}:T&&(Or.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&Dr.test(t)?"maybe":Lr.call(this,t)})},Or.unpatchCanPlayType=function(){var t=Or.TEST_VID.constructor.prototype.canPlayType;return Or.TEST_VID.constructor.prototype.canPlayType=Lr,t},Or.patchCanPlayType(),Or.disposeMediaElement=function(t){if(t){t.parentNode&&t.parentNode.removeChild(t);while(t.hasChildNodes())t.removeChild(t.firstChild);t.removeAttribute("src"),"function"===typeof t.load&&function(){try{t.load()}catch(e){}}()}},Or.resetMediaElement=function(t){if(t){var e=t.querySelectorAll("source"),i=e.length;while(i--)t.removeChild(e[i]);t.removeAttribute("src"),"function"===typeof t.load&&function(){try{t.load()}catch(e){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach((function(t){Or.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}})),["muted","defaultMuted","autoplay","loop","playsinline"].forEach((function(t){Or.prototype["set"+ve(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}})),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach((function(t){Or.prototype[t]=function(){return this.el_[t]}})),["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach((function(t){Or.prototype["set"+ve(t)]=function(e){this.el_[t]=e}})),["pause","load","play"].forEach((function(t){Or.prototype[t]=function(){return this.el_[t]()}})),Ti.withSourceHandlers(Or),Or.nativeSourceHandler={},Or.nativeSourceHandler.canPlayType=function(t){try{return Or.TEST_VID.canPlayType(t)}catch(e){return""}},Or.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return Or.nativeSourceHandler.canPlayType(t.type);if(t.src){var i=ri(t.src);return Or.nativeSourceHandler.canPlayType("video/"+i)}return""},Or.nativeSourceHandler.handleSource=function(t,e,i){e.setSrc(t.src)},Or.nativeSourceHandler.dispose=function(){},Or.registerSourceHandler(Or.nativeSourceHandler),Ti.registerTech("Html5",Or);var Mr=B(["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "],["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "]),jr=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Nr={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Rr=["tiny","xsmall","small","medium","large","xlarge","huge"],Br={};Rr.forEach((function(t){var e="x"===t.charAt(0)?"x-"+t.substring(1):t;Br[t]="vjs-layout-"+e}));var Ur={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},Fr=function(t){function e(i,n,r){if(j(this,e),i.id=i.id||n.id||"vjs_video_"+Dt(),n=V(e.getTagSettings(i),n),n.initChildren=!1,n.createEl=!1,n.evented=!1,n.reportTouchActivity=!1,!n.language)if("function"===typeof i.closest){var a=i.closest("[lang]");a&&a.getAttribute&&(n.language=a.getAttribute("lang"))}else{var s=i;while(s&&1===s.nodeType){if(pt(s).hasOwnProperty("lang")){n.language=s.getAttribute("lang");break}s=s.parentNode}}var o=R(this,t.call(this,null,n,r));if(o.log=K(o.id_),o.isPosterFromTech_=!1,o.queuedCallbacks_=[],o.isReady_=!1,o.hasStarted_=!1,o.userActive_=!1,!o.options_||!o.options_.techOrder||!o.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(o.tag=i,o.tagAttributes=i&&pt(i),o.language(o.options_.language),n.languages){var l={};Object.getOwnPropertyNames(n.languages).forEach((function(t){l[t.toLowerCase()]=n.languages[t]})),o.languages_=l}else o.languages_=e.prototype.options_.languages;o.cache_={},o.poster_=n.poster||"",o.controls_=!!n.controls,o.cache_.lastVolume=1,i.controls=!1,i.removeAttribute("controls"),i.hasAttribute("autoplay")?o.options_.autoplay=!0:o.autoplay(o.options_.autoplay),o.scrubbing_=!1,o.el_=o.createEl(),o.cache_.lastPlaybackRate=o.defaultPlaybackRate(),fe(o,{eventBusKey:"el_"});var c=ye(o.options_);if(n.plugins){var d=n.plugins;Object.keys(d).forEach((function(t){if("function"!==typeof this[t])throw new Error('plugin "'+t+'" does not exist');this[t](d[t])}),o)}o.options_.playerOptions=c,o.middleware_=[],o.initChildren(),o.isAudio("audio"===i.nodeName.toLowerCase()),o.controls()?o.addClass("vjs-controls-enabled"):o.addClass("vjs-controls-disabled"),o.el_.setAttribute("role","region"),o.isAudio()?o.el_.setAttribute("aria-label",o.localize("Audio Player")):o.el_.setAttribute("aria-label",o.localize("Video Player")),o.isAudio()&&o.addClass("vjs-audio"),o.flexNotSupported_()&&o.addClass("vjs-no-flex"),g||o.addClass("vjs-workinghover"),e.players[o.id_]=o;var h=u.split(".")[0];return o.addClass("vjs-v"+h),o.userActive(!0),o.reportUserActivity(),o.one("play",o.listenForUserActivity_),o.on("fullscreenchange",o.handleFullscreenChange_),o.on("stageclick",o.handleStageClick_),o.breakpoints(o.options_.breakpoints),o.responsive(o.options_.responsive),o.changingSrc_=!1,o.playWaitingForReady_=!1,o.playOnLoadstart_=null,o}return N(e,t),e.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),e.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),Ni(this),t.prototype.dispose.call(this)},e.prototype.createEl=function(){var e=this.tag,i=void 0,n=this.playerElIngest_=e.parentNode&&e.parentNode.hasAttribute&&e.parentNode.hasAttribute("data-vjs-player"),s="video-js"===this.tag.tagName.toLowerCase();n?i=this.el_=e.parentNode:s||(i=this.el_=t.prototype.createEl.call(this,"div"));var o=pt(e);if(s){i=this.el_=e,e=this.tag=a.createElement("video");while(i.children.length)e.appendChild(i.firstChild);ct(i,"video-js")||ut(i,"video-js"),i.appendChild(e),n=this.playerElIngest_=i,["autoplay","controls","crossOrigin","defaultMuted","defaultPlaybackRate","loop","muted","playbackRate","src","volume"].forEach((function(t){"undefined"!==typeof i[t]&&(e[t]=i[t])}))}if(e.setAttribute("tabindex","-1"),o.tabindex="-1",P&&(e.setAttribute("role","application"),o.role="application"),e.removeAttribute("width"),e.removeAttribute("height"),"width"in o&&delete o.width,"height"in o&&delete o.height,Object.getOwnPropertyNames(o).forEach((function(t){"class"===t?(i.className+=" "+o[t],s&&(e.className+=" "+o[t])):(i.setAttribute(t,o[t]),s&&e.setAttribute(t,o[t]))})),e.playerId=e.id,e.id+="_html5_api",e.className="vjs-tech",e.player=i.player=this,this.addClass("vjs-paused"),!0!==r.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=Zt("vjs-styles-dimensions");var l=Ot(".vjs-styles-defaults"),c=Ot("head");c.insertBefore(this.styleEl_,l?l.nextSibling:c.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var u=e.getElementsByTagName("a"),d=0;d<u.length;d++){var h=u.item(d);ut(h,"vjs-hidden"),h.setAttribute("hidden","hidden")}return e.initNetworkState_=e.networkState,e.parentNode&&!n&&e.parentNode.insertBefore(i,e),lt(e,i),this.children_.unshift(e),this.el_.setAttribute("lang",this.language_),this.el_=i,i},e.prototype.width=function(t){return this.dimension("width",t)},e.prototype.height=function(t){return this.dimension("height",t)},e.prototype.dimension=function(t,e){var i=t+"_";if(void 0===e)return this[i]||0;if(""===e)return this[i]=void 0,void this.updateStyleEl_();var n=parseFloat(e);isNaN(n)?Y.error('Improper value "'+e+'" supplied for for '+t):(this[i]=n,this.updateStyleEl_())},e.prototype.fluid=function(t){if(void 0===t)return!!this.fluid_;this.fluid_=!!t,t?(this.addClass("vjs-fluid"),this.fill(!1)):this.removeClass("vjs-fluid"),this.updateStyleEl_()},e.prototype.fill=function(t){if(void 0===t)return!!this.fill_;this.fill_=!!t,t?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},e.prototype.aspectRatio=function(t){if(void 0===t)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(t))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=t,this.fluid(!0),this.updateStyleEl_()},e.prototype.updateStyleEl_=function(){if(!0!==r.VIDEOJS_NO_DYNAMIC_STYLE){var t=void 0,e=void 0,i=void 0,n=void 0;i=void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9";var a=i.split(":"),s=a[1]/a[0];t=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/s:this.videoWidth()||300,e=void 0!==this.height_?this.height_:t*s,n=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(n),te(this.styleEl_,"\n      ."+n+" {\n        width: "+t+"px;\n        height: "+e+"px;\n      }\n\n      ."+n+".vjs-fluid {\n        padding-top: "+100*s+"%;\n      }\n    ")}else{var o="number"===typeof this.width_?this.width_:this.options_.width,l="number"===typeof this.height_?this.height_:this.options_.height,c=this.tech_&&this.tech_.el();c&&(o>=0&&(c.width=o),l>=0&&(c.height=l))}},e.prototype.loadTech_=function(t,e){var i=this;this.tech_&&this.unloadTech_();var n=ve(t),r=t.charAt(0).toLowerCase()+t.slice(1);"Html5"!==n&&this.tag&&(Ti.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=n,this.isReady_=!1;var a="string"!==typeof this.autoplay()&&this.autoplay(),s={source:e,autoplay:a,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+r+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};_i.names.forEach((function(t){var e=_i[t];s[e.getterName]=i[e.privateName]})),V(s,this.options_[n]),V(s,this.options_[r]),V(s,this.options_[t.toLowerCase()]),this.tag&&(s.tag=this.tag),e&&e.src===this.cache_.src&&this.cache_.currentTime>0&&(s.startTime=this.cache_.currentTime);var o=Ti.getTech(t);if(!o)throw new Error("No Tech named '"+n+"' exists! '"+n+"' should be registered using videojs.registerTech()'");this.tech_=new o(s),this.tech_.ready(ee(this,this.handleTechReady_),!0),Be.jsonToTextTracks(this.textTracksJson_||[],this.tech_),jr.forEach((function(t){i.on(i.tech_,t,i["handleTech"+ve(t)+"_"])})),Object.keys(Nr).forEach((function(t){i.on(i.tech_,t,(function(e){0===i.tech_.playbackRate()&&i.tech_.seeking()?i.queuedCallbacks_.push({callback:i["handleTech"+Nr[t]+"_"].bind(i),event:e}):i["handleTech"+Nr[t]+"_"](e)}))})),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===n&&this.tag||lt(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},e.prototype.unloadTech_=function(){var t=this;_i.names.forEach((function(e){var i=_i[e];t[i.privateName]=t[i.getterName]()})),this.textTracksJson_=Be.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},e.prototype.tech=function(t){return void 0===t&&Y.warn(s(Mr)),this.tech_},e.prototype.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},e.prototype.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_)},e.prototype.handleTechReady_=function(){if(this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_(),(this.src()||this.currentSrc())&&this.tag&&this.options_.autoplay&&this.paused())try{delete this.tag.poster}catch(t){Y("deleting tag.poster throws in some browsers",t)}},e.prototype.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},e.prototype.manualAutoplay_=function(t){var e=this;if(this.tech_&&"string"===typeof t){var i=function(){var t=e.muted();e.muted(!0);var i=e.play();if(i&&i.then&&i["catch"])return i["catch"]((function(i){e.muted(t)}))},n=void 0;if("any"===t?(n=this.play(),n&&n.then&&n["catch"]&&n["catch"]((function(){return i()}))):n="muted"===t?i():this.play(),n&&n.then&&n["catch"])return n.then((function(){e.trigger({type:"autoplay-success",autoplay:t})}))["catch"]((function(i){e.trigger({type:"autoplay-failure",autoplay:t})}))}},e.prototype.updateSourceCaches_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=t,i="";"string"!==typeof e&&(e=t.src,i=t.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],e&&!i&&(i=$i(this,e)),this.cache_.source=ye({},t,{src:e,type:i});for(var n=this.cache_.sources.filter((function(t){return t.src&&t.src===e})),r=[],a=this.$$("source"),s=[],o=0;o<a.length;o++){var l=pt(a[o]);r.push(l),l.src&&l.src===e&&s.push(l.src)}s.length&&!n.length?this.cache_.sources=r:n.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=e},e.prototype.handleTechSourceset_=function(t){var e=this;if(!this.changingSrc_){var i=function(t){return e.updateSourceCaches_(t)},n=this.currentSource().src,r=t.src;if(n&&!/^blob:/.test(n)&&/^blob:/.test(r)&&(!this.lastSource_||this.lastSource_.tech!==r&&this.lastSource_.player!==n)&&(i=function(){}),i(r),!t.src){var a=function t(i){if("sourceset"!==i.type){var n=e.techGet("currentSrc");e.lastSource_.tech=n,e.updateSourceCaches_(n)}e.tech_.off(["sourceset","loadstart"],t)};this.tech_.one(["sourceset","loadstart"],a)}}this.lastSource_={player:this.currentSource().src,tech:t.src},this.trigger({src:t.src,type:"sourceset"})},e.prototype.hasStarted=function(t){if(void 0===t)return this.hasStarted_;t!==this.hasStarted_&&(this.hasStarted_=t,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},e.prototype.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},e.prototype.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach((function(t){return t.callback(t.event)})),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},e.prototype.handleTechWaiting_=function(){var t=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",(function(){return t.removeClass("vjs-waiting")}))},e.prototype.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},e.prototype.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},e.prototype.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},e.prototype.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},e.prototype.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},e.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&(Y.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},e.prototype.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},e.prototype.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},e.prototype.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},e.prototype.handleTechClick_=function(t){Pt(t)&&this.controls_&&(this.paused()?Me(this.play()):this.pause())},e.prototype.handleTechTap_=function(){this.userActive(!this.userActive())},e.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},e.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},e.prototype.handleTechTouchEnd_=function(t){t.preventDefault()},e.prototype.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},e.prototype.handleStageClick_=function(){this.reportUserActivity()},e.prototype.handleTechFullscreenChange_=function(t,e){e&&this.isFullscreen(e.isFullscreen),this.trigger("fullscreenchange")},e.prototype.handleTechError_=function(){var t=this.tech_.error();this.error(t)},e.prototype.handleTechTextData_=function(){var t=null;arguments.length>1&&(t=arguments[1]),this.trigger("textdata",t)},e.prototype.getCache=function(){return this.cache_},e.prototype.techCall_=function(t,e){this.ready((function(){if(t in Ai)return Oi(this.middleware_,this.tech_,t,e);if(t in Di)return Ii(this.middleware_,this.tech_,t,e);try{this.tech_&&this.tech_[t](e)}catch(i){throw Y(i),i}}),!0)},e.prototype.techGet_=function(t){if(this.tech_&&this.tech_.isReady_){if(t in Li)return Pi(this.middleware_,this.tech_,t);if(t in Di)return Ii(this.middleware_,this.tech_,t);try{return this.tech_[t]()}catch(e){if(void 0===this.tech_[t])throw Y("Video.js: "+t+" method not defined for "+this.techName_+" playback technology.",e),e;if("TypeError"===e.name)throw Y("Video.js: "+t+" unavailable on "+this.techName_+" playback technology element.",e),this.tech_.isReady_=!1,e;throw Y(e),e}}},e.prototype.play=function(){var t=this,e=this.options_.Promise||r.Promise;return e?new e((function(e){t.play_(e)})):this.play_()},e.prototype.play_=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me;if(this.playOnLoadstart_&&this.off("loadstart",this.playOnLoadstart_),this.isReady_){if(!this.changingSrc_&&(this.src()||this.currentSrc()))return void e(this.techGet_("play"));this.playOnLoadstart_=function(){t.playOnLoadstart_=null,e(t.play())},this.one("loadstart",this.playOnLoadstart_)}else{if(this.playWaitingForReady_)return;this.playWaitingForReady_=!0,this.ready((function(){t.playWaitingForReady_=!1,e(t.play())}))}},e.prototype.pause=function(){this.techCall_("pause")},e.prototype.paused=function(){return!1!==this.techGet_("paused")},e.prototype.played=function(){return this.techGet_("played")||we(0,0)},e.prototype.scrubbing=function(t){if("undefined"===typeof t)return this.scrubbing_;this.scrubbing_=!!t,t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},e.prototype.currentTime=function(t){return"undefined"!==typeof t?(t<0&&(t=0),void this.techCall_("setCurrentTime",t)):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},e.prototype.duration=function(t){if(void 0===t)return void 0!==this.cache_.duration?this.cache_.duration:NaN;t=parseFloat(t),t<0&&(t=1/0),t!==this.cache_.duration&&(this.cache_.duration=t,t===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange"))},e.prototype.remainingTime=function(){return this.duration()-this.currentTime()},e.prototype.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},e.prototype.buffered=function(){var t=this.techGet_("buffered");return t&&t.length||(t=we(0,0)),t},e.prototype.bufferedPercent=function(){return Ce(this.buffered(),this.duration())},e.prototype.bufferedEnd=function(){var t=this.buffered(),e=this.duration(),i=t.end(t.length-1);return i>e&&(i=e),i},e.prototype.volume=function(t){var e=void 0;return void 0!==t?(e=Math.max(0,Math.min(1,parseFloat(t))),this.cache_.volume=e,this.techCall_("setVolume",e),void(e>0&&this.lastVolume_(e))):(e=parseFloat(this.techGet_("volume")),isNaN(e)?1:e)},e.prototype.muted=function(t){if(void 0===t)return this.techGet_("muted")||!1;this.techCall_("setMuted",t)},e.prototype.defaultMuted=function(t){return void 0!==t?this.techCall_("setDefaultMuted",t):this.techGet_("defaultMuted")||!1},e.prototype.lastVolume_=function(t){if(void 0===t||0===t)return this.cache_.lastVolume;this.cache_.lastVolume=t},e.prototype.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},e.prototype.isFullscreen=function(t){if(void 0===t)return!!this.isFullscreen_;this.isFullscreen_=!!t},e.prototype.requestFullscreen=function(){var t=ke;this.isFullscreen(!0),t.requestFullscreen?(qt(a,t.fullscreenchange,ee(this,(function e(i){this.isFullscreen(a[t.fullscreenElement]),!1===this.isFullscreen()&&Ht(a,t.fullscreenchange,e),this.trigger("fullscreenchange")}))),this.el_[t.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"))},e.prototype.exitFullscreen=function(){var t=ke;this.isFullscreen(!1),t.requestFullscreen?a[t.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"))},e.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=a.documentElement.style.overflow,qt(a,"keydown",ee(this,this.fullWindowOnEscKey)),a.documentElement.style.overflow="hidden",ut(a.body,"vjs-full-window"),this.trigger("enterFullWindow")},e.prototype.fullWindowOnEscKey=function(t){27===t.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},e.prototype.exitFullWindow=function(){this.isFullWindow=!1,Ht(a,"keydown",this.fullWindowOnEscKey),a.documentElement.style.overflow=this.docOrigOverflow,dt(a.body,"vjs-full-window"),this.trigger("exitFullWindow")},e.prototype.canPlayType=function(t){for(var e=void 0,i=0,n=this.options_.techOrder;i<n.length;i++){var r=n[i],a=Ti.getTech(r);if(a||(a=_e.getComponent(r)),a){if(a.isSupported()&&(e=a.canPlayType(t),e))return e}else Y.error('The "'+r+'" tech is undefined. Skipped browser support check for that tech.')}return""},e.prototype.selectSource=function(t){var e=this,i=this.options_.techOrder.map((function(t){return[t,Ti.getTech(t)]})).filter((function(t){var e=t[0],i=t[1];return i?i.isSupported():(Y.error('The "'+e+'" tech is undefined. Skipped browser support check for that tech.'),!1)})),n=function(t,e,i){var n=void 0;return t.some((function(t){return e.some((function(e){if(n=i(t,e),n)return!0}))})),n},r=void 0,a=function(t){return function(e,i){return t(i,e)}},s=function(t,i){var n=t[0],r=t[1];if(r.canPlaySource(i,e.options_[n.toLowerCase()]))return{source:i,tech:n}};return r=this.options_.sourceOrder?n(t,i,a(s)):n(i,t,s),r||!1},e.prototype.src=function(t){var e=this;if("undefined"===typeof t)return this.cache_.src||"";var i=zi(t);i.length?(this.changingSrc_=!0,this.cache_.sources=i,this.updateSourceCaches_(i[0]),xi(this,i[0],(function(t,n){e.middleware_=n,e.cache_.sources=i,e.updateSourceCaches_(t);var r=e.src_(t);if(r)return i.length>1?e.src(i.slice(1)):(e.changingSrc_=!1,e.setTimeout((function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})}),0),void e.triggerReady());Ei(n,e.tech_)}))):this.setTimeout((function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})}),0)},e.prototype.src_=function(t){var e=this,i=this.selectSource([t]);return!i||(ge(i.tech,this.techName_)?(this.ready((function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",t):this.techCall_("src",t.src),this.changingSrc_=!1}),!0),!1):(this.changingSrc_=!0,this.loadTech_(i.tech,i.source),this.tech_.ready((function(){e.changingSrc_=!1})),!1))},e.prototype.load=function(){this.techCall_("load")},e.prototype.reset=function(){this.tech_&&this.tech_.clearTracks("text"),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset")},e.prototype.currentSources=function(){var t=this.currentSource(),e=[];return 0!==Object.keys(t).length&&e.push(t),this.cache_.sources||e},e.prototype.currentSource=function(){return this.cache_.source||{}},e.prototype.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},e.prototype.currentType=function(){return this.currentSource()&&this.currentSource().type||""},e.prototype.preload=function(t){return void 0!==t?(this.techCall_("setPreload",t),void(this.options_.preload=t)):this.techGet_("preload")},e.prototype.autoplay=function(t){if(void 0===t)return this.options_.autoplay||!1;var e=void 0;"string"===typeof t&&/(any|play|muted)/.test(t)?(this.options_.autoplay=t,this.manualAutoplay_(t),e=!1):this.options_.autoplay=!!t,e=e||this.options_.autoplay,this.tech_&&this.techCall_("setAutoplay",e)},e.prototype.playsinline=function(t){return void 0!==t?(this.techCall_("setPlaysinline",t),this.options_.playsinline=t,this):this.techGet_("playsinline")},e.prototype.loop=function(t){return void 0!==t?(this.techCall_("setLoop",t),void(this.options_.loop=t)):this.techGet_("loop")},e.prototype.poster=function(t){if(void 0===t)return this.poster_;t||(t=""),t!==this.poster_&&(this.poster_=t,this.techCall_("setPoster",t),this.isPosterFromTech_=!1,this.trigger("posterchange"))},e.prototype.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var t=this.tech_.poster()||"";t!==this.poster_&&(this.poster_=t,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},e.prototype.controls=function(t){if(void 0===t)return!!this.controls_;t=!!t,this.controls_!==t&&(this.controls_=t,this.usingNativeControls()&&this.techCall_("setControls",t),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},e.prototype.usingNativeControls=function(t){if(void 0===t)return!!this.usingNativeControls_;t=!!t,this.usingNativeControls_!==t&&(this.usingNativeControls_=t,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},e.prototype.error=function(t){return void 0===t?this.error_||null:null===t?(this.error_=t,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close())):(this.error_=new Le(t),this.addClass("vjs-error"),Y.error("(CODE:"+this.error_.code+" "+Le.errorTypes[this.error_.code]+")",this.error_.message,this.error_),void this.trigger("error"))},e.prototype.reportUserActivity=function(t){this.userActivity_=!0},e.prototype.userActive=function(t){if(void 0===t)return this.userActive_;if(t=!!t,t!==this.userActive_){if(this.userActive_=t,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",(function(t){t.stopPropagation(),t.preventDefault()})),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},e.prototype.listenForUserActivity_=function(){var t=void 0,e=void 0,i=void 0,n=ee(this,this.reportUserActivity),r=function(t){t.screenX===e&&t.screenY===i||(e=t.screenX,i=t.screenY,n())},a=function(){n(),this.clearInterval(t),t=this.setInterval(n,250)},s=function(e){n(),this.clearInterval(t)};this.on("mousedown",a),this.on("mousemove",r),this.on("mouseup",s),this.on("keydown",n),this.on("keyup",n);var o=void 0;this.setInterval((function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(o);var t=this.options_.inactivityTimeout;t<=0||(o=this.setTimeout((function(){this.userActivity_||this.userActive(!1)}),t))}}),250)},e.prototype.playbackRate=function(t){if(void 0===t)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",t)},e.prototype.defaultPlaybackRate=function(t){return void 0!==t?this.techCall_("setDefaultPlaybackRate",t):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},e.prototype.isAudio=function(t){if(void 0===t)return!!this.isAudio_;this.isAudio_=!!t},e.prototype.addTextTrack=function(t,e,i){if(this.tech_)return this.tech_.addTextTrack(t,e,i)},e.prototype.addRemoteTextTrack=function(t,e){if(this.tech_)return this.tech_.addRemoteTextTrack(t,e)},e.prototype.removeRemoteTextTrack=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.track,i=void 0===e?arguments[0]:e;if(this.tech_)return this.tech_.removeRemoteTextTrack(i)},e.prototype.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},e.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},e.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},e.prototype.language=function(t){if(void 0===t)return this.language_;this.language_=String(t).toLowerCase()},e.prototype.languages=function(){return ye(e.prototype.options_.languages,this.languages_)},e.prototype.toJSON=function(){var t=ye(this.options_),e=t.tracks;t.tracks=[];for(var i=0;i<e.length;i++){var n=e[i];n=ye(n),n.player=void 0,t.tracks[i]=n}return t},e.prototype.createModal=function(t,e){var i=this;e=e||{},e.content=t||"";var n=new $e(this,e);return this.addChild(n),n.on("dispose",(function(){i.removeChild(n)})),n.open(),n},e.prototype.updateCurrentBreakpoint_=function(){if(this.responsive())for(var t=this.currentBreakpoint(),e=this.currentWidth(),i=0;i<Rr.length;i++){var n=Rr[i],r=this.breakpoints_[n];if(e<=r){if(t===n)return;t&&this.removeClass(Br[t]),this.addClass(Br[n]),this.breakpoint_=n;break}}},e.prototype.removeCurrentBreakpoint_=function(){var t=this.currentBreakpointClass();this.breakpoint_="",t&&this.removeClass(t)},e.prototype.breakpoints=function(t){return void 0===t||(this.breakpoint_="",this.breakpoints_=V({},Ur,t),this.updateCurrentBreakpoint_()),V(this.breakpoints_)},e.prototype.responsive=function(t){if(void 0===t)return this.responsive_;t=Boolean(t);var e=this.responsive_;return t!==e?(this.responsive_=t,t?(this.on("playerresize",this.updateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.updateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),t):void 0},e.prototype.currentBreakpoint=function(){return this.breakpoint_},e.prototype.currentBreakpointClass=function(){return Br[this.breakpoint_]||""},e.getTagSettings=function(t){var e={sources:[],tracks:[]},i=pt(t),n=i["data-setup"];if(ct(t,"vjs-fill")&&(i.fill=!0),ct(t,"vjs-fluid")&&(i.fluid=!0),null!==n){var r=o(n||"{}"),a=r[0],s=r[1];a&&Y.error(a),V(i,s)}if(V(e,i),t.hasChildNodes())for(var l=t.childNodes,c=0,u=l.length;c<u;c++){var d=l[c],h=d.nodeName.toLowerCase();"source"===h?e.sources.push(pt(d)):"track"===h&&e.tracks.push(pt(d))}return e},e.prototype.flexNotSupported_=function(){var t=a.createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},e}(_e);_i.names.forEach((function(t){var e=_i[t];Fr.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}})),Fr.players={};var $r=r.navigator;Fr.prototype.options_={techOrder:Ti.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:$r&&($r.languages&&$r.languages[0]||$r.userLanguage||$r.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",breakpoints:{},responsive:!1},E||Fr.prototype.options_.children.push("resizeManager"),["ended","seeking","seekable","networkState","readyState"].forEach((function(t){Fr.prototype[t]=function(){return this.techGet_(t)}})),jr.forEach((function(t){Fr.prototype["handleTech"+ve(t)+"_"]=function(){return this.trigger(t)}})),_e.registerComponent("Player",Fr);var zr="plugin",Vr="activePlugins_",qr={},Hr=function(t){return qr.hasOwnProperty(t)},Wr=function(t){return Hr(t)?qr[t]:void 0},Gr=function(t,e){t[Vr]=t[Vr]||{},t[Vr][e]=!0},Xr=function(t,e,i){var n=(i?"before":"")+"pluginsetup";t.trigger(n,e),t.trigger(n+":"+e.name,e)},Yr=function(t,e){var i=function(){Xr(this,{name:t,plugin:e,instance:null},!0);var i=e.apply(this,arguments);return Gr(this,t),Xr(this,{name:t,plugin:e,instance:i}),i};return Object.keys(e).forEach((function(t){i[t]=e[t]})),i},Kr=function(t,e){return e.prototype.name=t,function(){Xr(this,{name:t,plugin:e,instance:null},!0);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];var a=new(Function.prototype.bind.apply(e,[null].concat([this].concat(n))));return this[t]=function(){return a},Xr(this,a.getEventHash()),a}},Jr=function(){function t(e){if(j(this,t),this.constructor===t)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,fe(this),delete this.trigger,me(this,this.constructor.defaultState),Gr(e,this.name),this.dispose=ee(this,this.dispose),e.on("dispose",this.dispose)}return t.prototype.version=function(){return this.constructor.VERSION},t.prototype.getEventHash=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.name=this.name,t.plugin=this.constructor,t.instance=this,t},t.prototype.trigger=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Wt(this.eventBusEl_,t,this.getEventHash(e))},t.prototype.handleStateChanged=function(t){},t.prototype.dispose=function(){var t=this.name,e=this.player;this.trigger("dispose"),this.off(),e.off("dispose",this.dispose),e[Vr][t]=!1,this.player=this.state=null,e[t]=Kr(t,qr[t])},t.isBasic=function(e){var i="string"===typeof e?Wr(e):e;return"function"===typeof i&&!t.prototype.isPrototypeOf(i.prototype)},t.registerPlugin=function(e,i){if("string"!==typeof e)throw new Error('Illegal plugin name, "'+e+'", must be a string, was '+("undefined"===typeof e?"undefined":M(e))+".");if(Hr(e))Y.warn('A plugin named "'+e+'" already exists. You may want to avoid re-registering plugins!');else if(Fr.prototype.hasOwnProperty(e))throw new Error('Illegal plugin name, "'+e+'", cannot share a name with an existing player method!');if("function"!==typeof i)throw new Error('Illegal plugin for "'+e+'", must be a function, was '+("undefined"===typeof i?"undefined":M(i))+".");return qr[e]=i,e!==zr&&(t.isBasic(i)?Fr.prototype[e]=Yr(e,i):Fr.prototype[e]=Kr(e,i)),i},t.deregisterPlugin=function(t){if(t===zr)throw new Error("Cannot de-register base plugin.");Hr(t)&&(delete qr[t],delete Fr.prototype[t])},t.getPlugins=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.keys(qr),e=void 0;return t.forEach((function(t){var i=Wr(t);i&&(e=e||{},e[t]=i)})),e},t.getPluginVersion=function(t){var e=Wr(t);return e&&e.VERSION||""},t}();Jr.getPlugin=Wr,Jr.BASE_PLUGIN_NAME=zr,Jr.registerPlugin(zr,Jr),Fr.prototype.usingPlugin=function(t){return!!this[Vr]&&!0===this[Vr][t]},Fr.prototype.hasPlugin=function(t){return!!Hr(t)};var Qr=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"===typeof e?"undefined":M(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.super_=e)},Zr=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=function(){t.apply(this,arguments)},n={};for(var r in"object"===("undefined"===typeof e?"undefined":M(e))?(e.constructor!==Object.prototype.constructor&&(i=e.constructor),n=e):"function"===typeof e&&(i=e),Qr(i,t),n)n.hasOwnProperty(r)&&(i.prototype[r]=n[r]);return i};"undefined"===typeof HTMLVideoElement&&it()&&(a.createElement("video"),a.createElement("audio"),a.createElement("track"),a.createElement("video-js"));var ta=function(t){return 0===t.indexOf("#")?t.slice(1):t};function ea(t,e,i){var n=ea.getPlayer(t);if(n)return e&&Y.warn('Player "'+t+'" is already initialised. Options will not be applied.'),i&&n.ready(i),n;var r="string"===typeof t?Ot("#"+ta(t)):t;if(!nt(r))throw new TypeError("The element or ID supplied is not valid. (videojs)");a.body.contains(r)||Y.warn("The element supplied is not included in the DOM"),e=e||{},ea.hooks("beforesetup").forEach((function(t){var i=t(r,ye(e));q(i)&&!Array.isArray(i)?e=ye(e,i):Y.error("please return an object in beforesetup hooks")}));var s=_e.getComponent("Player");return n=new s(r,e,i),ea.hooks("setup").forEach((function(t){return t(n)})),n}if(ea.hooks_={},ea.hooks=function(t,e){return ea.hooks_[t]=ea.hooks_[t]||[],e&&(ea.hooks_[t]=ea.hooks_[t].concat(e)),ea.hooks_[t]},ea.hook=function(t,e){ea.hooks(t,e)},ea.hookOnce=function(t,e){ea.hooks(t,[].concat(e).map((function(e){var i=function i(){return ea.removeHook(t,i),e.apply(void 0,arguments)};return i})))},ea.removeHook=function(t,e){var i=ea.hooks(t).indexOf(e);return!(i<=-1)&&(ea.hooks_[t]=ea.hooks_[t].slice(),ea.hooks_[t].splice(i,1),!0)},!0!==r.VIDEOJS_NO_DYNAMIC_STYLE&&it()){var ia=Ot(".vjs-styles-defaults");if(!ia){ia=Zt("vjs-styles-defaults");var na=Ot("head");na&&na.insertBefore(ia,na.firstChild),te(ia,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}Qt(1,ea),ea.VERSION=u,ea.options=Fr.prototype.options_,ea.getPlayers=function(){return Fr.players},ea.getPlayer=function(t){var e=Fr.players,i=void 0;if("string"===typeof t){var n=ta(t),r=e[n];if(r)return r;i=Ot("#"+n)}else i=t;if(nt(i)){var a=i,s=a.player,o=a.playerId;if(s||e[o])return s||e[o]}},ea.getAllPlayers=function(){return Object.keys(Fr.players).map((function(t){return Fr.players[t]})).filter(Boolean)},ea.players=Fr.players,ea.getComponent=_e.getComponent,ea.registerComponent=function(t,e){Ti.isTech(e)&&Y.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),_e.registerComponent.call(_e,t,e)},ea.getTech=Ti.getTech,ea.registerTech=Ti.registerTech,ea.use=ki,!E&&Object.defineProperty?(Object.defineProperty(ea,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(ea.middleware,"TERMINATOR",{value:Ci,writeable:!1,enumerable:!0})):ea.middleware={TERMINATOR:Ci},ea.browser=D,ea.TOUCH_ENABLED=L,ea.extend=Zr,ea.mergeOptions=ye,ea.bind=ee,ea.registerPlugin=Jr.registerPlugin,ea.deregisterPlugin=Jr.deregisterPlugin,ea.plugin=function(t,e){return Y.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Jr.registerPlugin(t,e)},ea.getPlugins=Jr.getPlugins,ea.getPlugin=Jr.getPlugin,ea.getPluginVersion=Jr.getPluginVersion,ea.addLanguage=function(t,e){var i;return t=(""+t).toLowerCase(),ea.options.languages=ye(ea.options.languages,(i={},i[t]=e,i)),ea.options.languages[t]},ea.log=Y,ea.createLogger=K,ea.createTimeRange=ea.createTimeRanges=we,ea.formatTime=cn,ea.setFormatTime=on,ea.resetFormatTime=ln,ea.parseUrl=ii,ea.isCrossOrigin=ai,ea.EventTarget=re,ea.on=qt,ea.one=Gt,ea.off=Ht,ea.trigger=Wt,ea.xhr=l,ea.TextTrack=ci,ea.AudioTrack=ui,ea.VideoTrack=di,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach((function(t){ea[t]=function(){return Y.warn("videojs."+t+"() is deprecated; use videojs.dom."+t+"() instead"),Lt[t].apply(null,arguments)}})),ea.computedStyle=J,ea.dom=Lt,ea.url=si,t.exports=ea},function(t,e,i){var n=i(36);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,i){var n=i(36),r=i(7)("toStringTag"),a="Arguments"==n(function(){return arguments}()),s=function(t,e){try{return t[e]}catch(i){}};t.exports=function(t){var e,i,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=s(e=Object(t),r))?i:a?n(e):"Object"==(o=n(e))&&"function"==typeof e.callee?"Arguments":o}},function(t,e,i){var n=i(5),r=i(27),a=i(7)("species");t.exports=function(t,e){var i,s=n(t).constructor;return void 0===s||void 0==(i=n(s)[a])?e:r(i)}},function(t,e,i){var n=i(68);t.exports=function(t){return Object(n(t))}},function(t,e){var i=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:i)(t)}},,function(t,e,i){"use strict";function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}i.d(e,"a",(function(){return n}))},,,function(t,e,i){"use strict";var n=i(35),r=i(17),a=i(208),s=i(40),o=i(81),l=i(74),c=i(209),u=i(210),d=i(211),h=i(20),f=i(155),p=h("isConcatSpreadable"),m=9007199254740991,v="Maximum allowed index exceeded",g=f>=51||!r((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),y=d("concat"),_=function(t){if(!s(t))return!1;var e=t[p];return void 0!==e?!!e:a(t)},b=!g||!y;n({target:"Array",proto:!0,forced:b},{concat:function(t){var e,i,n,r,a,s=o(this),d=u(s,0),h=0;for(e=-1,n=arguments.length;e<n;e++)if(a=-1===e?s:arguments[e],_(a)){if(r=l(a.length),h+r>m)throw TypeError(v);for(i=0;i<r;i++,h++)i in a&&c(d,h,a[i])}else{if(h>=m)throw TypeError(v);c(d,h++,a)}return d.length=h,d}})},function(t,e,i){var n=i(11),r=i(3),a="__core-js_shared__",s=r[a]||(r[a]={});(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:n.version,mode:i(52)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e,i){var n=i(23),r=i(10),a=i(54);t.exports=function(t){return function(e,i,s){var o,l=n(e),c=r(l.length),u=a(s,c);if(t&&i!=i){while(c>u)if(o=l[u++],o!=o)return!0}else for(;c>u;u++)if((t||u in l)&&l[u]===i)return t||u||0;return!t&&-1}}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,i){var n=i(36);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,i){var n=i(7)("iterator"),r=!1;try{var a=[7][n]();a["return"]=function(){r=!0},Array.from(a,(function(){throw 2}))}catch(s){}t.exports=function(t,e){if(!e&&!r)return!1;var i=!1;try{var a=[7],o=a[n]();o.next=function(){return{done:i=!0}},a[n]=function(){return o},t(a)}catch(s){}return i}},function(t,e,i){"use strict";var n=i(5);t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,i){"use strict";var n=i(79),r=RegExp.prototype.exec;t.exports=function(t,e){var i=t.exec;if("function"===typeof i){var a=i.call(t,e);if("object"!==typeof a)throw new TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==n(t))throw new TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},function(t,e,i){"use strict";i(185);var n=i(18),r=i(22),a=i(4),s=i(37),o=i(7),l=i(134),c=o("species"),u=!a((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),d=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var i="ab".split(t);return 2===i.length&&"a"===i[0]&&"b"===i[1]}();t.exports=function(t,e,i){var h=o(t),f=!a((function(){var e={};return e[h]=function(){return 7},7!=""[t](e)})),p=f?!a((function(){var e=!1,i=/a/;return i.exec=function(){return e=!0,null},"split"===t&&(i.constructor={},i.constructor[c]=function(){return i}),i[h](""),!e})):void 0;if(!f||!p||"replace"===t&&!u||"split"===t&&!d){var m=/./[h],v=i(s,h,""[t],(function(t,e,i,n,r){return e.exec===l?f&&!r?{done:!0,value:m.call(e,i,n)}:{done:!0,value:t.call(i,e,n)}:{done:!1}})),g=v[0],y=v[1];n(String.prototype,t,g),r(RegExp.prototype,h,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}}},function(t,e,i){var n=i(26),r=i(180),a=i(129),s=i(5),o=i(10),l=i(131),c={},u={};e=t.exports=function(t,e,i,d,h){var f,p,m,v,g=h?function(){return t}:l(t),y=n(i,d,e?2:1),_=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(a(g)){for(f=o(t.length);f>_;_++)if(v=e?y(s(p=t[_])[0],p[1]):y(t[_]),v===c||v===u)return v}else for(m=g.call(t);!(p=m.next()).done;)if(v=r(m,y,p.value,e),v===c||v===u)return v};e.BREAK=c,e.RETURN=u},function(t,e,i){var n=i(3),r=n.navigator;t.exports=r&&r.userAgent||""},function(t,e,i){"use strict";var n=i(3),r=i(0),a=i(18),s=i(67),o=i(44),l=i(96),c=i(66),u=i(6),d=i(4),h=i(92),f=i(62),p=i(120);t.exports=function(t,e,i,m,v,g){var y=n[t],_=y,b=v?"set":"add",T=_&&_.prototype,S={},w=function(t){var e=T[t];a(T,t,"delete"==t||"has"==t?function(t){return!(g&&!u(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return g&&!u(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,i){return e.call(this,0===t?0:t,i),this})};if("function"==typeof _&&(g||T.forEach&&!d((function(){(new _).entries().next()})))){var C=new _,k=C[b](g?{}:-0,1)!=C,x=d((function(){C.has(1)})),E=h((function(t){new _(t)})),P=!g&&d((function(){var t=new _,e=5;while(e--)t[b](e,e);return!t.has(-0)}));E||(_=e((function(e,i){c(e,_,t);var n=p(new y,e,_);return void 0!=i&&l(i,v,n[b],n),n})),_.prototype=T,T.constructor=_),(x||P)&&(w("delete"),w("has"),v&&w("get")),(P||k)&&w(b),g&&T.clear&&delete T.clear}else _=m.getConstructor(e,t,v,b),s(_.prototype,i),o.NEED=!0;return f(_,t),S[t]=_,r(r.G+r.W+r.F*(_!=y),S),g||m.setStrong(_,t,v),_}},function(t,e,i){var n,r=i(3),a=i(22),s=i(51),o=s("typed_array"),l=s("view"),c=!(!r.ArrayBuffer||!r.DataView),u=c,d=0,h=9,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");while(d<h)(n=r[f[d++]])?(a(n.prototype,o,!0),a(n.prototype,l,!0)):u=!1;t.exports={ABV:c,CONSTR:u,TYPED:o,VIEW:l}},function(t,e,i){var n=i(138),r=i(71),a=i(417);n||r(Object.prototype,"toString",a,{unsafe:!0})},,,function(t,e,i){var n=i(40);t.exports=function(t,e){if(!n(t))return t;var i,r;if(e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;if("function"==typeof(i=t.valueOf)&&!n(r=i.call(t)))return r;if(!e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,i){var n=i(230),r=i(15),a=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?a(n[t])||a(r[t]):n[t]&&n[t][e]||r[t]&&r[t][e]}},function(t,e,i){(function(e){var i;i="undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},t.exports=i}).call(this,i(204))},function(t,e,i){t.exports=i(517)},function(t,e,i){var n,r,a,s=i(416),o=i(15),l=i(40),c=i(47),u=i(32),d=i(140),h=i(149),f=i(110),p="Object already initialized",m=o.WeakMap,v=function(t){return a(t)?r(t):n(t,{})},g=function(t){return function(e){var i;if(!l(e)||(i=r(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return i}};if(s||d.state){var y=d.state||(d.state=new m),_=y.get,b=y.has,T=y.set;n=function(t,e){if(b.call(y,t))throw new TypeError(p);return e.facade=t,T.call(y,t,e),e},r=function(t){return _.call(y,t)||{}},a=function(t){return b.call(y,t)}}else{var S=h("state");f[S]=!0,n=function(t,e){if(u(t,S))throw new TypeError(p);return e.facade=t,c(t,S,e),e},r=function(t){return u(t,S)?t[S]:{}},a=function(t){return u(t,S)}}t.exports={set:n,get:r,has:a,enforce:v,getterFor:g}},function(t,e,i){var n=i(42),r=i(45).f,a=Function.prototype,s=a.toString,o=/^\s*function ([^ (]*)/,l="name";n&&!(l in a)&&r(a,l,{configurable:!0,get:function(){try{return s.call(this).match(o)[1]}catch(t){return""}}})},function(t,e){t.exports={}},function(t,e,i){var n,r=i(39),a=i(233),s=i(143),o=i(110),l=i(420),c=i(197),u=i(149),d=">",h="<",f="prototype",p="script",m=u("IE_PROTO"),v=function(){},g=function(t){return h+p+d+t+h+"/"+p+d},y=function(t){t.write(g("")),t.close();var e=t.parentWindow.Object;return t=null,e},_=function(){var t,e=c("iframe"),i="java"+p+":";return e.style.display="none",l.appendChild(e),e.src=String(i),t=e.contentWindow.document,t.open(),t.write(g("document.F=Object")),t.close(),t.F},b=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(e){}b=n?y(n):_();var t=s.length;while(t--)delete b[f][s[t]];return b()};o[m]=!0,t.exports=Object.create||function(t,e){var i;return null!==t?(v[f]=r(t),i=new v,v[f]=null,i[m]=t):i=b(),void 0===e?i:a(i,e)}},,function(t,e,i){var n=i(6),r=i(3).document,a=n(r)&&n(r.createElement);t.exports=function(t){return a?r.createElement(t):{}}},function(t,e,i){e.f=i(7)},function(t,e,i){var n=i(88)("keys"),r=i(51);t.exports=function(t){return n[t]||(n[t]=r(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,i){var n=i(3).document;t.exports=n&&n.documentElement},function(t,e,i){var n=i(6),r=i(5),a=function(t,e){if(r(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{n=i(26)(Function.call,i(29).f(Object.prototype,"__proto__").set,2),n(t,[]),e=!(t instanceof Array)}catch(r){e=!0}return function(t,i){return a(t,i),e?t.__proto__=i:n(t,i),t}}({},!1):void 0),check:a}},function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e,i){var n=i(6),r=i(118).set;t.exports=function(t,e,i){var a,s=e.constructor;return s!==i&&"function"==typeof s&&(a=s.prototype)!==i.prototype&&n(a)&&r&&r(t,a),t}},function(t,e,i){"use strict";var n=i(28),r=i(37);t.exports=function(t){var e=String(r(this)),i="",a=n(t);if(a<0||a==1/0)throw RangeError("Count can't be negative");for(;a>0;(a>>>=1)&&(e+=e))1&a&&(i+=e);return i}},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e){var i=Math.expm1;t.exports=!i||i(10)>22025.465794806718||i(10)<22025.465794806718||-2e-17!=i(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:i},function(t,e,i){var n=i(28),r=i(37);t.exports=function(t){return function(e,i){var a,s,o=String(r(e)),l=n(i),c=o.length;return l<0||l>=c?t?"":void 0:(a=o.charCodeAt(l),a<55296||a>56319||l+1===c||(s=o.charCodeAt(l+1))<56320||s>57343?t?o.charAt(l):a:t?o.slice(l,l+2):s-56320+(a-55296<<10)+65536)}}},function(t,e,i){"use strict";var n=i(52),r=i(0),a=i(18),s=i(22),o=i(64),l=i(179),c=i(62),u=i(57),d=i(7)("iterator"),h=!([].keys&&"next"in[].keys()),f="@@iterator",p="keys",m="values",v=function(){return this};t.exports=function(t,e,i,g,y,_,b){l(i,e,g);var T,S,w,C=function(t){if(!h&&t in P)return P[t];switch(t){case p:return function(){return new i(this,t)};case m:return function(){return new i(this,t)}}return function(){return new i(this,t)}},k=e+" Iterator",x=y==m,E=!1,P=t.prototype,O=P[d]||P[f]||y&&P[y],I=O||C(y),L=y?x?C("entries"):I:void 0,A="Array"==e&&P.entries||O;if(A&&(w=u(A.call(new t)),w!==Object.prototype&&w.next&&(c(w,k,!0),n||"function"==typeof w[d]||s(w,d,v))),x&&O&&O.name!==m&&(E=!0,I=function(){return O.call(this)}),n&&!b||!h&&!E&&P[d]||s(P,d,I),o[e]=I,o[k]=v,y)if(T={values:x?I:C(m),keys:_?I:C(p),entries:L},b)for(S in T)S in P||a(P,S,T[S]);else r(r.P+r.F*(h||E),e,T);return T}},function(t,e,i){var n=i(127),r=i(37);t.exports=function(t,e,i){if(n(e))throw TypeError("String#"+i+" doesn't accept regex!");return String(r(t))}},function(t,e,i){var n=i(6),r=i(36),a=i(7)("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==r(t))}},function(t,e,i){var n=i(7)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[n]=!1,!"/./"[t](e)}catch(r){}}return!0}},function(t,e,i){var n=i(64),r=i(7)("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||a[r]===t)}},function(t,e,i){"use strict";var n=i(13),r=i(50);t.exports=function(t,e,i){e in t?n.f(t,e,r(0,i)):t[e]=i}},function(t,e,i){var n=i(79),r=i(7)("iterator"),a=i(64);t.exports=i(11).getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||a[n(t)]}},function(t,e,i){"use strict";var n=i(16),r=i(54),a=i(10);t.exports=function(t){var e=n(this),i=a(e.length),s=arguments.length,o=r(s>1?arguments[1]:void 0,i),l=s>2?arguments[2]:void 0,c=void 0===l?i:r(l,i);while(c>o)e[o++]=t;return e}},function(t,e,i){"use strict";var n=i(58),r=i(184),a=i(64),s=i(23);t.exports=i(125)(Array,"Array",(function(t,e){this._t=s(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?i:"values"==e?t[i]:[i,t[i]])}),"values"),a.Arguments=a.Array,n("keys"),n("values"),n("entries")},function(t,e,i){"use strict";var n=i(93),r=RegExp.prototype.exec,a=String.prototype.replace,s=r,o="lastIndex",l=function(){var t=/a/,e=/b*/g;return r.call(t,"a"),r.call(e,"a"),0!==t[o]||0!==e[o]}(),c=void 0!==/()??/.exec("")[1],u=l||c;u&&(s=function(t){var e,i,s,u,d=this;return c&&(i=new RegExp("^"+d.source+"$(?!\\s)",n.call(d))),l&&(e=d[o]),s=r.call(d,t),l&&s&&(d[o]=d.global?s.index+s[0].length:e),c&&s&&s.length>1&&a.call(s[0],i,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(s[u]=void 0)})),s}),t.exports=s},function(t,e,i){"use strict";var n=i(124)(!0);t.exports=function(t,e,i){return e+(i?n(t,e).length:1)}},function(t,e,i){var n,r,a,s=i(26),o=i(173),l=i(117),c=i(113),u=i(3),d=u.process,h=u.setImmediate,f=u.clearImmediate,p=u.MessageChannel,m=u.Dispatch,v=0,g={},y="onreadystatechange",_=function(){var t=+this;if(g.hasOwnProperty(t)){var e=g[t];delete g[t],e()}},b=function(t){_.call(t.data)};h&&f||(h=function(t){var e=[],i=1;while(arguments.length>i)e.push(arguments[i++]);return g[++v]=function(){o("function"==typeof t?t:Function(t),e)},n(v),v},f=function(t){delete g[t]},"process"==i(36)(d)?n=function(t){d.nextTick(s(_,t,1))}:m&&m.now?n=function(t){m.now(s(_,t,1))}:p?(r=new p,a=r.port2,r.port1.onmessage=b,n=s(a.postMessage,a,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(n=function(t){u.postMessage(t+"","*")},u.addEventListener("message",b,!1)):n=y in c("script")?function(t){l.appendChild(c("script"))[y]=function(){l.removeChild(this),_.call(t)}}:function(t){setTimeout(s(_,t,1),0)}),t.exports={set:h,clear:f}},function(t,e,i){"use strict";var n=i(3),r=i(12),a=i(52),s=i(99),o=i(22),l=i(67),c=i(4),u=i(66),d=i(28),h=i(10),f=i(192),p=i(56).f,m=i(13).f,v=i(132),g=i(62),y="ArrayBuffer",_="DataView",b="prototype",T="Wrong length!",S="Wrong index!",w=n[y],C=n[_],k=n.Math,x=n.RangeError,E=n.Infinity,P=w,O=k.abs,I=k.pow,L=k.floor,A=k.log,D=k.LN2,M="buffer",j="byteLength",N="byteOffset",R=r?"_b":M,B=r?"_l":j,U=r?"_o":N;function F(t,e,i){var n,r,a,s=new Array(i),o=8*i-e-1,l=(1<<o)-1,c=l>>1,u=23===e?I(2,-24)-I(2,-77):0,d=0,h=t<0||0===t&&1/t<0?1:0;for(t=O(t),t!=t||t===E?(r=t!=t?1:0,n=l):(n=L(A(t)/D),t*(a=I(2,-n))<1&&(n--,a*=2),t+=n+c>=1?u/a:u*I(2,1-c),t*a>=2&&(n++,a/=2),n+c>=l?(r=0,n=l):n+c>=1?(r=(t*a-1)*I(2,e),n+=c):(r=t*I(2,c-1)*I(2,e),n=0));e>=8;s[d++]=255&r,r/=256,e-=8);for(n=n<<e|r,o+=e;o>0;s[d++]=255&n,n/=256,o-=8);return s[--d]|=128*h,s}function $(t,e,i){var n,r=8*i-e-1,a=(1<<r)-1,s=a>>1,o=r-7,l=i-1,c=t[l--],u=127&c;for(c>>=7;o>0;u=256*u+t[l],l--,o-=8);for(n=u&(1<<-o)-1,u>>=-o,o+=e;o>0;n=256*n+t[l],l--,o-=8);if(0===u)u=1-s;else{if(u===a)return n?NaN:c?-E:E;n+=I(2,e),u-=s}return(c?-1:1)*n*I(2,u-e)}function z(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function V(t){return[255&t]}function q(t){return[255&t,t>>8&255]}function H(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function W(t){return F(t,52,8)}function G(t){return F(t,23,4)}function X(t,e,i){m(t[b],e,{get:function(){return this[i]}})}function Y(t,e,i,n){var r=+i,a=f(r);if(a+e>t[B])throw x(S);var s=t[R]._b,o=a+t[U],l=s.slice(o,o+e);return n?l:l.reverse()}function K(t,e,i,n,r,a){var s=+i,o=f(s);if(o+e>t[B])throw x(S);for(var l=t[R]._b,c=o+t[U],u=n(+r),d=0;d<e;d++)l[c+d]=u[a?d:e-d-1]}if(s.ABV){if(!c((function(){w(1)}))||!c((function(){new w(-1)}))||c((function(){return new w,new w(1.5),new w(NaN),w.name!=y}))){w=function(t){return u(this,w),new P(f(t))};for(var J,Q=w[b]=P[b],Z=p(P),tt=0;Z.length>tt;)(J=Z[tt++])in w||o(w,J,P[J]);a||(Q.constructor=w)}var et=new C(new w(2)),it=C[b].setInt8;et.setInt8(0,2147483648),et.setInt8(1,2147483649),!et.getInt8(0)&&et.getInt8(1)||l(C[b],{setInt8:function(t,e){it.call(this,t,e<<24>>24)},setUint8:function(t,e){it.call(this,t,e<<24>>24)}},!0)}else w=function(t){u(this,w,y);var e=f(t);this._b=v.call(new Array(e),0),this[B]=e},C=function(t,e,i){u(this,C,_),u(t,w,_);var n=t[B],r=d(e);if(r<0||r>n)throw x("Wrong offset!");if(i=void 0===i?n-r:h(i),r+i>n)throw x(T);this[R]=t,this[U]=r,this[B]=i},r&&(X(w,j,"_l"),X(C,M,"_b"),X(C,j,"_l"),X(C,N,"_o")),l(C[b],{getInt8:function(t){return Y(this,1,t)[0]<<24>>24},getUint8:function(t){return Y(this,1,t)[0]},getInt16:function(t){var e=Y(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=Y(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return z(Y(this,4,t,arguments[1]))},getUint32:function(t){return z(Y(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return $(Y(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return $(Y(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){K(this,1,t,V,e)},setUint8:function(t,e){K(this,1,t,V,e)},setInt16:function(t,e){K(this,2,t,q,e,arguments[2])},setUint16:function(t,e){K(this,2,t,q,e,arguments[2])},setInt32:function(t,e){K(this,4,t,H,e,arguments[2])},setUint32:function(t,e){K(this,4,t,H,e,arguments[2])},setFloat32:function(t,e){K(this,4,t,G,e,arguments[2])},setFloat64:function(t,e){K(this,8,t,W,e,arguments[2])}});g(w,y),g(C,_),o(C[b],s.VIEW,!0),e[y]=w,e[_]=C},function(t,e,i){var n=i(20),r=n("toStringTag"),a={};a[r]="z",t.exports="[object z]"===String(a)},function(t,e,i){var n=i(154),r=i(140);(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.15.2",mode:n?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(t,e,i){var n=i(15),r=i(141),a="__core-js_shared__",s=n[a]||r(a,{});t.exports=s},function(t,e,i){var n=i(15),r=i(47);t.exports=function(t,e){try{r(n,t,e)}catch(i){n[t]=e}return e}},function(t,e,i){var n=i(42),r=i(205),a=i(104),s=i(73),o=i(103),l=i(32),c=i(196),u=Object.getOwnPropertyDescriptor;e.f=n?u:function(t,e){if(t=s(t),e=o(e,!0),c)try{return u(t,e)}catch(i){}if(l(t,e))return a(!r.f.call(t,e),t[e])}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,i){"use strict";var n=i(35),r=i(235);n({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},function(t,e,i){var n=i(15),r=i(427),a=i(235),s=i(47);for(var o in r){var l=n[o],c=l&&l.prototype;if(c&&c.forEach!==a)try{s(c,"forEach",a)}catch(u){c.forEach=a}}},,function(t,e,i){t.exports=i.p+"modules/nc/img/file-read-18688.png"},function(t,e,i){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}i.d(e,"a",(function(){return n}))},function(t,e,i){var n=i(139),r=i(158),a=n("keys");t.exports=function(t){return a[t]||(a[t]=r(t))}},function(t,e,i){var n=i(17),r=i(69),a="".split;t.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==r(t)?a.call(t,""):Object(t)}:Object},function(t,e,i){"use strict";var n=i(419),r=i(223),a=i(139),s=i(111),o=i(108).get,l=i(442),c=i(443),u=RegExp.prototype.exec,d=a("native-string-replace",String.prototype.replace),h=u,f=function(){var t=/a/,e=/b*/g;return u.call(t,"a"),u.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),p=r.UNSUPPORTED_Y||r.BROKEN_CARET,m=void 0!==/()??/.exec("")[1],v=f||m||p||l||c;v&&(h=function(t){var e,i,r,a,l,c,v,g=this,y=o(g),_=y.raw;if(_)return _.lastIndex=g.lastIndex,e=h.call(_,t),g.lastIndex=_.lastIndex,e;var b=y.groups,T=p&&g.sticky,S=n.call(g),w=g.source,C=0,k=t;if(T&&(S=S.replace("y",""),-1===S.indexOf("g")&&(S+="g"),k=String(t).slice(g.lastIndex),g.lastIndex>0&&(!g.multiline||g.multiline&&"\n"!==t[g.lastIndex-1])&&(w="(?: "+w+")",k=" "+k,C++),i=new RegExp("^(?:"+w+")",S)),m&&(i=new RegExp("^"+w+"$(?!\\s)",S)),f&&(r=g.lastIndex),a=u.call(T?i:g,k),T?a?(a.input=a.input.slice(C),a[0]=a[0].slice(C),a.index=g.lastIndex,g.lastIndex+=a[0].length):g.lastIndex=0:f&&a&&(g.lastIndex=g.global?a.index+a[0].length:r),m&&a&&a.length>1&&d.call(a[0],i,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(a[l]=void 0)})),a&&b)for(a.groups=c=s(null),l=0;l<b.length;l++)v=b[l],c[v[0]]=a[v[1]];return a}),t.exports=h},function(t,e,i){"use strict";var n=i(35),r=i(160).indexOf,a=i(201),s=[].indexOf,o=!!s&&1/[1].indexOf(1,-0)<0,l=a("indexOf");n({target:"Array",proto:!0,forced:o||!l},{indexOf:function(t){return o?s.apply(this,arguments)||0:r(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return r})),i.d(e,"e",(function(){return a})),i.d(e,"h",(function(){return s})),i.d(e,"f",(function(){return o})),i.d(e,"g",(function(){return l})),i.d(e,"c",(function(){return c})),i.d(e,"d",(function(){return u}));var n="Media_GetCourse",r="Media_GetProgress",a="SET_CURRENT_PLAY_ITEM",s="SET_CURRENT_PLAY_TIME",o="SET_CURRENT_PLAY_PROGRESS",l="SET_CURRENT_PLAY_SEEKTIME",c="PLAYER_HAS_PLAY",u="PLAYER_SET_SCRRENSHOT"},function(t,e){t.exports=!1},function(t,e,i){var n,r,a=i(15),s=i(220),o=a.process,l=o&&o.versions,c=l&&l.v8;c?(n=c.split("."),r=n[0]<4?1:n[0]+n[1]):s&&(n=s.match(/Edge\/(\d+)/),(!n||n[1]>=74)&&(n=s.match(/Chrome\/(\d+)/),n&&(r=n[1]))),t.exports=r&&+r},function(t,e,i){var n=i(199),r=i(143),a=r.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,a)}},,function(t,e){var i=0,n=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++i+n).toString(36)}},function(t,e,i){var n=i(155),r=i(17);t.exports=!!Object.getOwnPropertySymbols&&!r((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},function(t,e,i){var n=i(73),r=i(74),a=i(161),s=function(t){return function(e,i,s){var o,l=n(e),c=r(l.length),u=a(s,c);if(t&&i!=i){while(c>u)if(o=l[u++],o!=o)return!0}else for(;c>u;u++)if((t||u in l)&&l[u]===i)return t||u||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},function(t,e,i){var n=i(82),r=Math.max,a=Math.min;t.exports=function(t,e){var i=n(t);return i<0?r(i+e,0):a(i,e)}},,,function(t,e,i){"use strict";function n(t,e,i,n,r,a,s){try{var o=t[a](s),l=o.value}catch(c){return void i(c)}o.done?e(l):Promise.resolve(l).then(n,r)}function r(t){return function(){var e=this,i=arguments;return new Promise((function(r,a){var s=t.apply(e,i);function o(t){n(s,r,a,o,l,"next",t)}function l(t){n(s,r,a,o,l,"throw",t)}o(void 0)}))}}i.d(e,"a",(function(){return r}))},function(t,e,i){t.exports=!i(12)&&!i(4)((function(){return 7!=Object.defineProperty(i(113)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,i){var n=i(3),r=i(11),a=i(52),s=i(114),o=i(13).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=a?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||o(e,t,{value:s.f(t)})}},function(t,e,i){var n=i(21),r=i(23),a=i(89)(!1),s=i(115)("IE_PROTO");t.exports=function(t,e){var i,o=r(t),l=0,c=[];for(i in o)i!=s&&n(o,i)&&c.push(i);while(e.length>l)n(o,i=e[l++])&&(~a(c,i)||c.push(i));return c}},function(t,e,i){var n=i(13),r=i(5),a=i(53);t.exports=i(12)?Object.defineProperties:function(t,e){r(t);var i,s=a(e),o=s.length,l=0;while(o>l)n.f(t,i=s[l++],e[i]);return t}},function(t,e,i){var n=i(23),r=i(56).f,a={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],o=function(t){try{return r(t)}catch(e){return s.slice()}};t.exports.f=function(t){return s&&"[object Window]"==a.call(t)?o(t):r(n(t))}},function(t,e,i){"use strict";var n=i(12),r=i(53),a=i(90),s=i(78),o=i(16),l=i(77),c=Object.assign;t.exports=!c||i(4)((function(){var t={},e={},i=Symbol(),n="abcdefghijklmnopqrst";return t[i]=7,n.split("").forEach((function(t){e[t]=t})),7!=c({},t)[i]||Object.keys(c({},e)).join("")!=n}))?function(t,e){var i=o(t),c=arguments.length,u=1,d=a.f,h=s.f;while(c>u){var f,p=l(arguments[u++]),m=d?r(p).concat(d(p)):r(p),v=m.length,g=0;while(v>g)f=m[g++],n&&!h.call(p,f)||(i[f]=p[f])}return i}:c},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},function(t,e,i){"use strict";var n=i(27),r=i(6),a=i(173),s=[].slice,o={},l=function(t,e,i){if(!(e in o)){for(var n=[],r=0;r<e;r++)n[r]="a["+r+"]";o[e]=Function("F,a","return new F("+n.join(",")+")")}return o[e](t,i)};t.exports=Function.bind||function(t){var e=n(this),i=s.call(arguments,1),o=function(){var n=i.concat(s.call(arguments));return this instanceof o?l(e,n.length,n):a(e,n,t)};return r(e.prototype)&&(o.prototype=e.prototype),o}},function(t,e){t.exports=function(t,e,i){var n=void 0===i;switch(e.length){case 0:return n?t():t.call(i);case 1:return n?t(e[0]):t.call(i,e[0]);case 2:return n?t(e[0],e[1]):t.call(i,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(i,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(i,e[0],e[1],e[2],e[3])}return t.apply(i,e)}},function(t,e,i){var n=i(3).parseInt,r=i(63).trim,a=i(119),s=/^[-+]?0[xX]/;t.exports=8!==n(a+"08")||22!==n(a+"0x16")?function(t,e){var i=r(String(t),3);return n(i,e>>>0||(s.test(i)?16:10))}:n},function(t,e,i){var n=i(3).parseFloat,r=i(63).trim;t.exports=1/n(i(119)+"-0")!==-1/0?function(t){var e=r(String(t),3),i=n(e);return 0===i&&"-"==e.charAt(0)?-0:i}:n},function(t,e,i){var n=i(36);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=n(t))throw TypeError(e);return+t}},function(t,e,i){var n=i(6),r=Math.floor;t.exports=function(t){return!n(t)&&isFinite(t)&&r(t)===t}},function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,i){"use strict";var n=i(55),r=i(50),a=i(62),s={};i(22)(s,i(7)("iterator"),(function(){return this})),t.exports=function(t,e,i){t.prototype=n(s,{next:r(1,i)}),a(t,e+" Iterator")}},function(t,e,i){var n=i(5);t.exports=function(t,e,i,r){try{return r?e(n(i)[0],i[1]):e(i)}catch(s){var a=t["return"];throw void 0!==a&&n(a.call(t)),s}}},function(t,e,i){var n=i(337);t.exports=function(t,e){return new(n(t))(e)}},function(t,e,i){var n=i(27),r=i(16),a=i(77),s=i(10);t.exports=function(t,e,i,o,l){n(e);var c=r(t),u=a(c),d=s(c.length),h=l?d-1:0,f=l?-1:1;if(i<2)for(;;){if(h in u){o=u[h],h+=f;break}if(h+=f,l?h<0:d<=h)throw TypeError("Reduce of empty array with no initial value")}for(;l?h>=0:d>h;h+=f)h in u&&(o=e(o,u[h],h,c));return o}},function(t,e,i){"use strict";var n=i(16),r=i(54),a=i(10);t.exports=[].copyWithin||function(t,e){var i=n(this),s=a(i.length),o=r(t,s),l=r(e,s),c=arguments.length>2?arguments[2]:void 0,u=Math.min((void 0===c?s:r(c,s))-l,s-o),d=1;l<o&&o<l+u&&(d=-1,l+=u-1,o+=u-1);while(u-- >0)l in i?i[o]=i[l]:delete i[o],o+=d,l+=d;return i}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,i){"use strict";var n=i(134);i(0)({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},function(t,e,i){i(12)&&"g"!=/./g.flags&&i(13).f(RegExp.prototype,"flags",{configurable:!0,get:i(93)})},function(t,e,i){"use strict";var n,r,a,s,o=i(52),l=i(3),c=i(26),u=i(79),d=i(0),h=i(6),f=i(27),p=i(66),m=i(96),v=i(80),g=i(136).set,y=i(357)(),_=i(188),b=i(358),T=i(97),S=i(189),w="Promise",C=l.TypeError,k=l.process,x=k&&k.versions,E=x&&x.v8||"",P=l[w],O="process"==u(k),I=function(){},L=r=_.f,A=!!function(){try{var t=P.resolve(1),e=(t.constructor={})[i(7)("species")]=function(t){t(I,I)};return(O||"function"==typeof PromiseRejectionEvent)&&t.then(I)instanceof e&&0!==E.indexOf("6.6")&&-1===T.indexOf("Chrome/66")}catch(n){}}(),D=function(t){var e;return!(!h(t)||"function"!=typeof(e=t.then))&&e},M=function(t,e){if(!t._n){t._n=!0;var i=t._c;y((function(){var n=t._v,r=1==t._s,a=0,s=function(e){var i,a,s,o=r?e.ok:e.fail,l=e.resolve,c=e.reject,u=e.domain;try{o?(r||(2==t._h&&R(t),t._h=1),!0===o?i=n:(u&&u.enter(),i=o(n),u&&(u.exit(),s=!0)),i===e.promise?c(C("Promise-chain cycle")):(a=D(i))?a.call(i,l,c):l(i)):c(n)}catch(d){u&&!s&&u.exit(),c(d)}};while(i.length>a)s(i[a++]);t._c=[],t._n=!1,e&&!t._h&&j(t)}))}},j=function(t){g.call(l,(function(){var e,i,n,r=t._v,a=N(t);if(a&&(e=b((function(){O?k.emit("unhandledRejection",r,t):(i=l.onunhandledrejection)?i({promise:t,reason:r}):(n=l.console)&&n.error&&n.error("Unhandled promise rejection",r)})),t._h=O||N(t)?2:1),t._a=void 0,a&&e.e)throw e.v}))},N=function(t){return 1!==t._h&&0===(t._a||t._c).length},R=function(t){g.call(l,(function(){var e;O?k.emit("rejectionHandled",t):(e=l.onrejectionhandled)&&e({promise:t,reason:t._v})}))},B=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),M(e,!0))},U=function(t){var e,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===t)throw C("Promise can't be resolved itself");(e=D(t))?y((function(){var n={_w:i,_d:!1};try{e.call(t,c(U,n,1),c(B,n,1))}catch(r){B.call(n,r)}})):(i._v=t,i._s=1,M(i,!1))}catch(n){B.call({_w:i,_d:!1},n)}}};A||(P=function(t){p(this,P,w,"_h"),f(t),n.call(this);try{t(c(U,this,1),c(B,this,1))}catch(e){B.call(this,e)}},n=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},n.prototype=i(67)(P.prototype,{then:function(t,e){var i=L(v(this,P));return i.ok="function"!=typeof t||t,i.fail="function"==typeof e&&e,i.domain=O?k.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&M(this,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),a=function(){var t=new n;this.promise=t,this.resolve=c(U,t,1),this.reject=c(B,t,1)},_.f=L=function(t){return t===P||t===s?new a(t):r(t)}),d(d.G+d.W+d.F*!A,{Promise:P}),i(62)(P,w),i(65)(w),s=i(11)[w],d(d.S+d.F*!A,w,{reject:function(t){var e=L(this),i=e.reject;return i(t),e.promise}}),d(d.S+d.F*(o||!A),w,{resolve:function(t){return S(o&&this===s?P:this,t)}}),d(d.S+d.F*!(A&&i(92)((function(t){P.all(t)["catch"](I)}))),w,{all:function(t){var e=this,i=L(e),n=i.resolve,r=i.reject,a=b((function(){var i=[],a=0,s=1;m(t,!1,(function(t){var o=a++,l=!1;i.push(void 0),s++,e.resolve(t).then((function(t){l||(l=!0,i[o]=t,--s||n(i))}),r)})),--s||n(i)}));return a.e&&r(a.v),i.promise},race:function(t){var e=this,i=L(e),n=i.reject,r=b((function(){m(t,!1,(function(t){e.resolve(t).then(i.resolve,n)}))}));return r.e&&n(r.v),i.promise}})},function(t,e,i){"use strict";var n=i(27);function r(t){var e,i;this.promise=new t((function(t,n){if(void 0!==e||void 0!==i)throw TypeError("Bad Promise constructor");e=t,i=n})),this.resolve=n(e),this.reject=n(i)}t.exports.f=function(t){return new r(t)}},function(t,e,i){var n=i(5),r=i(6),a=i(188);t.exports=function(t,e){if(n(t),r(e)&&e.constructor===t)return e;var i=a.f(t),s=i.resolve;return s(e),i.promise}},function(t,e,i){"use strict";var n=i(13).f,r=i(55),a=i(67),s=i(26),o=i(66),l=i(96),c=i(125),u=i(184),d=i(65),h=i(12),f=i(44).fastKey,p=i(59),m=h?"_s":"size",v=function(t,e){var i,n=f(e);if("F"!==n)return t._i[n];for(i=t._f;i;i=i.n)if(i.k==e)return i};t.exports={getConstructor:function(t,e,i,c){var u=t((function(t,n){o(t,u,e,"_i"),t._t=e,t._i=r(null),t._f=void 0,t._l=void 0,t[m]=0,void 0!=n&&l(n,i,t[c],t)}));return a(u.prototype,{clear:function(){for(var t=p(this,e),i=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete i[n.i];t._f=t._l=void 0,t[m]=0},delete:function(t){var i=p(this,e),n=v(i,t);if(n){var r=n.n,a=n.p;delete i._i[n.i],n.r=!0,a&&(a.n=r),r&&(r.p=a),i._f==n&&(i._f=r),i._l==n&&(i._l=a),i[m]--}return!!n},forEach:function(t){p(this,e);var i,n=s(t,arguments.length>1?arguments[1]:void 0,3);while(i=i?i.n:this._f){n(i.v,i.k,this);while(i&&i.r)i=i.p}},has:function(t){return!!v(p(this,e),t)}}),h&&n(u.prototype,"size",{get:function(){return p(this,e)[m]}}),u},def:function(t,e,i){var n,r,a=v(t,e);return a?a.v=i:(t._l=a={i:r=f(e,!0),k:e,v:i,p:n=t._l,n:void 0,r:!1},t._f||(t._f=a),n&&(n.n=a),t[m]++,"F"!==r&&(t._i[r]=a)),t},getEntry:v,setStrong:function(t,e,i){c(t,e,(function(t,i){this._t=p(t,e),this._k=i,this._l=void 0}),(function(){var t=this,e=t._k,i=t._l;while(i&&i.r)i=i.p;return t._t&&(t._l=i=i?i.n:t._t._f)?u(0,"keys"==e?i.k:"values"==e?i.v:[i.k,i.v]):(t._t=void 0,u(1))}),i?"entries":"values",!i,!0),d(e)}}},function(t,e,i){"use strict";var n=i(67),r=i(44).getWeak,a=i(5),s=i(6),o=i(66),l=i(96),c=i(31),u=i(21),d=i(59),h=c(5),f=c(6),p=0,m=function(t){return t._l||(t._l=new v)},v=function(){this.a=[]},g=function(t,e){return h(t.a,(function(t){return t[0]===e}))};v.prototype={get:function(t){var e=g(this,t);if(e)return e[1]},has:function(t){return!!g(this,t)},set:function(t,e){var i=g(this,t);i?i[1]=e:this.a.push([t,e])},delete:function(t){var e=f(this.a,(function(e){return e[0]===t}));return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,i,a){var c=t((function(t,n){o(t,c,e,"_i"),t._t=e,t._i=p++,t._l=void 0,void 0!=n&&l(n,i,t[a],t)}));return n(c.prototype,{delete:function(t){if(!s(t))return!1;var i=r(t);return!0===i?m(d(this,e))["delete"](t):i&&u(i,this._i)&&delete i[this._i]},has:function(t){if(!s(t))return!1;var i=r(t);return!0===i?m(d(this,e)).has(t):i&&u(i,this._i)}}),c},def:function(t,e,i){var n=r(a(e),!0);return!0===n?m(t).set(e,i):n[t._i]=i,t},ufstore:m}},function(t,e,i){var n=i(28),r=i(10);t.exports=function(t){if(void 0===t)return 0;var e=n(t),i=r(e);if(e!==i)throw RangeError("Wrong length!");return i}},function(t,e,i){var n=i(56),r=i(90),a=i(5),s=i(3).Reflect;t.exports=s&&s.ownKeys||function(t){var e=n.f(a(t)),i=r.f;return i?e.concat(i(t)):e}},function(t,e,i){var n=i(10),r=i(121),a=i(37);t.exports=function(t,e,i,s){var o=String(a(t)),l=o.length,c=void 0===i?" ":String(i),u=n(e);if(u<=l||""==c)return o;var d=u-l,h=r.call(c,Math.ceil(d/c.length));return h.length>d&&(h=h.slice(0,d)),s?h+o:o+h}},function(t,e,i){var n=i(12),r=i(53),a=i(23),s=i(78).f;t.exports=function(t){return function(e){var i,o=a(e),l=r(o),c=l.length,u=0,d=[];while(c>u)i=l[u++],n&&!s.call(o,i)||d.push(t?[i,o[i]]:o[i]);return d}}},function(t,e,i){var n=i(42),r=i(17),a=i(197);t.exports=!n&&!r((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},function(t,e,i){var n=i(15),r=i(40),a=n.document,s=r(a)&&r(a.createElement);t.exports=function(t){return s?a.createElement(t):{}}},function(t,e,i){var n=i(140),r=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(t){return r.call(t)}),t.exports=n.inspectSource},function(t,e,i){var n=i(32),r=i(73),a=i(160).indexOf,s=i(110);t.exports=function(t,e){var i,o=r(t),l=0,c=[];for(i in o)!n(s,i)&&n(o,i)&&c.push(i);while(e.length>l)n(o,i=e[l++])&&(~a(c,i)||c.push(i));return c}},function(t,e,i){var n=i(17),r=/#|\.prototype\./,a=function(t,e){var i=o[s(t)];return i==c||i!=l&&("function"==typeof e?n(e):!!e)},s=a.normalize=function(t){return String(t).replace(r,".").toLowerCase()},o=a.data={},l=a.NATIVE="N",c=a.POLYFILL="P";t.exports=a},function(t,e,i){"use strict";var n=i(17);t.exports=function(t,e){var i=[][t];return!!i&&n((function(){i.call(null,e||function(){throw 1},1)}))}},,,function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(n){"object"===typeof window&&(i=window)}t.exports=i},function(t,e,i){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,a=r&&!n.call({1:2},1);e.f=a?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},function(t,e,i){var n=i(199),r=i(143);t.exports=Object.keys||function(t){return n(t,r)}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,i){var n=i(69);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,i){"use strict";var n=i(103),r=i(45),a=i(104);t.exports=function(t,e,i){var s=n(e);s in t?r.f(t,s,a(0,i)):t[s]=i}},function(t,e,i){var n=i(40),r=i(208),a=i(20),s=a("species");t.exports=function(t,e){var i;return r(t)&&(i=t.constructor,"function"!=typeof i||i!==Array&&!r(i.prototype)?n(i)&&(i=i[s],null===i&&(i=void 0)):i=void 0),new(void 0===i?Array:i)(0===e?0:e)}},function(t,e,i){var n=i(17),r=i(20),a=i(155),s=r("species");t.exports=function(t){return a>=51||!n((function(){var e=[],i=e.constructor={};return i[s]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},function(t,e,i){"use strict";var n=i(421),r=i(17),a=i(39),s=i(74),o=i(82),l=i(68),c=i(422),u=i(511),d=i(424),h=i(20),f=h("replace"),p=Math.max,m=Math.min,v=function(t){return void 0===t?t:String(t)},g=function(){return"$0"==="a".replace(/./,"$0")}(),y=function(){return!!/./[f]&&""===/./[f]("a","$0")}(),_=!r((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}));n("replace",(function(t,e,i){var n=y?"$":"$0";return[function(t,i){var n=l(this),r=void 0==t?void 0:t[f];return void 0!==r?r.call(t,n,i):e.call(String(n),t,i)},function(t,r){if("string"===typeof r&&-1===r.indexOf(n)&&-1===r.indexOf("$<")){var l=i(e,this,t,r);if(l.done)return l.value}var h=a(this),f=String(t),g="function"===typeof r;g||(r=String(r));var y=h.global;if(y){var _=h.unicode;h.lastIndex=0}var b=[];while(1){var T=d(h,f);if(null===T)break;if(b.push(T),!y)break;var S=String(T[0]);""===S&&(h.lastIndex=c(f,s(h.lastIndex),_))}for(var w="",C=0,k=0;k<b.length;k++){T=b[k];for(var x=String(T[0]),E=p(m(o(T.index),f.length),0),P=[],O=1;O<T.length;O++)P.push(v(T[O]));var I=T.groups;if(g){var L=[x].concat(P,E,f);void 0!==I&&L.push(I);var A=String(r.apply(void 0,L))}else A=u(x,f,E,P,I,r);E>=C&&(w+=f.slice(C,E)+A,C=E+x.length)}return w+f.slice(C)}]}),!_||!g||y)},function(t,e,i){"use strict";var n=i(35),r=i(150),a=i(73),s=i(201),o=[].join,l=r!=Object,c=s("join",",");n({target:"Array",proto:!0,forced:l||!c},{join:function(t){return o.call(a(this),void 0===t?",":t)}})},,,,,function(t,e,i){"use strict";var n=function(){this.init=function(){var t={};this.on=function(e,i){t[e]||(t[e]=[]),t[e]=t[e].concat(i)},this.off=function(e,i){var n;return!!t[e]&&(n=t[e].indexOf(i),t[e]=t[e].slice(),t[e].splice(n,1),n>-1)},this.trigger=function(e){var i,n,r,a;if(i=t[e],i)if(2===arguments.length)for(r=i.length,n=0;n<r;++n)i[n].call(this,arguments[1]);else{for(a=[],n=arguments.length,n=1;n<arguments.length;++n)a.push(arguments[n]);for(r=i.length,n=0;n<r;++n)i[n].apply(this,a)}},this.dispose=function(){t={}}}};n.prototype.pipe=function(t){return this.on("data",(function(e){t.push(e)})),this.on("done",(function(e){t.flush(e)})),t},n.prototype.push=function(t){this.trigger("data",t)},n.prototype.flush=function(t){this.trigger("done",t)},t.exports=n},,function(t,e,i){var n=i(105);t.exports=n("navigator","userAgent")||""},function(t,e,i){var n=i(138),r=i(69),a=i(20),s=a("toStringTag"),o="Arguments"==r(function(){return arguments}()),l=function(t,e){try{return t[e]}catch(i){}};t.exports=n?r:function(t){var e,i,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=l(e=Object(t),s))?i:o?r(e):"Object"==(n=r(e))&&"function"==typeof e.callee?"Arguments":n}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,i){var n=i(17),r=function(t,e){return RegExp(t,e)};e.UNSUPPORTED_Y=n((function(){var t=r("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=n((function(){var t=r("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},,function(t,e,i){var n=i(45).f,r=i(32),a=i(20),s=a("toStringTag");t.exports=function(t,e,i){t&&!r(t=i?t:t.prototype,s)&&n(t,s,{configurable:!0,value:e})}},,,,function(t,e,i){"use strict";var n=i(35),r=i(161),a=i(82),s=i(74),o=i(81),l=i(210),c=i(209),u=i(211),d=u("splice"),h=Math.max,f=Math.min,p=9007199254740991,m="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!d},{splice:function(t,e){var i,n,u,d,v,g,y=o(this),_=s(y.length),b=r(t,_),T=arguments.length;if(0===T?i=n=0:1===T?(i=0,n=_-b):(i=T-2,n=f(h(a(e),0),_-b)),_+i-n>p)throw TypeError(m);for(u=l(y,n),d=0;d<n;d++)v=b+d,v in y&&c(u,d,y[v]);if(u.length=n,i<n){for(d=b;d<_-n;d++)v=d+n,g=d+i,v in y?y[g]=y[v]:delete y[g];for(d=_;d>_-n+i;d--)delete y[d-1]}else if(i>n)for(d=_-n;d>b;d--)v=d+n-1,g=d+i-1,v in y?y[g]=y[v]:delete y[g];for(d=0;d<i;d++)y[d+b]=arguments[d+2];return y.length=_-n+i,u}})},function(t,e,i){var n=i(15);t.exports=n},function(t,e,i){var n=i(159);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,i){var n=i(32),r=i(418),a=i(142),s=i(45);t.exports=function(t,e){for(var i=r(e),o=s.f,l=a.f,c=0;c<i.length;c++){var u=i[c];n(t,u)||o(t,u,l(e,u))}}},function(t,e,i){var n=i(42),r=i(45),a=i(39),s=i(206);t.exports=n?Object.defineProperties:function(t,e){a(t);var i,n=s(e),o=n.length,l=0;while(o>l)r.f(t,i=n[l++],e[i]);return t}},function(t,e,i){var n=i(40),r=i(69),a=i(20),s=a("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[s])?!!e:"RegExp"==r(t))}},function(t,e,i){"use strict";var n=i(425).forEach,r=i(201),a=r("forEach");t.exports=a?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},,,,,,,function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=i(148);function r(t,e){if(t){if("string"===typeof t)return Object(n["a"])(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Object(n["a"])(t,e):void 0}}},function(t,e,i){i(244)},function(t,e,i){"use strict";i(245),i(388),i(390),i(393),i(395),i(397),i(399),i(401),i(403),i(405),i(407),i(409),i(411),i(415)},function(t,e,i){i(246),i(249),i(250),i(251),i(252),i(253),i(254),i(255),i(256),i(257),i(258),i(259),i(260),i(261),i(262),i(263),i(264),i(265),i(266),i(267),i(268),i(269),i(270),i(271),i(272),i(273),i(274),i(275),i(276),i(277),i(278),i(279),i(280),i(281),i(282),i(283),i(284),i(285),i(286),i(287),i(288),i(289),i(290),i(292),i(293),i(294),i(295),i(296),i(297),i(298),i(299),i(300),i(301),i(302),i(303),i(304),i(305),i(306),i(307),i(308),i(309),i(310),i(311),i(312),i(313),i(314),i(315),i(316),i(317),i(318),i(319),i(320),i(321),i(322),i(323),i(324),i(325),i(327),i(328),i(330),i(331),i(332),i(333),i(334),i(335),i(336),i(338),i(339),i(340),i(341),i(342),i(343),i(344),i(345),i(346),i(347),i(348),i(349),i(350),i(133),i(351),i(185),i(352),i(186),i(353),i(354),i(355),i(356),i(187),i(359),i(360),i(361),i(362),i(363),i(364),i(365),i(366),i(367),i(368),i(369),i(370),i(371),i(372),i(373),i(374),i(375),i(376),i(377),i(378),i(379),i(380),i(381),i(382),i(383),i(384),i(385),i(386),i(387),t.exports=i(11)},function(t,e,i){"use strict";var n=i(3),r=i(21),a=i(12),s=i(0),o=i(18),l=i(44).KEY,c=i(4),u=i(88),d=i(62),h=i(51),f=i(7),p=i(114),m=i(166),v=i(248),g=i(91),y=i(5),_=i(6),b=i(16),T=i(23),S=i(43),w=i(50),C=i(55),k=i(169),x=i(29),E=i(90),P=i(13),O=i(53),I=x.f,L=P.f,A=k.f,D=n.Symbol,M=n.JSON,j=M&&M.stringify,N="prototype",R=f("_hidden"),B=f("toPrimitive"),U={}.propertyIsEnumerable,F=u("symbol-registry"),$=u("symbols"),z=u("op-symbols"),V=Object[N],q="function"==typeof D&&!!E.f,H=n.QObject,W=!H||!H[N]||!H[N].findChild,G=a&&c((function(){return 7!=C(L({},"a",{get:function(){return L(this,"a",{value:7}).a}})).a}))?function(t,e,i){var n=I(V,e);n&&delete V[e],L(t,e,i),n&&t!==V&&L(V,e,n)}:L,X=function(t){var e=$[t]=C(D[N]);return e._k=t,e},Y=q&&"symbol"==typeof D.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof D},K=function(t,e,i){return t===V&&K(z,e,i),y(t),e=S(e,!0),y(i),r($,e)?(i.enumerable?(r(t,R)&&t[R][e]&&(t[R][e]=!1),i=C(i,{enumerable:w(0,!1)})):(r(t,R)||L(t,R,w(1,{})),t[R][e]=!0),G(t,e,i)):L(t,e,i)},J=function(t,e){y(t);var i,n=v(e=T(e)),r=0,a=n.length;while(a>r)K(t,i=n[r++],e[i]);return t},Q=function(t,e){return void 0===e?C(t):J(C(t),e)},Z=function(t){var e=U.call(this,t=S(t,!0));return!(this===V&&r($,t)&&!r(z,t))&&(!(e||!r(this,t)||!r($,t)||r(this,R)&&this[R][t])||e)},tt=function(t,e){if(t=T(t),e=S(e,!0),t!==V||!r($,e)||r(z,e)){var i=I(t,e);return!i||!r($,e)||r(t,R)&&t[R][e]||(i.enumerable=!0),i}},et=function(t){var e,i=A(T(t)),n=[],a=0;while(i.length>a)r($,e=i[a++])||e==R||e==l||n.push(e);return n},it=function(t){var e,i=t===V,n=A(i?z:T(t)),a=[],s=0;while(n.length>s)!r($,e=n[s++])||i&&!r(V,e)||a.push($[e]);return a};q||(D=function(){if(this instanceof D)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),e=function(i){this===V&&e.call(z,i),r(this,R)&&r(this[R],t)&&(this[R][t]=!1),G(this,t,w(1,i))};return a&&W&&G(V,t,{configurable:!0,set:e}),X(t)},o(D[N],"toString",(function(){return this._k})),x.f=tt,P.f=K,i(56).f=k.f=et,i(78).f=Z,E.f=it,a&&!i(52)&&o(V,"propertyIsEnumerable",Z,!0),p.f=function(t){return X(f(t))}),s(s.G+s.W+s.F*!q,{Symbol:D});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),rt=0;nt.length>rt;)f(nt[rt++]);for(var at=O(f.store),st=0;at.length>st;)m(at[st++]);s(s.S+s.F*!q,"Symbol",{for:function(t){return r(F,t+="")?F[t]:F[t]=D(t)},keyFor:function(t){if(!Y(t))throw TypeError(t+" is not a symbol!");for(var e in F)if(F[e]===t)return e},useSetter:function(){W=!0},useSimple:function(){W=!1}}),s(s.S+s.F*!q,"Object",{create:Q,defineProperty:K,defineProperties:J,getOwnPropertyDescriptor:tt,getOwnPropertyNames:et,getOwnPropertySymbols:it});var ot=c((function(){E.f(1)}));s(s.S+s.F*ot,"Object",{getOwnPropertySymbols:function(t){return E.f(b(t))}}),M&&s(s.S+s.F*(!q||c((function(){var t=D();return"[null]"!=j([t])||"{}"!=j({a:t})||"{}"!=j(Object(t))}))),"JSON",{stringify:function(t){var e,i,n=[t],r=1;while(arguments.length>r)n.push(arguments[r++]);if(i=e=n[1],(_(e)||void 0!==t)&&!Y(t))return g(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!Y(e))return e}),n[1]=e,j.apply(M,n)}}),D[N][B]||i(22)(D[N],B,D[N].valueOf),d(D,"Symbol"),d(Math,"Math",!0),d(n.JSON,"JSON",!0)},function(t,e,i){t.exports=i(88)("native-function-to-string",Function.toString)},function(t,e,i){var n=i(53),r=i(90),a=i(78);t.exports=function(t){var e=n(t),i=r.f;if(i){var s,o=i(t),l=a.f,c=0;while(o.length>c)l.call(t,s=o[c++])&&e.push(s)}return e}},function(t,e,i){var n=i(0);n(n.S,"Object",{create:i(55)})},function(t,e,i){var n=i(0);n(n.S+n.F*!i(12),"Object",{defineProperty:i(13).f})},function(t,e,i){var n=i(0);n(n.S+n.F*!i(12),"Object",{defineProperties:i(168)})},function(t,e,i){var n=i(23),r=i(29).f;i(30)("getOwnPropertyDescriptor",(function(){return function(t,e){return r(n(t),e)}}))},function(t,e,i){var n=i(16),r=i(57);i(30)("getPrototypeOf",(function(){return function(t){return r(n(t))}}))},function(t,e,i){var n=i(16),r=i(53);i(30)("keys",(function(){return function(t){return r(n(t))}}))},function(t,e,i){i(30)("getOwnPropertyNames",(function(){return i(169).f}))},function(t,e,i){var n=i(6),r=i(44).onFreeze;i(30)("freeze",(function(t){return function(e){return t&&n(e)?t(r(e)):e}}))},function(t,e,i){var n=i(6),r=i(44).onFreeze;i(30)("seal",(function(t){return function(e){return t&&n(e)?t(r(e)):e}}))},function(t,e,i){var n=i(6),r=i(44).onFreeze;i(30)("preventExtensions",(function(t){return function(e){return t&&n(e)?t(r(e)):e}}))},function(t,e,i){var n=i(6);i(30)("isFrozen",(function(t){return function(e){return!n(e)||!!t&&t(e)}}))},function(t,e,i){var n=i(6);i(30)("isSealed",(function(t){return function(e){return!n(e)||!!t&&t(e)}}))},function(t,e,i){var n=i(6);i(30)("isExtensible",(function(t){return function(e){return!!n(e)&&(!t||t(e))}}))},function(t,e,i){var n=i(0);n(n.S+n.F,"Object",{assign:i(170)})},function(t,e,i){var n=i(0);n(n.S,"Object",{is:i(171)})},function(t,e,i){var n=i(0);n(n.S,"Object",{setPrototypeOf:i(118).set})},function(t,e,i){"use strict";var n=i(79),r={};r[i(7)("toStringTag")]="z",r+""!="[object z]"&&i(18)(Object.prototype,"toString",(function(){return"[object "+n(this)+"]"}),!0)},function(t,e,i){var n=i(0);n(n.P,"Function",{bind:i(172)})},function(t,e,i){var n=i(13).f,r=Function.prototype,a=/^\s*function ([^ (]*)/,s="name";s in r||i(12)&&n(r,s,{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(t){return""}}})},function(t,e,i){"use strict";var n=i(6),r=i(57),a=i(7)("hasInstance"),s=Function.prototype;a in s||i(13).f(s,a,{value:function(t){if("function"!=typeof this||!n(t))return!1;if(!n(this.prototype))return t instanceof this;while(t=r(t))if(this.prototype===t)return!0;return!1}})},function(t,e,i){var n=i(0),r=i(174);n(n.G+n.F*(parseInt!=r),{parseInt:r})},function(t,e,i){var n=i(0),r=i(175);n(n.G+n.F*(parseFloat!=r),{parseFloat:r})},function(t,e,i){"use strict";var n=i(3),r=i(21),a=i(36),s=i(120),o=i(43),l=i(4),c=i(56).f,u=i(29).f,d=i(13).f,h=i(63).trim,f="Number",p=n[f],m=p,v=p.prototype,g=a(i(55)(v))==f,y="trim"in String.prototype,_=function(t){var e=o(t,!1);if("string"==typeof e&&e.length>2){e=y?e.trim():h(e,3);var i,n,r,a=e.charCodeAt(0);if(43===a||45===a){if(i=e.charCodeAt(2),88===i||120===i)return NaN}else if(48===a){switch(e.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+e}for(var s,l=e.slice(2),c=0,u=l.length;c<u;c++)if(s=l.charCodeAt(c),s<48||s>r)return NaN;return parseInt(l,n)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof p&&(g?l((function(){v.valueOf.call(i)})):a(i)!=f)?s(new m(_(e)),i,p):_(e)};for(var b,T=i(12)?c(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;T.length>S;S++)r(m,b=T[S])&&!r(p,b)&&d(p,b,u(m,b));p.prototype=v,v.constructor=p,i(18)(n,f,p)}},function(t,e,i){"use strict";var n=i(0),r=i(28),a=i(176),s=i(121),o=1..toFixed,l=Math.floor,c=[0,0,0,0,0,0],u="Number.toFixed: incorrect invocation!",d="0",h=function(t,e){var i=-1,n=e;while(++i<6)n+=t*c[i],c[i]=n%1e7,n=l(n/1e7)},f=function(t){var e=6,i=0;while(--e>=0)i+=c[e],c[e]=l(i/t),i=i%t*1e7},p=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==c[t]){var i=String(c[t]);e=""===e?i:e+s.call(d,7-i.length)+i}return e},m=function(t,e,i){return 0===e?i:e%2===1?m(t,e-1,i*t):m(t*t,e/2,i)},v=function(t){var e=0,i=t;while(i>=4096)e+=12,i/=4096;while(i>=2)e+=1,i/=2;return e};n(n.P+n.F*(!!o&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!i(4)((function(){o.call({})}))),"Number",{toFixed:function(t){var e,i,n,o,l=a(this,u),c=r(t),g="",y=d;if(c<0||c>20)throw RangeError(u);if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(g="-",l=-l),l>1e-21)if(e=v(l*m(2,69,1))-69,i=e<0?l*m(2,-e,1):l/m(2,e,1),i*=4503599627370496,e=52-e,e>0){h(0,i),n=c;while(n>=7)h(1e7,0),n-=7;h(m(10,n,1),0),n=e-1;while(n>=23)f(1<<23),n-=23;f(1<<n),h(1,1),f(2),y=p()}else h(0,i),h(1<<-e,0),y=p()+s.call(d,c);return c>0?(o=y.length,y=g+(o<=c?"0."+s.call(d,c-o)+y:y.slice(0,o-c)+"."+y.slice(o-c))):y=g+y,y}})},function(t,e,i){"use strict";var n=i(0),r=i(4),a=i(176),s=1..toPrecision;n(n.P+n.F*(r((function(){return"1"!==s.call(1,void 0)}))||!r((function(){s.call({})}))),"Number",{toPrecision:function(t){var e=a(this,"Number#toPrecision: incorrect invocation!");return void 0===t?s.call(e):s.call(e,t)}})},function(t,e,i){var n=i(0);n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,i){var n=i(0),r=i(3).isFinite;n(n.S,"Number",{isFinite:function(t){return"number"==typeof t&&r(t)}})},function(t,e,i){var n=i(0);n(n.S,"Number",{isInteger:i(177)})},function(t,e,i){var n=i(0);n(n.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,i){var n=i(0),r=i(177),a=Math.abs;n(n.S,"Number",{isSafeInteger:function(t){return r(t)&&a(t)<=9007199254740991}})},function(t,e,i){var n=i(0);n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,i){var n=i(0);n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,i){var n=i(0),r=i(175);n(n.S+n.F*(Number.parseFloat!=r),"Number",{parseFloat:r})},function(t,e,i){var n=i(0),r=i(174);n(n.S+n.F*(Number.parseInt!=r),"Number",{parseInt:r})},function(t,e,i){var n=i(0),r=i(178),a=Math.sqrt,s=Math.acosh;n(n.S+n.F*!(s&&710==Math.floor(s(Number.MAX_VALUE))&&s(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:r(t-1+a(t-1)*a(t+1))}})},function(t,e,i){var n=i(0),r=Math.asinh;function a(t){return isFinite(t=+t)&&0!=t?t<0?-a(-t):Math.log(t+Math.sqrt(t*t+1)):t}n(n.S+n.F*!(r&&1/r(0)>0),"Math",{asinh:a})},function(t,e,i){var n=i(0),r=Math.atanh;n(n.S+n.F*!(r&&1/r(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,i){var n=i(0),r=i(122);n(n.S,"Math",{cbrt:function(t){return r(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,i){var n=i(0);n(n.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,i){var n=i(0),r=Math.exp;n(n.S,"Math",{cosh:function(t){return(r(t=+t)+r(-t))/2}})},function(t,e,i){var n=i(0),r=i(123);n(n.S+n.F*(r!=Math.expm1),"Math",{expm1:r})},function(t,e,i){var n=i(0);n(n.S,"Math",{fround:i(291)})},function(t,e,i){var n=i(122),r=Math.pow,a=r(2,-52),s=r(2,-23),o=r(2,127)*(2-s),l=r(2,-126),c=function(t){return t+1/a-1/a};t.exports=Math.fround||function(t){var e,i,r=Math.abs(t),u=n(t);return r<l?u*c(r/l/s)*l*s:(e=(1+s/a)*r,i=e-(e-r),i>o||i!=i?u*(1/0):u*i)}},function(t,e,i){var n=i(0),r=Math.abs;n(n.S,"Math",{hypot:function(t,e){var i,n,a=0,s=0,o=arguments.length,l=0;while(s<o)i=r(arguments[s++]),l<i?(n=l/i,a=a*n*n+1,l=i):i>0?(n=i/l,a+=n*n):a+=i;return l===1/0?1/0:l*Math.sqrt(a)}})},function(t,e,i){var n=i(0),r=Math.imul;n(n.S+n.F*i(4)((function(){return-5!=r(4294967295,5)||2!=r.length})),"Math",{imul:function(t,e){var i=65535,n=+t,r=+e,a=i&n,s=i&r;return 0|a*s+((i&n>>>16)*s+a*(i&r>>>16)<<16>>>0)}})},function(t,e,i){var n=i(0);n(n.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,i){var n=i(0);n(n.S,"Math",{log1p:i(178)})},function(t,e,i){var n=i(0);n(n.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,i){var n=i(0);n(n.S,"Math",{sign:i(122)})},function(t,e,i){var n=i(0),r=i(123),a=Math.exp;n(n.S+n.F*i(4)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(r(t)-r(-t))/2:(a(t-1)-a(-t-1))*(Math.E/2)}})},function(t,e,i){var n=i(0),r=i(123),a=Math.exp;n(n.S,"Math",{tanh:function(t){var e=r(t=+t),i=r(-t);return e==1/0?1:i==1/0?-1:(e-i)/(a(t)+a(-t))}})},function(t,e,i){var n=i(0);n(n.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,e,i){var n=i(0),r=i(54),a=String.fromCharCode,s=String.fromCodePoint;n(n.S+n.F*(!!s&&1!=s.length),"String",{fromCodePoint:function(t){var e,i=[],n=arguments.length,s=0;while(n>s){if(e=+arguments[s++],r(e,1114111)!==e)throw RangeError(e+" is not a valid code point");i.push(e<65536?a(e):a(55296+((e-=65536)>>10),e%1024+56320))}return i.join("")}})},function(t,e,i){var n=i(0),r=i(23),a=i(10);n(n.S,"String",{raw:function(t){var e=r(t.raw),i=a(e.length),n=arguments.length,s=[],o=0;while(i>o)s.push(String(e[o++])),o<n&&s.push(String(arguments[o]));return s.join("")}})},function(t,e,i){"use strict";i(63)("trim",(function(t){return function(){return t(this,3)}}))},function(t,e,i){"use strict";var n=i(124)(!0);i(125)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,i=this._i;return i>=e.length?{value:void 0,done:!0}:(t=n(e,i),this._i+=t.length,{value:t,done:!1})}))},function(t,e,i){"use strict";var n=i(0),r=i(124)(!1);n(n.P,"String",{codePointAt:function(t){return r(this,t)}})},function(t,e,i){"use strict";var n=i(0),r=i(10),a=i(126),s="endsWith",o=""[s];n(n.P+n.F*i(128)(s),"String",{endsWith:function(t){var e=a(this,t,s),i=arguments.length>1?arguments[1]:void 0,n=r(e.length),l=void 0===i?n:Math.min(r(i),n),c=String(t);return o?o.call(e,c,l):e.slice(l-c.length,l)===c}})},function(t,e,i){"use strict";var n=i(0),r=i(126),a="includes";n(n.P+n.F*i(128)(a),"String",{includes:function(t){return!!~r(this,t,a).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,i){var n=i(0);n(n.P,"String",{repeat:i(121)})},function(t,e,i){"use strict";var n=i(0),r=i(10),a=i(126),s="startsWith",o=""[s];n(n.P+n.F*i(128)(s),"String",{startsWith:function(t){var e=a(this,t,s),i=r(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),n=String(t);return o?o.call(e,n,i):e.slice(i,i+n.length)===n}})},function(t,e,i){"use strict";i(19)("anchor",(function(t){return function(e){return t(this,"a","name",e)}}))},function(t,e,i){"use strict";i(19)("big",(function(t){return function(){return t(this,"big","","")}}))},function(t,e,i){"use strict";i(19)("blink",(function(t){return function(){return t(this,"blink","","")}}))},function(t,e,i){"use strict";i(19)("bold",(function(t){return function(){return t(this,"b","","")}}))},function(t,e,i){"use strict";i(19)("fixed",(function(t){return function(){return t(this,"tt","","")}}))},function(t,e,i){"use strict";i(19)("fontcolor",(function(t){return function(e){return t(this,"font","color",e)}}))},function(t,e,i){"use strict";i(19)("fontsize",(function(t){return function(e){return t(this,"font","size",e)}}))},function(t,e,i){"use strict";i(19)("italics",(function(t){return function(){return t(this,"i","","")}}))},function(t,e,i){"use strict";i(19)("link",(function(t){return function(e){return t(this,"a","href",e)}}))},function(t,e,i){"use strict";i(19)("small",(function(t){return function(){return t(this,"small","","")}}))},function(t,e,i){"use strict";i(19)("strike",(function(t){return function(){return t(this,"strike","","")}}))},function(t,e,i){"use strict";i(19)("sub",(function(t){return function(){return t(this,"sub","","")}}))},function(t,e,i){"use strict";i(19)("sup",(function(t){return function(){return t(this,"sup","","")}}))},function(t,e,i){var n=i(0);n(n.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,i){"use strict";var n=i(0),r=i(16),a=i(43);n(n.P+n.F*i(4)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(t){var e=r(this),i=a(e);return"number"!=typeof i||isFinite(i)?e.toISOString():null}})},function(t,e,i){var n=i(0),r=i(326);n(n.P+n.F*(Date.prototype.toISOString!==r),"Date",{toISOString:r})},function(t,e,i){"use strict";var n=i(4),r=Date.prototype.getTime,a=Date.prototype.toISOString,s=function(t){return t>9?t:"0"+t};t.exports=n((function(){return"0385-07-25T07:06:39.999Z"!=a.call(new Date(-50000000000001))}))||!n((function(){a.call(new Date(NaN))}))?function(){if(!isFinite(r.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),i=t.getUTCMilliseconds(),n=e<0?"-":e>9999?"+":"";return n+("00000"+Math.abs(e)).slice(n?-6:-4)+"-"+s(t.getUTCMonth()+1)+"-"+s(t.getUTCDate())+"T"+s(t.getUTCHours())+":"+s(t.getUTCMinutes())+":"+s(t.getUTCSeconds())+"."+(i>99?i:"0"+s(i))+"Z"}:a},function(t,e,i){var n=Date.prototype,r="Invalid Date",a="toString",s=n[a],o=n.getTime;new Date(NaN)+""!=r&&i(18)(n,a,(function(){var t=o.call(this);return t===t?s.call(this):r}))},function(t,e,i){var n=i(7)("toPrimitive"),r=Date.prototype;n in r||i(22)(r,n,i(329))},function(t,e,i){"use strict";var n=i(5),r=i(43),a="number";t.exports=function(t){if("string"!==t&&t!==a&&"default"!==t)throw TypeError("Incorrect hint");return r(n(this),t!=a)}},function(t,e,i){var n=i(0);n(n.S,"Array",{isArray:i(91)})},function(t,e,i){"use strict";var n=i(26),r=i(0),a=i(16),s=i(180),o=i(129),l=i(10),c=i(130),u=i(131);r(r.S+r.F*!i(92)((function(t){Array.from(t)})),"Array",{from:function(t){var e,i,r,d,h=a(t),f="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,v=void 0!==m,g=0,y=u(h);if(v&&(m=n(m,p>2?arguments[2]:void 0,2)),void 0==y||f==Array&&o(y))for(e=l(h.length),i=new f(e);e>g;g++)c(i,g,v?m(h[g],g):h[g]);else for(d=y.call(h),i=new f;!(r=d.next()).done;g++)c(i,g,v?s(d,m,[r.value,g],!0):r.value);return i.length=g,i}})},function(t,e,i){"use strict";var n=i(0),r=i(130);n(n.S+n.F*i(4)((function(){function t(){}return!(Array.of.call(t)instanceof t)})),"Array",{of:function(){var t=0,e=arguments.length,i=new("function"==typeof this?this:Array)(e);while(e>t)r(i,t,arguments[t++]);return i.length=e,i}})},function(t,e,i){"use strict";var n=i(0),r=i(23),a=[].join;n(n.P+n.F*(i(77)!=Object||!i(25)(a)),"Array",{join:function(t){return a.call(r(this),void 0===t?",":t)}})},function(t,e,i){"use strict";var n=i(0),r=i(117),a=i(36),s=i(54),o=i(10),l=[].slice;n(n.P+n.F*i(4)((function(){r&&l.call(r)})),"Array",{slice:function(t,e){var i=o(this.length),n=a(this);if(e=void 0===e?i:e,"Array"==n)return l.call(this,t,e);for(var r=s(t,i),c=s(e,i),u=o(c-r),d=new Array(u),h=0;h<u;h++)d[h]="String"==n?this.charAt(r+h):this[r+h];return d}})},function(t,e,i){"use strict";var n=i(0),r=i(27),a=i(16),s=i(4),o=[].sort,l=[1,2,3];n(n.P+n.F*(s((function(){l.sort(void 0)}))||!s((function(){l.sort(null)}))||!i(25)(o)),"Array",{sort:function(t){return void 0===t?o.call(a(this)):o.call(a(this),r(t))}})},function(t,e,i){"use strict";var n=i(0),r=i(31)(0),a=i(25)([].forEach,!0);n(n.P+n.F*!a,"Array",{forEach:function(t){return r(this,t,arguments[1])}})},function(t,e,i){var n=i(6),r=i(91),a=i(7)("species");t.exports=function(t){var e;return r(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!r(e.prototype)||(e=void 0),n(e)&&(e=e[a],null===e&&(e=void 0))),void 0===e?Array:e}},function(t,e,i){"use strict";var n=i(0),r=i(31)(1);n(n.P+n.F*!i(25)([].map,!0),"Array",{map:function(t){return r(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(0),r=i(31)(2);n(n.P+n.F*!i(25)([].filter,!0),"Array",{filter:function(t){return r(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(0),r=i(31)(3);n(n.P+n.F*!i(25)([].some,!0),"Array",{some:function(t){return r(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(0),r=i(31)(4);n(n.P+n.F*!i(25)([].every,!0),"Array",{every:function(t){return r(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(0),r=i(182);n(n.P+n.F*!i(25)([].reduce,!0),"Array",{reduce:function(t){return r(this,t,arguments.length,arguments[1],!1)}})},function(t,e,i){"use strict";var n=i(0),r=i(182);n(n.P+n.F*!i(25)([].reduceRight,!0),"Array",{reduceRight:function(t){return r(this,t,arguments.length,arguments[1],!0)}})},function(t,e,i){"use strict";var n=i(0),r=i(89)(!1),a=[].indexOf,s=!!a&&1/[1].indexOf(1,-0)<0;n(n.P+n.F*(s||!i(25)(a)),"Array",{indexOf:function(t){return s?a.apply(this,arguments)||0:r(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(0),r=i(23),a=i(28),s=i(10),o=[].lastIndexOf,l=!!o&&1/[1].lastIndexOf(1,-0)<0;n(n.P+n.F*(l||!i(25)(o)),"Array",{lastIndexOf:function(t){if(l)return o.apply(this,arguments)||0;var e=r(this),i=s(e.length),n=i-1;for(arguments.length>1&&(n=Math.min(n,a(arguments[1]))),n<0&&(n=i+n);n>=0;n--)if(n in e&&e[n]===t)return n||0;return-1}})},function(t,e,i){var n=i(0);n(n.P,"Array",{copyWithin:i(183)}),i(58)("copyWithin")},function(t,e,i){var n=i(0);n(n.P,"Array",{fill:i(132)}),i(58)("fill")},function(t,e,i){"use strict";var n=i(0),r=i(31)(5),a="find",s=!0;a in[]&&Array(1)[a]((function(){s=!1})),n(n.P+n.F*s,"Array",{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),i(58)(a)},function(t,e,i){"use strict";var n=i(0),r=i(31)(6),a="findIndex",s=!0;a in[]&&Array(1)[a]((function(){s=!1})),n(n.P+n.F*s,"Array",{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),i(58)(a)},function(t,e,i){i(65)("Array")},function(t,e,i){var n=i(3),r=i(120),a=i(13).f,s=i(56).f,o=i(127),l=i(93),c=n.RegExp,u=c,d=c.prototype,h=/a/g,f=/a/g,p=new c(h)!==h;if(i(12)&&(!p||i(4)((function(){return f[i(7)("match")]=!1,c(h)!=h||c(f)==f||"/a/i"!=c(h,"i")})))){c=function(t,e){var i=this instanceof c,n=o(t),a=void 0===e;return!i&&n&&t.constructor===c&&a?t:r(p?new u(n&&!a?t.source:t,e):u((n=t instanceof c)?t.source:t,n&&a?l.call(t):e),i?this:d,c)};for(var m=function(t){t in c||a(c,t,{configurable:!0,get:function(){return u[t]},set:function(e){u[t]=e}})},v=s(u),g=0;v.length>g;)m(v[g++]);d.constructor=c,c.prototype=d,i(18)(n,"RegExp",c)}i(65)("RegExp")},function(t,e,i){"use strict";i(186);var n=i(5),r=i(93),a=i(12),s="toString",o=/./[s],l=function(t){i(18)(RegExp.prototype,s,t,!0)};i(4)((function(){return"/a/b"!=o.call({source:"a",flags:"b"})}))?l((function(){var t=n(this);return"/".concat(t.source,"/","flags"in t?t.flags:!a&&t instanceof RegExp?r.call(t):void 0)})):o.name!=s&&l((function(){return o.call(this)}))},function(t,e,i){"use strict";var n=i(5),r=i(10),a=i(135),s=i(94);i(95)("match",1,(function(t,e,i,o){return[function(i){var n=t(this),r=void 0==i?void 0:i[e];return void 0!==r?r.call(i,n):new RegExp(i)[e](String(n))},function(t){var e=o(i,t,this);if(e.done)return e.value;var l=n(t),c=String(this);if(!l.global)return s(l,c);var u=l.unicode;l.lastIndex=0;var d,h=[],f=0;while(null!==(d=s(l,c))){var p=String(d[0]);h[f]=p,""===p&&(l.lastIndex=a(c,r(l.lastIndex),u)),f++}return 0===f?null:h}]}))},function(t,e,i){"use strict";var n=i(5),r=i(16),a=i(10),s=i(28),o=i(135),l=i(94),c=Math.max,u=Math.min,d=Math.floor,h=/\$([$&`']|\d\d?|<[^>]*>)/g,f=/\$([$&`']|\d\d?)/g,p=function(t){return void 0===t?t:String(t)};i(95)("replace",2,(function(t,e,i,m){return[function(n,r){var a=t(this),s=void 0==n?void 0:n[e];return void 0!==s?s.call(n,a,r):i.call(String(a),n,r)},function(t,e){var r=m(i,t,this,e);if(r.done)return r.value;var d=n(t),h=String(this),f="function"===typeof e;f||(e=String(e));var g=d.global;if(g){var y=d.unicode;d.lastIndex=0}var _=[];while(1){var b=l(d,h);if(null===b)break;if(_.push(b),!g)break;var T=String(b[0]);""===T&&(d.lastIndex=o(h,a(d.lastIndex),y))}for(var S="",w=0,C=0;C<_.length;C++){b=_[C];for(var k=String(b[0]),x=c(u(s(b.index),h.length),0),E=[],P=1;P<b.length;P++)E.push(p(b[P]));var O=b.groups;if(f){var I=[k].concat(E,x,h);void 0!==O&&I.push(O);var L=String(e.apply(void 0,I))}else L=v(k,h,x,E,O,e);x>=w&&(S+=h.slice(w,x)+L,w=x+k.length)}return S+h.slice(w)}];function v(t,e,n,a,s,o){var l=n+t.length,c=a.length,u=f;return void 0!==s&&(s=r(s),u=h),i.call(o,u,(function(i,r){var o;switch(r.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(l);case"<":o=s[r.slice(1,-1)];break;default:var u=+r;if(0===u)return i;if(u>c){var h=d(u/10);return 0===h?i:h<=c?void 0===a[h-1]?r.charAt(1):a[h-1]+r.charAt(1):i}o=a[u-1]}return void 0===o?"":o}))}}))},function(t,e,i){"use strict";var n=i(5),r=i(171),a=i(94);i(95)("search",1,(function(t,e,i,s){return[function(i){var n=t(this),r=void 0==i?void 0:i[e];return void 0!==r?r.call(i,n):new RegExp(i)[e](String(n))},function(t){var e=s(i,t,this);if(e.done)return e.value;var o=n(t),l=String(this),c=o.lastIndex;r(c,0)||(o.lastIndex=0);var u=a(o,l);return r(o.lastIndex,c)||(o.lastIndex=c),null===u?-1:u.index}]}))},function(t,e,i){"use strict";var n=i(127),r=i(5),a=i(80),s=i(135),o=i(10),l=i(94),c=i(134),u=i(4),d=Math.min,h=[].push,f="split",p="length",m="lastIndex",v=4294967295,g=!u((function(){RegExp(v,"y")}));i(95)("split",2,(function(t,e,i,u){var y;return y="c"=="abbc"[f](/(b)*/)[1]||4!="test"[f](/(?:)/,-1)[p]||2!="ab"[f](/(?:ab)*/)[p]||4!="."[f](/(.?)(.?)/)[p]||"."[f](/()()/)[p]>1||""[f](/.?/)[p]?function(t,e){var r=String(this);if(void 0===t&&0===e)return[];if(!n(t))return i.call(r,t,e);var a,s,o,l=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,f=void 0===e?v:e>>>0,g=new RegExp(t.source,u+"g");while(a=c.call(g,r)){if(s=g[m],s>d&&(l.push(r.slice(d,a.index)),a[p]>1&&a.index<r[p]&&h.apply(l,a.slice(1)),o=a[0][p],d=s,l[p]>=f))break;g[m]===a.index&&g[m]++}return d===r[p]?!o&&g.test("")||l.push(""):l.push(r.slice(d)),l[p]>f?l.slice(0,f):l}:"0"[f](void 0,0)[p]?function(t,e){return void 0===t&&0===e?[]:i.call(this,t,e)}:i,[function(i,n){var r=t(this),a=void 0==i?void 0:i[e];return void 0!==a?a.call(i,r,n):y.call(String(r),i,n)},function(t,e){var n=u(y,t,this,e,y!==i);if(n.done)return n.value;var c=r(t),h=String(this),f=a(c,RegExp),p=c.unicode,m=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(g?"y":"g"),_=new f(g?c:"^(?:"+c.source+")",m),b=void 0===e?v:e>>>0;if(0===b)return[];if(0===h.length)return null===l(_,h)?[h]:[];var T=0,S=0,w=[];while(S<h.length){_.lastIndex=g?S:0;var C,k=l(_,g?h:h.slice(S));if(null===k||(C=d(o(_.lastIndex+(g?0:S)),h.length))===T)S=s(h,S,p);else{if(w.push(h.slice(T,S)),w.length===b)return w;for(var x=1;x<=k.length-1;x++)if(w.push(k[x]),w.length===b)return w;S=T=C}}return w.push(h.slice(T)),w}]}))},function(t,e,i){var n=i(3),r=i(136).set,a=n.MutationObserver||n.WebKitMutationObserver,s=n.process,o=n.Promise,l="process"==i(36)(s);t.exports=function(){var t,e,i,c=function(){var n,r;l&&(n=s.domain)&&n.exit();while(t){r=t.fn,t=t.next;try{r()}catch(a){throw t?i():e=void 0,a}}e=void 0,n&&n.enter()};if(l)i=function(){s.nextTick(c)};else if(!a||n.navigator&&n.navigator.standalone)if(o&&o.resolve){var u=o.resolve(void 0);i=function(){u.then(c)}}else i=function(){r.call(n,c)};else{var d=!0,h=document.createTextNode("");new a(c).observe(h,{characterData:!0}),i=function(){h.data=d=!d}}return function(n){var r={fn:n,next:void 0};e&&(e.next=r),t||(t=r,i()),e=r}}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(e){return{e:!0,v:e}}}},function(t,e,i){"use strict";var n=i(190),r=i(59),a="Map";t.exports=i(98)(a,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(t){var e=n.getEntry(r(this,a),t);return e&&e.v},set:function(t,e){return n.def(r(this,a),0===t?0:t,e)}},n,!0)},function(t,e,i){"use strict";var n=i(190),r=i(59),a="Set";t.exports=i(98)(a,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return n.def(r(this,a),t=0===t?0:t,t)}},n)},function(t,e,i){"use strict";var n,r=i(3),a=i(31)(0),s=i(18),o=i(44),l=i(170),c=i(191),u=i(6),d=i(59),h=i(59),f=!r.ActiveXObject&&"ActiveXObject"in r,p="WeakMap",m=o.getWeak,v=Object.isExtensible,g=c.ufstore,y=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},_={get:function(t){if(u(t)){var e=m(t);return!0===e?g(d(this,p)).get(t):e?e[this._i]:void 0}},set:function(t,e){return c.def(d(this,p),t,e)}},b=t.exports=i(98)(p,y,_,c,!0,!0);h&&f&&(n=c.getConstructor(y,p),l(n.prototype,_),o.NEED=!0,a(["delete","has","get","set"],(function(t){var e=b.prototype,i=e[t];s(e,t,(function(e,r){if(u(e)&&!v(e)){this._f||(this._f=new n);var a=this._f[t](e,r);return"set"==t?this:a}return i.call(this,e,r)}))})))},function(t,e,i){"use strict";var n=i(191),r=i(59),a="WeakSet";i(98)(a,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return n.def(r(this,a),t,!0)}},n,!1,!0)},function(t,e,i){"use strict";var n=i(0),r=i(99),a=i(137),s=i(5),o=i(54),l=i(10),c=i(6),u=i(3).ArrayBuffer,d=i(80),h=a.ArrayBuffer,f=a.DataView,p=r.ABV&&u.isView,m=h.prototype.slice,v=r.VIEW,g="ArrayBuffer";n(n.G+n.W+n.F*(u!==h),{ArrayBuffer:h}),n(n.S+n.F*!r.CONSTR,g,{isView:function(t){return p&&p(t)||c(t)&&v in t}}),n(n.P+n.U+n.F*i(4)((function(){return!new h(2).slice(1,void 0).byteLength})),g,{slice:function(t,e){if(void 0!==m&&void 0===e)return m.call(s(this),t);var i=s(this).byteLength,n=o(t,i),r=o(void 0===e?i:e,i),a=new(d(this,h))(l(r-n)),c=new f(this),u=new f(a),p=0;while(n<r)u.setUint8(p++,c.getUint8(n++));return a}}),i(65)(g)},function(t,e,i){var n=i(0);n(n.G+n.W+n.F*!i(99).ABV,{DataView:i(137).DataView})},function(t,e,i){i(38)("Int8",1,(function(t){return function(e,i,n){return t(this,e,i,n)}}))},function(t,e,i){i(38)("Uint8",1,(function(t){return function(e,i,n){return t(this,e,i,n)}}))},function(t,e,i){i(38)("Uint8",1,(function(t){return function(e,i,n){return t(this,e,i,n)}}),!0)},function(t,e,i){i(38)("Int16",2,(function(t){return function(e,i,n){return t(this,e,i,n)}}))},function(t,e,i){i(38)("Uint16",2,(function(t){return function(e,i,n){return t(this,e,i,n)}}))},function(t,e,i){i(38)("Int32",4,(function(t){return function(e,i,n){return t(this,e,i,n)}}))},function(t,e,i){i(38)("Uint32",4,(function(t){return function(e,i,n){return t(this,e,i,n)}}))},function(t,e,i){i(38)("Float32",4,(function(t){return function(e,i,n){return t(this,e,i,n)}}))},function(t,e,i){i(38)("Float64",8,(function(t){return function(e,i,n){return t(this,e,i,n)}}))},function(t,e,i){var n=i(0),r=i(27),a=i(5),s=(i(3).Reflect||{}).apply,o=Function.apply;n(n.S+n.F*!i(4)((function(){s((function(){}))})),"Reflect",{apply:function(t,e,i){var n=r(t),l=a(i);return s?s(n,e,l):o.call(n,e,l)}})},function(t,e,i){var n=i(0),r=i(55),a=i(27),s=i(5),o=i(6),l=i(4),c=i(172),u=(i(3).Reflect||{}).construct,d=l((function(){function t(){}return!(u((function(){}),[],t)instanceof t)})),h=!l((function(){u((function(){}))}));n(n.S+n.F*(d||h),"Reflect",{construct:function(t,e){a(t),s(e);var i=arguments.length<3?t:a(arguments[2]);if(h&&!d)return u(t,e,i);if(t==i){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return n.push.apply(n,e),new(c.apply(t,n))}var l=i.prototype,f=r(o(l)?l:Object.prototype),p=Function.apply.call(t,f,e);return o(p)?p:f}})},function(t,e,i){var n=i(13),r=i(0),a=i(5),s=i(43);r(r.S+r.F*i(4)((function(){Reflect.defineProperty(n.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(t,e,i){a(t),e=s(e,!0),a(i);try{return n.f(t,e,i),!0}catch(r){return!1}}})},function(t,e,i){var n=i(0),r=i(29).f,a=i(5);n(n.S,"Reflect",{deleteProperty:function(t,e){var i=r(a(t),e);return!(i&&!i.configurable)&&delete t[e]}})},function(t,e,i){"use strict";var n=i(0),r=i(5),a=function(t){this._t=r(t),this._i=0;var e,i=this._k=[];for(e in t)i.push(e)};i(179)(a,"Object",(function(){var t,e=this,i=e._k;do{if(e._i>=i.length)return{value:void 0,done:!0}}while(!((t=i[e._i++])in e._t));return{value:t,done:!1}})),n(n.S,"Reflect",{enumerate:function(t){return new a(t)}})},function(t,e,i){var n=i(29),r=i(57),a=i(21),s=i(0),o=i(6),l=i(5);function c(t,e){var i,s,u=arguments.length<3?t:arguments[2];return l(t)===u?t[e]:(i=n.f(t,e))?a(i,"value")?i.value:void 0!==i.get?i.get.call(u):void 0:o(s=r(t))?c(s,e,u):void 0}s(s.S,"Reflect",{get:c})},function(t,e,i){var n=i(29),r=i(0),a=i(5);r(r.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return n.f(a(t),e)}})},function(t,e,i){var n=i(0),r=i(57),a=i(5);n(n.S,"Reflect",{getPrototypeOf:function(t){return r(a(t))}})},function(t,e,i){var n=i(0);n(n.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,i){var n=i(0),r=i(5),a=Object.isExtensible;n(n.S,"Reflect",{isExtensible:function(t){return r(t),!a||a(t)}})},function(t,e,i){var n=i(0);n(n.S,"Reflect",{ownKeys:i(193)})},function(t,e,i){var n=i(0),r=i(5),a=Object.preventExtensions;n(n.S,"Reflect",{preventExtensions:function(t){r(t);try{return a&&a(t),!0}catch(e){return!1}}})},function(t,e,i){var n=i(13),r=i(29),a=i(57),s=i(21),o=i(0),l=i(50),c=i(5),u=i(6);function d(t,e,i){var o,h,f=arguments.length<4?t:arguments[3],p=r.f(c(t),e);if(!p){if(u(h=a(t)))return d(h,e,i,f);p=l(0)}if(s(p,"value")){if(!1===p.writable||!u(f))return!1;if(o=r.f(f,e)){if(o.get||o.set||!1===o.writable)return!1;o.value=i,n.f(f,e,o)}else n.f(f,e,l(0,i));return!0}return void 0!==p.set&&(p.set.call(f,i),!0)}o(o.S,"Reflect",{set:d})},function(t,e,i){var n=i(0),r=i(118);r&&n(n.S,"Reflect",{setPrototypeOf:function(t,e){r.check(t,e);try{return r.set(t,e),!0}catch(i){return!1}}})},function(t,e,i){i(389),t.exports=i(11).Array.includes},function(t,e,i){"use strict";var n=i(0),r=i(89)(!0);n(n.P,"Array",{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),i(58)("includes")},function(t,e,i){i(391),t.exports=i(11).Array.flatMap},function(t,e,i){"use strict";var n=i(0),r=i(392),a=i(16),s=i(10),o=i(27),l=i(181);n(n.P,"Array",{flatMap:function(t){var e,i,n=a(this);return o(t),e=s(n.length),i=l(n,0),r(i,n,n,e,0,1,t,arguments[1]),i}}),i(58)("flatMap")},function(t,e,i){"use strict";var n=i(91),r=i(6),a=i(10),s=i(26),o=i(7)("isConcatSpreadable");function l(t,e,i,c,u,d,h,f){var p,m,v=u,g=0,y=!!h&&s(h,f,3);while(g<c){if(g in i){if(p=y?y(i[g],g,e):i[g],m=!1,r(p)&&(m=p[o],m=void 0!==m?!!m:n(p)),m&&d>0)v=l(t,e,p,a(p.length),v,d-1)-1;else{if(v>=9007199254740991)throw TypeError();t[v]=p}v++}g++}return v}t.exports=l},function(t,e,i){i(394),t.exports=i(11).String.padStart},function(t,e,i){"use strict";var n=i(0),r=i(194),a=i(97),s=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a);n(n.P+n.F*s,"String",{padStart:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,e,i){i(396),t.exports=i(11).String.padEnd},function(t,e,i){"use strict";var n=i(0),r=i(194),a=i(97),s=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a);n(n.P+n.F*s,"String",{padEnd:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,e,i){i(398),t.exports=i(11).String.trimLeft},function(t,e,i){"use strict";i(63)("trimLeft",(function(t){return function(){return t(this,1)}}),"trimStart")},function(t,e,i){i(400),t.exports=i(11).String.trimRight},function(t,e,i){"use strict";i(63)("trimRight",(function(t){return function(){return t(this,2)}}),"trimEnd")},function(t,e,i){i(402),t.exports=i(114).f("asyncIterator")},function(t,e,i){i(166)("asyncIterator")},function(t,e,i){i(404),t.exports=i(11).Object.getOwnPropertyDescriptors},function(t,e,i){var n=i(0),r=i(193),a=i(23),s=i(29),o=i(130);n(n.S,"Object",{getOwnPropertyDescriptors:function(t){var e,i,n=a(t),l=s.f,c=r(n),u={},d=0;while(c.length>d)i=l(n,e=c[d++]),void 0!==i&&o(u,e,i);return u}})},function(t,e,i){i(406),t.exports=i(11).Object.values},function(t,e,i){var n=i(0),r=i(195)(!1);n(n.S,"Object",{values:function(t){return r(t)}})},function(t,e,i){i(408),t.exports=i(11).Object.entries},function(t,e,i){var n=i(0),r=i(195)(!0);n(n.S,"Object",{entries:function(t){return r(t)}})},function(t,e,i){"use strict";i(187),i(410),t.exports=i(11).Promise["finally"]},function(t,e,i){"use strict";var n=i(0),r=i(11),a=i(3),s=i(80),o=i(189);n(n.P+n.R,"Promise",{finally:function(t){var e=s(this,r.Promise||a.Promise),i="function"==typeof t;return this.then(i?function(i){return o(e,t()).then((function(){return i}))}:t,i?function(i){return o(e,t()).then((function(){throw i}))}:t)}})},function(t,e,i){i(412),i(413),i(414),t.exports=i(11)},function(t,e,i){var n=i(3),r=i(0),a=i(97),s=[].slice,o=/MSIE .\./.test(a),l=function(t){return function(e,i){var n=arguments.length>2,r=!!n&&s.call(arguments,2);return t(n?function(){("function"==typeof e?e:Function(e)).apply(this,r)}:e,i)}};r(r.G+r.B+r.F*o,{setTimeout:l(n.setTimeout),setInterval:l(n.setInterval)})},function(t,e,i){var n=i(0),r=i(136);n(n.G+n.B,{setImmediate:r.set,clearImmediate:r.clear})},function(t,e,i){for(var n=i(133),r=i(53),a=i(18),s=i(3),o=i(22),l=i(64),c=i(7),u=c("iterator"),d=c("toStringTag"),h=l.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=r(f),m=0;m<p.length;m++){var v,g=p[m],y=f[g],_=s[g],b=_&&_.prototype;if(b&&(b[u]||o(b,u,h),b[d]||o(b,d,g),l[g]=h,y))for(v in n)b[v]||a(b,v,n[v],!0)}},function(t,e,i){var n=function(t){"use strict";var e,i=Object.prototype,n=i.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function l(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(A){l=function(t,e,i){return t[e]=i}}function c(t,e,i,n){var r=e&&e.prototype instanceof v?e:v,a=Object.create(r.prototype),s=new O(n||[]);return a._invoke=k(t,i,s),a}function u(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(A){return{type:"throw",arg:A}}}t.wrap=c;var d="suspendedStart",h="suspendedYield",f="executing",p="completed",m={};function v(){}function g(){}function y(){}var _={};_[a]=function(){return this};var b=Object.getPrototypeOf,T=b&&b(b(I([])));T&&T!==i&&n.call(T,a)&&(_=T);var S=y.prototype=v.prototype=Object.create(_);function w(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function i(r,a,s,o){var l=u(t[r],t,a);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"===typeof d&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){i("next",t,s,o)}),(function(t){i("throw",t,s,o)})):e.resolve(d).then((function(t){c.value=t,s(c)}),(function(t){return i("throw",t,s,o)}))}o(l.arg)}var r;function a(t,n){function a(){return new e((function(e,r){i(t,n,e,r)}))}return r=r?r.then(a,a):a()}this._invoke=a}function k(t,e,i){var n=d;return function(r,a){if(n===f)throw new Error("Generator is already running");if(n===p){if("throw"===r)throw a;return L()}i.method=r,i.arg=a;while(1){var s=i.delegate;if(s){var o=x(s,i);if(o){if(o===m)continue;return o}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(n===d)throw n=p,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n=f;var l=u(t,e,i);if("normal"===l.type){if(n=i.done?p:h,l.arg===m)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(n=p,i.method="throw",i.arg=l.arg)}}}function x(t,i){var n=t.iterator[i.method];if(n===e){if(i.delegate=null,"throw"===i.method){if(t.iterator["return"]&&(i.method="return",i.arg=e,x(t,i),"throw"===i.method))return m;i.method="throw",i.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var r=u(n,t.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,m;var a=r.arg;return a?a.done?(i[t.resultName]=a.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=e),i.delegate=null,m):a:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,m)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function I(t){if(t){var i=t[a];if(i)return i.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var r=-1,s=function i(){while(++r<t.length)if(n.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=e,i.done=!0,i};return s.next=s}}return{next:L}}function L(){return{value:e,done:!0}}return g.prototype=S.constructor=y,y.constructor=g,g.displayName=l(y,o,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,o,"GeneratorFunction")),t.prototype=Object.create(S),t},t.awrap=function(t){return{__await:t}},w(C.prototype),C.prototype[s]=function(){return this},t.AsyncIterator=C,t.async=function(e,i,n,r,a){void 0===a&&(a=Promise);var s=new C(c(e,i,n,r),a);return t.isGeneratorFunction(i)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},w(S),l(S,o,"Generator"),S[a]=function(){return this},S.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function i(){while(e.length){var n=e.pop();if(n in t)return i.value=n,i.done=!1,i}return i.done=!0,i}},t.values=I,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function r(n,r){return o.type="throw",o.arg=t,i.next=n,r&&(i.method="next",i.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],o=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var l=n.call(s,"catchLoc"),c=n.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=e,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),P(i),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var r=n.arg;P(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,i,n){return this.delegate={iterator:I(t),resultName:i,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}(t.exports);try{regeneratorRuntime=n}catch(r){Function("r","regeneratorRuntime = r")(n)}},function(t,e,i){var n=i(15),r=i(198),a=n.WeakMap;t.exports="function"===typeof a&&/native code/.test(r(a))},function(t,e,i){"use strict";var n=i(138),r=i(221);t.exports=n?{}.toString:function(){return"[object "+r(this)+"]"}},function(t,e,i){var n=i(105),r=i(156),a=i(222),s=i(39);t.exports=n("Reflect","ownKeys")||function(t){var e=r.f(s(t)),i=a.f;return i?e.concat(i(t)):e}},function(t,e,i){"use strict";var n=i(39);t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,i){var n=i(105);t.exports=n("document","documentElement")},function(t,e,i){"use strict";i(34);var n=i(71),r=i(151),a=i(17),s=i(20),o=i(47),l=s("species"),c=RegExp.prototype;t.exports=function(t,e,i,u){var d=s(t),h=!a((function(){var e={};return e[d]=function(){return 7},7!=""[t](e)})),f=h&&!a((function(){var e=!1,i=/a/;return"split"===t&&(i={},i.constructor={},i.constructor[l]=function(){return i},i.flags="",i[d]=/./[d]),i.exec=function(){return e=!0,null},i[d](""),!e}));if(!h||!f||i){var p=/./[d],m=e(d,""[t],(function(t,e,i,n,a){var s=e.exec;return s===r||s===c.exec?h&&!a?{done:!0,value:p.call(e,i,n)}:{done:!0,value:t.call(i,e,n)}:{done:!1}}));n(String.prototype,t,m[0]),n(c,d,m[1])}u&&o(c[d],"sham",!0)}},function(t,e,i){"use strict";var n=i(423).charAt;t.exports=function(t,e,i){return e+(i?n(t,e).length:1)}},function(t,e,i){var n=i(82),r=i(68),a=function(t){return function(e,i){var a,s,o=String(r(e)),l=n(i),c=o.length;return l<0||l>=c?t?"":void 0:(a=o.charCodeAt(l),a<55296||a>56319||l+1===c||(s=o.charCodeAt(l+1))<56320||s>57343?t?o.charAt(l):a:t?o.slice(l,l+2):s-56320+(a-55296<<10)+65536)}};t.exports={codeAt:a(!1),charAt:a(!0)}},function(t,e,i){var n=i(69),r=i(151);t.exports=function(t,e){var i=t.exec;if("function"===typeof i){var a=i.call(t,e);if("object"!==typeof a)throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==n(t))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},function(t,e,i){var n=i(426),r=i(150),a=i(81),s=i(74),o=i(210),l=[].push,c=function(t){var e=1==t,i=2==t,c=3==t,u=4==t,d=6==t,h=7==t,f=5==t||d;return function(p,m,v,g){for(var y,_,b=a(p),T=r(b),S=n(m,v,3),w=s(T.length),C=0,k=g||o,x=e?k(p,w):i||h?k(p,0):void 0;w>C;C++)if((f||C in T)&&(y=T[C],_=S(y,C,b),t))if(e)x[C]=_;else if(_)switch(t){case 3:return!0;case 5:return y;case 6:return C;case 2:l.call(x,y)}else switch(t){case 4:return!1;case 7:l.call(x,y)}return d?-1:c||u?u:x}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterOut:c(7)}},function(t,e,i){var n=i(207);t.exports=function(t,e,i){if(n(t),void 0===e)return t;switch(i){case 0:return function(){return t.call(e)};case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,i){var n=i(39),r=i(460);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,i={};try{t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,t.call(i,[]),e=i instanceof Array}catch(a){}return function(i,a){return n(i),r(a),e?t.call(i,a):i.__proto__=a,i}}():void 0)},function(t,e,i){var n=i(68),r=i(430),a="["+r+"]",s=RegExp("^"+a+a+"*"),o=RegExp(a+a+"*$"),l=function(t){return function(e){var i=String(n(e));return 1&t&&(i=i.replace(s,"")),2&t&&(i=i.replace(o,"")),i}};t.exports={start:l(1),end:l(2),trim:l(3)}},function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},,,,,,,,,,function(t,e,i){"use strict";var n=i(35),r=i(40),a=i(208),s=i(161),o=i(74),l=i(73),c=i(209),u=i(20),d=i(211),h=d("slice"),f=u("species"),p=[].slice,m=Math.max;n({target:"Array",proto:!0,forced:!h},{slice:function(t,e){var i,n,u,d=l(this),h=o(d.length),v=s(t,h),g=s(void 0===e?h:e,h);if(a(d)&&(i=d.constructor,"function"!=typeof i||i!==Array&&!a(i.prototype)?r(i)&&(i=i[f],null===i&&(i=void 0)):i=void 0,i===Array||void 0===i))return p.call(d,v,g);for(n=new(void 0===i?Array:i)(m(g-v,0)),u=0;v<g;v++,u++)v in d&&c(n,u,d[v]);return n.length=u,n}})},,function(t,e,i){var n=i(17);t.exports=n((function(){var t=RegExp(".","string".charAt(0));return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))},function(t,e,i){var n=i(17);t.exports=n((function(){var t=RegExp("(?<a>b)","string".charAt(5));return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},function(t,e,i){var n=i(40),r=i(428);t.exports=function(t,e,i){var a,s;return r&&"function"==typeof(a=e.constructor)&&a!==i&&n(s=a.prototype)&&s!==i.prototype&&r(t,s),t}},function(t,e,i){var n=i(35),r=i(512);n({global:!0,forced:parseInt!=r},{parseInt:r})},,function(t,e,i){var n=i(20),r=i(111),a=i(45),s=n("unscopables"),o=Array.prototype;void 0==o[s]&&a.f(o,s,{configurable:!0,value:r(null)}),t.exports=function(t){o[s][t]=!0}},,,,,,,,,,,function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(76),a=i(106),s=n(a),o=function(t,e){var i=0,n=e-t.mediaSequence,r=t.segments[n];if(r){if("undefined"!==typeof r.start)return{result:r.start,precise:!0};if("undefined"!==typeof r.end)return{result:r.end-r.duration,precise:!0}}while(n--){if(r=t.segments[n],"undefined"!==typeof r.end)return{result:i+r.end,precise:!0};if(i+=r.duration,"undefined"!==typeof r.start)return{result:i+r.start,precise:!0}}return{result:i,precise:!1}},l=function(t,e){for(var i=0,n=void 0,r=e-t.mediaSequence;r<t.segments.length;r++){if(n=t.segments[r],"undefined"!==typeof n.start)return{result:n.start-i,precise:!0};if(i+=n.duration,"undefined"!==typeof n.end)return{result:n.end-i,precise:!0}}return{result:-1,precise:!1}},c=function(t,e,i){var n=void 0,r=void 0;return"undefined"===typeof e&&(e=t.mediaSequence+t.segments.length),e<t.mediaSequence?0:(n=o(t,e),n.precise?n.result:(r=l(t,e),r.precise?r.result:n.result+i))},u=function(t,e,i){if(!t)return 0;if("number"!==typeof i&&(i=0),"undefined"===typeof e){if(t.totalDuration)return t.totalDuration;if(!t.endList)return s["default"].Infinity}return c(t,e,i)};e.duration=u;var d=function(t,e,i){var n=0;if(e>i){var r=[i,e];e=r[0],i=r[1]}if(e<0){for(var a=e;a<Math.min(0,i);a++)n+=t.targetDuration;e=0}for(a=e;a<i;a++)n+=t.segments[a].duration;return n};e.sumDurations=d;var h=function(t){if(!t.segments.length)return 0;var e=t.segments.length-1,i=t.segments[e].duration||t.targetDuration,n=i+2*t.targetDuration;while(e--)if(i+=t.segments[e].duration,i>=n)break;return Math.max(0,e)};e.safeLiveIndex=h;var f=function(t,e,i){if(!t||!t.segments)return null;if(t.endList)return u(t);if(null===e)return null;e=e||0;var n=i?h(t):t.segments.length;return c(t,t.mediaSequence+n,e)};e.playlistEnd=f;var p=function(t,e){var i=!0,n=e||0,a=f(t,e,i);return null===a?(0,r.createTimeRange)():(0,r.createTimeRange)(n,a)};e.seekable=p;var m=function(t){return t-Math.floor(t)===0},v=function(t,e){if(m(e))return e+.1*t;for(var i=e.toString().split(".")[1].length,n=1;n<=i;n++){var r=Math.pow(10,n),a=e*r;if(m(a)||n===i)return(a+t)/r}},g=v.bind(null,1),y=v.bind(null,-1),_=function(t,e,i,n){var r=void 0,a=void 0,s=t.segments.length,o=e-n;if(o<0){if(i>0)for(r=i-1;r>=0;r--)if(a=t.segments[r],o+=y(a.duration),o>0)return{mediaIndex:r,startTime:n-d(t,i,r)};return{mediaIndex:0,startTime:e}}if(i<0){for(r=i;r<0;r++)if(o-=t.targetDuration,o<0)return{mediaIndex:0,startTime:e};i=0}for(r=i;r<s;r++)if(a=t.segments[r],o-=g(a.duration),o<0)return{mediaIndex:r,startTime:n+d(t,i,r)};return{mediaIndex:s-1,startTime:e}};e.getMediaInfoForTime=_;var b=function(t){return t.excludeUntil&&t.excludeUntil>Date.now()};e.isBlacklisted=b;var T=function(t){return t.excludeUntil&&t.excludeUntil===1/0};e.isIncompatible=T;var S=function(t){var e=b(t);return!t.disabled&&!e};e.isEnabled=S;var w=function(t){return t.disabled};e.isDisabled=w;var C=function(t){for(var e=0;e<t.segments.length;e++)if(t.segments[e].key)return!0;return!1};e.isAes=C;var k=function(t){for(var e=0;e<t.segments.length;e++)if(t.segments[e].map)return!0;return!1};e.isFmp4=k;var x=function(t,e){return e.attributes&&e.attributes[t]};e.hasAttribute=x;var E=function(t,e,i){var n=arguments.length<=3||void 0===arguments[3]?0:arguments[3];if(!x("BANDWIDTH",i))return NaN;var r=t*i.attributes.BANDWIDTH;return(r-8*n)/e};e.estimateSegmentRequestTime=E;var P=function(t,e){if(1===t.playlists.length)return!0;var i=e.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===t.playlists.filter((function(t){return!!S(t)&&(t.attributes.BANDWIDTH||0)<i})).length};e.isLowestEnabledRendition=P,e["default"]={duration:u,seekable:p,safeLiveIndex:h,getMediaInfoForTime:_,isEnabled:S,isDisabled:w,isBlacklisted:b,isIncompatible:T,playlistEnd:f,isAes:C,isFmp4:k,hasAttribute:x,estimateSegmentRequestTime:E,isLowestEnabledRendition:P}},function(t,e,i){var n=i(39),r=i(207),a=i(20),s=a("species");t.exports=function(t,e){var i,a=n(t).constructor;return void 0===a||void 0==(i=n(a)[s])?e:r(i)}},function(t,e,i){var n=i(40);t.exports=function(t){if(!n(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e){return t.start(e)+"-"+t.end(e)},r=function(t,e){var i=t.toString(16);return"00".substring(0,2-i.length)+i+(e%2?" ":"")},a=function(t){return t>=32&&t<126?String.fromCharCode(t):"."},s=function(t){var e={};return Object.keys(t).forEach((function(i){var n=t[i];ArrayBuffer.isView(n)?e[i]={bytes:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength}:e[i]=n})),e},o=function(t){var e=t.byterange||{length:1/0,offset:0};return[e.length,e.offset,t.resolvedUri].join(",")},l={hexDump:function(t){for(var e=Array.prototype.slice.call(t),i=16,n="",s=void 0,o=void 0,l=0;l<e.length/i;l++)s=e.slice(l*i,l*i+i).map(r).join(""),o=e.slice(l*i,l*i+i).map(a).join(""),n+=s+" "+o+"\n";return n},tagDump:function(t){return l.hexDump(t.bytes)},textRanges:function(t){var e="",i=void 0;for(i=0;i<t.length;i++)e+=n(t,i)+" ";return e},createTransferableMessage:s,initSegmentId:o};e["default"]=l,t.exports=e["default"]},function(t,e,i){"use strict";t.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},function(t,e,i){"use strict";var n=i(35),r=i(82),a=i(513),s=i(514),o=i(17),l=1..toFixed,c=Math.floor,u=function(t,e,i){return 0===e?i:e%2===1?u(t,e-1,i*t):u(t*t,e/2,i)},d=function(t){var e=0,i=t;while(i>=4096)e+=12,i/=4096;while(i>=2)e+=1,i/=2;return e},h=function(t,e,i){var n=-1,r=i;while(++n<6)r+=e*t[n],t[n]=r%1e7,r=c(r/1e7)},f=function(t,e){var i=6,n=0;while(--i>=0)n+=t[i],t[i]=c(n/e),n=n%e*1e7},p=function(t){var e=6,i="";while(--e>=0)if(""!==i||0===e||0!==t[e]){var n=String(t[e]);i=""===i?n:i+s.call("0",7-n.length)+n}return i},m=l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!o((function(){l.call({})}));n({target:"Number",proto:!0,forced:m},{toFixed:function(t){var e,i,n,o,l=a(this),c=r(t),m=[0,0,0,0,0,0],v="",g="0";if(c<0||c>20)throw RangeError("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(v="-",l=-l),l>1e-21)if(e=d(l*u(2,69,1))-69,i=e<0?l*u(2,-e,1):l/u(2,e,1),i*=4503599627370496,e=52-e,e>0){h(m,0,i),n=c;while(n>=7)h(m,1e7,0),n-=7;h(m,u(10,n,1),0),n=e-1;while(n>=23)f(m,1<<23),n-=23;f(m,1<<n),h(m,1,1),f(m,2),g=p(m)}else h(m,0,i),h(m,1<<-e,0),g=p(m)+s.call("0",c);return c>0?(o=g.length,g=v+(o<=c?"0."+s.call("0",c-o)+g:g.slice(0,o-c)+"."+g.slice(o-c))):g=v+g,g}})},,,,function(t,e,i){"use strict";var n=i(35),r=i(160).includes,a=i(447);n({target:"Array",proto:!0},{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),a("includes")},function(t,e,i){"use strict";var n=i(35),r=i(518),a=i(68),s=i(519);n({target:"String",proto:!0,forced:!s("includes")},{includes:function(t){return!!~String(a(this)).indexOf(r(t),arguments.length>1?arguments[1]:void 0)}})},,,,,,,,,,,,,,,,,,,,function(t,e,i){(function(e){var n,r="undefined"!==typeof e?e:"undefined"!==typeof window?window:{},a=i(1250);"undefined"!==typeof document?n=document:(n=r["__GLOBAL_DOCUMENT_CACHE@4"],n||(n=r["__GLOBAL_DOCUMENT_CACHE@4"]=a)),t.exports=n}).call(this,i(204))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){var n=void 0,r=void 0;if(i&&i.cues){n=i.cues.length;while(n--)r=i.cues[n],r.startTime<=e&&r.endTime>=t&&i.removeCue(r)}};e["default"]=n,t.exports=e["default"]},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return/mp4a\.\d+.\d+/i.test(t)},r=function(t){return/avc1\.[\da-f]+/i.test(t)},a=function(t){var e={type:"",parameters:{}},i=t.trim().split(";");return e.type=i.shift().trim(),i.forEach((function(t){var i=t.trim().split("=");if(i.length>1){var n=i[0].replace(/"/g,"").trim(),r=i[1].replace(/"/g,"").trim();e.parameters[n]=r}})),e},s=function(t){return t.map((function(t){return t.replace(/avc1\.(\d+)\.(\d+)/i,(function(t,e,i){var n=("00"+Number(e).toString(16)).slice(-2),r=("00"+Number(i).toString(16)).slice(-2);return"avc1."+n+"00"+r}))}))};e["default"]={isAudioCodec:n,parseContentType:a,isVideoCodec:r,translateLegacyCodecs:s},t.exports=e["default"]},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,GOAL_BUFFER_LENGTH_RATE:1,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1},t.exports=e["default"]},function(t,e,i){"use strict";e["a"]=function(t){t.api.addAPI}},function(e,i){e.exports=t},function(t,e,i){var n=i(81),r=Math.floor,a="".replace,s=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,o=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,i,l,c,u){var d=i+t.length,h=l.length,f=o;return void 0!==c&&(c=n(c),f=s),a.call(u,f,(function(n,a){var s;switch(a.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,i);case"'":return e.slice(d);case"<":s=c[a.slice(1,-1)];break;default:var o=+a;if(0===o)return n;if(o>h){var u=r(o/10);return 0===u?n:u<=h?void 0===l[u-1]?a.charAt(1):l[u-1]+a.charAt(1):n}s=l[o-1]}return void 0===s?"":s}))}},function(t,e,i){var n=i(15),r=i(429).trim,a=i(430),s=n.parseInt,o=/^[+-]?0[Xx]/,l=8!==s(a+"08")||22!==s(a+"0x16");t.exports=l?function(t,e){var i=r(String(t));return s(i,e>>>0||(o.test(i)?16:10))}:s},function(t,e,i){var n=i(69);t.exports=function(t){if("number"!=typeof t&&"Number"!=n(t))throw TypeError("Incorrect invocation");return+t}},function(t,e,i){"use strict";var n=i(82),r=i(68);t.exports=function(t){var e=String(r(this)),i="",a=n(t);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(e+=e))1&a&&(i+=e);return i}},,,function(t,e,i){var n=function(t){"use strict";var e,i=Object.prototype,n=i.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function l(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(A){l=function(t,e,i){return t[e]=i}}function c(t,e,i,n){var r=e&&e.prototype instanceof v?e:v,a=Object.create(r.prototype),s=new O(n||[]);return a._invoke=k(t,i,s),a}function u(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(A){return{type:"throw",arg:A}}}t.wrap=c;var d="suspendedStart",h="suspendedYield",f="executing",p="completed",m={};function v(){}function g(){}function y(){}var _={};_[a]=function(){return this};var b=Object.getPrototypeOf,T=b&&b(b(I([])));T&&T!==i&&n.call(T,a)&&(_=T);var S=y.prototype=v.prototype=Object.create(_);function w(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function i(r,a,s,o){var l=u(t[r],t,a);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"===typeof d&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){i("next",t,s,o)}),(function(t){i("throw",t,s,o)})):e.resolve(d).then((function(t){c.value=t,s(c)}),(function(t){return i("throw",t,s,o)}))}o(l.arg)}var r;function a(t,n){function a(){return new e((function(e,r){i(t,n,e,r)}))}return r=r?r.then(a,a):a()}this._invoke=a}function k(t,e,i){var n=d;return function(r,a){if(n===f)throw new Error("Generator is already running");if(n===p){if("throw"===r)throw a;return L()}i.method=r,i.arg=a;while(1){var s=i.delegate;if(s){var o=x(s,i);if(o){if(o===m)continue;return o}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(n===d)throw n=p,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n=f;var l=u(t,e,i);if("normal"===l.type){if(n=i.done?p:h,l.arg===m)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(n=p,i.method="throw",i.arg=l.arg)}}}function x(t,i){var n=t.iterator[i.method];if(n===e){if(i.delegate=null,"throw"===i.method){if(t.iterator["return"]&&(i.method="return",i.arg=e,x(t,i),"throw"===i.method))return m;i.method="throw",i.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var r=u(n,t.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,m;var a=r.arg;return a?a.done?(i[t.resultName]=a.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=e),i.delegate=null,m):a:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,m)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function I(t){if(t){var i=t[a];if(i)return i.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var r=-1,s=function i(){while(++r<t.length)if(n.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=e,i.done=!0,i};return s.next=s}}return{next:L}}function L(){return{value:e,done:!0}}return g.prototype=S.constructor=y,y.constructor=g,g.displayName=l(y,o,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,o,"GeneratorFunction")),t.prototype=Object.create(S),t},t.awrap=function(t){return{__await:t}},w(C.prototype),C.prototype[s]=function(){return this},t.AsyncIterator=C,t.async=function(e,i,n,r,a){void 0===a&&(a=Promise);var s=new C(c(e,i,n,r),a);return t.isGeneratorFunction(i)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},w(S),l(S,o,"Generator"),S[a]=function(){return this},S.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function i(){while(e.length){var n=e.pop();if(n in t)return i.value=n,i.done=!1,i}return i.done=!0,i}},t.values=I,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function r(n,r){return o.type="throw",o.arg=t,i.next=n,r&&(i.method="next",i.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],o=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var l=n.call(s,"catchLoc"),c=n.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=e,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),P(i),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var r=n.arg;P(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,i,n){return this.delegate={iterator:I(t),resultName:i,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}(t.exports);try{regeneratorRuntime=n}catch(r){Function("r","regeneratorRuntime = r")(n)}},function(t,e,i){var n=i(234);t.exports=function(t){if(n(t))throw TypeError("The method doesn't accept regular expressions");return t}},function(t,e,i){var n=i(20),r=n("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[r]=!1,"/./"[t](e)}catch(n){}}return!1}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){var n=i(555);"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var r=i(9).default;r("5519996d",n,!1,{sourceMap:!1,shadowMode:!1})},function(t,e,i){"use strict";i.r(e)},,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t,e,i){var n=!0;while(n){var r=t,a=e,s=i;n=!1,null===r&&(r=Function.prototype);var o=Object.getOwnPropertyDescriptor(r,a);if(void 0!==o){if("value"in o)return o.value;var l=o.get;if(void 0===l)return;return l.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=a,i=s,n=!0,o=c=void 0}};function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var l=i(1251),c=a(l),u=i(76),d=i(725),h=a(d),f=i(106),p=a(f),m=function(t,e,i){var n=e.slice();i=i||0;for(var r=Math.min(t.length,e.length+i),a=i;a<r;a++)n[a-i]=(0,u.mergeOptions)(t[a],n[a-i]);return n};e.updateSegments=m;var v=function(t,e){t.resolvedUri||(t.resolvedUri=(0,c["default"])(e,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=(0,c["default"])(e,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=(0,c["default"])(e,t.map.uri))};e.resolveSegmentUris=v;var g=function(t,e){var i=(0,u.mergeOptions)(t,{}),n=i.playlists.filter((function(t){return t.uri===e.uri}))[0];if(!n)return null;if(n.segments&&e.segments&&n.segments.length===e.segments.length&&n.mediaSequence===e.mediaSequence)return null;var r=(0,u.mergeOptions)(n,e);n.segments&&(r.segments=m(n.segments,e.segments,e.mediaSequence-n.mediaSequence)),r.segments.forEach((function(t){v(t,r.resolvedUri)}));for(var a=0;a<i.playlists.length;a++)i.playlists[a].uri===e.uri&&(i.playlists[a]=r);return i.playlists[e.uri]=r,i};e.updateMaster=g;var y=function(t){var e=t.playlists.length;while(e--){var i=t.playlists[e];t.playlists[i.uri]=i,i.resolvedUri=(0,c["default"])(t.uri,i.uri),i.attributes||(i.attributes={},u.log.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute."))}};e.setupMediaPlaylists=y;var _=function(t){["AUDIO","SUBTITLES"].forEach((function(e){for(var i in t.mediaGroups[e])for(var n in t.mediaGroups[e][i]){var r=t.mediaGroups[e][i][n];r.uri&&(r.resolvedUri=(0,c["default"])(t.uri,r.uri))}}))};e.resolveMediaGroupUris=_;var b=function(t,e){var i=t.segments[t.segments.length-1],n=void 0;return n=e&&i&&i.duration?1e3*i.duration:500*(t.targetDuration||10),n};e.refreshDelay=b;var T=function(t){function e(t,i,n){var a=this;if(s(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),n=n||{},this.srcUrl=t,this.hls_=i,this.withCredentials=!!n.withCredentials,this.handleManifestRedirects=!!n.handleManifestRedirects,!this.srcUrl)throw new Error("A non-empty playlist URL is required");this.state="HAVE_NOTHING",this.on("mediaupdatetimeout",(function(){"HAVE_METADATA"===a.state&&(a.state="HAVE_CURRENT_METADATA",a.request=a.hls_.xhr({uri:(0,c["default"])(a.master.uri,a.media().uri),withCredentials:a.withCredentials},(function(t,e){if(a.request)return t?a.playlistRequestError(a.request,a.media().uri,"HAVE_METADATA"):void a.haveMetadata(a.request,a.media().uri)})))}))}return o(e,t),n(e,[{key:"playlistRequestError",value:function(t,e,i){this.request=null,i&&(this.state=i),this.error={playlist:this.master.playlists[e],status:t.status,message:"HLS playlist request error at URL: "+e,responseText:t.responseText,code:t.status>=500?4:2},this.trigger("error")}},{key:"haveMetadata",value:function(t,e){var i=this;this.request=null,this.state="HAVE_METADATA";var n=new h["default"].Parser;n.push(t.responseText),n.end(),n.manifest.uri=e,n.manifest.attributes=n.manifest.attributes||{};var r=g(this.master,n.manifest);this.targetDuration=n.manifest.targetDuration,r?(this.master=r,this.media_=this.master.playlists[n.manifest.uri]):this.trigger("playlistunchanged"),this.media().endList||(p["default"].clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=p["default"].setTimeout((function(){i.trigger("mediaupdatetimeout")}),b(this.media(),!!r))),this.trigger("loadedplaylist")}},{key:"dispose",value:function(){this.stopRequest(),p["default"].clearTimeout(this.mediaUpdateTimeout)}},{key:"stopRequest",value:function(){if(this.request){var t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}}},{key:"media",value:function(t){var e=this;if(!t)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var i=this.state;if("string"===typeof t){if(!this.master.playlists[t])throw new Error("Unknown playlist URI: "+t);t=this.master.playlists[t]}var n=!this.media_||t.uri!==this.media_.uri;if(this.master.playlists[t.uri].endList)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=t,void(n&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(n){if(this.state="SWITCHING_MEDIA",this.request){if(t.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.hls_.xhr({uri:t.resolvedUri,withCredentials:this.withCredentials},(function(n,r){if(e.request){if(t.resolvedUri=e.resolveManifestRedirect(t.resolvedUri,r),n)return e.playlistRequestError(e.request,t.uri,i);e.haveMetadata(r,t.uri),"HAVE_MASTER"===i?e.trigger("loadedmetadata"):e.trigger("mediachange")}}))}}},{key:"resolveManifestRedirect",value:function(t,e){return this.handleManifestRedirects&&e.responseURL&&t!==e.responseURL?e.responseURL:t}},{key:"pause",value:function(){this.stopRequest(),p["default"].clearTimeout(this.mediaUpdateTimeout),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")}},{key:"load",value:function(t){var e=this;p["default"].clearTimeout(this.mediaUpdateTimeout);var i=this.media();if(t){var n=i?i.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=p["default"].setTimeout((function(){return e.load()}),n)}else this.started?i&&!i.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()}},{key:"start",value:function(){var t=this;this.started=!0,this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},(function(e,i){if(t.request){if(t.request=null,e)return t.error={status:i.status,message:"HLS playlist request error at URL: "+t.srcUrl,responseText:i.responseText,code:2},"HAVE_NOTHING"===t.state&&(t.started=!1),t.trigger("error");var n=new h["default"].Parser;return n.push(i.responseText),n.end(),t.state="HAVE_MASTER",t.srcUrl=t.resolveManifestRedirect(t.srcUrl,i),n.manifest.uri=t.srcUrl,n.manifest.playlists?(t.master=n.manifest,y(t.master),_(t.master),t.trigger("loadedplaylist"),void(t.request||t.media(n.manifest.playlists[0]))):(t.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:p["default"].location.href,playlists:[{uri:t.srcUrl,resolvedUri:t.srcUrl,attributes:{}}]},t.master.playlists[t.srcUrl]=t.master.playlists[0],t.haveMetadata(i,t.srcUrl),t.trigger("loadedmetadata"))}}))}}]),e}(u.EventTarget);e["default"]=T},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(){r(this,t),this.listeners={}}return n(t,[{key:"on",value:function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)}},{key:"off",value:function(t,e){if(!this.listeners[t])return!1;var i=this.listeners[t].indexOf(e);return this.listeners[t].splice(i,1),i>-1}},{key:"trigger",value:function(t){var e=this.listeners[t],i=void 0,n=void 0,r=void 0;if(e)if(2===arguments.length)for(n=e.length,i=0;i<n;++i)e[i].call(this,arguments[1]);else for(r=Array.prototype.slice.call(arguments,1),n=e.length,i=0;i<n;++i)e[i].apply(this,r)}},{key:"dispose",value:function(){this.listeners={}}},{key:"pipe",value:function(t){this.on("data",(function(e){t.push(e)}))}}]),t}();e["default"]=a},function(t,e,i){"use strict";var n;n=function(t,e){var i,r=0,a=16384,s=function(t,e){var i,n=t.position+e;n<t.bytes.byteLength||(i=new Uint8Array(2*n),i.set(t.bytes.subarray(0,t.position),0),t.bytes=i,t.view=new DataView(t.bytes.buffer))},o=n.widthBytes||new Uint8Array("width".length),l=n.heightBytes||new Uint8Array("height".length),c=n.videocodecidBytes||new Uint8Array("videocodecid".length);if(!n.widthBytes){for(i=0;i<"width".length;i++)o[i]="width".charCodeAt(i);for(i=0;i<"height".length;i++)l[i]="height".charCodeAt(i);for(i=0;i<"videocodecid".length;i++)c[i]="videocodecid".charCodeAt(i);n.widthBytes=o,n.heightBytes=l,n.videocodecidBytes=c}switch(this.keyFrame=!1,t){case n.VIDEO_TAG:this.length=16,a*=6;break;case n.AUDIO_TAG:this.length=13,this.keyFrame=!0;break;case n.METADATA_TAG:this.length=29,this.keyFrame=!0;break;default:throw new Error("Unknown FLV tag type")}this.bytes=new Uint8Array(a),this.view=new DataView(this.bytes.buffer),this.bytes[0]=t,this.position=this.length,this.keyFrame=e,this.pts=0,this.dts=0,this.writeBytes=function(t,e,i){var n,r=e||0;i=i||t.byteLength,n=r+i,s(this,i),this.bytes.set(t.subarray(r,n),this.position),this.position+=i,this.length=Math.max(this.length,this.position)},this.writeByte=function(t){s(this,1),this.bytes[this.position]=t,this.position++,this.length=Math.max(this.length,this.position)},this.writeShort=function(t){s(this,2),this.view.setUint16(this.position,t),this.position+=2,this.length=Math.max(this.length,this.position)},this.negIndex=function(t){return this.bytes[this.length-t]},this.nalUnitSize=function(){return 0===r?0:this.length-(r+4)},this.startNalUnit=function(){if(r>0)throw new Error("Attempted to create new NAL wihout closing the old one");r=this.length,this.length+=4,this.position=this.length},this.endNalUnit=function(t){var e,i;this.length===r+4?this.length-=4:r>0&&(e=r+4,i=this.length-e,this.position=r,this.view.setUint32(this.position,i),this.position=this.length,t&&t.push(this.bytes.subarray(e,e+i))),r=0},this.writeMetaDataDouble=function(t,e){var i;if(s(this,2+t.length+9),this.view.setUint16(this.position,t.length),this.position+=2,"width"===t)this.bytes.set(o,this.position),this.position+=5;else if("height"===t)this.bytes.set(l,this.position),this.position+=6;else if("videocodecid"===t)this.bytes.set(c,this.position),this.position+=12;else for(i=0;i<t.length;i++)this.bytes[this.position]=t.charCodeAt(i),this.position++;this.position++,this.view.setFloat64(this.position,e),this.position+=8,this.length=Math.max(this.length,this.position),++r},this.writeMetaDataBoolean=function(t,e){var i;for(s(this,2),this.view.setUint16(this.position,t.length),this.position+=2,i=0;i<t.length;i++)s(this,1),this.bytes[this.position]=t.charCodeAt(i),this.position++;s(this,2),this.view.setUint8(this.position,1),this.position++,this.view.setUint8(this.position,e?1:0),this.position++,this.length=Math.max(this.length,this.position),++r},this.finalize=function(){var t,i;switch(this.bytes[0]){case n.VIDEO_TAG:this.bytes[11]=7|(this.keyFrame||e?16:32),this.bytes[12]=e?0:1,t=this.pts-this.dts,this.bytes[13]=(16711680&t)>>>16,this.bytes[14]=(65280&t)>>>8,this.bytes[15]=(255&t)>>>0;break;case n.AUDIO_TAG:this.bytes[11]=175,this.bytes[12]=e?0:1;break;case n.METADATA_TAG:this.position=11,this.view.setUint8(this.position,2),this.position++,this.view.setUint16(this.position,10),this.position+=2,this.bytes.set([111,110,77,101,116,97,68,97,116,97],this.position),this.position+=10,this.bytes[this.position]=8,this.position++,this.view.setUint32(this.position,r),this.position=this.length,this.bytes.set([0,0,9],this.position),this.position+=3,this.length=this.position;break}return i=this.length-11,this.bytes[1]=(16711680&i)>>>16,this.bytes[2]=(65280&i)>>>8,this.bytes[3]=(255&i)>>>0,this.bytes[4]=(16711680&this.dts)>>>16,this.bytes[5]=(65280&this.dts)>>>8,this.bytes[6]=(255&this.dts)>>>0,this.bytes[7]=(4278190080&this.dts)>>>24,this.bytes[8]=0,this.bytes[9]=0,this.bytes[10]=0,s(this,4),this.view.setUint32(this.length,this.length),this.length+=4,this.position+=4,this.bytes=this.bytes.subarray(0,this.length),this.frameTime=n.frameTime(this.bytes),this}},n.AUDIO_TAG=8,n.VIDEO_TAG=9,n.METADATA_TAG=18,n.isAudioFrame=function(t){return n.AUDIO_TAG===t[0]},n.isVideoFrame=function(t){return n.VIDEO_TAG===t[0]},n.isMetaData=function(t){return n.METADATA_TAG===t[0]},n.isKeyFrame=function(t){return n.isVideoFrame(t)?23===t[11]:!!n.isAudioFrame(t)||!!n.isMetaData(t)},n.frameTime=function(t){var e=t[4]<<16;return e|=t[5]<<8,e|=t[6]<<0,e|=t[7]<<24,e},t.exports=n},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(106),a=n(r),s=i(76),o=n(s),l=function(t){Object.defineProperties(t.frame,{id:{get:function(){return o["default"].log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get:function(){return o["default"].log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get:function(){return o["default"].log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}})},c=function(t){var e=void 0;return e=isNaN(t)||Math.abs(t)===1/0?Number.MAX_VALUE:t,e},u=function(t,e,i){var n=a["default"].WebKitDataCue||a["default"].VTTCue;e&&e.forEach((function(t){var e=t.stream;this.inbandTextTracks_[e].addCue(new n(t.startTime+this.timestampOffset,t.endTime+this.timestampOffset,t.text))}),t),i&&function(){var e=c(t.mediaSource_.duration);i.forEach((function(t){var e=t.cueTime+this.timestampOffset;t.frames.forEach((function(t){var i=new n(e,e,t.value||t.url||t.data||"");i.frame=t,i.value=t,l(i),this.metadataTrack_.addCue(i)}),this)}),t),t.metadataTrack_&&t.metadataTrack_.cues&&t.metadataTrack_.cues.length&&function(){for(var i=t.metadataTrack_.cues,n=[],r=0;r<i.length;r++)i[r]&&n.push(i[r]);var a=n.reduce((function(t,e){var i=t[e.startTime]||[];return i.push(e),t[e.startTime]=i,t}),{}),s=Object.keys(a).sort((function(t,e){return Number(t)-Number(e)}));s.forEach((function(t,i){var n=a[t],r=Number(s[i+1])||e;n.forEach((function(t){t.endTime=r}))}))}()}()};e["default"]={addTextTrackData:u,durationOfVideo:c},t.exports=e["default"]},function(t,e,i){var n=arguments[3],r=arguments[4],a=arguments[5],s=JSON.stringify,o=!1,l=function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=entryModule)};"undefined"===typeof n&&(o=!0,n=l,r=i.m);var c=function(t){for(var e,i=Object.keys(a),o=0;o<i.length;o++){var l=i[o],c=a[l].exports;if(c===t||c&&c.default===t){e=l;break}}if(!e){e=Math.floor(Math.pow(16,8)*Math.random()).toString(16);var u={};for(o=0;o<i.length;o++){l=i[o];u[l]=l}r[e]=["function(require,module,exports){"+t+"(self); }",u]}var d=Math.floor(Math.pow(16,8)*Math.random()).toString(16),h={};return h[e]=e,r[d]=["function(require,module,exports){var f = require("+s(e)+");(f.default ? f.default : f)(self);}",h],"("+n+")({"+Object.keys(r).map((function(t){return s(t)+":["+r[t][0]+","+s(r[t][1])+"]"})).join(",")+"},{},["+s(d)+"])"},u=function(t,e){var a,o="string"===typeof e;a=o?{}:[],Object.keys(r).forEach((function(t){r[t]&&(a[t]=r[t].toString())}));var l,c=i(e);if(!c||c!==t&&c.default!==t){var u=a[e];a[e]=u.substring(0,u.length-1)+"\n"+t.name+"();\n}"}if(o){e=s(e);var d=Object.keys(a).map((function(t){return s(t)+":"+a[t]}));l="{"+d.join(",")+"}"}else l="["+a.join(",")+"]";return"var fn = ("+n.toString().replace("entryModule",e)+")("+l+');\n(typeof fn === "function") && fn(self);'};t.exports=function(t,e){var i;i=o?u(t,e):c(t);var n=new Blob([i],{type:"text/javascript"}),r=window.URL||window.webkitURL||window.mozURL||window.msURL,a=r.createObjectURL(n),s=new Worker(a);return s.objectURL=a,s}},function(t,e,i){"use strict";var n,r,a,s,o,l,c,u,d,h,f,p=i(218),m=i(739),v=i(731),g=i(733),y=i(734).H264Stream,_=i(1284),b=i(1285),T=i(1286),S=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],w=["width","height","profileIdc","levelIdc","profileCompatibility"],C=9e4;o=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0}}},l=function(t){return t[0]==="I".charCodeAt(0)&&t[1]==="D".charCodeAt(0)&&t[2]==="3".charCodeAt(0)},h=function(t,e){var i;if(t.length!==e.length)return!1;for(i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0},f=function(t){var e,i,n=0;for(e=0;e<t.length;e++)i=t[e],n+=i.data.byteLength;return n},r=function(t){var e=[],i=0,n=0,a=0,s=1/0;r.prototype.init.call(this),this.push=function(i){c(t,i),t&&S.forEach((function(e){t[e]=i[e]})),e.push(i)},this.setEarliestDts=function(e){n=e-t.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(t){s=t},this.setAudioAppendStart=function(t){a=t},this.flush=function(){var n,r,a,s;0!==e.length?(n=this.trimAdtsFramesByEarliestDts_(e),t.baseMediaDecodeTime=d(t),this.prefixWithSilence_(t,n),t.samples=this.generateSampleTable_(n),a=m.mdat(this.concatenateFrameData_(n)),e=[],r=m.moof(i,[t]),s=new Uint8Array(r.byteLength+a.byteLength),i++,s.set(r),s.set(a,r.byteLength),u(t),this.trigger("data",{track:t,boxes:s}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")},this.prefixWithSilence_=function(t,e){var i,n,r,o=0,l=0,c=0,u=0;if(e.length&&(i=T.audioTsToVideoTs(t.baseMediaDecodeTime,t.samplerate),o=Math.ceil(C/(t.samplerate/1024)),a&&s&&(l=i-Math.max(a,s),c=Math.floor(l/o),u=c*o),!(c<1||u>C/2))){for(n=b[t.samplerate],n||(n=e[0].data),r=0;r<c;r++)e.splice(r,0,{data:n});t.baseMediaDecodeTime-=Math.floor(T.videoTsToAudioTs(u,t.samplerate))}},this.trimAdtsFramesByEarliestDts_=function(e){return t.minSegmentDts>=n?e:(t.minSegmentDts=1/0,e.filter((function(e){return e.dts>=n&&(t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),t.minSegmentPts=t.minSegmentDts,!0)})))},this.generateSampleTable_=function(t){var e,i,n=[];for(e=0;e<t.length;e++)i=t[e],n.push({size:i.data.byteLength,duration:1024});return n},this.concatenateFrameData_=function(t){var e,i,n=0,r=new Uint8Array(f(t));for(e=0;e<t.length;e++)i=t[e],r.set(i.data,n),n+=i.data.byteLength;return r}},r.prototype=new p,n=function(t,e){var i,r,a=0,s=[],l=[];e=e||{},n.prototype.init.call(this),delete t.minPTS,this.gopCache_=[],this.push=function(e){c(t,e),"seq_parameter_set_rbsp"!==e.nalUnitType||i||(i=e.config,t.sps=[e.data],w.forEach((function(e){t[e]=i[e]}),this)),"pic_parameter_set_rbsp"!==e.nalUnitType||r||(r=e.data,t.pps=[e.data]),s.push(e)},this.flush=function(){var i,n,r,o,h,f;while(s.length){if("access_unit_delimiter_rbsp"===s[0].nalUnitType)break;s.shift()}if(0===s.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(i=this.groupNalsIntoFrames_(s),r=this.groupFramesIntoGops_(i),r[0][0].keyFrame||(n=this.getGopForFusion_(s[0],t),n?(r.unshift(n),r.byteLength+=n.byteLength,r.nalCount+=n.nalCount,r.pts=n.pts,r.dts=n.dts,r.duration+=n.duration):r=this.extendFirstKeyFrame_(r)),l.length){var p;if(p=e.alignGopsAtEnd?this.alignGopsAtEnd_(r):this.alignGopsAtStart_(r),!p)return this.gopCache_.unshift({gop:r.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),s=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");u(t),r=p}c(t,r),t.samples=this.generateSampleTable_(r),h=m.mdat(this.concatenateNalData_(r)),t.baseMediaDecodeTime=d(t),this.trigger("processedGopsInfo",r.map((function(t){return{pts:t.pts,dts:t.dts,byteLength:t.byteLength}}))),this.gopCache_.unshift({gop:r.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),s=[],this.trigger("baseMediaDecodeTime",t.baseMediaDecodeTime),this.trigger("timelineStartInfo",t.timelineStartInfo),o=m.moof(a,[t]),f=new Uint8Array(o.byteLength+h.byteLength),a++,f.set(o),f.set(h,o.byteLength),this.trigger("data",{track:t,boxes:f}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.resetStream_=function(){u(t),i=void 0,r=void 0},this.getGopForFusion_=function(e){var i,n,r,a,s,o=45e3,l=1e4,c=1/0;for(s=0;s<this.gopCache_.length;s++)a=this.gopCache_[s],r=a.gop,t.pps&&h(t.pps[0],a.pps[0])&&t.sps&&h(t.sps[0],a.sps[0])&&(r.dts<t.timelineStartInfo.dts||(i=e.dts-r.dts-r.duration,i>=-l&&i<=o&&(!n||c>i)&&(n=a,c=i)));return n?n.gop:null},this.extendFirstKeyFrame_=function(t){var e;return!t[0][0].keyFrame&&t.length>1&&(e=t.shift(),t.byteLength-=e.byteLength,t.nalCount-=e.nalCount,t[0][0].dts=e.dts,t[0][0].pts=e.pts,t[0][0].duration+=e.duration),t},this.groupNalsIntoFrames_=function(t){var e,i,n=[],r=[];for(n.byteLength=0,e=0;e<t.length;e++)i=t[e],"access_unit_delimiter_rbsp"===i.nalUnitType?(n.length&&(n.duration=i.dts-n.dts,r.push(n)),n=[i],n.byteLength=i.data.byteLength,n.pts=i.pts,n.dts=i.dts):("slice_layer_without_partitioning_rbsp_idr"===i.nalUnitType&&(n.keyFrame=!0),n.duration=i.dts-n.dts,n.byteLength+=i.data.byteLength,n.push(i));return r.length&&(!n.duration||n.duration<=0)&&(n.duration=r[r.length-1].duration),r.push(n),r},this.groupFramesIntoGops_=function(t){var e,i,n=[],r=[];for(n.byteLength=0,n.nalCount=0,n.duration=0,n.pts=t[0].pts,n.dts=t[0].dts,r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=t[0].pts,r.dts=t[0].dts,e=0;e<t.length;e++)i=t[e],i.keyFrame?(n.length&&(r.push(n),r.byteLength+=n.byteLength,r.nalCount+=n.nalCount,r.duration+=n.duration),n=[i],n.nalCount=i.length,n.byteLength=i.byteLength,n.pts=i.pts,n.dts=i.dts,n.duration=i.duration):(n.duration+=i.duration,n.nalCount+=i.length,n.byteLength+=i.byteLength,n.push(i));return r.length&&n.duration<=0&&(n.duration=r[r.length-1].duration),r.byteLength+=n.byteLength,r.nalCount+=n.nalCount,r.duration+=n.duration,r.push(n),r},this.generateSampleTable_=function(t,e){var i,n,r,a,s,l=e||0,c=[];for(i=0;i<t.length;i++)for(a=t[i],n=0;n<a.length;n++)s=a[n],r=o(),r.dataOffset=l,r.compositionTimeOffset=s.pts-s.dts,r.duration=s.duration,r.size=4*s.length,r.size+=s.byteLength,s.keyFrame&&(r.flags.dependsOn=2),l+=r.size,c.push(r);return c},this.concatenateNalData_=function(t){var e,i,n,r,a,s,o=0,l=t.byteLength,c=t.nalCount,u=l+4*c,d=new Uint8Array(u),h=new DataView(d.buffer);for(e=0;e<t.length;e++)for(r=t[e],i=0;i<r.length;i++)for(a=r[i],n=0;n<a.length;n++)s=a[n],h.setUint32(o,s.data.byteLength),o+=4,d.set(s.data,o),o+=s.data.byteLength;return d},this.alignGopsAtStart_=function(t){var e,i,n,r,a,s,o,c;a=t.byteLength,s=t.nalCount,o=t.duration,e=i=0;while(e<l.length&&i<t.length){if(n=l[e],r=t[i],n.pts===r.pts)break;r.pts>n.pts?e++:(i++,a-=r.byteLength,s-=r.nalCount,o-=r.duration)}return 0===i?t:i===t.length?null:(c=t.slice(i),c.byteLength=a,c.duration=o,c.nalCount=s,c.pts=c[0].pts,c.dts=c[0].dts,c)},this.alignGopsAtEnd_=function(t){var e,i,n,r,a,s,o;e=l.length-1,i=t.length-1,a=null,s=!1;while(e>=0&&i>=0){if(n=l[e],r=t[i],n.pts===r.pts){s=!0;break}n.pts>r.pts?e--:(e===l.length-1&&(a=i),i--)}if(!s&&null===a)return null;if(o=s?i:a,0===o)return t;var c=t.slice(o),u=c.reduce((function(t,e){return t.byteLength+=e.byteLength,t.duration+=e.duration,t.nalCount+=e.nalCount,t}),{byteLength:0,duration:0,nalCount:0});return c.byteLength=u.byteLength,c.duration=u.duration,c.nalCount=u.nalCount,c.pts=c[0].pts,c.dts=c[0].dts,c},this.alignGopsWith=function(t){l=t}},n.prototype=new p,c=function(t,e){"number"===typeof e.pts&&(void 0===t.timelineStartInfo.pts&&(t.timelineStartInfo.pts=e.pts),void 0===t.minSegmentPts?t.minSegmentPts=e.pts:t.minSegmentPts=Math.min(t.minSegmentPts,e.pts),void 0===t.maxSegmentPts?t.maxSegmentPts=e.pts:t.maxSegmentPts=Math.max(t.maxSegmentPts,e.pts)),"number"===typeof e.dts&&(void 0===t.timelineStartInfo.dts&&(t.timelineStartInfo.dts=e.dts),void 0===t.minSegmentDts?t.minSegmentDts=e.dts:t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),void 0===t.maxSegmentDts?t.maxSegmentDts=e.dts:t.maxSegmentDts=Math.max(t.maxSegmentDts,e.dts))},u=function(t){delete t.minSegmentDts,delete t.maxSegmentDts,delete t.minSegmentPts,delete t.maxSegmentPts},d=function(t){var e,i,n=t.minSegmentDts-t.timelineStartInfo.dts;return e=t.timelineStartInfo.baseMediaDecodeTime,e+=n,e=Math.max(0,e),"audio"===t.type&&(i=t.samplerate/C,e*=i,e=Math.floor(e)),e},s=function(t,e){this.numberOfTracks=0,this.metadataStream=e,"undefined"!==typeof t.remux?this.remuxTracks=!!t.remux:this.remuxTracks=!0,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,s.prototype.init.call(this),this.push=function(t){return t.text?this.pendingCaptions.push(t):t.frames?this.pendingMetadata.push(t):(this.pendingTracks.push(t.track),this.pendingBoxes.push(t.boxes),this.pendingBytes+=t.boxes.byteLength,"video"===t.track.type&&(this.videoTrack=t.track),void("audio"===t.track.type&&(this.audioTrack=t.track)))}},s.prototype=new p,s.prototype.flush=function(t){var e,i,n,r,a=0,s={captions:[],captionStreams:{},metadata:[],info:{}},o=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==t&&"AudioSegmentStream"!==t)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}for(this.videoTrack?(o=this.videoTrack.timelineStartInfo.pts,w.forEach((function(t){s.info[t]=this.videoTrack[t]}),this)):this.audioTrack&&(o=this.audioTrack.timelineStartInfo.pts,S.forEach((function(t){s.info[t]=this.audioTrack[t]}),this)),1===this.pendingTracks.length?s.type=this.pendingTracks[0].type:s.type="combined",this.emittedTracks+=this.pendingTracks.length,n=m.initSegment(this.pendingTracks),s.initSegment=new Uint8Array(n.byteLength),s.initSegment.set(n),s.data=new Uint8Array(this.pendingBytes),r=0;r<this.pendingBoxes.length;r++)s.data.set(this.pendingBoxes[r],a),a+=this.pendingBoxes[r].byteLength;for(r=0;r<this.pendingCaptions.length;r++)e=this.pendingCaptions[r],e.startTime=e.startPts-o,e.startTime/=9e4,e.endTime=e.endPts-o,e.endTime/=9e4,s.captionStreams[e.stream]=!0,s.captions.push(e);for(r=0;r<this.pendingMetadata.length;r++)i=this.pendingMetadata[r],i.cueTime=i.pts-o,i.cueTime/=9e4,s.metadata.push(i);s.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",s),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},a=function(t){var e,i,o=this,c=!0;a.prototype.init.call(this),t=t||{},this.baseMediaDecodeTime=t.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var e={};this.transmuxPipeline_=e,e.type="aac",e.metadataStream=new v.MetadataStream,e.aacStream=new _,e.audioTimestampRolloverStream=new v.TimestampRolloverStream("audio"),e.timedMetadataTimestampRolloverStream=new v.TimestampRolloverStream("timed-metadata"),e.adtsStream=new g,e.coalesceStream=new s(t,e.metadataStream),e.headOfPipeline=e.aacStream,e.aacStream.pipe(e.audioTimestampRolloverStream).pipe(e.adtsStream),e.aacStream.pipe(e.timedMetadataTimestampRolloverStream).pipe(e.metadataStream).pipe(e.coalesceStream),e.metadataStream.on("timestamp",(function(t){e.aacStream.setTimestamp(t.timeStamp)})),e.aacStream.on("data",(function(t){"timed-metadata"!==t.type||e.audioSegmentStream||(i=i||{timelineStartInfo:{baseMediaDecodeTime:o.baseMediaDecodeTime},codec:"adts",type:"audio"},e.coalesceStream.numberOfTracks++,e.audioSegmentStream=new r(i),e.adtsStream.pipe(e.audioSegmentStream).pipe(e.coalesceStream))})),e.coalesceStream.on("data",this.trigger.bind(this,"data")),e.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var a={};this.transmuxPipeline_=a,a.type="ts",a.metadataStream=new v.MetadataStream,a.packetStream=new v.TransportPacketStream,a.parseStream=new v.TransportParseStream,a.elementaryStream=new v.ElementaryStream,a.videoTimestampRolloverStream=new v.TimestampRolloverStream("video"),a.audioTimestampRolloverStream=new v.TimestampRolloverStream("audio"),a.timedMetadataTimestampRolloverStream=new v.TimestampRolloverStream("timed-metadata"),a.adtsStream=new g,a.h264Stream=new y,a.captionStream=new v.CaptionStream,a.coalesceStream=new s(t,a.metadataStream),a.headOfPipeline=a.packetStream,a.packetStream.pipe(a.parseStream).pipe(a.elementaryStream),a.elementaryStream.pipe(a.videoTimestampRolloverStream).pipe(a.h264Stream),a.elementaryStream.pipe(a.audioTimestampRolloverStream).pipe(a.adtsStream),a.elementaryStream.pipe(a.timedMetadataTimestampRolloverStream).pipe(a.metadataStream).pipe(a.coalesceStream),a.h264Stream.pipe(a.captionStream).pipe(a.coalesceStream),a.elementaryStream.on("data",(function(s){var l;if("metadata"===s.type){l=s.tracks.length;while(l--)e||"video"!==s.tracks[l].type?i||"audio"!==s.tracks[l].type||(i=s.tracks[l],i.timelineStartInfo.baseMediaDecodeTime=o.baseMediaDecodeTime):(e=s.tracks[l],e.timelineStartInfo.baseMediaDecodeTime=o.baseMediaDecodeTime);e&&!a.videoSegmentStream&&(a.coalesceStream.numberOfTracks++,a.videoSegmentStream=new n(e,t),a.videoSegmentStream.on("timelineStartInfo",(function(t){i&&(i.timelineStartInfo=t,a.audioSegmentStream.setEarliestDts(t.dts))})),a.videoSegmentStream.on("processedGopsInfo",o.trigger.bind(o,"gopInfo")),a.videoSegmentStream.on("baseMediaDecodeTime",(function(t){i&&a.audioSegmentStream.setVideoBaseMediaDecodeTime(t)})),a.h264Stream.pipe(a.videoSegmentStream).pipe(a.coalesceStream)),i&&!a.audioSegmentStream&&(a.coalesceStream.numberOfTracks++,a.audioSegmentStream=new r(i),a.adtsStream.pipe(a.audioSegmentStream).pipe(a.coalesceStream))}})),a.coalesceStream.on("data",this.trigger.bind(this,"data")),a.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(t){var n=this.transmuxPipeline_;this.baseMediaDecodeTime=t,i&&(i.timelineStartInfo.dts=void 0,i.timelineStartInfo.pts=void 0,u(i),i.timelineStartInfo.baseMediaDecodeTime=t,n.audioTimestampRolloverStream&&n.audioTimestampRolloverStream.discontinuity()),e&&(n.videoSegmentStream&&(n.videoSegmentStream.gopCache_=[],n.videoTimestampRolloverStream.discontinuity()),e.timelineStartInfo.dts=void 0,e.timelineStartInfo.pts=void 0,u(e),n.captionStream.reset(),e.timelineStartInfo.baseMediaDecodeTime=t),n.timedMetadataTimestampRolloverStream&&n.timedMetadataTimestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(t){i&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(t)},this.alignGopsWith=function(t){e&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(t)},this.push=function(t){if(c){var e=l(t);e&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():e||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),c=!1}this.transmuxPipeline_.headOfPipeline.push(t)},this.flush=function(){c=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},a.prototype=new p,t.exports={Transmuxer:a,VideoSegmentStream:n,AudioSegmentStream:r,AUDIO_PROPERTIES:S,VIDEO_PROPERTIES:w}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){var i=[],n=!0,r=!1,a=void 0;try{for(var s,o=t[Symbol.iterator]();!(n=(s=o.next()).done);n=!0)if(i.push(s.value),e&&i.length===e)break}catch(l){r=!0,a=l}finally{try{!n&&o["return"]&&o["return"]()}finally{if(r)throw a}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function r(t){return t&&t.__esModule?t:{default:t}}var a=i(76),s=r(a),o=1/30,l=3*o,c=function(t,e){var i=n(e,2),r=i[0],a=i[1];return Math.min(Math.max(r,t),a)},u=function(t,e){var i=[],n=void 0;if(t&&t.length)for(n=0;n<t.length;n++)e(t.start(n),t.end(n))&&i.push([t.start(n),t.end(n)]);return s["default"].createTimeRanges(i)},d=function(t,e){return u(t,(function(t,i){return t-o<=e&&i+o>=e}))},h=function(t,e){return u(t,(function(t){return t-o>=e}))},f=function(t){if(t.length<2)return s["default"].createTimeRanges();for(var e=[],i=1;i<t.length;i++){var n=t.end(i-1),r=t.start(i);e.push([n,r])}return s["default"].createTimeRanges(e)},p=function(t,e){var i=void 0,n=void 0,r=void 0,a=[],s=[],o=function(t){return t[0]<=r&&t[1]>=r};if(t)for(i=0;i<t.length;i++)n=t.start(i),r=t.end(i),s.push([n,r]);if(e)for(i=0;i<e.length;i++)n=e.start(i),r=e.end(i),s.some(o)||a.push(r);return 1!==a.length?null:a[0]},m=function(t,e){var i=null,n=null,r=0,a=[],o=[];if(!t||!t.length||!e||!e.length)return s["default"].createTimeRange();var l=t.length;while(l--)a.push({time:t.start(l),type:"start"}),a.push({time:t.end(l),type:"end"});l=e.length;while(l--)a.push({time:e.start(l),type:"start"}),a.push({time:e.end(l),type:"end"});for(a.sort((function(t,e){return t.time-e.time})),l=0;l<a.length;l++)"start"===a[l].type?(r++,2===r&&(i=a[l].time)):"end"===a[l].type&&(r--,1===r&&(n=a[l].time)),null!==i&&null!==n&&(o.push([i,n]),i=null,n=null);return s["default"].createTimeRanges(o)},v=function(t,e,i,n){var r=e.end(0)-e.start(0),a=t.end(0)-t.start(0),s=r-a,o=m(t,n),l=m(e,n),c=0,u=0,d=o.length;while(d--)c+=o.end(d)-o.start(d),o.start(d)===i&&(c+=s);d=l.length;while(d--)u+=l.end(d)-l.start(d);return Math.max(c,u)/r*100},g=function(t,e,i,n){var r=t+e,a=s["default"].createTimeRanges([[t,r]]),o=s["default"].createTimeRanges([[c(t,[i,r]),r]]);if(o.start(0)===o.end(0))return 0;var l=v(o,a,i,n);return isNaN(l)||l===1/0||l===-1/0?0:l},y=function(t){var e=[];if(!t||!t.length)return"";for(var i=0;i<t.length;i++)e.push(t.start(i)+" => "+t.end(i));return e.join(", ")},_=function(t,e){var i=arguments.length<=2||void 0===arguments[2]?1:arguments[2],n=t.length?t.end(t.length-1):0;return(n-e)/i};e["default"]={findRange:d,findNextRange:h,findGaps:f,findSoleUncommonTimeRangesEnd:p,getSegmentBufferedPercent:g,TIME_FUDGE_FACTOR:o,SAFE_TIME_DELTA:l,printableRange:y,timeUntilRebuffer:_},t.exports=e["default"]},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t,e,i){var n=!0;while(n){var r=t,a=e,s=i;n=!1,null===r&&(r=Function.prototype);var o=Object.getOwnPropertyDescriptor(r,a);if(void 0!==o){if("value"in o)return o.value;var l=o.get;if(void 0===l)return;return l.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=a,i=s,n=!0,o=c=void 0}};function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var l=i(505),c=a(l),u=i(557),d=a(u),h=i(458),f=a(h),p=i(1264),m=a(p),v=i(728),g=i(478),y=a(g),_=i(1271),b=i(725),T=a(b),S=i(76),w=a(S),C=i(1287),k=i(508),x=a(k),E=i(1298),P=a(E),O=i(106),I=a(O),L=i(1299),A=a(L),D=i(1300),M=a(D),j=i(741),N={PlaylistLoader:d["default"],Playlist:f["default"],Decrypter:v.Decrypter,AsyncStream:v.AsyncStream,decrypt:v.decrypt,utils:y["default"],STANDARD_PLAYLIST_SELECTOR:j.lastBandwidthSelector,INITIAL_PLAYLIST_SELECTOR:j.lowestBitrateCompatibleVariantSelector,comparePlaylistBandwidth:j.comparePlaylistBandwidth,comparePlaylistResolution:j.comparePlaylistResolution,xhr:(0,m["default"])()},R=4194304;["GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","BANDWIDTH_VARIANCE"].forEach((function(t){Object.defineProperty(N,t,{get:function(){return w["default"].log.warn("using Hls."+t+" is UNSAFE be sure you know what you are doing"),x["default"][t]},set:function(e){w["default"].log.warn("using Hls."+t+" is UNSAFE be sure you know what you are doing"),"number"!==typeof e||e<0?w["default"].log.warn("value of Hls."+t+" must be greater than or equal to 0"):x["default"][t]=e}})}));var B=function(t,e){for(var i=e.media(),n=-1,r=0;r<t.length;r++)if(t[r].id===i.uri){n=r;break}t.selectedIndex_=n,t.trigger({selectedIndex:n,type:"change"})},U=function(t,e){e.representations().forEach((function(e){t.addQualityLevel(e)})),B(t,e.playlists)};N.canPlaySource=function(){return w["default"].log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")},N.supportsNativeHls=function(){var t=c["default"].createElement("video");if(!w["default"].getTech("Html5").isSupported())return!1;var e=["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"];return e.some((function(e){return/maybe|probably/i.test(t.canPlayType(e))}))}(),N.isSupported=function(){return w["default"].log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var F=w["default"].getComponent("Component"),$=function(t){function e(t,i,n){var a=this;if(s(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,i,n.hls),i.options_&&i.options_.playerId){var o=(0,w["default"])(i.options_.playerId);o.hasOwnProperty("hls")||Object.defineProperty(o,"hls",{get:function(){return w["default"].log.warn("player.hls is deprecated. Use player.tech_.hls instead."),i.trigger({type:"usage",name:"hls-player-access"}),a}})}if(this.tech_=i,this.source_=t,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&(i.featuresNativeVideoTracks||i.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");this.on(c["default"],["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],(function(t){var e=c["default"].fullscreenElement||c["default"].webkitFullscreenElement||c["default"].mozFullScreenElement||c["default"].msFullscreenElement;e&&e.contains(a.tech_.el())&&a.masterPlaylistController_.fastQualityChange_()})),this.on(this.tech_,"seeking",(function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())})),this.on(this.tech_,"error",(function(){this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()})),this.on(this.tech_,"play",this.play)}return o(e,t),n(e,[{key:"setOptions_",value:function(){var t=this;this.options_.withCredentials=this.options_.withCredentials||!1,"number"!==typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!==typeof this.options_.bandwidth&&(this.options_.bandwidth=R),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===R,["withCredentials","bandwidth","handleManifestRedirects"].forEach((function(e){"undefined"!==typeof t.source_[e]&&(t.options_[e]=t.source_[e])})),this.bandwidth=this.options_.bandwidth}},{key:"src",value:function(t){var e=this;t&&(this.setOptions_(),this.options_.url=this.source_.src,this.options_.tech=this.tech_,this.options_.externHls=N,this.masterPlaylistController_=new C.MasterPlaylistController(this.options_),this.playbackWatcher_=new A["default"](w["default"].mergeOptions(this.options_,{seekable:function(){return e.seekable()}})),this.masterPlaylistController_.on("error",(function(){var t=w["default"].players[e.tech_.options_.playerId];t.error(e.masterPlaylistController_.error)})),this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):N.STANDARD_PLAYLIST_SELECTOR.bind(this),this.masterPlaylistController_.selectInitialPlaylist=N.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(t){this.masterPlaylistController_.selectPlaylist=t.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(t){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=t,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(t){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=t,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var t=1/(this.bandwidth||1),e=void 0;e=this.throughput>0?1/this.throughput:0;var i=Math.floor(1/(t+e));return i},set:function(){w["default"].log.error('The "systemBandwidth" property is read-only')}}}),Object.defineProperties(this.stats,{bandwidth:{get:function(){return e.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return e.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return e.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return e.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return e.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return e.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return e.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return e.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.masterPlaylistController_.on("selectedinitialmedia",(function(){(0,P["default"])(e)})),this.on(this.masterPlaylistController_,"progress",(function(){this.tech_.trigger("progress")})),this.on(this.masterPlaylistController_,"firstplay",(function(){this.ignoreNextSeekingEvent_=!0})),this.tech_.ready((function(){return e.setupQualityLevels_()})),this.tech_.el()&&this.tech_.src(w["default"].URL.createObjectURL(this.masterPlaylistController_.mediaSource)))}},{key:"setupQualityLevels_",value:function(){var t=this,e=w["default"].players[this.tech_.options_.playerId];e&&e.qualityLevels&&(this.qualityLevels_=e.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",(function(){U(t.qualityLevels_,t)})),this.playlists.on("mediachange",(function(){B(t.qualityLevels_,t.playlists)})))}},{key:"play",value:function(){this.masterPlaylistController_.play()}},{key:"setCurrentTime",value:function(t){this.masterPlaylistController_.setCurrentTime(t)}},{key:"duration",value:function(){return this.masterPlaylistController_.duration()}},{key:"seekable",value:function(){return this.masterPlaylistController_.seekable()}},{key:"dispose",value:function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),r(Object.getPrototypeOf(e.prototype),"dispose",this).call(this)}}]),e}(F),z=function t(e){return{canHandleSource:function(i){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=w["default"].mergeOptions(w["default"].options,n);return(!r.hls||!r.hls.mode||r.hls.mode===e)&&t.canPlayType(i.type,r)},handleSource:function(t,i){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=w["default"].mergeOptions(w["default"].options,n,{hls:{mode:e}});return"flash"===e&&i.setTimeout((function(){i.trigger("loadstart")}),1),i.hls=new $(t,i,r),i.hls.xhr=(0,m["default"])(),i.hls.src(t.src),i.hls},canPlayType:function(e){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=w["default"].mergeOptions(w["default"].options,i);return t.canPlayType(e,n)?"maybe":""}}};z.canPlayType=function(t,e){if(w["default"].browser.IE_VERSION&&w["default"].browser.IE_VERSION<=10)return!1;var i=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i;return!(!e.hls.overrideNative&&N.supportsNativeHls)&&i.test(t)},"undefined"!==typeof w["default"].MediaSource&&"undefined"!==typeof w["default"].URL||(w["default"].MediaSource=_.MediaSource,w["default"].URL=_.URL);var V=w["default"].getTech("Flash");_.MediaSource.supportsNativeMediaSources()&&w["default"].getTech("Html5").registerSourceHandler(z("html5"),0),I["default"].Uint8Array&&V&&V.registerSourceHandler(z("flash")),w["default"].HlsHandler=$,w["default"].HlsSourceHandler=z,w["default"].Hls=N,w["default"].use||w["default"].registerComponent("Hls",N),w["default"].m3u8=T["default"],w["default"].options.hls=w["default"].options.hls||{},w["default"].registerPlugin?w["default"].registerPlugin("reloadSourceOnError",M["default"]):w["default"].plugin("reloadSourceOnError",M["default"]),t.exports={Hls:N,HlsHandler:$,HlsSourceHandler:z}},function(t,e,i){"use strict";var n=i(726),r=c(n),a=i(727),s=c(a),o=i(1263),l=c(o);function c(t){return t&&t.__esModule?t:{default:t}}t.exports={LineStream:r["default"],ParseStream:s["default"],Parser:l["default"]}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(558),a=s(r);function s(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function c(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(t){function e(){o(this,e);var t=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.buffer="",t}return c(e,t),n(e,[{key:"push",value:function(t){var e=void 0;for(this.buffer+=t,e=this.buffer.indexOf("\n");e>-1;e=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,e)),this.buffer=this.buffer.substring(e+1)}}]),e}(a["default"]);e["default"]=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){var i=[],n=!0,r=!1,a=void 0;try{for(var s,o=t[Symbol.iterator]();!(n=(s=o.next()).done);n=!0)if(i.push(s.value),e&&i.length===e)break}catch(l){r=!0,a=l}finally{try{!n&&o["return"]&&o["return"]()}finally{if(r)throw a}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(558),s=o(a);function o(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function u(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var d=function(){var t="[^=]*",e='"[^"]*"|[^,]*',i="(?:"+t+")=(?:"+e+")";return new RegExp("(?:^|,)("+i+")")},h=function(t){var e=t.split(d()),i={},n=e.length,r=void 0;while(n--)""!==e[n]&&(r=/([^=]*)=(.*)/.exec(e[n]).slice(1),r[0]=r[0].replace(/^\s+|\s+$/g,""),r[1]=r[1].replace(/^\s+|\s+$/g,""),r[1]=r[1].replace(/^['"](.*)['"]$/g,"$1"),i[r[0]]=r[1]);return i},f=function(t){function e(){return l(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this))}return u(e,t),r(e,[{key:"push",value:function(t){var e=void 0,i=void 0;if(t=t.replace(/^[\u0000\s]+|[\u0000\s]+$/g,""),0!==t.length)if("#"===t[0])if(0===t.indexOf("#EXT"))if(t=t.replace("\r",""),e=/^#EXTM3U/.exec(t),e)this.trigger("data",{type:"tag",tagType:"m3u"});else{if(e=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(t),e)return i={type:"tag",tagType:"inf"},e[1]&&(i.duration=parseFloat(e[1])),e[2]&&(i.title=e[2]),void this.trigger("data",i);if(e=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(t),e)return i={type:"tag",tagType:"targetduration"},e[1]&&(i.duration=parseInt(e[1],10)),void this.trigger("data",i);if(e=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(t),e)return i={type:"tag",tagType:"totalduration"},e[1]&&(i.duration=parseInt(e[1],10)),void this.trigger("data",i);if(e=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(t),e)return i={type:"tag",tagType:"version"},e[1]&&(i.version=parseInt(e[1],10)),void this.trigger("data",i);if(e=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(t),e)return i={type:"tag",tagType:"media-sequence"},e[1]&&(i.number=parseInt(e[1],10)),void this.trigger("data",i);if(e=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(t),e)return i={type:"tag",tagType:"discontinuity-sequence"},e[1]&&(i.number=parseInt(e[1],10)),void this.trigger("data",i);if(e=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(t),e)return i={type:"tag",tagType:"playlist-type"},e[1]&&(i.playlistType=e[1]),void this.trigger("data",i);if(e=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(t),e)return i={type:"tag",tagType:"byterange"},e[1]&&(i.length=parseInt(e[1],10)),e[2]&&(i.offset=parseInt(e[2],10)),void this.trigger("data",i);if(e=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(t),e)return i={type:"tag",tagType:"allow-cache"},e[1]&&(i.allowed=!/NO/.test(e[1])),void this.trigger("data",i);if(e=/^#EXT-X-MAP:?(.*)$/.exec(t),e){if(i={type:"tag",tagType:"map"},e[1]){var r=h(e[1]);if(r.URI&&(i.uri=r.URI),r.BYTERANGE){var a=r.BYTERANGE.split("@"),s=n(a,2),o=s[0],l=s[1];i.byterange={},o&&(i.byterange.length=parseInt(o,10)),l&&(i.byterange.offset=parseInt(l,10))}}this.trigger("data",i)}else if(e=/^#EXT-X-STREAM-INF:?(.*)$/.exec(t),e){if(i={type:"tag",tagType:"stream-inf"},e[1]){if(i.attributes=h(e[1]),i.attributes.RESOLUTION){var c=i.attributes.RESOLUTION.split("x"),u={};c[0]&&(u.width=parseInt(c[0],10)),c[1]&&(u.height=parseInt(c[1],10)),i.attributes.RESOLUTION=u}i.attributes.BANDWIDTH&&(i.attributes.BANDWIDTH=parseInt(i.attributes.BANDWIDTH,10)),i.attributes["PROGRAM-ID"]&&(i.attributes["PROGRAM-ID"]=parseInt(i.attributes["PROGRAM-ID"],10))}this.trigger("data",i)}else{if(e=/^#EXT-X-MEDIA:?(.*)$/.exec(t),e)return i={type:"tag",tagType:"media"},e[1]&&(i.attributes=h(e[1])),void this.trigger("data",i);if(e=/^#EXT-X-ENDLIST/.exec(t),e)this.trigger("data",{type:"tag",tagType:"endlist"});else if(e=/^#EXT-X-DISCONTINUITY/.exec(t),e)this.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(e=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(t),e)return i={type:"tag",tagType:"program-date-time"},e[1]&&(i.dateTimeString=e[1],i.dateTimeObject=new Date(e[1])),void this.trigger("data",i);if(e=/^#EXT-X-KEY:?(.*)$/.exec(t),e)return i={type:"tag",tagType:"key"},e[1]&&(i.attributes=h(e[1]),i.attributes.IV&&("0x"===i.attributes.IV.substring(0,2).toLowerCase()&&(i.attributes.IV=i.attributes.IV.substring(2)),i.attributes.IV=i.attributes.IV.match(/.{8}/g),i.attributes.IV[0]=parseInt(i.attributes.IV[0],16),i.attributes.IV[1]=parseInt(i.attributes.IV[1],16),i.attributes.IV[2]=parseInt(i.attributes.IV[2],16),i.attributes.IV[3]=parseInt(i.attributes.IV[3],16),i.attributes.IV=new Uint32Array(i.attributes.IV))),void this.trigger("data",i);if(e=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(t),e)return i={type:"tag",tagType:"cue-out-cont"},e[1]?i.data=e[1]:i.data="",void this.trigger("data",i);if(e=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(t),e)return i={type:"tag",tagType:"cue-out"},e[1]?i.data=e[1]:i.data="",void this.trigger("data",i);if(e=/^#EXT-X-CUE-IN:?(.*)?$/.exec(t),e)return i={type:"tag",tagType:"cue-in"},e[1]?i.data=e[1]:i.data="",void this.trigger("data",i);this.trigger("data",{type:"tag",data:t.slice(4)})}}}else this.trigger("data",{type:"comment",text:t.slice(1)});else this.trigger("data",{type:"uri",uri:t})}}]),e}(s["default"]);e["default"]=f},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(1265),a=i(729),s=n(a);e["default"]={decrypt:r.decrypt,Decrypter:r.Decrypter,AsyncStream:s["default"]},t.exports=e["default"]},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t,e,i){var n=!0;while(n){var r=t,a=e,s=i;n=!1,null===r&&(r=Function.prototype);var o=Object.getOwnPropertyDescriptor(r,a);if(void 0!==o){if("value"in o)return o.value;var l=o.get;if(void 0===l)return;return l.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=a,i=s,n=!0,o=c=void 0}};function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var l=i(1267),c=a(l),u=function(t){function e(){s(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,c["default"]),this.jobs=[],this.delay=1,this.timeout_=null}return o(e,t),n(e,[{key:"processJob_",value:function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}},{key:"push",value:function(t){this.jobs.push(t),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}]),e}(c["default"]);e["default"]=u,t.exports=e["default"]},function(t,e,i){t.exports={tag:i(559),Transmuxer:i(1274),getFlvHeader:i(1280)}},function(t,e,i){"use strict";var n,r,a,s=i(218),o=i(1275),l=i(479),c=i(732).TimestampRolloverStream,u=i(479),d=188,h=71;n=function(){var t=new Uint8Array(d),e=0;n.prototype.init.call(this),this.push=function(i){var n,r=0,a=d;e?(n=new Uint8Array(i.byteLength+e),n.set(t.subarray(0,e)),n.set(i,e),e=0):n=i;while(a<n.byteLength)n[r]!==h||n[a]!==h?(r++,a++):(this.trigger("data",n.subarray(r,a)),r+=d,a+=d);r<n.byteLength&&(t.set(n.subarray(r),0),e=n.byteLength-r)},this.flush=function(){e===d&&t[0]===h&&(this.trigger("data",t),e=0),this.trigger("done")}},n.prototype=new s,r=function(){var t,e,i,n;r.prototype.init.call(this),n=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,t=function(t,n){var r=0;n.payloadUnitStartIndicator&&(r+=t[r]+1),"pat"===n.type?e(t.subarray(r),n):i(t.subarray(r),n)},e=function(t,e){e.section_number=t[7],e.last_section_number=t[8],n.pmtPid=(31&t[10])<<8|t[11],e.pmtPid=n.pmtPid},i=function(t,e){var i,r,a,s;if(1&t[5]){n.programMapTable={video:null,audio:null,"timed-metadata":{}},i=(15&t[1])<<8|t[2],r=3+i-4,a=(15&t[10])<<8|t[11],s=12+a;while(s<r){var o=t[s],c=(31&t[s+1])<<8|t[s+2];o===l.H264_STREAM_TYPE&&null===n.programMapTable.video?n.programMapTable.video=c:o===l.ADTS_STREAM_TYPE&&null===n.programMapTable.audio?n.programMapTable.audio=c:o===l.METADATA_STREAM_TYPE&&(n.programMapTable["timed-metadata"][c]=o),s+=5+((15&t[s+3])<<8|t[s+4])}e.programMapTable=n.programMapTable}},this.push=function(e){var i={},n=4;if(i.payloadUnitStartIndicator=!!(64&e[1]),i.pid=31&e[1],i.pid<<=8,i.pid|=e[2],(48&e[3])>>>4>1&&(n+=e[n]+1),0===i.pid)i.type="pat",t(e.subarray(n),i),this.trigger("data",i);else if(i.pid===this.pmtPid){i.type="pmt",t(e.subarray(n),i),this.trigger("data",i);while(this.packetsWaitingForPmt.length)this.processPes_.apply(this,this.packetsWaitingForPmt.shift())}else void 0===this.programMapTable?this.packetsWaitingForPmt.push([e,n,i]):this.processPes_(e,n,i)},this.processPes_=function(t,e,i){i.pid===this.programMapTable.video?i.streamType=l.H264_STREAM_TYPE:i.pid===this.programMapTable.audio?i.streamType=l.ADTS_STREAM_TYPE:i.streamType=this.programMapTable["timed-metadata"][i.pid],i.type="pes",i.data=t.subarray(e),this.trigger("data",i)}},r.prototype=new s,r.STREAM_TYPES={h264:27,adts:15},a=function(){var t=this,e={data:[],size:0},i={data:[],size:0},n={data:[],size:0},r=function(t,e){var i;e.packetLength=6+(t[4]<<8|t[5]),e.dataAlignmentIndicator=0!==(4&t[6]),i=t[7],192&i&&(e.pts=(14&t[9])<<27|(255&t[10])<<20|(254&t[11])<<12|(255&t[12])<<5|(254&t[13])>>>3,e.pts*=4,e.pts+=(6&t[13])>>>1,e.dts=e.pts,64&i&&(e.dts=(14&t[14])<<27|(255&t[15])<<20|(254&t[16])<<12|(255&t[17])<<5|(254&t[18])>>>3,e.dts*=4,e.dts+=(6&t[18])>>>1)),e.data=t.subarray(9+t[8])},s=function(e,i,n){var a,s=new Uint8Array(e.size),o={type:i},l=0,c=0,u=!1;if(e.data.length&&!(e.size<9)){for(o.trackId=e.data[0].pid,l=0;l<e.data.length;l++)a=e.data[l],s.set(a.data,c),c+=a.data.byteLength;r(s,o),u="video"===i||o.packetLength<=e.size,(n||u)&&(e.size=0,e.data.length=0),u&&t.trigger("data",o)}};a.prototype.init.call(this),this.push=function(r){({pat:function(){},pes:function(){var t,a;switch(r.streamType){case l.H264_STREAM_TYPE:case u.H264_STREAM_TYPE:t=e,a="video";break;case l.ADTS_STREAM_TYPE:t=i,a="audio";break;case l.METADATA_STREAM_TYPE:t=n,a="timed-metadata";break;default:return}r.payloadUnitStartIndicator&&s(t,a,!0),t.data.push(r),t.size+=r.data.byteLength},pmt:function(){var e={type:"metadata",tracks:[]},i=r.programMapTable;null!==i.video&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+i.video,codec:"avc",type:"video"}),null!==i.audio&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+i.audio,codec:"adts",type:"audio"}),t.trigger("data",e)}})[r.type]()},this.flush=function(){s(e,"video"),s(i,"audio"),s(n,"timed-metadata"),this.trigger("done")}},a.prototype=new s;var f={PAT_PID:0,MP2T_PACKET_LENGTH:d,TransportPacketStream:n,TransportParseStream:r,ElementaryStream:a,TimestampRolloverStream:c,CaptionStream:o.CaptionStream,Cea608Stream:o.Cea608Stream,MetadataStream:i(1276)};for(var p in l)l.hasOwnProperty(p)&&(f[p]=l[p]);t.exports=f},function(t,e,i){"use strict";var n=i(218),r=8589934592,a=4294967296,s=function(t,e){var i=1;t>e&&(i=-1);while(Math.abs(e-t)>a)t+=i*r;return t},o=function(t){var e,i;o.prototype.init.call(this),this.type_=t,this.push=function(t){t.type===this.type_&&(void 0===i&&(i=t.dts),t.dts=s(t.dts,i),t.pts=s(t.pts,i),e=t.dts,this.trigger("data",t))},this.flush=function(){i=e,this.trigger("done")},this.discontinuity=function(){i=void 0,e=void 0}};o.prototype=new n,t.exports={TimestampRolloverStream:o,handleRollover:s}},function(t,e,i){"use strict";var n,r=i(218),a=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];n=function(){var t;n.prototype.init.call(this),this.push=function(e){var i,n,r,s,o,l,c=0,u=0;if("audio"===e.type){t?(s=t,t=new Uint8Array(s.byteLength+e.data.byteLength),t.set(s),t.set(e.data,s.byteLength)):t=e.data;while(c+5<t.length)if(255===t[c]&&240===(246&t[c+1])){if(n=2*(1&~t[c+1]),i=(3&t[c+3])<<11|t[c+4]<<3|(224&t[c+5])>>5,o=1024*(1+(3&t[c+6])),l=9e4*o/a[(60&t[c+2])>>>2],r=c+i,t.byteLength<r)return;if(this.trigger("data",{pts:e.pts+u*l,dts:e.dts+u*l,sampleCount:o,audioobjecttype:1+(t[c+2]>>>6&3),channelcount:(1&t[c+2])<<2|(192&t[c+3])>>>6,samplerate:a[(60&t[c+2])>>>2],samplingfrequencyindex:(60&t[c+2])>>>2,samplesize:16,data:t.subarray(c+7+n,r)}),t.byteLength===r)return void(t=void 0);u++,t=t.subarray(r)}else c++}},this.flush=function(){this.trigger("done")}},n.prototype=new r,t.exports=n},function(t,e,i){"use strict";var n,r,a,s=i(218),o=i(1277);r=function(){var t,e,i=0;r.prototype.init.call(this),this.push=function(n){var r;for(e?(r=new Uint8Array(e.byteLength+n.data.byteLength),r.set(e),r.set(n.data,e.byteLength),e=r):e=n.data;i<e.byteLength-3;i++)if(1===e[i+2]){t=i+5;break}while(t<e.byteLength)switch(e[t]){case 0:if(0!==e[t-1]){t+=2;break}if(0!==e[t-2]){t++;break}i+3!==t-2&&this.trigger("data",e.subarray(i+3,t-2));do{t++}while(1!==e[t]&&t<e.length);i=t-2,t+=3;break;case 1:if(0!==e[t-1]||0!==e[t-2]){t+=3;break}this.trigger("data",e.subarray(i+3,t-2)),i=t-2,t+=3;break;default:t+=3;break}e=e.subarray(i),t-=i,i=0},this.flush=function(){e&&e.byteLength>3&&this.trigger("data",e.subarray(i+3)),e=null,i=0,this.trigger("done")}},r.prototype=new s,a={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},n=function(){var t,e,i,s,l,c,u,d=new r;n.prototype.init.call(this),t=this,this.push=function(t){"video"===t.type&&(e=t.trackId,i=t.pts,s=t.dts,d.push(t))},d.on("data",(function(n){var r={trackId:e,pts:i,dts:s,data:n};switch(31&n[0]){case 5:r.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:r.nalUnitType="sei_rbsp",r.escapedRBSP=l(n.subarray(1));break;case 7:r.nalUnitType="seq_parameter_set_rbsp",r.escapedRBSP=l(n.subarray(1)),r.config=c(r.escapedRBSP);break;case 8:r.nalUnitType="pic_parameter_set_rbsp";break;case 9:r.nalUnitType="access_unit_delimiter_rbsp";break;default:break}t.trigger("data",r)})),d.on("done",(function(){t.trigger("done")})),this.flush=function(){d.flush()},u=function(t,e){var i,n,r=8,a=8;for(i=0;i<t;i++)0!==a&&(n=e.readExpGolomb(),a=(r+n+256)%256),r=0===a?r:a},l=function(t){var e,i,n=t.byteLength,r=[],a=1;while(a<n-2)0===t[a]&&0===t[a+1]&&3===t[a+2]?(r.push(a+2),a+=2):a++;if(0===r.length)return t;e=n-r.length,i=new Uint8Array(e);var s=0;for(a=0;a<e;s++,a++)s===r[0]&&(s++,r.shift()),i[a]=t[s];return i},c=function(t){var e,i,n,r,s,l,c,d,h,f,p,m,v,g,y=0,_=0,b=0,T=0,S=1;if(e=new o(t),i=e.readUnsignedByte(),r=e.readUnsignedByte(),n=e.readUnsignedByte(),e.skipUnsignedExpGolomb(),a[i]&&(s=e.readUnsignedExpGolomb(),3===s&&e.skipBits(1),e.skipUnsignedExpGolomb(),e.skipUnsignedExpGolomb(),e.skipBits(1),e.readBoolean()))for(p=3!==s?8:12,g=0;g<p;g++)e.readBoolean()&&u(g<6?16:64,e);if(e.skipUnsignedExpGolomb(),l=e.readUnsignedExpGolomb(),0===l)e.readUnsignedExpGolomb();else if(1===l)for(e.skipBits(1),e.skipExpGolomb(),e.skipExpGolomb(),c=e.readUnsignedExpGolomb(),g=0;g<c;g++)e.skipExpGolomb();if(e.skipUnsignedExpGolomb(),e.skipBits(1),d=e.readUnsignedExpGolomb(),h=e.readUnsignedExpGolomb(),f=e.readBits(1),0===f&&e.skipBits(1),e.skipBits(1),e.readBoolean()&&(y=e.readUnsignedExpGolomb(),_=e.readUnsignedExpGolomb(),b=e.readUnsignedExpGolomb(),T=e.readUnsignedExpGolomb()),e.readBoolean()&&e.readBoolean()){switch(v=e.readUnsignedByte(),v){case 1:m=[1,1];break;case 2:m=[12,11];break;case 3:m=[10,11];break;case 4:m=[16,11];break;case 5:m=[40,33];break;case 6:m=[24,11];break;case 7:m=[20,11];break;case 8:m=[32,11];break;case 9:m=[80,33];break;case 10:m=[18,11];break;case 11:m=[15,11];break;case 12:m=[64,33];break;case 13:m=[160,99];break;case 14:m=[4,3];break;case 15:m=[3,2];break;case 16:m=[2,1];break;case 255:m=[e.readUnsignedByte()<<8|e.readUnsignedByte(),e.readUnsignedByte()<<8|e.readUnsignedByte()];break}m&&(S=m[0]/m[1])}return{profileIdc:i,levelIdc:n,profileCompatibility:r,width:Math.ceil((16*(d+1)-2*y-2*_)*S),height:(2-f)*(h+1)*16-2*b-2*T}}},n.prototype=new s,t.exports={H264Stream:n,NalByteStream:r}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){var n=e.player_;if(i.captions&&i.captions.length)for(var r in t.inbandTextTracks_||(t.inbandTextTracks_={}),i.captionStreams)if(!t.inbandTextTracks_[r]){n.tech_.trigger({type:"usage",name:"hls-608"});var a=n.textTracks().getTrackById(r);t.inbandTextTracks_[r]=a||n.addRemoteTextTrack({kind:"captions",id:r,label:r},!1).track}i.metadata&&i.metadata.length&&!t.metadataTrack_&&(t.metadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,t.metadataTrack_.inBandMetadataTrackDispatchType=i.metadata.dispatchType)};e["default"]=n,t.exports=e["default"]},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();function r(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=i(106),o=r(s),l=i(730),c=r(l),u=function(t){t.on("data",(function(t){o["default"].postMessage({action:"data",segment:t})})),t.on("done",(function(t){o["default"].postMessage({action:"done"})}))},d=function(){function t(e){a(this,t),this.options=e||{},this.init()}return n(t,[{key:"init",value:function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new c["default"].Transmuxer(this.options),u(this.transmuxer)}},{key:"push",value:function(t){var e=new Uint8Array(t.data,t.byteOffset,t.byteLength);this.transmuxer.push(e)}},{key:"reset",value:function(){this.init()}},{key:"flush",value:function(){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}}]),t}(),h=function(t){t.onmessage=function(t){"init"===t.data.action&&t.data.options?this.messageHandlers=new d(t.data.options):(this.messageHandlers||(this.messageHandlers=new d),t.data&&t.data.action&&"init"!==t.data.action&&this.messageHandlers[t.data.action]&&this.messageHandlers[t.data.action](t.data))}};e["default"]=function(t){return new h(t)},t.exports=e["default"]},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={TIME_BETWEEN_CHUNKS:1,BYTES_PER_CHUNK:32768};e["default"]=n,t.exports=e["default"]},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();function r(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=i(106),o=r(s),l=i(1283),c=r(l),u=function(t){t.on("data",(function(t){var e=t.initSegment;t.initSegment={data:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength};var i=t.data;t.data=i.buffer,o["default"].postMessage({action:"data",segment:t,byteOffset:i.byteOffset,byteLength:i.byteLength},[t.data])})),t.captionStream&&t.captionStream.on("data",(function(t){o["default"].postMessage({action:"caption",data:t})})),t.on("done",(function(t){o["default"].postMessage({action:"done"})})),t.on("gopInfo",(function(t){o["default"].postMessage({action:"gopInfo",gopInfo:t})}))},d=function(){function t(e){a(this,t),this.options=e||{},this.init()}return n(t,[{key:"init",value:function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new c["default"].Transmuxer(this.options),u(this.transmuxer)}},{key:"push",value:function(t){var e=new Uint8Array(t.data,t.byteOffset,t.byteLength);this.transmuxer.push(e)}},{key:"reset",value:function(){this.init()}},{key:"setTimestampOffset",value:function(t){var e=t.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(9e4*e))}},{key:"setAudioAppendStart",value:function(t){this.transmuxer.setAudioAppendStart(Math.ceil(9e4*t.appendStart))}},{key:"flush",value:function(t){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}},{key:"alignGopsWith",value:function(t){this.transmuxer.alignGopsWith(t.gopsToAlignWith.slice())}}]),t}(),h=function(t){t.onmessage=function(t){"init"===t.data.action&&t.data.options?this.messageHandlers=new d(t.data.options):(this.messageHandlers||(this.messageHandlers=new d),t.data&&t.data.action&&"init"!==t.data.action&&this.messageHandlers[t.data.action]&&this.messageHandlers[t.data.action](t.data))}};e["default"]=function(t){return new h(t)},t.exports=e["default"]},function(t,e,i){"use strict";var n,r,a,s,o,l,c,u,d,h,f,p,m,v,g,y,_,b,T,S,w,C,k,x,E,P,O,I,L,A,D,M,j,N,R,B,U=Math.pow(2,32)-1;(function(){var t;if(k={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!==typeof Uint8Array){for(t in k)k.hasOwnProperty(t)&&(k[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);x=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),P=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),E=new Uint8Array([0,0,0,1]),O=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),I=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),L={video:O,audio:I},M=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),D=new Uint8Array([0,0,0,0,0,0,0,0]),j=new Uint8Array([0,0,0,0,0,0,0,0]),N=j,R=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),B=j,A=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),n=function(t){var e,i,n,r=[],a=0;for(e=1;e<arguments.length;e++)r.push(arguments[e]);e=r.length;while(e--)a+=r[e].byteLength;for(i=new Uint8Array(a+8),n=new DataView(i.buffer,i.byteOffset,i.byteLength),n.setUint32(0,i.byteLength),i.set(t,4),e=0,a=8;e<r.length;e++)i.set(r[e],a),a+=r[e].byteLength;return i},r=function(){return n(k.dinf,n(k.dref,M))},a=function(t){return n(k.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,t.audioobjecttype<<3|t.samplingfrequencyindex>>>1,t.samplingfrequencyindex<<7|t.channelcount<<3,6,1,2]))},s=function(){return n(k.ftyp,x,E,x,P)},y=function(t){return n(k.hdlr,L[t])},o=function(t){return n(k.mdat,t)},g=function(t){var e=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,t.duration>>>24&255,t.duration>>>16&255,t.duration>>>8&255,255&t.duration,85,196,0,0]);return t.samplerate&&(e[12]=t.samplerate>>>24&255,e[13]=t.samplerate>>>16&255,e[14]=t.samplerate>>>8&255,e[15]=255&t.samplerate),n(k.mdhd,e)},v=function(t){return n(k.mdia,g(t),y(t.type),c(t))},l=function(t){return n(k.mfhd,new Uint8Array([0,0,0,0,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t]))},c=function(t){return n(k.minf,"video"===t.type?n(k.vmhd,A):n(k.smhd,D),r(),b(t))},u=function(t,e){var i=[],r=e.length;while(r--)i[r]=S(e[r]);return n.apply(null,[k.moof,l(t)].concat(i))},d=function(t){var e=t.length,i=[];while(e--)i[e]=p(t[e]);return n.apply(null,[k.moov,f(4294967295)].concat(i).concat(h(t)))},h=function(t){var e=t.length,i=[];while(e--)i[e]=w(t[e]);return n.apply(null,[k.mvex].concat(i))},f=function(t){var e=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return n(k.mvhd,e)},_=function(t){var e,i,r=t.samples||[],a=new Uint8Array(4+r.length);for(i=0;i<r.length;i++)e=r[i].flags,a[i+4]=e.dependsOn<<4|e.isDependedOn<<2|e.hasRedundancy;return n(k.sdtp,a)},b=function(t){return n(k.stbl,T(t),n(k.stts,B),n(k.stsc,N),n(k.stsz,R),n(k.stco,j))},function(){var t,e;T=function(i){return n(k.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===i.type?t(i):e(i))},t=function(t){var e,i=t.sps||[],r=t.pps||[],a=[],s=[];for(e=0;e<i.length;e++)a.push((65280&i[e].byteLength)>>>8),a.push(255&i[e].byteLength),a=a.concat(Array.prototype.slice.call(i[e]));for(e=0;e<r.length;e++)s.push((65280&r[e].byteLength)>>>8),s.push(255&r[e].byteLength),s=s.concat(Array.prototype.slice.call(r[e]));return n(k.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&t.width)>>8,255&t.width,(65280&t.height)>>8,255&t.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),n(k.avcC,new Uint8Array([1,t.profileIdc,t.profileCompatibility,t.levelIdc,255].concat([i.length]).concat(a).concat([r.length]).concat(s))),n(k.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},e=function(t){return n(k.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&t.channelcount)>>8,255&t.channelcount,(65280&t.samplesize)>>8,255&t.samplesize,0,0,0,0,(65280&t.samplerate)>>8,255&t.samplerate,0,0]),a(t))}}(),m=function(t){var e=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,0,(4278190080&t.duration)>>24,(16711680&t.duration)>>16,(65280&t.duration)>>8,255&t.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&t.width)>>8,255&t.width,0,0,(65280&t.height)>>8,255&t.height,0,0]);return n(k.tkhd,e)},S=function(t){var e,i,r,a,s,o,l;return e=n(k.tfhd,new Uint8Array([0,0,0,58,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),o=Math.floor(t.baseMediaDecodeTime/(U+1)),l=Math.floor(t.baseMediaDecodeTime%(U+1)),i=n(k.tfdt,new Uint8Array([1,0,0,0,o>>>24&255,o>>>16&255,o>>>8&255,255&o,l>>>24&255,l>>>16&255,l>>>8&255,255&l])),s=92,"audio"===t.type?(r=C(t,s),n(k.traf,e,i,r)):(a=_(t),r=C(t,a.length+s),n(k.traf,e,i,r,a))},p=function(t){return t.duration=t.duration||4294967295,n(k.trak,m(t),v(t))},w=function(t){var e=new Uint8Array([0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==t.type&&(e[e.length-1]=0),n(k.trex,e)},function(){var t,e,i;i=function(t,e){var i=0,n=0,r=0,a=0;return t.length&&(void 0!==t[0].duration&&(i=1),void 0!==t[0].size&&(n=2),void 0!==t[0].flags&&(r=4),void 0!==t[0].compositionTimeOffset&&(a=8)),[0,0,i|n|r|a,1,(4278190080&t.length)>>>24,(16711680&t.length)>>>16,(65280&t.length)>>>8,255&t.length,(4278190080&e)>>>24,(16711680&e)>>>16,(65280&e)>>>8,255&e]},e=function(t,e){var r,a,s,o;for(a=t.samples||[],e+=20+16*a.length,r=i(a,e),o=0;o<a.length;o++)s=a[o],r=r.concat([(4278190080&s.duration)>>>24,(16711680&s.duration)>>>16,(65280&s.duration)>>>8,255&s.duration,(4278190080&s.size)>>>24,(16711680&s.size)>>>16,(65280&s.size)>>>8,255&s.size,s.flags.isLeading<<2|s.flags.dependsOn,s.flags.isDependedOn<<6|s.flags.hasRedundancy<<4|s.flags.paddingValue<<1|s.flags.isNonSyncSample,61440&s.flags.degradationPriority,15&s.flags.degradationPriority,(4278190080&s.compositionTimeOffset)>>>24,(16711680&s.compositionTimeOffset)>>>16,(65280&s.compositionTimeOffset)>>>8,255&s.compositionTimeOffset]);return n(k.trun,new Uint8Array(r))},t=function(t,e){var r,a,s,o;for(a=t.samples||[],e+=20+8*a.length,r=i(a,e),o=0;o<a.length;o++)s=a[o],r=r.concat([(4278190080&s.duration)>>>24,(16711680&s.duration)>>>16,(65280&s.duration)>>>8,255&s.duration,(4278190080&s.size)>>>24,(16711680&s.size)>>>16,(65280&s.size)>>>8,255&s.size]);return n(k.trun,new Uint8Array(r))},C=function(i,n){return"audio"===i.type?t(i,n):e(i,n)}}(),t.exports={ftyp:s,mdat:o,moof:u,moov:d,initSegment:function(t){var e,i=s(),n=d(t);return e=new Uint8Array(i.byteLength+n.byteLength),e.set(i),e.set(n,i.byteLength),e}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t,e,i){var n=!0;while(n){var r=t,a=e,s=i;n=!1,null===r&&(r=Function.prototype);var o=Object.getOwnPropertyDescriptor(r,a);if(void 0!==o){if("value"in o)return o.value;var l=o.get;if(void 0===l)return;return l.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=a,i=s,n=!0,o=c=void 0}};function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var l=i(458),c=a(l),u=i(76),d=a(u),h=i(1288),f=a(h),p=i(508),m=a(p),v=i(106),g=a(v),y=i(506),_=a(y),b=i(478),T=i(1289),S=i(563),w=i(741),C=500,k=function(t,e,i){if(!t||!e)return!1;var n=t.segments,r=i===n.length;return t.endList&&"open"===e.readyState&&r},x=function(t){return"number"===typeof t&&isFinite(t)},E=function(t,e,i){return"main"===t&&e&&i?i.containsAudio||i.containsVideo?e.containsVideo&&!i.containsVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!e.containsVideo&&i.containsVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null};e.illegalMediaSwitch=E;var P=function(t,e,i){var n=void 0;return n=t.length&&t.start(0)>0&&t.start(0)<e?t.start(0):e-30,Math.min(n,e-i)};e.safeBackBufferTrimTime=P;var O=function(t){function e(t){var i=this,n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(s(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),!t)throw new TypeError("Initialization settings are required");if("function"!==typeof t.currentTime)throw new TypeError("No currentTime getter specified");if(!t.mediaSource)throw new TypeError("No MediaSource specified");this.state="INIT",this.bandwidth=t.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.hasPlayed_=t.hasPlayed,this.currentTime_=t.currentTime,this.seekable_=t.seekable,this.seeking_=t.seeking,this.duration_=t.duration,this.mediaSource_=t.mediaSource,this.hls_=t.hls,this.loaderType_=t.loaderType,this.startingMedia_=void 0,this.segmentMetadataTrack_=t.segmentMetadataTrack,this.goalBufferLength_=t.goalBufferLength,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.pendingSegment_=null,this.mimeType_=null,this.sourceUpdater_=null,this.xhrOptions_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.decrypter_=t.decrypter,this.syncController_=t.syncController,this.syncPoint_={segmentIndex:0,time:0},this.syncController_.on("syncinfoupdate",(function(){return i.trigger("syncinfoupdate")})),this.mediaSource_.addEventListener("sourceopen",(function(){return i.ended_=!1})),this.fetchAtBuffer_=!1,n.debug&&(this.logger_=d["default"].log.bind(d["default"],"segment-loader",this.loaderType_,"->"))}return o(e,t),n(e,[{key:"resetStats_",value:function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0}},{key:"dispose",value:function(){this.state="DISPOSED",this.pause(),this.abort_(),this.sourceUpdater_&&this.sourceUpdater_.dispose(),this.resetStats_()}},{key:"abort",value:function(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)}},{key:"abort_",value:function(){this.pendingSegment_&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null}},{key:"error",value:function(t){return"undefined"!==typeof t&&(this.error_=t),this.pendingSegment_=null,this.error_}},{key:"endOfStream",value:function(){this.ended_=!0,this.pause(),this.trigger("ended")}},{key:"buffered_",value:function(){return this.sourceUpdater_?this.sourceUpdater_.buffered():d["default"].createTimeRanges()}},{key:"initSegment",value:function(t){var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];if(!t)return null;var i=(0,b.initSegmentId)(t),n=this.initSegments_[i];return e&&!n&&t.bytes&&(this.initSegments_[i]=n={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:t.bytes}),n||t}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&(this.sourceUpdater_||this.mimeType_&&"INIT"===this.state)&&!this.paused()}},{key:"load",value:function(){if(this.monitorBuffer_(),this.playlist_){if(this.syncController_.setDateTimeMapping(this.playlist_),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY")}}},{key:"init_",value:function(){return this.state="READY",this.sourceUpdater_=new f["default"](this.mediaSource_,this.mimeType_),this.resetEverything(),this.monitorBuffer_()}},{key:"playlist",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(t){var i=this.playlist_,n=this.pendingSegment_;if(this.playlist_=t,this.xhrOptions_=e,this.hasPlayed_()||(t.syncInfo={mediaSequence:t.mediaSequence,time:0}),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(i&&i.uri===t.uri){var r=t.mediaSequence-i.mediaSequence;this.logger_("mediaSequenceDiff",r),null!==this.mediaIndex&&(this.mediaIndex-=r),n&&(n.mediaIndex-=r,n.mediaIndex>=0&&(n.segment=t.segments[n.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(i,t)}else null!==this.mediaIndex&&this.resyncLoader()}}},{key:"pause",value:function(){this.checkBufferTimeout_&&(g["default"].clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"paused",value:function(){return null===this.checkBufferTimeout_}},{key:"mimeType",value:function(t){this.mimeType_||(this.mimeType_=t,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_())}},{key:"resetEverything",value:function(){this.ended_=!1,this.resetLoader(),this.remove(0,this.duration_()),this.trigger("reseteverything")}},{key:"resetLoader",value:function(){this.fetchAtBuffer_=!1,this.resyncLoader()}},{key:"resyncLoader",value:function(){this.mediaIndex=null,this.syncPoint_=null,this.abort()}},{key:"remove",value:function(t,e){this.sourceUpdater_&&this.sourceUpdater_.remove(t,e),(0,_["default"])(t,e,this.segmentMetadataTrack_)}},{key:"monitorBuffer_",value:function(){this.checkBufferTimeout_&&g["default"].clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=g["default"].setTimeout(this.monitorBufferTick_.bind(this),1)}},{key:"monitorBufferTick_",value:function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&g["default"].clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=g["default"].setTimeout(this.monitorBufferTick_.bind(this),C)}},{key:"fillBuffer_",value:function(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var t=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(t){var e=k(this.playlist_,this.mediaSource_,t.mediaIndex);e?this.endOfStream():(t.mediaIndex!==this.playlist_.segments.length-1||"ended"!==this.mediaSource_.readyState||this.seeking_())&&((t.timeline!==this.currentTimeline_||null!==t.startOfSegment&&t.startOfSegment<this.sourceUpdater_.timestampOffset())&&(this.syncController_.reset(),t.timestampOffset=t.startOfSegment),this.loadSegment_(t))}}}},{key:"checkBuffer_",value:function(t,e,i,n,r,a){var s=0,o=void 0;t.length&&(s=t.end(t.length-1));var l=Math.max(0,s-r);if(!e.segments.length)return null;if(l>=this.goalBufferLength_())return null;if(!n&&l>=1)return null;if(this.logger_("checkBuffer_","mediaIndex:",i,"hasPlayed:",n,"currentTime:",r,"syncPoint:",a,"fetchAtBuffer:",this.fetchAtBuffer_,"bufferedTime:",l),null===a)return i=this.getSyncSegmentCandidate_(e),this.logger_("getSync","mediaIndex:",i),this.generateSegmentInfo_(e,i,null,!0);if(null!==i){this.logger_("walkForward","mediaIndex:",i+1);var u=e.segments[i];return o=u&&u.end?u.end:s,this.generateSegmentInfo_(e,i+1,o,!1)}if(this.fetchAtBuffer_){var d=c["default"].getMediaInfoForTime(e,s,a.segmentIndex,a.time);i=d.mediaIndex,o=d.startTime}else{d=c["default"].getMediaInfoForTime(e,r,a.segmentIndex,a.time);i=d.mediaIndex,o=d.startTime}return this.logger_("getMediaIndexForTime","mediaIndex:",i,"startOfSegment:",o),this.generateSegmentInfo_(e,i,o,!1)}},{key:"getSyncSegmentCandidate_",value:function(t){var e=this;if(-1===this.currentTimeline_)return 0;var i=t.segments.map((function(t,e){return{timeline:t.timeline,segmentIndex:e}})).filter((function(t){return t.timeline===e.currentTimeline_}));return i.length?i[Math.min(i.length-1,1)].segmentIndex:Math.max(t.segments.length-1,0)}},{key:"generateSegmentInfo_",value:function(t,e,i,n){if(e<0||e>=t.segments.length)return null;var r=t.segments[e];return{requestId:"segment-loader-"+Math.random(),uri:r.resolvedUri,mediaIndex:e,isSyncRequest:n,startOfSegment:i,playlist:t,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:r.timeline,duration:r.duration,segment:r}}},{key:"abortRequestEarly_",value:function(t){if(this.hls_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)return!1;if(Date.now()-(t.firstBytesReceivedAt||Date.now())<1e3)return!1;var e=this.currentTime_(),i=t.bandwidth,n=this.pendingSegment_.duration,r=c["default"].estimateSegmentRequestTime(n,i,this.playlist_,t.bytesReceived),a=(0,S.timeUntilRebuffer)(this.buffered_(),e,this.hls_.tech_.playbackRate())-1;if(r<=a)return!1;var s=(0,w.minRebufferMaxBandwidthSelector)({master:this.hls_.playlists.master,currentTime:e,bandwidth:i,duration:this.duration_(),segmentDuration:n,timeUntilRebuffer:a,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(s){var o=r-a,l=o-s.rebufferingImpact,u=.5;return a<=S.TIME_FUDGE_FACTOR&&(u=1),!s.playlist||s.playlist.uri===this.playlist_.uri||l<u?!1:(this.bandwidth=s.playlist.attributes.BANDWIDTH*m["default"].BANDWIDTH_VARIANCE+1,this.abort(),this.trigger("earlyabort"),!0)}}},{key:"handleProgress_",value:function(t,e){this.pendingSegment_&&e.requestId===this.pendingSegment_.requestId&&!this.abortRequestEarly_(e.stats)&&this.trigger("progress")}},{key:"loadSegment_",value:function(t){this.state="WAITING",this.pendingSegment_=t,this.trimBackBuffer_(t),t.abortRequests=(0,T.mediaSegmentRequest)(this.hls_.xhr,this.xhrOptions_,this.decrypter_,this.createSimplifiedSegmentObj_(t),this.handleProgress_.bind(this),this.segmentRequestFinished_.bind(this))}},{key:"trimBackBuffer_",value:function(t){var e=P(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);e>0&&this.remove(0,e)}},{key:"createSimplifiedSegmentObj_",value:function(t){var e=t.segment,i={resolvedUri:e.resolvedUri,byterange:e.byterange,requestId:t.requestId};if(e.key){var n=e.key.iv||new Uint32Array([0,0,0,t.mediaIndex+t.playlist.mediaSequence]);i.key={resolvedUri:e.key.resolvedUri,iv:n}}return e.map&&(i.map=this.initSegment(e.map)),i}},{key:"segmentRequestFinished_",value:function(t,e){if(this.mediaRequests+=1,e.stats&&(this.mediaBytesTransferred+=e.stats.bytesReceived,this.mediaTransferDuration+=e.stats.roundTripTime),this.pendingSegment_){if(e.requestId===this.pendingSegment_.requestId){if(t)return this.pendingSegment_=null,this.state="READY",t.code===T.REQUEST_ERRORS.ABORTED?void(this.mediaRequestsAborted+=1):(this.pause(),t.code===T.REQUEST_ERRORS.TIMEOUT?(this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,void this.trigger("bandwidthupdate")):(this.mediaRequestsErrored+=1,this.error(t),void this.trigger("error")));this.bandwidth=e.stats.bandwidth,this.roundTrip=e.stats.roundTripTime,e.map&&(e.map=this.initSegment(e.map,!0)),this.processSegmentResponse_(e)}}else this.mediaRequestsAborted+=1}},{key:"processSegmentResponse_",value:function(t){var e=this.pendingSegment_;e.bytes=t.bytes,t.map&&(e.segment.map.bytes=t.map.bytes),e.endOfAllRequests=t.endOfAllRequests,this.handleSegment_()}},{key:"handleSegment_",value:function(){var t=this;if(this.pendingSegment_){var e=this.pendingSegment_,i=e.segment,n=this.syncController_.probeSegmentInfo(e);"undefined"===typeof this.startingMedia_&&n&&(n.containsAudio||n.containsVideo)&&(this.startingMedia_={containsAudio:n.containsAudio,containsVideo:n.containsVideo});var r=E(this.loaderType_,this.startingMedia_,n);if(r)return this.error({message:r,blacklistDuration:1/0}),void this.trigger("error");if(e.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");null!==e.timestampOffset&&e.timestampOffset!==this.sourceUpdater_.timestampOffset()&&(this.sourceUpdater_.timestampOffset(e.timestampOffset),this.trigger("timestampoffset"));var a=this.syncController_.mappingForTimeline(e.timeline);null!==a&&this.trigger({type:"segmenttimemapping",mapping:a}),this.state="APPENDING",i.map&&function(){var e=(0,b.initSegmentId)(i.map);if(!t.activeInitSegmentId_||t.activeInitSegmentId_!==e){var n=t.initSegment(i.map);t.sourceUpdater_.appendBuffer(n.bytes,(function(){t.activeInitSegmentId_=e}))}}(),e.byteLength=e.bytes.byteLength,"number"===typeof i.start&&"number"===typeof i.end?this.mediaSecondsLoaded+=i.end-i.start:this.mediaSecondsLoaded+=i.duration,this.sourceUpdater_.appendBuffer(e.bytes,this.handleUpdateEnd_.bind(this))}else this.state="READY"}},{key:"handleUpdateEnd_",value:function(){if(this.logger_("handleUpdateEnd_","segmentInfo:",this.pendingSegment_),!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var t=this.pendingSegment_,e=t.segment,i=null!==this.mediaIndex;if(this.pendingSegment_=null,this.recordThroughput_(t),this.addSegmentMetadataCue_(t),this.state="READY",this.mediaIndex=t.mediaIndex,this.fetchAtBuffer_=!0,this.currentTimeline_=t.timeline,this.trigger("syncinfoupdate"),e.end&&this.currentTime_()-e.end>3*t.playlist.targetDuration)this.resetEverything();else{i&&this.trigger("bandwidthupdate"),this.trigger("progress");var n=k(t.playlist,this.mediaSource_,t.mediaIndex+1);n&&this.endOfStream(),this.paused()||this.monitorBuffer_()}}},{key:"recordThroughput_",value:function(t){var e=this.throughput.rate,i=Date.now()-t.endOfAllRequests+1,n=Math.floor(t.byteLength/i*8*1e3);this.throughput.rate+=(n-e)/++this.throughput.count}},{key:"logger_",value:function(){}},{key:"addSegmentMetadataCue_",value:function(t){if(this.segmentMetadataTrack_){var e=t.segment,i=e.start,n=e.end;if(x(i)&&x(n)){(0,_["default"])(i,n,this.segmentMetadataTrack_);var r=g["default"].WebKitDataCue||g["default"].VTTCue,a={bandwidth:t.playlist.attributes.BANDWIDTH,resolution:t.playlist.attributes.RESOLUTION,codecs:t.playlist.attributes.CODECS,byteLength:t.byteLength,uri:t.uri,timeline:t.timeline,playlist:t.playlist.uri,start:i,end:n},s=JSON.stringify(a),o=new r(i,n,s);o.value=a,this.segmentMetadataTrack_.addCue(o)}}}}]),e}(d["default"].EventTarget);e["default"]=O},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(508),a=n(r),s=i(458),o=n(s),l=i(742),c=function(t,e){var i=void 0;return t?(i=window.getComputedStyle(t),i?i[e]:""):""},u=function(t,e){var i=t.slice();t.sort((function(t,n){var r=e(t,n);return 0===r?i.indexOf(t)-i.indexOf(n):r}))},d=function(t,e){var i=void 0,n=void 0;return t.attributes.BANDWIDTH&&(i=t.attributes.BANDWIDTH),i=i||window.Number.MAX_VALUE,e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),n=n||window.Number.MAX_VALUE,i-n};e.comparePlaylistBandwidth=d;var h=function(t,e){var i=void 0,n=void 0;return t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(i=t.attributes.RESOLUTION.width),i=i||window.Number.MAX_VALUE,e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),n=n||window.Number.MAX_VALUE,i===n&&t.attributes.BANDWIDTH&&e.attributes.BANDWIDTH?t.attributes.BANDWIDTH-e.attributes.BANDWIDTH:i-n};e.comparePlaylistResolution=h;var f=function(t,e,i,n){var r=t.playlists.map((function(t){var e=void 0,i=void 0,n=void 0;return e=t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width,i=t.attributes.RESOLUTION&&t.attributes.RESOLUTION.height,n=t.attributes.BANDWIDTH,n=n||window.Number.MAX_VALUE,{bandwidth:n,width:e,height:i,playlist:t}}));u(r,(function(t,e){return t.bandwidth-e.bandwidth})),r=r.filter((function(t){return!o["default"].isIncompatible(t.playlist)}));var s=r.filter((function(t){return o["default"].isEnabled(t.playlist)}));s.length||(s=r.filter((function(t){return!o["default"].isDisabled(t.playlist)})));var l=s.filter((function(t){return t.bandwidth*a["default"].BANDWIDTH_VARIANCE<e})),c=l[l.length-1],d=l.filter((function(t){return t.bandwidth===c.bandwidth}))[0],h=l.filter((function(t){return t.width&&t.height}));u(h,(function(t,e){return t.width-e.width}));var f=h.filter((function(t){return t.width===i&&t.height===n}));c=f[f.length-1];var p=f.filter((function(t){return t.bandwidth===c.bandwidth}))[0],m=void 0,v=void 0,g=void 0;p||(m=h.filter((function(t){return t.width>i||t.height>n})),v=m.filter((function(t){return t.width===m[0].width&&t.height===m[0].height})),c=v[v.length-1],g=v.filter((function(t){return t.bandwidth===c.bandwidth}))[0]);var y=g||p||d||s[0]||r[0];return y?y.playlist:null};e.simpleSelector=f;var p=function(){return f(this.playlists.master,this.systemBandwidth,parseInt(c(this.tech_.el(),"width"),10),parseInt(c(this.tech_.el(),"height"),10))};e.lastBandwidthSelector=p;var m=function(t){var e=-1;if(t<0||t>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){return e<0&&(e=this.systemBandwidth),e=t*this.systemBandwidth+(1-t)*e,f(this.playlists.master,e,parseInt(c(this.tech_.el(),"width"),10),parseInt(c(this.tech_.el(),"height"),10))}};e.movingAverageBandwidthSelector=m;var v=function(t){var e=t.master,i=t.currentTime,n=t.bandwidth,r=t.duration,a=t.segmentDuration,s=t.timeUntilRebuffer,l=t.currentTimeline,c=t.syncController,h=e.playlists.filter((function(t){return!o["default"].isIncompatible(t)})),f=h.filter(o["default"].isEnabled);f.length||(f=h.filter((function(t){return!o["default"].isDisabled(t)})));var p=f.filter(o["default"].hasAttribute.bind(null,"BANDWIDTH")),m=p.map((function(t){var e=c.getSyncPoint(t,r,l,i),u=e?1:2,d=o["default"].estimateSegmentRequestTime(a,n,t),h=d*u-s;return{playlist:t,rebufferingImpact:h}})),v=m.filter((function(t){return t.rebufferingImpact<=0}));return u(v,(function(t,e){return d(e.playlist,t.playlist)})),v.length?v[0]:(u(m,(function(t,e){return t.rebufferingImpact-e.rebufferingImpact})),m[0]||null)};e.minRebufferMaxBandwidthSelector=v;var g=function(){var t=this.playlists.master.playlists.filter(o["default"].isEnabled);u(t,(function(t,e){return d(t,e)}));var e=t.filter((function(t){return(0,l.parseCodecs)(t.attributes.CODECS).videoCodec}));return e[0]||null};e.lowestBitrateCompatibleVariantSelector=g},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0],e={codecCount:0},i=void 0;return e.codecCount=t.split(",").length,e.codecCount=e.codecCount||2,i=/(^|\s|,)+(avc1)([^ ,]*)/i.exec(t),i&&(e.videoCodec=i[2],e.videoObjectTypeIndicator=i[3]),e.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(t),e.audioProfile=e.audioProfile&&e.audioProfile[2],e};e.parseCodecs=n},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(106),a=n(r),s=i(728),o=i(478),l=function(t){t.onmessage=function(t){var e=t.data,i=new Uint8Array(e.encrypted.bytes,e.encrypted.byteOffset,e.encrypted.byteLength),n=new Uint32Array(e.key.bytes,e.key.byteOffset,e.key.byteLength/4),r=new Uint32Array(e.iv.bytes,e.iv.byteOffset,e.iv.byteLength/4);new s.Decrypter(i,n,r,(function(t,i){a["default"].postMessage((0,o.createTransferableMessage)({source:e.source,decrypted:i}),[i.buffer])}))}};e["default"]=function(t){return new l(t)},t.exports=e["default"]},function(t,e,i){var n=i(1301);"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var r=i(9).default;r("afdae682",n,!1,{sourceMap:!1,shadowMode:!1})},function(t,e,i){t.exports=i.p+"modules/nc/img/file-read-18689.png"},function(t,e,i){var n=i(20);e.f=n},function(t,e,i){"use strict";var n=i(35),r=i(425).map,a=i(211),s=a("map");n({target:"Array",proto:!0,forced:!s},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,i){var n=i(1308);"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var r=i(9).default;r("0567a3f8",n,!1,{sourceMap:!1,shadowMode:!1})},function(t,e,i){var n=i(1310);"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var r=i(9).default;r("3263f646",n,!1,{sourceMap:!1,shadowMode:!1})},function(t,e,i){var n=i(1312);"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var r=i(9).default;r("73ebcc94",n,!1,{sourceMap:!1,shadowMode:!1})},function(t,e,i){var n=i(1314);"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var r=i(9).default;r("56b0fcde",n,!1,{sourceMap:!1,shadowMode:!1})},function(t,e,i){var n=i(1316);"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var r=i(9).default;r("3c9c0552",n,!1,{sourceMap:!1,shadowMode:!1})},function(t,e,i){var n=i(1318);"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var r=i(9).default;r("0e66933d",n,!1,{sourceMap:!1,shadowMode:!1})},function(t,e,i){var n=i(1320);"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var r=i(9).default;r("7d660d46",n,!1,{sourceMap:!1,shadowMode:!1})},function(t,e,i){var n=i(1322);"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var r=i(9).default;r("4158b137",n,!1,{sourceMap:!1,shadowMode:!1})},function(t,e,i){var n=i(1324);"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var r=i(9).default;r("11a92a96",n,!1,{sourceMap:!1,shadowMode:!1})},function(t,e,i){var n=i(1326);"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var r=i(9).default;r("61b07ca2",n,!1,{sourceMap:!1,shadowMode:!1})},function(t,e,i){var n=i(1329);"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var r=i(9).default;r("42e1ff9f",n,!1,{sourceMap:!1,shadowMode:!1})},function(t,e,i){var n=i(1331);"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var r=i(9).default;r("2a80c3a2",n,!1,{sourceMap:!1,shadowMode:!1})},function(t,e,i){var n=i(1333);"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var r=i(9).default;r("3825e79c",n,!1,{sourceMap:!1,shadowMode:!1})},function(t,e,i){var n=i(1335);"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var r=i(9).default;r("0f34e160",n,!1,{sourceMap:!1,shadowMode:!1})},function(t,e,i){var n=i(1337);"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var r=i(9).default;r("1d4b1601",n,!1,{sourceMap:!1,shadowMode:!1})},function(t,e,i){var n=i(1339);"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var r=i(9).default;r("18f3d1a9",n,!1,{sourceMap:!1,shadowMode:!1})},function(t,e,i){var n=i(1341);"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var r=i(9).default;r("258d4f5c",n,!1,{sourceMap:!1,shadowMode:!1})},function(t,e,i){var n=i(1343);"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var r=i(9).default;r("0f25bed0",n,!1,{sourceMap:!1,shadowMode:!1})},function(t,e,i){var n=i(1348);"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var r=i(9).default;r("7be26879",n,!1,{sourceMap:!1,shadowMode:!1})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){i(243),t.exports=i(1356)},function(t,e){},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(1252),a=n(r),s=i(106),o=n(s),l=function(t,e){return/^[a-z]+:/i.test(e)?e:(/\/\//i.test(t)||(t=a["default"].buildAbsoluteURL(o["default"].location.href,t)),a["default"].buildAbsoluteURL(t,e))};e["default"]=l,t.exports=e["default"]},function(t,e,i){(function(e){var i=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#[^]*)?$/,n=/^([^\/?#]*)([^]*)$/,r=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,s={buildAbsoluteURL:function(t,e,i){if(i=i||{},t=t.trim(),e=e.trim(),!e){if(!i.alwaysNormalize)return t;var r=s.parseURL(t);if(!r)throw new Error("Error trying to parse base URL.");return r.path=s.normalizePath(r.path),s.buildURLFromParts(r)}var a=s.parseURL(e);if(!a)throw new Error("Error trying to parse relative URL.");if(a.scheme)return i.alwaysNormalize?(a.path=s.normalizePath(a.path),s.buildURLFromParts(a)):e;var o=s.parseURL(t);if(!o)throw new Error("Error trying to parse base URL.");if(!o.netLoc&&o.path&&"/"!==o.path[0]){var l=n.exec(o.path);o.netLoc=l[1],o.path=l[2]}o.netLoc&&!o.path&&(o.path="/");var c={scheme:o.scheme,netLoc:a.netLoc,path:null,params:a.params,query:a.query,fragment:a.fragment};if(!a.netLoc&&(c.netLoc=o.netLoc,"/"!==a.path[0]))if(a.path){var u=o.path,d=u.substring(0,u.lastIndexOf("/")+1)+a.path;c.path=s.normalizePath(d)}else c.path=o.path,a.params||(c.params=o.params,a.query||(c.query=o.query));return null===c.path&&(c.path=i.alwaysNormalize?s.normalizePath(a.path):a.path),s.buildURLFromParts(c)},parseURL:function(t){var e=i.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){t=t.split("").reverse().join("").replace(r,"");while(t.length!==(t=t.replace(a,"")).length);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}};t.exports=s})()},function(t,e){function i(t){return t.replace(/\n\r?\s*/g,"")}t.exports=function(t){for(var e="",n=0;n<arguments.length;n++)e+=i(t[n])+(arguments[n+1]||"");return e}},function(t,e){function i(t,e){var i,n=null;try{i=JSON.parse(t,e)}catch(r){n=r}return[n,i]}t.exports=i},function(t,e,i){"use strict";var n=i(106),r=i(1256),a=i(1257),s=i(1258);function o(t,e){for(var i=0;i<t.length;i++)e(t[i])}function l(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function c(t,e,i){var n=t;return r(e)?(i=e,"string"===typeof t&&(n={uri:t})):n=s(e,{uri:t}),n.callback=i,n}function u(t,e,i){return e=c(t,e,i),d(e)}function d(t){if("undefined"===typeof t.callback)throw new Error("callback argument missing");var e=!1,i=function(i,n,r){e||(e=!0,t.callback(i,n,r))};function n(){4===f.readyState&&setTimeout(o,0)}function r(){var t=void 0;if(t=f.response?f.response:f.responseText||h(f),b)try{t=JSON.parse(t)}catch(e){}return t}function s(t){return clearTimeout(p),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,i(t,T)}function o(){if(!d){var e;clearTimeout(p),e=t.useXDR&&void 0===f.status?200:1223===f.status?204:f.status;var n=T,s=null;return 0!==e?(n={body:r(),statusCode:e,method:v,headers:{},url:m,rawRequest:f},f.getAllResponseHeaders&&(n.headers=a(f.getAllResponseHeaders()))):s=new Error("Internal XMLHttpRequest Error"),i(s,n,n.body)}}var c,d,f=t.xhr||null;f||(f=t.cors||t.useXDR?new u.XDomainRequest:new u.XMLHttpRequest);var p,m=f.url=t.uri||t.url,v=f.method=t.method||"GET",g=t.body||t.data,y=f.headers=t.headers||{},_=!!t.sync,b=!1,T={body:void 0,headers:{},statusCode:0,method:v,url:m,rawRequest:f};if("json"in t&&!1!==t.json&&(b=!0,y["accept"]||y["Accept"]||(y["Accept"]="application/json"),"GET"!==v&&"HEAD"!==v&&(y["content-type"]||y["Content-Type"]||(y["Content-Type"]="application/json"),g=JSON.stringify(!0===t.json?g:t.json))),f.onreadystatechange=n,f.onload=o,f.onerror=s,f.onprogress=function(){},f.onabort=function(){d=!0},f.ontimeout=s,f.open(v,m,!_,t.username,t.password),_||(f.withCredentials=!!t.withCredentials),!_&&t.timeout>0&&(p=setTimeout((function(){if(!d){d=!0,f.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",s(t)}}),t.timeout)),f.setRequestHeader)for(c in y)y.hasOwnProperty(c)&&f.setRequestHeader(c,y[c]);else if(t.headers&&!l(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(f.responseType=t.responseType),"beforeSend"in t&&"function"===typeof t.beforeSend&&t.beforeSend(f),f.send(g||null),f}function h(t){if("document"===t.responseType)return t.responseXML;var e=t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;return""!==t.responseType||e?null:t.responseXML}function f(){}t.exports=u,u.XMLHttpRequest=n.XMLHttpRequest||f,u.XDomainRequest="withCredentials"in new u.XMLHttpRequest?u.XMLHttpRequest:n.XDomainRequest,o(["get","put","post","patch","head","delete"],(function(t){u["delete"===t?"del":t]=function(e,i,n){return i=c(e,i,n),i.method=t.toUpperCase(),d(i)}}))},function(t,e){t.exports=n;var i=Object.prototype.toString;function n(t){if(!t)return!1;var e=i.call(t);return"[object Function]"===e||"function"===typeof t&&"[object RegExp]"!==e||"undefined"!==typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}},function(t,e){var i=function(t){return t.replace(/^\s+|\s+$/g,"")},n=function(t){return"[object Array]"===Object.prototype.toString.call(t)};t.exports=function(t){if(!t)return{};for(var e={},r=i(t).split("\n"),a=0;a<r.length;a++){var s=r[a],o=s.indexOf(":"),l=i(s.slice(0,o)).toLowerCase(),c=i(s.slice(o+1));"undefined"===typeof e[l]?e[l]=c:n(e[l])?e[l].push(c):e[l]=[e[l],c]}return e}},function(t,e){t.exports=n;var i=Object.prototype.hasOwnProperty;function n(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var r in n)i.call(n,r)&&(t[r]=n[r])}return t}},function(t,e,i){var n=i(106),r=t.exports={WebVTT:i(1260),VTTCue:i(1261),VTTRegion:i(1262)};n.vttjs=r,n.WebVTT=r.WebVTT;var a=r.VTTCue,s=r.VTTRegion,o=n.VTTCue,l=n.VTTRegion;r.shim=function(){n.VTTCue=a,n.VTTRegion=s},r.restore=function(){n.VTTCue=o,n.VTTRegion=l},n.VTTCue||r.shim()},function(t,e){var i=Object.create||function(){function t(){}return function(e){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function n(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}function r(t){function e(t,e,i,n){return 3600*(0|t)+60*(0|e)+(0|i)+(0|n)/1e3}var i=t.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return i?i[3]?e(i[1],i[2],i[3].replace(":",""),i[4]):i[1]>59?e(i[1],i[2],0,i[4]):e(0,i[1],i[2],i[4]):null}function a(){this.values=i(null)}function s(t,e,i,n){var r=n?t.split(n):[t];for(var a in r)if("string"===typeof r[a]){var s=r[a].split(i);if(2===s.length){var o=s[0],l=s[1];e(o,l)}}}function o(t,e,i){var o=t;function l(){var e=r(t);if(null===e)throw new n(n.Errors.BadTimeStamp,"Malformed timestamp: "+o);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function c(t,e){var n=new a;s(t,(function(t,e){switch(t){case"region":for(var r=i.length-1;r>=0;r--)if(i[r].id===e){n.set(t,i[r].region);break}break;case"vertical":n.alt(t,e,["rl","lr"]);break;case"line":var a=e.split(","),s=a[0];n.integer(t,s),n.percent(t,s)&&n.set("snapToLines",!1),n.alt(t,s,["auto"]),2===a.length&&n.alt("lineAlign",a[1],["start","middle","end"]);break;case"position":a=e.split(","),n.percent(t,a[0]),2===a.length&&n.alt("positionAlign",a[1],["start","middle","end"]);break;case"size":n.percent(t,e);break;case"align":n.alt(t,e,["start","middle","end","left","right"]);break}}),/:/,/\s/),e.region=n.get("region",null),e.vertical=n.get("vertical",""),e.line=n.get("line","auto"),e.lineAlign=n.get("lineAlign","start"),e.snapToLines=n.get("snapToLines",!0),e.size=n.get("size",100),e.align=n.get("align","middle"),e.position=n.get("position",{start:0,left:0,middle:50,end:100,right:100},e.align),e.positionAlign=n.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},e.align)}function u(){t=t.replace(/^\s+/,"")}if(u(),e.startTime=l(),u(),"--\x3e"!==t.substr(0,3))throw new n(n.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+o);t=t.substr(3),u(),e.endTime=l(),u(),c(t,e)}n.prototype=i(Error.prototype),n.prototype.constructor=n,n.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},a.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,i){return i?this.has(t)?this.values[t]:e[i]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,i){for(var n=0;n<i.length;++n)if(e===i[n]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100))&&(this.set(t,e),!0)}};var l={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"‎","&rlm;":"‏","&nbsp;":" "},c={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},u={v:"title",lang:"lang"},d={rt:"ruby"};function h(t,e){function i(){if(!e)return null;function t(t){return e=e.substr(t.length),t}var i=e.match(/^([^<]*)(<[^>]*>?)?/);return t(i[1]?i[1]:i[2])}function n(t){return l[t]}function a(t){while(y=t.match(/&(amp|lt|gt|lrm|rlm|nbsp);/))t=t.replace(y[0],n);return t}function s(t,e){return!d[e.localName]||d[e.localName]===t.localName}function o(e,i){var n=c[e];if(!n)return null;var r=t.document.createElement(n);r.localName=n;var a=u[e];return a&&i&&(r[a]=i.trim()),r}var h,f=t.document.createElement("div"),p=f,m=[];while(null!==(h=i()))if("<"!==h[0])p.appendChild(t.document.createTextNode(a(h)));else{if("/"===h[1]){m.length&&m[m.length-1]===h.substr(2).replace(">","")&&(m.pop(),p=p.parentNode);continue}var v,g=r(h.substr(1,h.length-2));if(g){v=t.document.createProcessingInstruction("timestamp",g),p.appendChild(v);continue}var y=h.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!y)continue;if(v=o(y[1],y[3]),!v)continue;if(!s(p,v))continue;y[2]&&(v.className=y[2].substr(1).replace("."," ")),m.push(y[1]),p.appendChild(v),p=v}return f}var f=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function p(t){for(var e=0;e<f.length;e++){var i=f[e];if(t>=i[0]&&t<=i[1])return!0}return!1}function m(t){var e,i=[],n="";if(!t||!t.childNodes)return"ltr";function r(t,e){for(var i=e.childNodes.length-1;i>=0;i--)t.push(e.childNodes[i])}function a(t){if(!t||!t.length)return null;var e=t.pop(),i=e.textContent||e.innerText;if(i){var n=i.match(/^.*(\n|\r)/);return n?(t.length=0,n[0]):i}return"ruby"===e.tagName?a(t):e.childNodes?(r(t,e),a(t)):void 0}r(i,t);while(n=a(i))for(var s=0;s<n.length;s++)if(e=n.charCodeAt(s),p(e))return"rtl";return"ltr"}function v(t){if("number"===typeof t.line&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,i=e.textTrackList,n=0,r=0;r<i.length&&i[r]!==e;r++)"showing"===i[r].mode&&n++;return-1*++n}function g(){}function y(t,e,i){var n=/MSIE\s8\.0/.test(navigator.userAgent),r="rgba(255, 255, 255, 1)",a="rgba(0, 0, 0, 0.8)";n&&(r="rgb(255, 255, 255)",a="rgb(0, 0, 0)"),g.call(this),this.cue=e,this.cueDiv=h(t,e.text);var s={color:r,backgroundColor:a,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};n||(s.writingMode=""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",s.unicodeBidi="plaintext"),this.applyStyles(s,this.cueDiv),this.div=t.document.createElement("div"),s={textAlign:"middle"===e.align?"center":e.align,font:i.font,whiteSpace:"pre-line",position:"absolute"},n||(s.direction=m(this.cueDiv),s.writingMode=""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(s),this.div.appendChild(this.cueDiv);var o=0;switch(e.positionAlign){case"start":o=e.position;break;case"middle":o=e.position-e.size/2;break;case"end":o=e.position-e.size;break}""===e.vertical?this.applyStyles({left:this.formatStyle(o,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(o,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(t){this.applyStyles({top:this.formatStyle(t.top,"px"),bottom:this.formatStyle(t.bottom,"px"),left:this.formatStyle(t.left,"px"),right:this.formatStyle(t.right,"px"),height:this.formatStyle(t.height,"px"),width:this.formatStyle(t.width,"px")})}}function _(t){var e,i,n,r,a=/MSIE\s8\.0/.test(navigator.userAgent);if(t.div){i=t.div.offsetHeight,n=t.div.offsetWidth,r=t.div.offsetTop;var s=(s=t.div.childNodes)&&(s=s[0])&&s.getClientRects&&s.getClientRects();t=t.div.getBoundingClientRect(),e=s?Math.max(s[0]&&s[0].height||0,t.height/s.length):0}this.left=t.left,this.right=t.right,this.top=t.top||r,this.height=t.height||i,this.bottom=t.bottom||r+(t.height||i),this.width=t.width||n,this.lineHeight=void 0!==e?e:t.lineHeight,a&&!this.lineHeight&&(this.lineHeight=13)}function b(t,e,i,n){function r(t,e){for(var r,a=new _(t),s=1,o=0;o<e.length;o++){while(t.overlapsOppositeAxis(i,e[o])||t.within(i)&&t.overlapsAny(n))t.move(e[o]);if(t.within(i))return t;var l=t.intersectPercentage(i);s>l&&(r=new _(t),s=l),t=new _(a)}return r||a}var a=new _(e),s=e.cue,o=v(s),l=[];if(s.snapToLines){var c;switch(s.vertical){case"":l=["+y","-y"],c="height";break;case"rl":l=["+x","-x"],c="width";break;case"lr":l=["-x","+x"],c="width";break}var u=a.lineHeight,d=u*Math.round(o),h=i[c]+u,f=l[0];Math.abs(d)>h&&(d=d<0?-1:1,d*=Math.ceil(h/u)*u),o<0&&(d+=""===s.vertical?i.height:i.width,l=l.reverse()),a.move(f,d)}else{var p=a.lineHeight/i.height*100;switch(s.lineAlign){case"middle":o-=p/2;break;case"end":o-=p;break}switch(s.vertical){case"":e.applyStyles({top:e.formatStyle(o,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(o,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(o,"%")});break}l=["+y","-x","+x","-y"],a=new _(e)}var m=r(a,l);e.move(m.toCSSCompatValues(i))}function T(){}g.prototype.applyStyles=function(t,e){for(var i in e=e||this.div,t)t.hasOwnProperty(i)&&(e.style[i]=t[i])},g.prototype.formatStyle=function(t,e){return 0===t?0:t+e},y.prototype=i(g.prototype),y.prototype.constructor=y,_.prototype.move=function(t,e){switch(e=void 0!==e?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e;break}},_.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top},_.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1},_.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right},_.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}},_.prototype.intersectPercentage=function(t){var e=Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left)),i=Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top)),n=e*i;return n/(this.height*this.width)},_.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}},_.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,i=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,n=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t;var r={left:t.left,right:t.right,top:t.top||n,height:t.height||e,bottom:t.bottom||n+(t.height||e),width:t.width||i};return r},T.StringDecoder=function(){return{decode:function(t){if(!t)return"";if("string"!==typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}},T.convertCueToDOMTree=function(t,e){return t&&e?h(t,e):null};var S=.05,w="sans-serif",C="1.5%";T.processCues=function(t,e,i){if(!t||!e||!i)return null;while(i.firstChild)i.removeChild(i.firstChild);var n=t.document.createElement("div");function r(t){for(var e=0;e<t.length;e++)if(t[e].hasBeenReset||!t[e].displayState)return!0;return!1}if(n.style.position="absolute",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.margin=C,i.appendChild(n),r(e)){var a=[],s=_.getSimpleBoxPosition(n),o=Math.round(s.height*S*100)/100,l={font:o+"px "+w};(function(){for(var i,r,o=0;o<e.length;o++)r=e[o],i=new y(t,r,l),n.appendChild(i.div),b(t,i,s,a),r.displayState=i.div,a.push(_.getSimpleBoxPosition(i))})()}else for(var c=0;c<e.length;c++)n.appendChild(e[c].displayState)},T.Parser=function(t,e,i){i||(i=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=i||new TextDecoder("utf8"),this.regionList=[]},T.Parser.prototype={reportOrThrowError:function(t){if(!(t instanceof n))throw t;this.onparsingerror&&this.onparsingerror(t)},parse:function(t){var e=this;function i(){var t=e.buffer,i=0;while(i<t.length&&"\r"!==t[i]&&"\n"!==t[i])++i;var n=t.substr(0,i);return"\r"===t[i]&&++i,"\n"===t[i]&&++i,e.buffer=t.substr(i),n}function l(t){var i=new a;if(s(t,(function(t,e){switch(t){case"id":i.set(t,e);break;case"width":i.percent(t,e);break;case"lines":i.integer(t,e);break;case"regionanchor":case"viewportanchor":var n=e.split(",");if(2!==n.length)break;var r=new a;if(r.percent("x",n[0]),r.percent("y",n[1]),!r.has("x")||!r.has("y"))break;i.set(t+"X",r.get("x")),i.set(t+"Y",r.get("y"));break;case"scroll":i.alt(t,e,["up"]);break}}),/=/,/\s/),i.has("id")){var n=new(e.vttjs.VTTRegion||e.window.VTTRegion);n.width=i.get("width",100),n.lines=i.get("lines",3),n.regionAnchorX=i.get("regionanchorX",0),n.regionAnchorY=i.get("regionanchorY",100),n.viewportAnchorX=i.get("viewportanchorX",0),n.viewportAnchorY=i.get("viewportanchorY",100),n.scroll=i.get("scroll",""),e.onregion&&e.onregion(n),e.regionList.push({id:i.get("id"),region:n})}}function c(t){var i=new a;s(t,(function(t,e){switch(t){case"MPEGT":i.integer(t+"S",e);break;case"LOCA":i.set(t+"L",r(e));break}}),/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:i.get("MPEGTS"),LOCAL:i.get("LOCAL")})}function u(t){t.match(/X-TIMESTAMP-MAP/)?s(t,(function(t,e){switch(t){case"X-TIMESTAMP-MAP":c(e);break}}),/=/):s(t,(function(t,e){switch(t){case"Region":l(e);break}}),/:/)}t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));try{var d;if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;d=i();var h=d.match(/^WEBVTT([ \t].*)?$/);if(!h||!h[0])throw new n(n.Errors.BadSignature);e.state="HEADER"}var f=!1;while(e.buffer){if(!/\r\n|\n/.test(e.buffer))return this;switch(f?f=!1:d=i(),e.state){case"HEADER":/:/.test(d)?u(d):d||(e.state="ID");continue;case"NOTE":d||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(d)){e.state="NOTE";break}if(!d)continue;if(e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,""),e.state="CUE",-1===d.indexOf("--\x3e")){e.cue.id=d;continue}case"CUE":try{o(d,e.cue,e.regionList)}catch(m){e.reportOrThrowError(m),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var p=-1!==d.indexOf("--\x3e");if(!d||p&&(f=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+="\n"),e.cue.text+=d;continue;case"BADCUE":d||(e.state="ID");continue}}}catch(m){e.reportOrThrowError(m),"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||"HEADER"===t.state)&&(t.buffer+="\n\n",t.parse()),"INITIAL"===t.state)throw new n(n.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}},t.exports=T},function(t,e){var i="auto",n={"":!0,lr:!0,rl:!0},r={start:!0,middle:!0,end:!0,left:!0,right:!0};function a(t){if("string"!==typeof t)return!1;var e=n[t.toLowerCase()];return!!e&&t.toLowerCase()}function s(t){if("string"!==typeof t)return!1;var e=r[t.toLowerCase()];return!!e&&t.toLowerCase()}function o(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)t[n]=i[n]}return t}function l(t,e,n){var r=this,l=/MSIE\s8\.0/.test(navigator.userAgent),c={};l?r=document.createElement("custom"):c.enumerable=!0,r.hasBeenReset=!1;var u="",d=!1,h=t,f=e,p=n,m=null,v="",g=!0,y="auto",_="start",b=50,T="middle",S=50,w="middle";if(Object.defineProperty(r,"id",o({},c,{get:function(){return u},set:function(t){u=""+t}})),Object.defineProperty(r,"pauseOnExit",o({},c,{get:function(){return d},set:function(t){d=!!t}})),Object.defineProperty(r,"startTime",o({},c,{get:function(){return h},set:function(t){if("number"!==typeof t)throw new TypeError("Start time must be set to a number.");h=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"endTime",o({},c,{get:function(){return f},set:function(t){if("number"!==typeof t)throw new TypeError("End time must be set to a number.");f=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"text",o({},c,{get:function(){return p},set:function(t){p=""+t,this.hasBeenReset=!0}})),Object.defineProperty(r,"region",o({},c,{get:function(){return m},set:function(t){m=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"vertical",o({},c,{get:function(){return v},set:function(t){var e=a(t);if(!1===e)throw new SyntaxError("An invalid or illegal string was specified.");v=e,this.hasBeenReset=!0}})),Object.defineProperty(r,"snapToLines",o({},c,{get:function(){return g},set:function(t){g=!!t,this.hasBeenReset=!0}})),Object.defineProperty(r,"line",o({},c,{get:function(){return y},set:function(t){if("number"!==typeof t&&t!==i)throw new SyntaxError("An invalid number or illegal string was specified.");y=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"lineAlign",o({},c,{get:function(){return _},set:function(t){var e=s(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");_=e,this.hasBeenReset=!0}})),Object.defineProperty(r,"position",o({},c,{get:function(){return b},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");b=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"positionAlign",o({},c,{get:function(){return T},set:function(t){var e=s(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");T=e,this.hasBeenReset=!0}})),Object.defineProperty(r,"size",o({},c,{get:function(){return S},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");S=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"align",o({},c,{get:function(){return w},set:function(t){var e=s(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");w=e,this.hasBeenReset=!0}})),r.displayState=void 0,l)return r}l.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},t.exports=l},function(t,e){var i={"":!0,up:!0};function n(t){if("string"!==typeof t)return!1;var e=i[t.toLowerCase()];return!!e&&t.toLowerCase()}function r(t){return"number"===typeof t&&t>=0&&t<=100}function a(){var t=100,e=3,i=0,a=100,s=0,o=100,l="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(e){if(!r(e))throw new Error("Width must be between 0 and 100.");t=e}},lines:{enumerable:!0,get:function(){return e},set:function(t){if("number"!==typeof t)throw new TypeError("Lines must be set to a number.");e=t}},regionAnchorY:{enumerable:!0,get:function(){return a},set:function(t){if(!r(t))throw new Error("RegionAnchorX must be between 0 and 100.");a=t}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(t){if(!r(t))throw new Error("RegionAnchorY must be between 0 and 100.");i=t}},viewportAnchorY:{enumerable:!0,get:function(){return o},set:function(t){if(!r(t))throw new Error("ViewportAnchorY must be between 0 and 100.");o=t}},viewportAnchorX:{enumerable:!0,get:function(){return s},set:function(t){if(!r(t))throw new Error("ViewportAnchorX must be between 0 and 100.");s=t}},scroll:{enumerable:!0,get:function(){return l},set:function(t){var e=n(t);if(!1===e)throw new SyntaxError("An invalid or illegal string was specified.");l=e}}})}t.exports=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(558),s=d(a),o=i(726),l=d(o),c=i(727),u=d(c);function d(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function p(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var m=function(t){function e(){h(this,e);var t=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));t.lineStream=new l["default"],t.parseStream=new u["default"],t.lineStream.pipe(t.parseStream);var i=t,r=[],a={},s=void 0,o=void 0,c=function(){},d={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},p=0;return t.manifest={allowCache:!0,discontinuityStarts:[],segments:[]},t.parseStream.on("data",(function(t){var e=void 0,l=void 0;({tag:function(){({"allow-cache":function(){this.manifest.allowCache=t.allowed,"allowed"in t||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var e={};"length"in t&&(a.byterange=e,e.length=t.length,"offset"in t||(this.trigger("info",{message:"defaulting offset to zero"}),t.offset=0)),"offset"in t&&(a.byterange=e,e.offset=t.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),t.duration>0&&(a.duration=t.duration),0===t.duration&&(a.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=r},key:function(){t.attributes?"NONE"!==t.attributes.METHOD?t.attributes.URI?(t.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),o={method:t.attributes.METHOD||"AES-128",uri:t.attributes.URI},"undefined"!==typeof t.attributes.IV&&(o.iv=t.attributes.IV)):this.trigger("warn",{message:"ignoring key declaration without URI"}):o=null:this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(t.number)?this.manifest.mediaSequence=t.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+t.number})},"discontinuity-sequence":function(){isFinite(t.number)?(this.manifest.discontinuitySequence=t.number,p=t.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+t.number})},"playlist-type":function(){/VOD|EVENT/.test(t.playlistType)?this.manifest.playlistType=t.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+t.playlist})},map:function(){s={},t.uri&&(s.uri=t.uri),t.byterange&&(s.byterange=t.byterange)},"stream-inf":function(){this.manifest.playlists=r,this.manifest.mediaGroups=this.manifest.mediaGroups||d,t.attributes?(a.attributes||(a.attributes={}),n(a.attributes,t.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||d,t.attributes&&t.attributes.TYPE&&t.attributes["GROUP-ID"]&&t.attributes.NAME){var i=this.manifest.mediaGroups[t.attributes.TYPE];i[t.attributes["GROUP-ID"]]=i[t.attributes["GROUP-ID"]]||{},e=i[t.attributes["GROUP-ID"]],l={default:/yes/i.test(t.attributes.DEFAULT)},l["default"]?l.autoselect=!0:l.autoselect=/yes/i.test(t.attributes.AUTOSELECT),t.attributes.LANGUAGE&&(l.language=t.attributes.LANGUAGE),t.attributes.URI&&(l.uri=t.attributes.URI),t.attributes["INSTREAM-ID"]&&(l.instreamId=t.attributes["INSTREAM-ID"]),t.attributes.CHARACTERISTICS&&(l.characteristics=t.attributes.CHARACTERISTICS),t.attributes.FORCED&&(l.forced=/yes/i.test(t.attributes.FORCED)),e[t.attributes.NAME]=l}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){p+=1,a.discontinuity=!0,this.manifest.discontinuityStarts.push(r.length)},"program-date-time":function(){this.manifest.dateTimeString=t.dateTimeString,this.manifest.dateTimeObject=t.dateTimeObject},targetduration:function(){!isFinite(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+t.duration}):this.manifest.targetDuration=t.duration},totalduration:function(){!isFinite(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid total duration: "+t.duration}):this.manifest.totalDuration=t.duration},"cue-out":function(){a.cueOut=t.data},"cue-out-cont":function(){a.cueOutCont=t.data},"cue-in":function(){a.cueIn=t.data}}[t.tagType]||c).call(i)},uri:function(){a.uri=t.uri,r.push(a),this.manifest.targetDuration&&!("duration"in a)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),a.duration=this.manifest.targetDuration),o&&(a.key=o),a.timeline=p,s&&(a.map=s),a={}},comment:function(){}})[t.type].call(i)})),t}return p(e,t),r(e,[{key:"push",value:function(t){this.lineStream.push(t)}},{key:"end",value:function(){this.lineStream.push("\n")}}]),e}(s["default"]);e["default"]=m},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(76),a=n(r),s=function(){var t=function t(e,i){e=(0,r.mergeOptions)({timeout:45e3},e);var n=t.beforeRequest||a["default"].Hls.xhr.beforeRequest;if(n&&"function"===typeof n){var s=n(e);s&&(e=s)}var o=(0,r.xhr)(e,(function(t,e){var n=o.response;!t&&n&&(o.responseTime=Date.now(),o.roundTripTime=o.responseTime-o.requestTime,o.bytesReceived=n.byteLength||n.length,o.bandwidth||(o.bandwidth=Math.floor(o.bytesReceived/o.roundTripTime*8*1e3))),t&&"ETIMEDOUT"===t.code&&(o.timedout=!0),t||o.aborted||200===e.statusCode||206===e.statusCode||0===e.statusCode||(t=new Error("XHR Failed with a response of: "+(o&&(n||o.responseText)))),i(t,o)})),l=o.abort;return o.abort=function(){return o.aborted=!0,l.apply(o,arguments)},o.uri=e.uri,o.requestTime=Date.now(),o};return t};e["default"]=s,t.exports=e["default"]},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();function r(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=i(1266),o=r(s),l=i(729),c=r(l),u=i(1268),d=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},h=function(t,e,i){var n=new Int32Array(t.buffer,t.byteOffset,t.byteLength>>2),r=new o["default"](Array.prototype.slice.call(e)),a=new Uint8Array(t.byteLength),s=new Int32Array(a.buffer),l=void 0,c=void 0,u=void 0,h=void 0,f=void 0,p=void 0,m=void 0,v=void 0,g=void 0;for(l=i[0],c=i[1],u=i[2],h=i[3],g=0;g<n.length;g+=4)f=d(n[g]),p=d(n[g+1]),m=d(n[g+2]),v=d(n[g+3]),r.decrypt(f,p,m,v,s,g),s[g]=d(s[g]^l),s[g+1]=d(s[g+1]^c),s[g+2]=d(s[g+2]^u),s[g+3]=d(s[g+3]^h),l=f,c=p,u=m,h=v;return a};e.decrypt=h;var f=function(){function t(e,i,n,r){a(this,t);var s=t.STEP,o=new Int32Array(e.buffer),l=new Uint8Array(e.byteLength),h=0;for(this.asyncStream_=new c["default"],this.asyncStream_.push(this.decryptChunk_(o.subarray(h,h+s),i,n,l)),h=s;h<o.length;h+=s)n=new Uint32Array([d(o[h-4]),d(o[h-3]),d(o[h-2]),d(o[h-1])]),this.asyncStream_.push(this.decryptChunk_(o.subarray(h,h+s),i,n,l));this.asyncStream_.push((function(){r(null,(0,u.unpad)(l))}))}return n(t,[{key:"decryptChunk_",value:function(t,e,i,n){return function(){var r=h(t,e,i);n.set(r,t.byteOffset)}}}],[{key:"STEP",get:function(){return 32e3}}]),t}();e.Decrypter=f,e["default"]={Decrypter:f,decrypt:h}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){var t=[[[],[],[],[],[]],[[],[],[],[],[]]],e=t[0],i=t[1],n=e[4],r=i[4],a=void 0,s=void 0,o=void 0,l=[],c=[],u=void 0,d=void 0,h=void 0,f=void 0,p=void 0,m=void 0;for(a=0;a<256;a++)c[(l[a]=a<<1^283*(a>>7))^a]=a;for(s=o=0;!n[s];s^=u||1,o=c[o]||1)for(f=o^o<<1^o<<2^o<<3^o<<4,f=f>>8^255&f^99,n[s]=f,r[f]=s,h=l[d=l[u=l[s]]],m=16843009*h^65537*d^257*u^16843008*s,p=257*l[f]^16843008*f,a=0;a<4;a++)e[a][s]=p=p<<24^p>>>8,i[a][f]=m=m<<24^m>>>8;for(a=0;a<5;a++)e[a]=e[a].slice(0),i[a]=i[a].slice(0);return t},s=null,o=function(){function t(e){r(this,t),s||(s=a()),this._tables=[[s[0][0].slice(),s[0][1].slice(),s[0][2].slice(),s[0][3].slice(),s[0][4].slice()],[s[1][0].slice(),s[1][1].slice(),s[1][2].slice(),s[1][3].slice(),s[1][4].slice()]];var i=void 0,n=void 0,o=void 0,l=void 0,c=void 0,u=this._tables[0][4],d=this._tables[1],h=e.length,f=1;if(4!==h&&6!==h&&8!==h)throw new Error("Invalid aes key size");for(l=e.slice(0),c=[],this._key=[l,c],i=h;i<4*h+28;i++)o=l[i-1],(i%h===0||8===h&&i%h===4)&&(o=u[o>>>24]<<24^u[o>>16&255]<<16^u[o>>8&255]<<8^u[255&o],i%h===0&&(o=o<<8^o>>>24^f<<24,f=f<<1^283*(f>>7))),l[i]=l[i-h]^o;for(n=0;i;n++,i--)o=l[3&n?i:i-4],c[n]=i<=4||n<4?o:d[0][u[o>>>24]]^d[1][u[o>>16&255]]^d[2][u[o>>8&255]]^d[3][u[255&o]]}return n(t,[{key:"decrypt",value:function(t,e,i,n,r,a){var s=this._key[1],o=t^s[0],l=n^s[1],c=i^s[2],u=e^s[3],d=void 0,h=void 0,f=void 0,p=s.length/4-2,m=void 0,v=4,g=this._tables[1],y=g[0],_=g[1],b=g[2],T=g[3],S=g[4];for(m=0;m<p;m++)d=y[o>>>24]^_[l>>16&255]^b[c>>8&255]^T[255&u]^s[v],h=y[l>>>24]^_[c>>16&255]^b[u>>8&255]^T[255&o]^s[v+1],f=y[c>>>24]^_[u>>16&255]^b[o>>8&255]^T[255&l]^s[v+2],u=y[u>>>24]^_[o>>16&255]^b[l>>8&255]^T[255&c]^s[v+3],v+=4,o=d,l=h,c=f;for(m=0;m<4;m++)r[(3&-m)+a]=S[o>>>24]<<24^S[l>>16&255]<<16^S[c>>8&255]<<8^S[255&u]^s[v++],d=o,o=l,l=c,c=u,u=d}}]),t}();e["default"]=o,t.exports=e["default"]},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(){r(this,t),this.listeners={}}return n(t,[{key:"on",value:function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)}},{key:"off",value:function(t,e){var i=void 0;return!!this.listeners[t]&&(i=this.listeners[t].indexOf(e),this.listeners[t].splice(i,1),i>-1)}},{key:"trigger",value:function(t){var e=void 0,i=void 0,n=void 0,r=void 0;if(e=this.listeners[t],e)if(2===arguments.length)for(n=e.length,i=0;i<n;++i)e[i].call(this,arguments[1]);else for(r=Array.prototype.slice.call(arguments,1),n=e.length,i=0;i<n;++i)e[i].apply(this,r)}},{key:"dispose",value:function(){this.listeners={}}},{key:"pipe",value:function(t){this.on("data",(function(e){t.push(e)}))}}]),t}();e["default"]=a,t.exports=e["default"]},function(t,e,i){"use strict";e.pad=i(1269),e.unpad=i(1270)},function(t,e,i){"use strict";var n;t.exports=function(t){var e=n[t.byteLength%16||0],i=new Uint8Array(t.byteLength+e.length);return i.set(t),i.set(e,t.byteLength),i},n=[[16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16],[15,15,15,15,15,15,15,15,15,15,15,15,15,15,15],[14,14,14,14,14,14,14,14,14,14,14,14,14,14],[13,13,13,13,13,13,13,13,13,13,13,13,13],[12,12,12,12,12,12,12,12,12,12,12,12],[11,11,11,11,11,11,11,11,11,11,11],[10,10,10,10,10,10,10,10,10,10],[9,9,9,9,9,9,9,9,9],[8,8,8,8,8,8,8,8],[7,7,7,7,7,7,7],[6,6,6,6,6,6],[5,5,5,5,5],[4,4,4,4],[3,3,3],[2,2],[1]]},function(t,e,i){"use strict";t.exports=function(t){return t.subarray(0,t.byteLength-t[t.byteLength-1])}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(106),a=n(r),s=i(1272),o=n(s),l=i(1281),c=n(l),u=i(76),d=n(u),h=0,f={mode:"auto"};d["default"].mediaSources={};var p=function(t,e){var i=d["default"].mediaSources[t];if(!i)throw new Error("Media Source not found (Video.js)");i.trigger({type:"sourceopen",swfId:e})},m=function(){return!!a["default"].MediaSource&&!!a["default"].MediaSource.isTypeSupported&&a["default"].MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')},v=function(t){var e=d["default"].mergeOptions(f,t);if(this.MediaSource={open:p,supportsNativeMediaSources:m},"html5"===e.mode||"auto"===e.mode&&m())return new c["default"];if(d["default"].getTech("Flash"))return new o["default"];throw new Error("Cannot use Flash or Html5 to create a MediaSource for this video")};e.MediaSource=v,v.open=p,v.supportsNativeMediaSources=m;var g={createObjectURL:function(t){var e="blob:vjs-media-source/",i=void 0;return t instanceof c["default"]?(i=a["default"].URL.createObjectURL(t.nativeMediaSource_),t.url_=i,i):t instanceof o["default"]?(i=e+h,h++,d["default"].mediaSources[i]=t,i):(i=a["default"].URL.createObjectURL(t),t.url_=i,i)}};e.URL=g,d["default"].MediaSource=v,d["default"].URL=g},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t,e,i){var n=!0;while(n){var r=t,a=e,s=i;n=!1,null===r&&(r=Function.prototype);var o=Object.getOwnPropertyDescriptor(r,a);if(void 0!==o){if("value"in o)return o.value;var l=o.get;if(void 0===l)return;return l.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=a,i=s,n=!0,o=c=void 0}};function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var l=i(505),c=a(l),u=i(76),d=a(u),h=i(1273),f=a(h),p=i(737),m=a(p),v=i(507),g=function(t){function e(){var t=this;s(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.sourceBuffers=[],this.readyState="closed",this.on(["sourceopen","webkitsourceopen"],(function(e){t.swfObj=c["default"].getElementById(e.swfId),t.player_=(0,d["default"])(t.swfObj.parentNode),t.tech_=t.swfObj.tech,t.readyState="open",t.tech_.on("seeking",(function(){var e=t.sourceBuffers.length;while(e--)t.sourceBuffers[e].abort()})),t.swfObj&&t.swfObj.vjs_load()}))}return o(e,t),n(e,[{key:"addSeekableRange_",value:function(){}},{key:"addSourceBuffer",value:function(t){var e=(0,v.parseContentType)(t),i=void 0;if("video/mp2t"!==e.type&&"audio/mp2t"!==e.type)throw new Error("NotSupportedError (Video.js)");return i=new f["default"](this),this.sourceBuffers.push(i),i}},{key:"endOfStream",value:function(t){"network"===t?this.tech_.error(2):"decode"===t&&this.tech_.error(3),"ended"!==this.readyState&&(this.readyState="ended",this.swfObj.vjs_endOfStream())}}]),e}(d["default"].EventTarget);e["default"]=g;try{Object.defineProperty(g.prototype,"duration",{get:function(){return this.swfObj?this.swfObj.vjs_getProperty("duration"):NaN},set:function(t){var e=void 0,i=this.swfObj.vjs_getProperty("duration");if(this.swfObj.vjs_setProperty("duration",t),t<i)for(e=0;e<this.sourceBuffers.length;e++)this.sourceBuffers[e].remove(t,i);return t}})}catch(_){g.prototype.duration=NaN}for(var y in m["default"])g[y]=m["default"][y];t.exports=e["default"]},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t,e,i){var n=!0;while(n){var r=t,a=e,s=i;n=!1,null===r&&(r=Function.prototype);var o=Object.getOwnPropertyDescriptor(r,a);if(void 0!==o){if("value"in o)return o.value;var l=o.get;if(void 0===l)return;return l.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=a,i=s,n=!0,o=c=void 0}};function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var l=i(106),c=a(l),u=i(76),d=a(u),h=i(730),f=a(h),p=i(506),m=a(p),v=i(735),g=a(v),y=i(560),_=i(736),b=a(_),T=i(561),S=a(T),w=i(737),C=a(w),k=function(){var t=void 0;try{t=736}catch(e){}return t},x=function(t){c["default"].setTimeout(t,C["default"].TIME_BETWEEN_CHUNKS)},E=function(){return Math.random().toString(36).slice(2,8)},P=function(t,e){("number"!==typeof e||e<0)&&(e=0);var i=Math.pow(10,e);return Math.round(t*i)/i},O=function(t){function e(t){var i=this;s(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this);var n=void 0;this.chunkSize_=C["default"].BYTES_PER_CHUNK,this.buffer_=[],this.bufferSize_=0,this.basePtsOffset_=NaN,this.mediaSource_=t,this.audioBufferEnd_=NaN,this.videoBufferEnd_=NaN,this.updating=!1,this.timestampOffset_=0,n=c["default"].btoa(String.fromCharCode.apply(null,Array.prototype.slice.call(f["default"].getFlvHeader())));var a=this.mediaSource_.player_.id().replace(/[^a-zA-Z0-9]/g,"_");this.flashEncodedHeaderName_="vjs_flashEncodedHeader_"+a+E(),this.flashEncodedDataName_="vjs_flashEncodedData_"+a+E(),c["default"][this.flashEncodedHeaderName_]=function(){return delete c["default"][i.flashEncodedHeaderName_],n},this.mediaSource_.swfObj.vjs_appendChunkReady(this.flashEncodedHeaderName_),this.transmuxer_=(0,S["default"])(b["default"],k()),this.transmuxer_.postMessage({action:"init",options:{}}),this.transmuxer_.onmessage=function(t){"data"===t.data.action&&i.receiveBuffer_(t.data.segment)},this.one("updateend",(function(){i.mediaSource_.tech_.trigger("loadedmetadata")})),Object.defineProperty(this,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(t){"number"===typeof t&&t>=0&&(this.timestampOffset_=t,this.mediaSource_.swfObj.vjs_discontinuity(),this.basePtsOffset_=NaN,this.audioBufferEnd_=NaN,this.videoBufferEnd_=NaN,this.transmuxer_.postMessage({action:"reset"}))}}),Object.defineProperty(this,"buffered",{get:function(){if(!this.mediaSource_||!this.mediaSource_.swfObj||!("vjs_getProperty"in this.mediaSource_.swfObj))return d["default"].createTimeRange();var t=this.mediaSource_.swfObj.vjs_getProperty("buffered");return t&&t.length&&(t[0][0]=P(t[0][0],3),t[0][1]=P(t[0][1],3)),d["default"].createTimeRanges(t)}}),this.mediaSource_.player_.on("seeked",(function(){if((0,m["default"])(0,1/0,i.metadataTrack_),i.inbandTextTracks_)for(var t in i.inbandTextTracks_)(0,m["default"])(0,1/0,i.inbandTextTracks_[t])}));var o=this.onHlsReset_.bind(this);this.mediaSource_.player_.tech_.on("hls-reset",o),this.mediaSource_.player_.tech_.hls.on("dispose",(function(){i.transmuxer_.terminate(),i.mediaSource_.player_.tech_.off("hls-reset",o)}))}return o(e,t),n(e,[{key:"appendBuffer",value:function(t){var e=void 0;if(this.updating)throw e=new Error("SourceBuffer.append() cannot be called while an update is in progress"),e.name="InvalidStateError",e.code=11,e;this.updating=!0,this.mediaSource_.readyState="open",this.trigger({type:"update"}),this.transmuxer_.postMessage({action:"push",data:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength},[t.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"abort",value:function(){this.buffer_=[],this.bufferSize_=0,this.mediaSource_.swfObj.vjs_abort(),this.updating&&(this.updating=!1,this.trigger({type:"updateend"}))}},{key:"remove",value:function(t,e){if((0,m["default"])(t,e,this.metadataTrack_),this.inbandTextTracks_)for(var i in this.inbandTextTracks_)(0,m["default"])(t,e,this.inbandTextTracks_[i]);this.trigger({type:"update"}),this.trigger({type:"updateend"})}},{key:"receiveBuffer_",value:function(t){var e=this;(0,g["default"])(this,this.mediaSource_,t),(0,y.addTextTrackData)(this,t.captions,t.metadata),x((function(){var i=e.convertTagsToData_(t);0===e.buffer_.length&&x(e.processBuffer_.bind(e)),i&&(e.buffer_.push(i),e.bufferSize_+=i.byteLength)}))}},{key:"processBuffer_",value:function(){var t=this,e=C["default"].BYTES_PER_CHUNK;if(this.buffer_.length){var i=this.buffer_[0].subarray(0,e);i.byteLength<e||this.buffer_[0].byteLength===e?this.buffer_.shift():this.buffer_[0]=this.buffer_[0].subarray(e),this.bufferSize_-=i.byteLength;for(var n=[],r=i.byteLength,a=0;a<r;a++)n.push(String.fromCharCode(i[a]));var s=c["default"].btoa(n.join(""));c["default"][this.flashEncodedDataName_]=function(){return x(t.processBuffer_.bind(t)),delete c["default"][t.flashEncodedDataName_],s},this.mediaSource_.swfObj.vjs_appendChunkReady(this.flashEncodedDataName_)}else!1!==this.updating&&(this.updating=!1,this.trigger({type:"updateend"}))}},{key:"convertTagsToData_",value:function(t){var e=0,i=this.mediaSource_.tech_,n=0,r=void 0,a=t.tags.videoTags,s=t.tags.audioTags;if(isNaN(this.basePtsOffset_)&&(a.length||s.length)){var o=a[0]||{pts:1/0},l=s[0]||{pts:1/0};this.basePtsOffset_=Math.min(l.pts,o.pts)}i.seeking()&&(this.videoBufferEnd_=NaN,this.audioBufferEnd_=NaN),isNaN(this.videoBufferEnd_)?(i.buffered().length&&(n=i.buffered().end(0)-this.timestampOffset),i.seeking()&&(n=Math.max(n,i.currentTime()-this.timestampOffset)),n*=1e3,n+=this.basePtsOffset_):n=this.videoBufferEnd_+.1;var c=a.length;if(c&&a[c-1].pts>=n){while(--c){var u=a[c];if(!(u.pts>n)&&(u.keyFrame||u.metaDataTag))break}while(c){var d=a[c-1];if(!d.metaDataTag)break;c--}}var h=a.slice(c),f=void 0;f=isNaN(this.audioBufferEnd_)?n:this.audioBufferEnd_+.1,h.length&&(f=Math.min(f,h[0].pts)),c=0;while(c<s.length){if(s[c].pts>=f)break;c++}var p=s.slice(c);p.length&&(this.audioBufferEnd_=p[p.length-1].pts),h.length&&(this.videoBufferEnd_=h[h.length-1].pts);var m=this.getOrderedTags_(h,p);if(0!==m.length){if(m[0].pts<n&&i.seeking()){var v=1/30,g=i.currentTime(),y=(n-m[0].pts)/1e3,_=g-y;_<v&&(_=0);try{this.mediaSource_.swfObj.vjs_adjustCurrentTime(_)}catch(S){}}for(var b=0;b<m.length;b++)e+=m[b].bytes.byteLength;r=new Uint8Array(e);b=0;for(var T=0;b<m.length;b++)r.set(m[b].bytes,T),T+=m[b].bytes.byteLength;return r}}},{key:"getOrderedTags_",value:function(t,e){var i=void 0,n=[];while(t.length||e.length)i=t.length?e.length&&e[0].dts<t[0].dts?e.shift():t.shift():e.shift(),n.push(i);return n}},{key:"onHlsReset_",value:function(){this.transmuxer_.postMessage({action:"resetCaptions"})}}]),e}(d["default"].EventTarget);e["default"]=O,t.exports=e["default"]},function(t,e,i){"use strict";var n,r,a,s,o,l,c=i(218),u=i(559),d=i(731),h=i(733),f=i(734).H264Stream,p=i(1278),m=i(1279);s=function(t,e){"number"===typeof e.pts&&(void 0===t.timelineStartInfo.pts?t.timelineStartInfo.pts=e.pts:t.timelineStartInfo.pts=Math.min(t.timelineStartInfo.pts,e.pts)),"number"===typeof e.dts&&(void 0===t.timelineStartInfo.dts?t.timelineStartInfo.dts=e.dts:t.timelineStartInfo.dts=Math.min(t.timelineStartInfo.dts,e.dts))},o=function(t,e){var i=new u(u.METADATA_TAG);return i.dts=e,i.pts=e,i.writeMetaDataDouble("videocodecid",7),i.writeMetaDataDouble("width",t.width),i.writeMetaDataDouble("height",t.height),i},l=function(t,e){var i,n=new u(u.VIDEO_TAG,!0);for(n.dts=e,n.pts=e,n.writeByte(1),n.writeByte(t.profileIdc),n.writeByte(t.profileCompatibility),n.writeByte(t.levelIdc),n.writeByte(255),n.writeByte(225),n.writeShort(t.sps[0].length),n.writeBytes(t.sps[0]),n.writeByte(t.pps.length),i=0;i<t.pps.length;++i)n.writeShort(t.pps[i].length),n.writeBytes(t.pps[i]);return n},a=function(t){var e,i=[],n=[];a.prototype.init.call(this),this.push=function(e){s(t,e),t&&(t.audioobjecttype=e.audioobjecttype,t.channelcount=e.channelcount,t.samplerate=e.samplerate,t.samplingfrequencyindex=e.samplingfrequencyindex,t.samplesize=e.samplesize,t.extraData=t.audioobjecttype<<11|t.samplingfrequencyindex<<7|t.channelcount<<3),e.pts=Math.round(e.pts/90),e.dts=Math.round(e.dts/90),i.push(e)},this.flush=function(){var r,a,s,o=new m;if(0!==i.length){s=-1/0;while(i.length)r=i.shift(),n.length&&r.pts>=n[0]&&(s=n.shift(),this.writeMetaDataTags(o,s)),(t.extraData!==e||r.pts-s>=1e3)&&(this.writeMetaDataTags(o,r.pts),e=t.extraData,s=r.pts),a=new u(u.AUDIO_TAG),a.pts=r.pts,a.dts=r.dts,a.writeBytes(r.data),o.push(a.finalize());n.length=0,e=null,this.trigger("data",{track:t,tags:o.list}),this.trigger("done","AudioSegmentStream")}else this.trigger("done","AudioSegmentStream")},this.writeMetaDataTags=function(e,i){var n;n=new u(u.METADATA_TAG),n.pts=i,n.dts=i,n.writeMetaDataDouble("audiocodecid",10),n.writeMetaDataBoolean("stereo",2===t.channelcount),n.writeMetaDataDouble("audiosamplerate",t.samplerate),n.writeMetaDataDouble("audiosamplesize",16),e.push(n.finalize()),n=new u(u.AUDIO_TAG,!0),n.pts=i,n.dts=i,n.view.setUint16(n.position,t.extraData),n.position+=2,n.length=Math.max(n.length,n.position),e.push(n.finalize())},this.onVideoKeyFrame=function(t){n.push(t)}},a.prototype=new c,r=function(t){var e,i,n=[];r.prototype.init.call(this),this.finishFrame=function(n,r){if(r){if(e&&t&&t.newMetadata&&(r.keyFrame||0===n.length)){var a=o(e,r.dts).finalize(),s=l(t,r.dts).finalize();a.metaDataTag=s.metaDataTag=!0,n.push(a),n.push(s),t.newMetadata=!1,this.trigger("keyframe",r.dts)}r.endNalUnit(),n.push(r.finalize()),i=null}},this.push=function(e){s(t,e),e.pts=Math.round(e.pts/90),e.dts=Math.round(e.dts/90),n.push(e)},this.flush=function(){var r,a=new m;while(n.length){if("access_unit_delimiter_rbsp"===n[0].nalUnitType)break;n.shift()}if(0!==n.length){while(n.length)r=n.shift(),"seq_parameter_set_rbsp"===r.nalUnitType?(t.newMetadata=!0,e=r.config,t.width=e.width,t.height=e.height,t.sps=[r.data],t.profileIdc=e.profileIdc,t.levelIdc=e.levelIdc,t.profileCompatibility=e.profileCompatibility,i.endNalUnit()):"pic_parameter_set_rbsp"===r.nalUnitType?(t.newMetadata=!0,t.pps=[r.data],i.endNalUnit()):"access_unit_delimiter_rbsp"===r.nalUnitType?(i&&this.finishFrame(a,i),i=new u(u.VIDEO_TAG),i.pts=r.pts,i.dts=r.dts):("slice_layer_without_partitioning_rbsp_idr"===r.nalUnitType&&(i.keyFrame=!0),i.endNalUnit()),i.startNalUnit(),i.writeBytes(r.data);i&&this.finishFrame(a,i),this.trigger("data",{track:t,tags:a.list}),this.trigger("done","VideoSegmentStream")}else this.trigger("done","VideoSegmentStream")}},r.prototype=new c,n=function(t){var e,i,s,o,l,c,u,m,v,g,y,_,b=this;n.prototype.init.call(this),t=t||{},this.metadataStream=new d.MetadataStream,t.metadataStream=this.metadataStream,e=new d.TransportPacketStream,i=new d.TransportParseStream,s=new d.ElementaryStream,o=new d.TimestampRolloverStream("video"),l=new d.TimestampRolloverStream("audio"),c=new d.TimestampRolloverStream("timed-metadata"),u=new h,m=new f,_=new p(t),e.pipe(i).pipe(s),s.pipe(o).pipe(m),s.pipe(l).pipe(u),s.pipe(c).pipe(this.metadataStream).pipe(_),y=new d.CaptionStream,m.pipe(y).pipe(_),s.on("data",(function(t){var e,i,n;if("metadata"===t.type){e=t.tracks.length;while(e--)"video"===t.tracks[e].type?i=t.tracks[e]:"audio"===t.tracks[e].type&&(n=t.tracks[e]);i&&!v&&(_.numberOfTracks++,v=new r(i),m.pipe(v).pipe(_)),n&&!g&&(_.numberOfTracks++,g=new a(n),u.pipe(g).pipe(_),v&&v.on("keyframe",g.onVideoKeyFrame))}})),this.push=function(t){e.push(t)},this.flush=function(){e.flush()},this.resetCaptions=function(){y.reset()},_.on("data",(function(t){b.trigger("data",t)})),_.on("done",(function(){b.trigger("done")}))},n.prototype=new c,t.exports=n},function(t,e,i){"use strict";var n=4,r=128,a=i(218),s=function(t){var e=0,i={payloadType:-1,payloadSize:0},a=0,s=0;while(e<t.byteLength){if(t[e]===r)break;while(255===t[e])a+=255,e++;a+=t[e++];while(255===t[e])s+=255,e++;if(s+=t[e++],!i.payload&&a===n){i.payloadType=a,i.payloadSize=s,i.payload=t.subarray(e,e+s);break}e+=s,a=0,s=0}return i},o=function(t){return 181!==t.payload[0]||49!==(t.payload[1]<<8|t.payload[2])||"GA94"!==String.fromCharCode(t.payload[3],t.payload[4],t.payload[5],t.payload[6])||3!==t.payload[7]?null:t.payload.subarray(8,t.payload.length-1)},l=function(t,e){var i,n,r,a,s=[];if(!(64&e[0]))return s;for(n=31&e[0],i=0;i<n;i++)r=3*i,a={type:3&e[r+2],pts:t},4&e[r+2]&&(a.ccData=e[r+3]<<8|e[r+4],s.push(a));return s},c=function(){c.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new m(0,0),new m(0,1),new m(1,0),new m(1,1)],this.reset(),this.ccStreams_.forEach((function(t){t.on("data",this.trigger.bind(this,"data")),t.on("done",this.trigger.bind(this,"done"))}),this)};c.prototype=new a,c.prototype.push=function(t){var e,i;"sei_rbsp"===t.nalUnitType&&(e=s(t.escapedRBSP),e.payloadType===n&&(i=o(e),i&&(t.dts<this.latestDts_?this.ignoreNextEqualDts_=!0:t.dts===this.latestDts_&&this.ignoreNextEqualDts_?this.ignoreNextEqualDts_=!1:(this.captionPackets_=this.captionPackets_.concat(l(t.pts,i)),this.latestDts_=t.dts))))},c.prototype.flush=function(){this.captionPackets_.length?(this.captionPackets_.forEach((function(t,e){t.presortIndex=e})),this.captionPackets_.sort((function(t,e){return t.pts===e.pts?t.presortIndex-e.presortIndex:t.pts-e.pts})),this.captionPackets_.forEach((function(t){t.type<2&&this.dispatchCea608Packet(t)}),this),this.captionPackets_.length=0,this.ccStreams_.forEach((function(t){t.flush()}),this)):this.ccStreams_.forEach((function(t){t.flush()}),this)},c.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach((function(t){t.reset()}))},c.prototype.dispatchCea608Packet=function(t){this.setsChannel1Active(t)?this.activeCea608Channel_[t.type]=0:this.setsChannel2Active(t)&&(this.activeCea608Channel_[t.type]=1),null!==this.activeCea608Channel_[t.type]&&this.ccStreams_[(t.type<<1)+this.activeCea608Channel_[t.type]].push(t)},c.prototype.setsChannel1Active=function(t){return 4096===(30720&t.ccData)},c.prototype.setsChannel2Active=function(t){return 6144===(30720&t.ccData)};var u={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},d=function(t){return null===t?"":(t=u[t]||t,String.fromCharCode(t))},h=14,f=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],p=function(){var t=[],e=h+1;while(e--)t.push("");return t},m=function(t,e){m.prototype.init.call(this),this.field_=t||0,this.dataChannel_=e||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(t){var e,i,n,r,a;if(e=32639&t.ccData,e!==this.lastControlCode_){if(4096===(61440&e)?this.lastControlCode_=e:e!==this.PADDING_&&(this.lastControlCode_=null),n=e>>>8,r=255&e,e!==this.PADDING_)if(e===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(e===this.END_OF_CAPTION_)this.clearFormatting(t.pts),this.flushDisplayed(t.pts),i=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=i,this.startPts_=t.pts;else if(e===this.ROLL_UP_2_ROWS_)this.topRow_=h-1,this.mode_="rollUp";else if(e===this.ROLL_UP_3_ROWS_)this.topRow_=h-2,this.mode_="rollUp";else if(e===this.ROLL_UP_4_ROWS_)this.topRow_=h-3,this.mode_="rollUp";else if(e===this.CARRIAGE_RETURN_)this.clearFormatting(t.pts),this.flushDisplayed(t.pts),this.shiftRowsUp_(),this.startPts_=t.pts;else if(e===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[h]=this.nonDisplayed_[h].slice(0,-1):this.displayed_[h]=this.displayed_[h].slice(0,-1);else if(e===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(t.pts),this.displayed_=p();else if(e===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=p();else if(e===this.RESUME_DIRECT_CAPTIONING_)this.mode_="paintOn";else if(this.isSpecialCharacter(n,r))n=(3&n)<<8,a=d(n|r),this[this.mode_](t.pts,a),this.column_++;else if(this.isExtCharacter(n,r))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[h]=this.displayed_[h].slice(0,-1),n=(3&n)<<8,a=d(n|r),this[this.mode_](t.pts,a),this.column_++;else if(this.isMidRowCode(n,r))this.clearFormatting(t.pts),this[this.mode_](t.pts," "),this.column_++,14===(14&r)&&this.addFormatting(t.pts,["i"]),1===(1&r)&&this.addFormatting(t.pts,["u"]);else if(this.isOffsetControlCode(n,r))this.column_+=3&r;else if(this.isPAC(n,r)){var s=f.indexOf(7968&e);s!==this.row_&&(this.clearFormatting(t.pts),this.row_=s),1&r&&-1===this.formatting_.indexOf("u")&&this.addFormatting(t.pts,["u"]),16===(16&e)&&(this.column_=4*((14&e)>>1)),this.isColorPAC(r)&&14===(14&r)&&this.addFormatting(t.pts,["i"])}else this.isNormalChar(n)&&(0===r&&(r=null),a=d(n),a+=d(r),this[this.mode_](t.pts,a),this.column_+=a.length)}else this.lastControlCode_=null}};m.prototype=new a,m.prototype.flushDisplayed=function(t){var e=this.displayed_.map((function(t){return t.trim()})).join("\n").replace(/^\n+|\n+$/g,"");e.length&&this.trigger("data",{startPts:this.startPts_,endPts:t,text:e,stream:this.name_})},m.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=p(),this.nonDisplayed_=p(),this.lastControlCode_=null,this.column_=0,this.row_=h,this.formatting_=[]},m.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},m.prototype.isSpecialCharacter=function(t,e){return t===this.EXT_&&e>=48&&e<=63},m.prototype.isExtCharacter=function(t,e){return(t===this.EXT_+1||t===this.EXT_+2)&&e>=32&&e<=63},m.prototype.isMidRowCode=function(t,e){return t===this.EXT_&&e>=32&&e<=47},m.prototype.isOffsetControlCode=function(t,e){return t===this.OFFSET_&&e>=33&&e<=35},m.prototype.isPAC=function(t,e){return t>=this.BASE_&&t<this.BASE_+8&&e>=64&&e<=127},m.prototype.isColorPAC=function(t){return t>=64&&t<=79||t>=96&&t<=127},m.prototype.isNormalChar=function(t){return t>=32&&t<=127},m.prototype.addFormatting=function(t,e){this.formatting_=this.formatting_.concat(e);var i=e.reduce((function(t,e){return t+"<"+e+">"}),"");this[this.mode_](t,i)},m.prototype.clearFormatting=function(t){if(this.formatting_.length){var e=this.formatting_.reverse().reduce((function(t,e){return t+"</"+e+">"}),"");this.formatting_=[],this[this.mode_](t,e)}},m.prototype.popOn=function(t,e){var i=this.nonDisplayed_[this.row_];i+=e,this.nonDisplayed_[this.row_]=i},m.prototype.rollUp=function(t,e){var i=this.displayed_[h];i+=e,this.displayed_[h]=i},m.prototype.shiftRowsUp_=function(){var t;for(t=0;t<this.topRow_;t++)this.displayed_[t]="";for(t=this.topRow_;t<h;t++)this.displayed_[t]=this.displayed_[t+1];this.displayed_[h]=""},m.prototype.paintOn=function(){},t.exports={CaptionStream:c,Cea608Stream:m}},function(t,e,i){"use strict";var n,r=i(218),a=i(479),s=function(t,e,i){var n,r="";for(n=e;n<i;n++)r+="%"+("00"+t[n].toString(16)).slice(-2);return r},o=function(t,e,i){return decodeURIComponent(s(t,e,i))},l=function(t,e,i){return unescape(s(t,e,i))},c=function(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]},u={TXXX:function(t){var e;if(3===t.data[0]){for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=o(t.data,1,e),t.value=o(t.data,e+1,t.data.length).replace(/\0*$/,"");break}t.data=t.value}},WXXX:function(t){var e;if(3===t.data[0])for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=o(t.data,1,e),t.url=o(t.data,e+1,t.data.length);break}},PRIV:function(t){var e;for(e=0;e<t.data.length;e++)if(0===t.data[e]){t.owner=l(t.data,0,e);break}t.privateData=t.data.subarray(e+1),t.data=t.privateData}};n=function(t){var e,i={debug:!(!t||!t.debug),descriptor:t&&t.descriptor},r=0,s=[],o=0;if(n.prototype.init.call(this),this.dispatchType=a.METADATA_STREAM_TYPE.toString(16),i.descriptor)for(e=0;e<i.descriptor.length;e++)this.dispatchType+=("00"+i.descriptor[e].toString(16)).slice(-2);this.push=function(t){var e,n,a,l,d,h;if("timed-metadata"===t.type)if(t.dataAlignmentIndicator&&(o=0,s.length=0),0===s.length&&(t.data.length<10||t.data[0]!=="I".charCodeAt(0)||t.data[1]!=="D".charCodeAt(0)||t.data[2]!=="3".charCodeAt(0)))i.debug;else if(s.push(t),o+=t.data.byteLength,1===s.length&&(r=c(t.data.subarray(6,10)),r+=10),!(o<r)){for(e={data:new Uint8Array(r),frames:[],pts:s[0].pts,dts:s[0].dts},d=0;d<r;)e.data.set(s[0].data.subarray(0,r-d),d),d+=s[0].data.byteLength,o-=s[0].data.byteLength,s.shift();n=10,64&e.data[5]&&(n+=4,n+=c(e.data.subarray(10,14)),r-=c(e.data.subarray(16,20)));do{if(a=c(e.data.subarray(n+4,n+8)),a<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if(h=String.fromCharCode(e.data[n],e.data[n+1],e.data[n+2],e.data[n+3]),l={id:h,data:e.data.subarray(n+10,n+a+10)},l.key=l.id,u[l.id]&&(u[l.id](l),"com.apple.streaming.transportStreamTimestamp"===l.owner)){var f=l.data,p=(1&f[3])<<30|f[4]<<22|f[5]<<14|f[6]<<6|f[7]>>>2;p*=4,p+=3&f[7],l.timeStamp=p,void 0===e.pts&&void 0===e.dts&&(e.pts=l.timeStamp,e.dts=l.timeStamp),this.trigger("timestamp",l)}e.frames.push(l),n+=10,n+=a}while(n<r);this.trigger("data",e)}}},n.prototype=new r,t.exports=n},function(t,e,i){"use strict";var n;n=function(t){var e=t.byteLength,i=0,n=0;this.length=function(){return 8*e},this.bitsAvailable=function(){return 8*e+n},this.loadWord=function(){var r=t.byteLength-e,a=new Uint8Array(4),s=Math.min(4,e);if(0===s)throw new Error("no bytes available");a.set(t.subarray(r,r+s)),i=new DataView(a.buffer).getUint32(0),n=8*s,e-=s},this.skipBits=function(t){var r;n>t?(i<<=t,n-=t):(t-=n,r=Math.floor(t/8),t-=8*r,e-=r,this.loadWord(),i<<=t,n-=t)},this.readBits=function(t){var r=Math.min(n,t),a=i>>>32-r;return n-=r,n>0?i<<=r:e>0&&this.loadWord(),r=t-r,r>0?a<<r|this.readBits(r):a},this.skipLeadingZeros=function(){var t;for(t=0;t<n;++t)if(0!==(i&2147483648>>>t))return i<<=t,n-=t,t;return this.loadWord(),t+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var t=this.skipLeadingZeros();return this.readBits(t+1)-1},this.readExpGolomb=function(){var t=this.readUnsignedExpGolomb();return 1&t?1+t>>>1:-1*(t>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()},t.exports=n},function(t,e,i){"use strict";var n=i(218),r=function(t){this.numberOfTracks=0,this.metadataStream=t.metadataStream,this.videoTags=[],this.audioTags=[],this.videoTrack=null,this.audioTrack=null,this.pendingCaptions=[],this.pendingMetadata=[],this.pendingTracks=0,this.processedTracks=0,r.prototype.init.call(this),this.push=function(t){return t.text?this.pendingCaptions.push(t):t.frames?this.pendingMetadata.push(t):("video"===t.track.type&&(this.videoTrack=t.track,this.videoTags=t.tags,this.pendingTracks++),void("audio"===t.track.type&&(this.audioTrack=t.track,this.audioTags=t.tags,this.pendingTracks++)))}};r.prototype=new n,r.prototype.flush=function(t){var e,i,n,r,a={tags:{},captions:[],captionStreams:{},metadata:[]};if(this.pendingTracks<this.numberOfTracks){if("VideoSegmentStream"!==t&&"AudioSegmentStream"!==t)return;if(0===this.pendingTracks&&(this.processedTracks++,this.processedTracks<this.numberOfTracks))return}if(this.processedTracks+=this.pendingTracks,this.pendingTracks=0,!(this.processedTracks<this.numberOfTracks)){for(this.videoTrack?r=this.videoTrack.timelineStartInfo.pts:this.audioTrack&&(r=this.audioTrack.timelineStartInfo.pts),a.tags.videoTags=this.videoTags,a.tags.audioTags=this.audioTags,n=0;n<this.pendingCaptions.length;n++)i=this.pendingCaptions[n],i.startTime=i.startPts-r,i.startTime/=9e4,i.endTime=i.endPts-r,i.endTime/=9e4,a.captionStreams[i.stream]=!0,a.captions.push(i);for(n=0;n<this.pendingMetadata.length;n++)e=this.pendingMetadata[n],e.cueTime=e.pts-r,e.cueTime/=9e4,a.metadata.push(e);a.metadata.dispatchType=this.metadataStream.dispatchType,this.videoTrack=null,this.audioTrack=null,this.videoTags=[],this.audioTags=[],this.pendingCaptions.length=0,this.pendingMetadata.length=0,this.pendingTracks=0,this.processedTracks=0,this.trigger("data",a),this.trigger("done")}},t.exports=r},function(t,e,i){"use strict";var n=function(){var t=this;this.list=[],this.push=function(t){this.list.push({bytes:t.bytes,dts:t.dts,pts:t.pts,keyFrame:t.keyFrame,metaDataTag:t.metaDataTag})},Object.defineProperty(this,"length",{get:function(){return t.list.length}})};t.exports=n},function(t,e,i){"use strict";var n=i(559),r=function(t,e,i){var r,a,s,o=new Uint8Array(9),l=new DataView(o.buffer);return t=t||0,e=void 0===e||e,i=void 0===i||i,l.setUint8(0,70),l.setUint8(1,76),l.setUint8(2,86),l.setUint8(3,1),l.setUint8(4,(e?4:0)|(i?1:0)),l.setUint32(5,o.byteLength),t<=0?(a=new Uint8Array(o.byteLength+4),a.set(o),a.set([0,0,0,0],o.byteLength),a):(r=new n(n.METADATA_TAG),r.pts=r.dts=0,r.writeMetaDataDouble("duration",t),s=r.finalize().length,a=new Uint8Array(o.byteLength+s),a.set(o),a.set(l.byteLength,s),a)};t.exports=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t,e,i){var n=!0;while(n){var r=t,a=e,s=i;n=!1,null===r&&(r=Function.prototype);var o=Object.getOwnPropertyDescriptor(r,a);if(void 0!==o){if("value"in o)return o.value;var l=o.get;if(void 0===l)return;return l.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=a,i=s,n=!0,o=c=void 0}};function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var l=i(106),c=a(l),u=i(505),d=a(u),h=i(76),f=a(h),p=i(1282),m=a(p),v=i(560),g=i(507),y=function(t){function e(){var t=this;s(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this);var i=void 0;for(i in this.nativeMediaSource_=new c["default"].MediaSource,this.nativeMediaSource_)i in e.prototype||"function"!==typeof this.nativeMediaSource_[i]||(this[i]=this.nativeMediaSource_[i].bind(this.nativeMediaSource_));this.duration_=NaN,Object.defineProperty(this,"duration",{get:function(){return this.duration_===1/0?this.duration_:this.nativeMediaSource_.duration},set:function(t){this.duration_=t,t===1/0||(this.nativeMediaSource_.duration=t)}}),Object.defineProperty(this,"seekable",{get:function(){return this.duration_===1/0?f["default"].createTimeRanges([[0,this.nativeMediaSource_.duration]]):this.nativeMediaSource_.seekable}}),Object.defineProperty(this,"readyState",{get:function(){return this.nativeMediaSource_.readyState}}),Object.defineProperty(this,"activeSourceBuffers",{get:function(){return this.activeSourceBuffers_}}),this.sourceBuffers=[],this.activeSourceBuffers_=[],this.updateActiveSourceBuffers_=function(){if(t.activeSourceBuffers_.length=0,1===t.sourceBuffers.length){var e=t.sourceBuffers[0];return e.appendAudioInitSegment_=!0,e.audioDisabled_=!e.audioCodec_,void t.activeSourceBuffers_.push(e)}for(var i=!1,n=!0,r=0;r<t.player_.audioTracks().length;r++){var a=t.player_.audioTracks()[r];if(a.enabled&&"main"!==a.kind){i=!0,n=!1;break}}t.sourceBuffers.forEach((function(e){if(e.appendAudioInitSegment_=!0,e.videoCodec_&&e.audioCodec_)e.audioDisabled_=i;else if(e.videoCodec_&&!e.audioCodec_)e.audioDisabled_=!0,n=!1;else if(!e.videoCodec_&&e.audioCodec_&&(e.audioDisabled_=n,n))return;t.activeSourceBuffers_.push(e)}))},this.onPlayerMediachange_=function(){t.sourceBuffers.forEach((function(t){t.appendAudioInitSegment_=!0}))},this.onHlsReset_=function(){t.sourceBuffers.forEach((function(t){t.transmuxer_&&t.transmuxer_.postMessage({action:"resetCaptions"})}))},this.onHlsSegmentTimeMapping_=function(e){t.sourceBuffers.forEach((function(t){return t.timeMapping_=e.mapping}))},["sourceopen","sourceclose","sourceended"].forEach((function(t){this.nativeMediaSource_.addEventListener(t,this.trigger.bind(this))}),this),this.on("sourceopen",(function(e){var i=d["default"].querySelector('[src="'+t.url_+'"]');i&&(t.player_=(0,f["default"])(i.parentNode),t.player_.tech_.on("hls-reset",t.onHlsReset_),t.player_.tech_.on("hls-segment-time-mapping",t.onHlsSegmentTimeMapping_),t.player_.audioTracks&&t.player_.audioTracks()&&(t.player_.audioTracks().on("change",t.updateActiveSourceBuffers_),t.player_.audioTracks().on("addtrack",t.updateActiveSourceBuffers_),t.player_.audioTracks().on("removetrack",t.updateActiveSourceBuffers_)),t.player_.on("mediachange",t.onPlayerMediachange_))})),this.on("sourceended",(function(e){for(var i=(0,v.durationOfVideo)(t.duration),n=0;n<t.sourceBuffers.length;n++){var r=t.sourceBuffers[n],a=r.metadataTrack_&&r.metadataTrack_.cues;a&&a.length&&(a[a.length-1].endTime=i)}})),this.on("sourceclose",(function(t){this.sourceBuffers.forEach((function(t){t.transmuxer_&&t.transmuxer_.terminate()})),this.sourceBuffers.length=0,this.player_&&(this.player_.audioTracks&&this.player_.audioTracks()&&(this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)),this.player_.el_&&(this.player_.off("mediachange",this.onPlayerMediachange_),this.player_.tech_.off("hls-reset",this.onHlsReset_),this.player_.tech_.off("hls-segment-time-mapping",this.onHlsSegmentTimeMapping_)))}))}return o(e,t),n(e,[{key:"addSeekableRange_",value:function(t,e){var i=void 0;if(this.duration!==1/0)throw i=new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity"),i.name="InvalidStateError",i.code=11,i;(e>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration))&&(this.nativeMediaSource_.duration=e)}},{key:"addSourceBuffer",value:function(t){var e=void 0,i=(0,g.parseContentType)(t);if(/^(video|audio)\/mp2t$/i.test(i.type)){var n=[];i.parameters&&i.parameters.codecs&&(n=i.parameters.codecs.split(","),n=(0,g.translateLegacyCodecs)(n),n=n.filter((function(t){return(0,g.isAudioCodec)(t)||(0,g.isVideoCodec)(t)}))),0===n.length&&(n=["avc1.4d400d","mp4a.40.2"]),e=new m["default"](this,n),0!==this.sourceBuffers.length&&(this.sourceBuffers[0].createRealSourceBuffers_(),e.createRealSourceBuffers_(),this.sourceBuffers[0].audioDisabled_=!0)}else e=this.nativeMediaSource_.addSourceBuffer(t);return this.sourceBuffers.push(e),e}}]),e}(f["default"].EventTarget);e["default"]=y,t.exports=e["default"]},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t,e,i){var n=!0;while(n){var r=t,a=e,s=i;n=!1,null===r&&(r=Function.prototype);var o=Object.getOwnPropertyDescriptor(r,a);if(void 0!==o){if("value"in o)return o.value;var l=o.get;if(void 0===l)return;return l.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=a,i=s,n=!0,o=c=void 0}};function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var l=i(76),c=a(l),u=i(735),d=a(u),h=i(506),f=a(h),p=i(560),m=i(561),v=a(m),g=i(738),y=a(g),_=i(507),b=function(){var t=void 0;try{t=738}catch(e){}return t},T=function(t,e){var i=t.addSourceBuffer(e),n=Object.create(null);n.updating=!1,n.realBuffer_=i;var r=function(t){"function"===typeof i[t]?n[t]=function(){return i[t].apply(i,arguments)}:"undefined"===typeof n[t]&&Object.defineProperty(n,t,{get:function(){return i[t]},set:function(e){return i[t]=e}})};for(var a in i)r(a);return n},S=function(t,e,i){if(!e||!t.length)return[];var n=Math.ceil(9e4*(e.currentTime()-i+3)),r=void 0;for(r=0;r<t.length;r++)if(t[r].pts>n)break;return t.slice(r)};e.gopsSafeToAlignWith=S;var w=function(t,e,i){if(!e.length)return t;if(i)return e.slice();var n=e[0].pts,r=0;for(r;r<t.length;r++)if(t[r].pts>=n)break;return t.slice(0,r).concat(e)};e.updateGopBuffer=w;var C=function(t,e,i,n){var r=Math.ceil(9e4*(e-n)),a=Math.ceil(9e4*(i-n)),s=t.slice(),o=t.length;while(o--)if(t[o].pts<=a)break;if(-1===o)return s;var l=o+1;while(l--)if(t[l].pts<=r)break;return l=Math.max(l,0),s.splice(l,o-l+1),s};e.removeGopBuffer=C;var k=function(t){function e(t,i){var n=this;s(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,c["default"].EventTarget),this.timestampOffset_=0,this.pendingBuffers_=[],this.bufferUpdating_=!1,this.mediaSource_=t,this.codecs_=i,this.audioCodec_=null,this.videoCodec_=null,this.audioDisabled_=!1,this.appendAudioInitSegment_=!0,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=c["default"].browser.IE_VERSION>=11;var a={remux:!1,alignGopsAtEnd:this.safeAppend_};this.codecs_.forEach((function(t){(0,_.isAudioCodec)(t)?n.audioCodec_=t:(0,_.isVideoCodec)(t)&&(n.videoCodec_=t)})),this.transmuxer_=(0,v["default"])(y["default"],b()),this.transmuxer_.postMessage({action:"init",options:a}),this.transmuxer_.onmessage=function(t){return"data"===t.data.action?n.data_(t):"done"===t.data.action?n.done_(t):"gopInfo"===t.data.action?n.appendGopInfo_(t):void 0},Object.defineProperty(this,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(t){"number"===typeof t&&t>=0&&(this.timestampOffset_=t,this.appendAudioInitSegment_=!0,this.gopBuffer_.length=0,this.timeMapping_=0,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:t}))}}),Object.defineProperty(this,"appendWindowStart",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(t){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=t),this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=t)}}),Object.defineProperty(this,"updating",{get:function(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}}),Object.defineProperty(this,"buffered",{get:function(){var t=null,e=null,i=0,n=[],r=[];if(!this.videoBuffer_&&!this.audioBuffer_)return c["default"].createTimeRange();if(!this.videoBuffer_)return this.audioBuffer_.buffered;if(!this.audioBuffer_)return this.videoBuffer_.buffered;if(this.audioDisabled_)return this.videoBuffer_.buffered;if(0===this.videoBuffer_.buffered.length&&0===this.audioBuffer_.buffered.length)return c["default"].createTimeRange();var a=this.videoBuffer_.buffered,s=this.audioBuffer_.buffered,o=a.length;while(o--)n.push({time:a.start(o),type:"start"}),n.push({time:a.end(o),type:"end"});o=s.length;while(o--)n.push({time:s.start(o),type:"start"}),n.push({time:s.end(o),type:"end"});for(n.sort((function(t,e){return t.time-e.time})),o=0;o<n.length;o++)"start"===n[o].type?(i++,2===i&&(t=n[o].time)):"end"===n[o].type&&(i--,1===i&&(e=n[o].time)),null!==t&&null!==e&&(r.push([t,e]),t=null,e=null);return c["default"].createTimeRanges(r)}})}return o(e,t),n(e,[{key:"data_",value:function(t){var e=t.data.segment;e.data=new Uint8Array(e.data,t.data.byteOffset,t.data.byteLength),e.initSegment=new Uint8Array(e.initSegment.data,e.initSegment.byteOffset,e.initSegment.byteLength),(0,d["default"])(this,this.mediaSource_,e),this.pendingBuffers_.push(e)}},{key:"done_",value:function(t){"closed"!==this.mediaSource_.readyState?this.processPendingSegments_():this.pendingBuffers_.length=0}},{key:"createRealSourceBuffers_",value:function(){var t=this,e=["audio","video"];e.forEach((function(i){if(t[i+"Codec_"]&&!t[i+"Buffer_"]){var n=null;if(t.mediaSource_[i+"Buffer_"])n=t.mediaSource_[i+"Buffer_"],n.updating=!1;else{var r=i+"Codec_",a=i+'/mp4;codecs="'+t[r]+'"';n=T(t.mediaSource_.nativeMediaSource_,a),t.mediaSource_[i+"Buffer_"]=n}t[i+"Buffer_"]=n,["update","updatestart","updateend"].forEach((function(r){n.addEventListener(r,(function(){if("audio"!==i||!t.audioDisabled_){"updateend"===r&&(t[i+"Buffer_"].updating=!1);var n=e.every((function(e){return!("audio"!==e||!t.audioDisabled_)||(i===e||!t[e+"Buffer_"]||!t[e+"Buffer_"].updating)}));return n?t.trigger(r):void 0}}))}))}}))}},{key:"appendBuffer",value:function(t){if(this.bufferUpdating_=!0,this.audioBuffer_&&this.audioBuffer_.buffered.length){var e=this.audioBuffer_.buffered;this.transmuxer_.postMessage({action:"setAudioAppendStart",appendStart:e.end(e.length-1)})}this.videoBuffer_&&this.transmuxer_.postMessage({action:"alignGopsWith",gopsToAlignWith:S(this.gopBuffer_,this.mediaSource_.player_,this.timeMapping_)}),this.transmuxer_.postMessage({action:"push",data:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength},[t.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"appendGopInfo_",value:function(t){this.gopBuffer_=w(this.gopBuffer_,t.data.gopInfo,this.safeAppend_)}},{key:"remove",value:function(t,e){if(this.videoBuffer_&&(this.videoBuffer_.updating=!0,this.videoBuffer_.remove(t,e),this.gopBuffer_=C(this.gopBuffer_,t,e,this.timeMapping_)),!this.audioDisabled_&&this.audioBuffer_&&(this.audioBuffer_.updating=!0,this.audioBuffer_.remove(t,e)),(0,f["default"])(t,e,this.metadataTrack_),this.inbandTextTracks_)for(var i in this.inbandTextTracks_)(0,f["default"])(t,e,this.inbandTextTracks_[i])}},{key:"processPendingSegments_",value:function(){var t={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};t=this.pendingBuffers_.reduce((function(t,e){var i=e.type,n=e.data,r=e.initSegment;return t[i].segments.push(n),t[i].bytes+=n.byteLength,t[i].initSegment=r,e.captions&&(t.captions=t.captions.concat(e.captions)),e.info&&(t[i].info=e.info),e.metadata&&(t.metadata=t.metadata.concat(e.metadata)),t}),t),this.videoBuffer_||this.audioBuffer_||(0===t.video.bytes&&(this.videoCodec_=null),0===t.audio.bytes&&(this.audioCodec_=null),this.createRealSourceBuffers_()),t.audio.info&&this.mediaSource_.trigger({type:"audioinfo",info:t.audio.info}),t.video.info&&this.mediaSource_.trigger({type:"videoinfo",info:t.video.info}),this.appendAudioInitSegment_&&(!this.audioDisabled_&&this.audioBuffer_&&(t.audio.segments.unshift(t.audio.initSegment),t.audio.bytes+=t.audio.initSegment.byteLength),this.appendAudioInitSegment_=!1);var e=!1;this.videoBuffer_&&t.video.bytes?(t.video.segments.unshift(t.video.initSegment),t.video.bytes+=t.video.initSegment.byteLength,this.concatAndAppendSegments_(t.video,this.videoBuffer_),(0,p.addTextTrackData)(this,t.captions,t.metadata)):!this.videoBuffer_||!this.audioDisabled_&&this.audioBuffer_||(e=!0),!this.audioDisabled_&&this.audioBuffer_&&this.concatAndAppendSegments_(t.audio,this.audioBuffer_),this.pendingBuffers_.length=0,e&&this.trigger("updateend"),this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function(t,e){var i=0,n=void 0;if(t.bytes){n=new Uint8Array(t.bytes),t.segments.forEach((function(t){n.set(t,i),i+=t.byteLength}));try{e.updating=!0,e.appendBuffer(n)}catch(r){this.mediaSource_.player_&&this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR",message:r.message,originalError:r})}}}},{key:"abort",value:function(){this.videoBuffer_&&this.videoBuffer_.abort(),!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"}),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}}]),e}(c["default"].EventTarget);e["default"]=k},function(t,e,i){t.exports={generator:i(739),Transmuxer:i(562).Transmuxer,AudioSegmentStream:i(562).AudioSegmentStream,VideoSegmentStream:i(562).VideoSegmentStream}},function(t,e,i){"use strict";var n,r=i(218);n=function(){var t=new Uint8Array,e=0;n.prototype.init.call(this),this.setTimestamp=function(t){e=t},this.parseId3TagSize=function(t,e){var i=t[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9],n=t[e+5],r=(16&n)>>4;return r?i+20:i+10},this.parseAdtsSize=function(t,e){var i=(224&t[e+5])>>5,n=t[e+4]<<3,r=6144&t[e+3];return r|n|i},this.push=function(i){var n,r,a,s,o=0,l=0;t.length?(s=t.length,t=new Uint8Array(i.byteLength+s),t.set(t.subarray(0,s)),t.set(i,s)):t=i;while(t.length-l>=3)if(t[l]!=="I".charCodeAt(0)||t[l+1]!=="D".charCodeAt(0)||t[l+2]!=="3".charCodeAt(0))if(!0&t[l]&&240===(240&t[l+1])){if(t.length-l<7)break;if(o=this.parseAdtsSize(t,l),o>t.length)break;a={type:"audio",data:t.subarray(l,l+o),pts:e,dts:e},this.trigger("data",a),l+=o}else l++;else{if(t.length-l<10)break;if(o=this.parseId3TagSize(t,l),o>t.length)break;r={type:"timed-metadata",data:t.subarray(l,l+o)},this.trigger("data",r),l+=o}n=t.length-l,t=n>0?t.subarray(l):new Uint8Array}},n.prototype=new r,t.exports=n},function(t,e){var i=[33,16,5,32,164,27],n=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],r=function(t){var e=[];while(t--)e.push(0);return e},a=function(t){return Object.keys(t).reduce((function(e,i){return e[i]=new Uint8Array(t[i].reduce((function(t,e){return t.concat(e)}),[])),e}),{})},s={96e3:[i,[227,64],r(154),[56]],88200:[i,[231],r(170),[56]],64e3:[i,[248,192],r(240),[56]],48e3:[i,[255,192],r(268),[55,148,128],r(54),[112]],44100:[i,[255,192],r(268),[55,163,128],r(84),[112]],32e3:[i,[255,192],r(268),[55,234],r(226),[112]],24e3:[i,[255,192],r(268),[55,255,128],r(268),[111,112],r(126),[224]],16e3:[i,[255,192],r(268),[55,255,128],r(268),[111,255],r(269),[223,108],r(195),[1,192]],12e3:[n,r(268),[3,127,248],r(268),[6,255,240],r(268),[13,255,224],r(268),[27,253,128],r(259),[56]],11025:[n,r(268),[3,127,248],r(268),[6,255,240],r(268),[13,255,224],r(268),[27,255,192],r(268),[55,175,128],r(108),[112]],8e3:[n,r(268),[3,121,16],r(47),[7]]};t.exports=a(s)},function(t,e){var i,n,r,a,s,o,l=9e4;i=function(t){return t*l},n=function(t,e){return t*e},r=function(t){return t/l},a=function(t,e){return t/e},s=function(t,e){return i(a(t,e))},o=function(t,e){return n(r(t),e)},t.exports={secondsToVideoTs:i,secondsToAudioTs:n,videoTsToSeconds:r,audioTsToSeconds:a,audioTsToVideoTs:s,videoTsToAudioTs:o}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t,e,i){var n=!0;while(n){var r=t,a=e,s=i;n=!1,null===r&&(r=Function.prototype);var o=Object.getOwnPropertyDescriptor(r,a);if(void 0!==o){if("value"in o)return o.value;var l=o.get;if(void 0===l)return;return l.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=a,i=s,n=!0,o=c=void 0}};function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var l=i(557),c=a(l),u=i(458),d=i(740),h=a(d),f=i(1290),p=a(f),m=i(563),v=a(m),g=i(76),y=a(g),_=i(1291),b=a(_),T=i(1292),S=a(T),w=i(507),C=i(561),k=a(C),x=i(743),E=a(x),P=i(508),O=a(P),I=i(742),L=i(1297),A=120,D=void 0,M={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",audioProfile:"2"},j=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],N=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]},R=function(){var t=void 0;try{t=743}catch(e){}return t},B=function(t){return t.replace(/avc1\.(\d+)\.(\d+)/i,(function(t){return(0,w.translateLegacyCodecs)([t])[0]}))};e.mapLegacyAvcCodecs_=B;var U=function(t,e,i){return t+"/"+e+'; codecs="'+i.filter((function(t){return!!t})).join(", ")+'"'},F=function(t){return t.segments&&t.segments.length&&t.segments[0].map?"mp4":"mp2t"},$=function(t){var e=t.attributes||{};return e.CODECS?(0,I.parseCodecs)(e.CODECS):M},z=function(t,e){var i=F(e),n=$(e),r=e.attributes||{},a=!0,s=!1;if(!e)return[];if(t.mediaGroups.AUDIO&&r.AUDIO){var o=t.mediaGroups.AUDIO[r.AUDIO];if(o)for(var l in s=!0,a=!1,o)if(!o[l].uri){a=!0;break}}s&&!n.audioProfile&&(y["default"].log.warn("Multiple audio tracks present but no audio codec string is specified. Attempting to use the default audio codec (mp4a.40.2)"),n.audioProfile=M.audioProfile);var c={};n.videoCodec&&(c.video=""+n.videoCodec+n.videoObjectTypeIndicator),n.audioProfile&&(c.audio="mp4a.40."+n.audioProfile);var u=U("audio",i,[c.audio]),d=U("video",i,[c.video]),h=U("video",i,[c.video,c.audio]);return s?!a&&c.video?[d,u]:[h,u]:c.video?[h]:[u]};e.mimeTypesForPlaylist_=z;var V=function(t){function e(t){var i=this;s(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this);var n=t.url,a=t.handleManifestRedirects,o=t.withCredentials,l=t.mode,u=t.tech,d=t.bandwidth,f=t.externHls,m=t.useCueTags,v=t.blacklistDuration,g=t.enableLowInitialPlaylist;if(!n)throw new Error("A non-empty playlist URL is required");D=f,this.tech_=u,this.hls_=u.hls,this.mode_=l,this.useCueTags_=m,this.blacklistDuration=v,this.enableLowInitialPlaylist=g,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:o,handleManifestRedirects:a,timeout:null},this.mediaTypes_=(0,L.createMediaTypes)(),this.mediaSource=new y["default"].MediaSource({mode:l}),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_.bind(this)),this.seekable_=y["default"].createTimeRanges(),this.hasPlayed_=function(){return!1},this.syncController_=new S["default"](t),this.segmentMetadataTrack_=u.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.decrypter_=(0,k["default"])(E["default"],R());var _={hls:this.hls_,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:function(){return i.seekable()},seeking:function(){return i.tech_.seeking()},duration:function(){return i.mediaSource.duration},hasPlayed:function(){return i.hasPlayed_()},goalBufferLength:function(){return i.goalBufferLength()},bandwidth:d,syncController:this.syncController_,decrypter:this.decrypter_};this.masterPlaylistLoader_=new c["default"](n,this.hls_,this.requestOptions_),this.setupMasterPlaylistLoaderListeners_(),this.mainSegmentLoader_=new h["default"](y["default"].mergeOptions(_,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),t),this.audioSegmentLoader_=new h["default"](y["default"].mergeOptions(_,{loaderType:"audio"}),t),this.subtitleSegmentLoader_=new p["default"](y["default"].mergeOptions(_,{loaderType:"vtt"}),t),this.setupSegmentLoaderListeners_(),j.forEach((function(t){i[t+"_"]=N.bind(i,t)})),this.masterPlaylistLoader_.load()}return o(e,t),n(e,[{key:"setupMasterPlaylistLoaderListeners_",value:function(){var t=this;this.masterPlaylistLoader_.on("loadedmetadata",(function(){var e=t.masterPlaylistLoader_.media(),i=1.5*t.masterPlaylistLoader_.targetDuration*1e3;(0,u.isLowestEnabledRendition)(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.media())?t.requestOptions_.timeout=0:t.requestOptions_.timeout=i,e.endList&&"none"!==t.tech_.preload()&&(t.mainSegmentLoader_.playlist(e,t.requestOptions_),t.mainSegmentLoader_.load()),(0,L.setupMediaGroups)({segmentLoaders:{AUDIO:t.audioSegmentLoader_,SUBTITLES:t.subtitleSegmentLoader_,main:t.mainSegmentLoader_},tech:t.tech_,requestOptions:t.requestOptions_,masterPlaylistLoader:t.masterPlaylistLoader_,mode:t.mode_,hls:t.hls_,master:t.master(),mediaTypes:t.mediaTypes_,blacklistCurrentPlaylist:t.blacklistCurrentPlaylist.bind(t)}),t.triggerPresenceUsage_(t.master(),e);try{t.setupSourceBuffers_()}catch(n){return y["default"].log.warn("Failed to create SourceBuffers",n),t.mediaSource.endOfStream("decode")}t.setupFirstPlay(),t.trigger("selectedinitialmedia")})),this.masterPlaylistLoader_.on("loadedplaylist",(function(){var e=t.masterPlaylistLoader_.media();if(!e){var i=void 0;return t.enableLowInitialPlaylist&&(i=t.selectInitialPlaylist()),i||(i=t.selectPlaylist()),t.initialMedia_=i,void t.masterPlaylistLoader_.media(t.initialMedia_)}t.useCueTags_&&t.updateAdCues_(e),t.mainSegmentLoader_.playlist(e,t.requestOptions_),t.updateDuration(),t.tech_.paused()||t.mainSegmentLoader_.load(),e.endList||function(){var e=function(){var e=t.seekable();0!==e.length&&t.mediaSource.addSeekableRange_(e.start(0),e.end(0))};t.duration()!==1/0?function(){var i=function i(){t.duration()===1/0?e():t.tech_.one("durationchange",i)};t.tech_.one("durationchange",i)}():e()}()})),this.masterPlaylistLoader_.on("error",(function(){t.blacklistCurrentPlaylist(t.masterPlaylistLoader_.error)})),this.masterPlaylistLoader_.on("mediachanging",(function(){t.mainSegmentLoader_.abort(),t.mainSegmentLoader_.pause()})),this.masterPlaylistLoader_.on("mediachange",(function(){var e=t.masterPlaylistLoader_.media(),i=1.5*t.masterPlaylistLoader_.targetDuration*1e3;(0,u.isLowestEnabledRendition)(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.media())?t.requestOptions_.timeout=0:t.requestOptions_.timeout=i,t.mainSegmentLoader_.playlist(e,t.requestOptions_),t.mainSegmentLoader_.load(),t.tech_.trigger({type:"mediachange",bubbles:!0})})),this.masterPlaylistLoader_.on("playlistunchanged",(function(){var e=t.masterPlaylistLoader_.media(),i=t.stuckAtPlaylistEnd_(e);i&&(t.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),t.tech_.trigger("playliststuck"))})),this.masterPlaylistLoader_.on("renditiondisabled",(function(){t.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})})),this.masterPlaylistLoader_.on("renditionenabled",(function(){t.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})}))}},{key:"triggerPresenceUsage_",value:function(t,e){var i=t.mediaGroups||{},n=!0,r=Object.keys(i.AUDIO);for(var a in i.AUDIO)for(var s in i.AUDIO[a]){var o=i.AUDIO[a][s];o.uri||(n=!1)}n&&this.tech_.trigger({type:"usage",name:"hls-demuxed"}),Object.keys(i.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"hls-webvtt"}),D.Playlist.isAes(e)&&this.tech_.trigger({type:"usage",name:"hls-aes"}),D.Playlist.isFmp4(e)&&this.tech_.trigger({type:"usage",name:"hls-fmp4"}),r.length&&Object.keys(i.AUDIO[r[0]]).length>1&&this.tech_.trigger({type:"usage",name:"hls-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"})}},{key:"setupSegmentLoaderListeners_",value:function(){var t=this;this.mainSegmentLoader_.on("bandwidthupdate",(function(){var e=t.selectPlaylist(),i=t.masterPlaylistLoader_.media(),n=t.tech_.buffered(),r=n.length?n.end(n.length-1)-t.tech_.currentTime():0,a=t.bufferLowWaterLine();(!i.endList||t.duration()<O["default"].MAX_BUFFER_LOW_WATER_LINE||e.attributes.BANDWIDTH<i.attributes.BANDWIDTH||r>=a)&&t.masterPlaylistLoader_.media(e),t.tech_.trigger("bandwidthupdate")})),this.mainSegmentLoader_.on("progress",(function(){t.trigger("progress")})),this.mainSegmentLoader_.on("error",(function(){t.blacklistCurrentPlaylist(t.mainSegmentLoader_.error())})),this.mainSegmentLoader_.on("syncinfoupdate",(function(){t.onSyncInfoUpdate_()})),this.mainSegmentLoader_.on("timestampoffset",(function(){t.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})})),this.audioSegmentLoader_.on("syncinfoupdate",(function(){t.onSyncInfoUpdate_()})),this.mainSegmentLoader_.on("ended",(function(){t.onEndOfStream()})),this.mainSegmentLoader_.on("earlyabort",(function(){t.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},A)})),this.mainSegmentLoader_.on("reseteverything",(function(){t.tech_.trigger("hls-reset")})),this.mainSegmentLoader_.on("segmenttimemapping",(function(e){t.tech_.trigger({type:"hls-segment-time-mapping",mapping:e.mapping})})),this.audioSegmentLoader_.on("ended",(function(){t.onEndOfStream()}))}},{key:"mediaSecondsLoaded_",value:function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"load",value:function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}},{key:"fastQualityChange_",value:function(){var t=this.selectPlaylist();t!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(t),this.mainSegmentLoader_.resetLoader())}},{key:"play",value:function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_()&&this.load();var t=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<t.start(0)?this.tech_.setCurrentTime(t.end(t.length-1)):void 0}}},{key:"setupFirstPlay",value:function(){var t=this,e=this.masterPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_())return!1;if(!e.endList){var i=function(){var e=t.seekable();return e.length?y["default"].browser.IE_VERSION&&"html5"===t.mode_&&0===t.tech_.readyState()?(t.tech_.one("loadedmetadata",(function(){t.trigger("firstplay"),t.tech_.setCurrentTime(e.end(0)),t.hasPlayed_=function(){return!0}})),{v:!1}):(t.trigger("firstplay"),void t.tech_.setCurrentTime(e.end(0))):{v:!1}}();if("object"===typeof i)return i.v}return this.hasPlayed_=function(){return!0},this.load(),!0}},{key:"handleSourceOpen_",value:function(){try{this.setupSourceBuffers_()}catch(e){return y["default"].log.warn("Failed to create Source Buffers",e),this.mediaSource.endOfStream("decode")}if(this.tech_.autoplay()){var t=this.tech_.play();"undefined"!==typeof t&&"function"===typeof t.then&&t.then(null,(function(t){}))}this.trigger("sourceopen")}},{key:"onEndOfStream",value:function(){var t=this.mainSegmentLoader_.ended_;this.mediaTypes_.AUDIO.activePlaylistLoader&&(t=t&&this.audioSegmentLoader_.ended_),t&&this.mediaSource.endOfStream()}},{key:"stuckAtPlaylistEnd_",value:function(t){var e=this.seekable();if(!e.length)return!1;var i=this.syncController_.getExpiredTime(t,this.mediaSource.duration);if(null===i)return!1;var n=D.Playlist.playlistEnd(t,i),r=this.tech_.currentTime(),a=this.tech_.buffered();if(!a.length)return n-r<=v["default"].SAFE_TIME_DELTA;var s=a.end(a.length-1);return s-r<=v["default"].SAFE_TIME_DELTA&&n-s<=v["default"].SAFE_TIME_DELTA}},{key:"blacklistCurrentPlaylist",value:function(t,e){void 0===t&&(t={});var i=void 0,n=void 0;if(i=t.playlist||this.masterPlaylistLoader_.media(),e=e||t.blacklistDuration||this.blacklistDuration,!i){this.error=t;try{return this.mediaSource.endOfStream("network")}catch(a){return this.trigger("error")}}var r=1===this.masterPlaylistLoader_.master.playlists.filter(u.isEnabled).length;return r?(y["default"].log.warn("Problem encountered with the current HLS playlist. Trying again since it is the final playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(r)):(i.excludeUntil=Date.now()+1e3*e,this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"}),n=this.selectPlaylist(),y["default"].log.warn("Problem encountered with the current HLS playlist."+(t.message?" "+t.message:"")+" Switching to another playlist."),this.masterPlaylistLoader_.media(n))}},{key:"pauseLoading",value:function(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}},{key:"setCurrentTime",value:function(t){var e=v["default"].findRange(this.tech_.buffered(),t);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?e&&e.length&&"flash"!==this.mode_?t:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0}},{key:"duration",value:function(){return this.masterPlaylistLoader_?this.mediaSource?this.mediaSource.duration:D.Playlist.duration(this.masterPlaylistLoader_.media()):0}},{key:"seekable",value:function(){return this.seekable_}},{key:"onSyncInfoUpdate_",value:function(){var t=void 0,e=void 0;if(this.masterPlaylistLoader_){var i=this.masterPlaylistLoader_.media();if(i){var n=this.syncController_.getExpiredTime(i,this.mediaSource.duration);if(null!==n&&(t=D.Playlist.seekable(i,n),0!==t.length)){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(i=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),n=this.syncController_.getExpiredTime(i,this.mediaSource.duration),null===n)return;if(e=D.Playlist.seekable(i,n),0===e.length)return}e?e.start(0)>t.end(0)||t.start(0)>e.end(0)?this.seekable_=t:this.seekable_=y["default"].createTimeRanges([[e.start(0)>t.start(0)?e.start(0):t.start(0),e.end(0)<t.end(0)?e.end(0):t.end(0)]]):this.seekable_=t,this.tech_.trigger("seekablechanged")}}}}},{key:"updateDuration",value:function(){var t=this,e=this.mediaSource.duration,i=D.Playlist.duration(this.masterPlaylistLoader_.media()),n=this.tech_.buffered(),r=function e(){t.mediaSource.duration=i,t.tech_.trigger("durationchange"),t.mediaSource.removeEventListener("sourceopen",e)};n.length>0&&(i=Math.max(i,n.end(n.length-1))),e!==i&&("open"!==this.mediaSource.readyState?this.mediaSource.addEventListener("sourceopen",r):r())}},{key:"dispose",value:function(){var t=this;this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),["AUDIO","SUBTITLES"].forEach((function(e){var i=t.mediaTypes_[e].groups;for(var n in i)i[n].forEach((function(t){t.playlistLoader&&t.playlistLoader.dispose()}))})),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose()}},{key:"master",value:function(){return this.masterPlaylistLoader_.master}},{key:"media",value:function(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function(){var t=this.masterPlaylistLoader_.media(),e=void 0;if(t&&"open"===this.mediaSource.readyState){if(e=z(this.masterPlaylistLoader_.master,t),e.length<1)return this.error="No compatible SourceBuffer configuration for the variant stream:"+t.resolvedUri,this.mediaSource.endOfStream("decode");this.mainSegmentLoader_.mimeType(e[0]),e[1]&&this.audioSegmentLoader_.mimeType(e[1]),this.excludeIncompatibleVariants_(t)}}},{key:"excludeIncompatibleVariants_",value:function(t){var e=this.masterPlaylistLoader_.master,i=2,n=null,r=void 0;t.attributes.CODECS&&(r=(0,I.parseCodecs)(t.attributes.CODECS),n=r.videoCodec,i=r.codecCount),e.playlists.forEach((function(t){var e={codecCount:2,videoCodec:null};if(t.attributes.CODECS){var r=t.attributes.CODECS;e=(0,I.parseCodecs)(r),window.MediaSource&&window.MediaSource.isTypeSupported&&!window.MediaSource.isTypeSupported('video/mp4; codecs="'+B(r)+'"')&&(t.excludeUntil=1/0)}e.codecCount!==i&&(t.excludeUntil=1/0),e.videoCodec!==n&&(t.excludeUntil=1/0)}))}},{key:"updateAdCues_",value:function(t){var e=0,i=this.seekable();i.length&&(e=i.start(0)),b["default"].updateAdCues(t,this.cueTagsTrack_,e)}},{key:"goalBufferLength",value:function(){var t=this.tech_.currentTime(),e=O["default"].GOAL_BUFFER_LENGTH,i=O["default"].GOAL_BUFFER_LENGTH_RATE,n=Math.max(e,O["default"].MAX_GOAL_BUFFER_LENGTH);return Math.min(e+t*i,n)}},{key:"bufferLowWaterLine",value:function(){var t=this.tech_.currentTime(),e=O["default"].BUFFER_LOW_WATER_LINE,i=O["default"].BUFFER_LOW_WATER_LINE_RATE,n=Math.max(e,O["default"].MAX_BUFFER_LOW_WATER_LINE);return Math.min(e+t*i,n)}}]),e}(y["default"].EventTarget);e.MasterPlaylistController=V},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();function r(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=i(76),o=r(s),l=function(){},c=function(){function t(e,i){var n=this;a(this,t);var r=function(){n.sourceBuffer_=e.addSourceBuffer(i),n.onUpdateendCallback_=function(){var t=n.pendingCallback_;n.pendingCallback_=null,t&&t(),n.runCallback_()},n.sourceBuffer_.addEventListener("updateend",n.onUpdateendCallback_),n.runCallback_()};this.callbacks_=[],this.pendingCallback_=null,this.timestampOffset_=0,this.mediaSource=e,this.processedAppend_=!1,"closed"===e.readyState?e.addEventListener("sourceopen",r):r()}return n(t,[{key:"abort",value:function(t){var e=this;this.processedAppend_&&this.queueCallback_((function(){e.sourceBuffer_.abort()}),t)}},{key:"appendBuffer",value:function(t,e){var i=this;this.processedAppend_=!0,this.queueCallback_((function(){i.sourceBuffer_.appendBuffer(t)}),e)}},{key:"buffered",value:function(){return this.sourceBuffer_?this.sourceBuffer_.buffered:o["default"].createTimeRanges()}},{key:"remove",value:function(t,e){var i=this;this.processedAppend_&&this.queueCallback_((function(){i.sourceBuffer_.remove(t,e)}),l)}},{key:"updating",value:function(){return!this.sourceBuffer_||this.sourceBuffer_.updating||this.pendingCallback_}},{key:"timestampOffset",value:function(t){var e=this;return"undefined"!==typeof t&&(this.queueCallback_((function(){e.sourceBuffer_.timestampOffset=t})),this.timestampOffset_=t),this.timestampOffset_}},{key:"queueCallback_",value:function(t,e){this.callbacks_.push([t.bind(this),e]),this.runCallback_()}},{key:"runCallback_",value:function(){var t=void 0;!this.updating()&&this.callbacks_.length&&(t=this.callbacks_.shift(),this.pendingCallback_=t[1],t[0]())}},{key:"dispose",value:function(){this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_),this.sourceBuffer_&&"open"===this.mediaSource.readyState&&this.sourceBuffer_.abort()}}]),t}();e["default"]=c,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(76),a=n(r),s=i(478),o={FAILURE:2,TIMEOUT:-101,ABORTED:-102};e.REQUEST_ERRORS=o;var l=function(t){var e=void 0,i=void 0;return i=t.offset+t.length-1,e=t.offset,"bytes="+e+"-"+i},c=function(t){var e={};return t.byterange&&(e.Range=l(t.byterange)),e},u=function(t){t.forEach((function(t){t.abort()}))},d=function(t){return{bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}},h=function(t){var e=t.target,i=Date.now()-e.requestTime,n={bandwidth:1/0,bytesReceived:0,roundTripTime:i||0};return n.bytesReceived=t.loaded,n.bandwidth=Math.floor(n.bytesReceived/n.roundTripTime*8*1e3),n},f=function(t,e){return e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:o.TIMEOUT,xhr:e}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:o.ABORTED,xhr:e}:t?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:o.FAILURE,xhr:e}:null},p=function(t,e){return function(i,n){var r=n.response,a=f(i,n);if(a)return e(a,t);if(16!==r.byteLength)return e({status:n.status,message:"Invalid HLS key at URL: "+n.uri,code:o.FAILURE,xhr:n},t);var s=new DataView(r);return t.key.bytes=new Uint32Array([s.getUint32(0),s.getUint32(4),s.getUint32(8),s.getUint32(12)]),e(null,t)}},m=function(t,e){return function(i,n){var r=n.response,a=f(i,n);return a?e(a,t):0===r.byteLength?e({status:n.status,message:"Empty HLS segment content at URL: "+n.uri,code:o.FAILURE,xhr:n},t):(t.map.bytes=new Uint8Array(n.response),e(null,t))}},v=function(t,e){return function(i,n){var r=n.response,a=f(i,n);return a?e(a,t):0===r.byteLength?e({status:n.status,message:"Empty HLS segment content at URL: "+n.uri,code:o.FAILURE,xhr:n},t):(t.stats=d(n),t.key?t.encryptedBytes=new Uint8Array(n.response):t.bytes=new Uint8Array(n.response),e(null,t))}},g=function(t,e,i){var n=function n(r){if(r.data.source===e.requestId){t.removeEventListener("message",n);var a=r.data.decrypted;return e.bytes=new Uint8Array(a.bytes,a.byteOffset,a.byteLength),i(null,e)}};t.addEventListener("message",n),t.postMessage((0,s.createTransferableMessage)({source:e.requestId,encrypted:e.encryptedBytes,key:e.key.bytes,iv:e.key.iv}),[e.encryptedBytes.buffer,e.key.bytes.buffer])},y=function(t){return t.reduce((function(t,e){return e.code>t.code?e:t}))},_=function(t,e,i){var n=[],r=0;return function(a,s){if(a&&(u(t),n.push(a)),r+=1,r===t.length){if(s.endOfAllRequests=Date.now(),n.length>0){var o=y(n);return i(o,s)}return s.encryptedBytes?g(e,s,i):i(null,s)}}},b=function(t,e){return function(i){return t.stats=a["default"].mergeOptions(t.stats,h(i)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),e(i,t)}},T=function(t,e,i,n,r,s){var o=[],l=_(o,i,s);if(n.key){var d=a["default"].mergeOptions(e,{uri:n.key.resolvedUri,responseType:"arraybuffer"}),h=p(n,l),f=t(d,h);o.push(f)}if(n.map&&!n.map.bytes){var g=a["default"].mergeOptions(e,{uri:n.map.resolvedUri,responseType:"arraybuffer",headers:c(n.map)}),y=m(n,l),T=t(g,y);o.push(T)}var S=a["default"].mergeOptions(e,{uri:n.resolvedUri,responseType:"arraybuffer",headers:c(n)}),w=v(n,l),C=t(S,w);return C.addEventListener("progress",b(n,r)),o.push(C),function(){return u(o)}};e.mediaSegmentRequest=T},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t,e,i){var n=!0;while(n){var r=t,a=e,s=i;n=!1,null===r&&(r=Function.prototype);var o=Object.getOwnPropertyDescriptor(r,a);if(void 0!==o){if("value"in o)return o.value;var l=o.get;if(void 0===l)return;return l.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=a,i=s,n=!0,o=c=void 0}};function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var l=i(740),c=a(l),u=i(76),d=a(u),h=i(106),f=a(h),p=i(506),m=a(p),v=i(478),g=new Uint8Array("\n\n".split("").map((function(t){return t.charCodeAt(0)}))),y=function(t){return String.fromCharCode.apply(null,t)},_=function(t){function e(t){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];s(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t,i),this.mediaSource_=null,this.subtitlesTrack_=null}return o(e,t),n(e,[{key:"buffered_",value:function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return d["default"].createTimeRanges();var t=this.subtitlesTrack_.cues,e=t[0].startTime,i=t[t.length-1].startTime;return d["default"].createTimeRanges([[e,i]])}},{key:"initSegment",value:function(t){var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];if(!t)return null;var i=(0,v.initSegmentId)(t),n=this.initSegments_[i];if(e&&!n&&t.bytes){var r=g.byteLength+t.bytes.byteLength,a=new Uint8Array(r);a.set(t.bytes),a.set(g,t.bytes.byteLength),this.initSegments_[i]=n={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:a}}return n||t}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}},{key:"init_",value:function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}},{key:"track",value:function(t){return"undefined"===typeof t||(this.subtitlesTrack_=t,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_}},{key:"remove",value:function(t,e){(0,m["default"])(t,e,this.subtitlesTrack_)}},{key:"fillBuffer_",value:function(){var t=this;this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var e=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(e=this.skipEmptySegments_(e),e){if(null===this.syncController_.timestampOffsetForTimeline(e.timeline)){var i=function(){t.state="READY",t.paused()||t.monitorBuffer_()};return this.syncController_.one("timestampoffset",i),void(this.state="WAITING_ON_TIMELINE")}this.loadSegment_(e)}}},{key:"skipEmptySegments_",value:function(t){while(t&&t.segment.empty)t=this.generateSegmentInfo_(t.playlist,t.mediaIndex+1,t.startOfSegment+t.duration,t.isSyncRequest);return t}},{key:"handleSegment_",value:function(){var t=this;if(this.pendingSegment_&&this.subtitlesTrack_){this.state="APPENDING";var e=this.pendingSegment_,i=e.segment;if("function"!==typeof f["default"].WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var n=function(){var e=function(){t.handleSegment_()};return t.state="WAITING_ON_VTTJS",t.subtitlesTrack_.tech_.one("vttjsloaded",e),t.subtitlesTrack_.tech_.one("vttjserror",(function(){t.subtitlesTrack_.tech_.off("vttjsloaded",e),t.error({message:"Error loading vtt.js"}),t.state="READY",t.pause(),t.trigger("error")})),{v:void 0}}();if("object"===typeof n)return n.v}i.requested=!0;try{this.parseVTTCues_(e)}catch(r){return this.error({message:r.message}),this.state="READY",this.pause(),this.trigger("error")}if(this.updateTimeMapping_(e,this.syncController_.timelines[e.timeline],this.playlist_),e.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");e.byteLength=e.bytes.byteLength,this.mediaSecondsLoaded+=i.duration,e.cues.length&&this.remove(e.cues[0].endTime,e.cues[e.cues.length-1].endTime),e.cues.forEach((function(e){t.subtitlesTrack_.addCue(e)})),this.handleUpdateEnd_()}else this.state="READY"}},{key:"parseVTTCues_",value:function(t){var e=void 0,i=!1;"function"===typeof f["default"].TextDecoder?e=new f["default"].TextDecoder("utf8"):(e=f["default"].WebVTT.StringDecoder(),i=!0);var n=new f["default"].WebVTT.Parser(f["default"],f["default"].vttjs,e);if(t.cues=[],t.timestampmap={MPEGTS:0,LOCAL:0},n.oncue=t.cues.push.bind(t.cues),n.ontimestampmap=function(e){return t.timestampmap=e},n.onparsingerror=function(t){d["default"].log.warn("Error encountered when parsing cues: "+t.message)},t.segment.map){var r=t.segment.map.bytes;i&&(r=y(r)),n.parse(r)}var a=t.bytes;i&&(a=y(a)),n.parse(a),n.flush()}},{key:"updateTimeMapping_",value:function(t,e,i){var n=t.segment;if(e)if(t.cues.length){var r=t.timestampmap,a=r.MPEGTS/9e4-r.LOCAL+e.mapping;if(t.cues.forEach((function(t){t.startTime+=a,t.endTime+=a})),!i.syncInfo){var s=t.cues[0].startTime,o=t.cues[t.cues.length-1].startTime;i.syncInfo={mediaSequence:i.mediaSequence+t.mediaIndex,time:Math.min(s,o-n.duration)}}}else n.empty=!0}}]),e}(c["default"]);e["default"]=_,t.exports=e["default"]},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){var i=[],n=!0,r=!1,a=void 0;try{for(var s,o=t[Symbol.iterator]();!(n=(s=o.next()).done);n=!0)if(i.push(s.value),e&&i.length===e)break}catch(l){r=!0,a=l}finally{try{!n&&o["return"]&&o["return"]()}finally{if(r)throw a}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function r(t){return t&&t.__esModule?t:{default:t}}var a=i(106),s=r(a),o=function(t,e){for(var i=t.cues,n=0;n<i.length;n++){var r=i[n];if(e>=r.adStartTime&&e<=r.adEndTime)return r}return null},l=function(t,e){var i=arguments.length<=2||void 0===arguments[2]?0:arguments[2];if(t.segments)for(var r=i,a=void 0,l=0;l<t.segments.length;l++){var c=t.segments[l];if(a||(a=o(e,r+c.duration/2)),a){if("cueIn"in c){a.endTime=r,a.adEndTime=r,r+=c.duration,a=null;continue}if(r<a.endTime){r+=c.duration;continue}a.endTime+=c.duration}else if("cueOut"in c&&(a=new s["default"].VTTCue(r,r+c.duration,c.cueOut),a.adStartTime=r,a.adEndTime=r+parseFloat(c.cueOut),e.addCue(a)),"cueOutCont"in c){var u=void 0,d=void 0,h=c.cueOutCont.split("/").map(parseFloat),f=n(h,2);u=f[0],d=f[1],a=new s["default"].VTTCue(r,r+c.duration,""),a.adStartTime=r-u,a.adEndTime=a.adStartTime+d,e.addCue(a)}r+=c.duration}};e["default"]={updateAdCues:l,findAdCue:o},t.exports=e["default"]},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t,e,i){var n=!0;while(n){var r=t,a=e,s=i;n=!1,null===r&&(r=Function.prototype);var o=Object.getOwnPropertyDescriptor(r,a);if(void 0!==o){if("value"in o)return o.value;var l=o.get;if(void 0===l)return;return l.call(s)}var c=Object.getPrototypeOf(r);if(null===c)return;t=c,e=a,i=s,n=!0,o=c=void 0}};function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var l=i(1293),c=a(l),u=i(1294),d=i(458),h=i(76),f=a(h),p=[{name:"VOD",run:function(t,e,i,n,r){if(i!==1/0){var a={time:0,segmentIndex:0};return a}return null}},{name:"ProgramDateTime",run:function(t,e,i,n,r){if(t.datetimeToDisplayTime&&e.dateTimeObject){var a=e.dateTimeObject.getTime()/1e3,s=a+t.datetimeToDisplayTime,o={time:s,segmentIndex:0};return o}return null}},{name:"Segment",run:function(t,e,i,n,r){var a=e.segments||[],s=null,o=null;r=r||0;for(var l=0;l<a.length;l++){var c=a[l];if(c.timeline===n&&"undefined"!==typeof c.start){var u=Math.abs(r-c.start);if(null!==o&&o<u)break;(!s||null===o||o>=u)&&(o=u,s={time:c.start,segmentIndex:l})}}return s}},{name:"Discontinuity",run:function(t,e,i,n,r){var a=null;if(r=r||0,e.discontinuityStarts&&e.discontinuityStarts.length)for(var s=null,o=0;o<e.discontinuityStarts.length;o++){var l=e.discontinuityStarts[o],c=e.discontinuitySequence+o+1,u=t.discontinuities[c];if(u){var d=Math.abs(r-u.time);if(null!==s&&s<d)break;(!a||null===s||s>=d)&&(s=d,a={time:u.time,segmentIndex:l})}}return a}},{name:"Playlist",run:function(t,e,i,n,r){if(e.syncInfo){var a={time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence};return a}return null}}];e.syncPointStrategies=p;var m=function(t){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];s(this,e),r(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.inspectCache_=void 0,this.timelines=[],this.discontinuities=[],this.datetimeToDisplayTime=null,t.debug&&(this.logger_=f["default"].log.bind(f["default"],"sync-controller ->"))}return o(e,t),n(e,[{key:"getSyncPoint",value:function(t,e,i,n){var r=this.runStrategies_(t,e,i,n);return r.length?this.selectSyncPoint_(r,{key:"time",value:n}):null}},{key:"getExpiredTime",value:function(t,e){if(!t||!t.segments)return null;var i=this.runStrategies_(t,e,t.discontinuitySequence,0);if(!i.length)return null;var n=this.selectSyncPoint_(i,{key:"segmentIndex",value:0});return n.segmentIndex>0&&(n.time*=-1),Math.abs(n.time+(0,d.sumDurations)(t,n.segmentIndex,0))}},{key:"runStrategies_",value:function(t,e,i,n){for(var r=[],a=0;a<p.length;a++){var s=p[a],o=s.run(this,t,e,i,n);o&&(o.strategy=s.name,r.push({strategy:s.name,syncPoint:o}),this.logger_("syncPoint found via <"+s.name+">:",o))}return r}},{key:"selectSyncPoint_",value:function(t,e){for(var i=t[0].syncPoint,n=Math.abs(t[0].syncPoint[e.key]-e.value),r=t[0].strategy,a=1;a<t.length;a++){var s=Math.abs(t[a].syncPoint[e.key]-e.value);s<n&&(n=s,i=t[a].syncPoint,r=t[a].strategy)}return this.logger_("syncPoint with strategy <"+r+"> chosen: ",i),i}},{key:"saveExpiredSegmentInfo",value:function(t,e){for(var i=e.mediaSequence-t.mediaSequence,n=i-1;n>=0;n--){var r=t.segments[n];if(r&&"undefined"!==typeof r.start){e.syncInfo={mediaSequence:t.mediaSequence+n,time:r.start},this.logger_("playlist sync:",e.syncInfo),this.trigger("syncinfoupdate");break}}}},{key:"setDateTimeMapping",value:function(t){if(!this.datetimeToDisplayTime&&t.dateTimeObject){var e=t.dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-e}}},{key:"reset",value:function(){this.inspectCache_=void 0}},{key:"probeSegmentInfo",value:function(t){var e=t.segment,i=t.playlist,n=void 0;return n=e.map?this.probeMp4Segment_(t):this.probeTsSegment_(t),n&&this.calculateSegmentTimeMapping_(t,n)&&(this.saveDiscontinuitySyncInfo_(t),i.syncInfo||(i.syncInfo={mediaSequence:i.mediaSequence+t.mediaIndex,time:e.start})),n}},{key:"probeMp4Segment_",value:function(t){var e=t.segment,i=c["default"].timescale(e.map.bytes),n=c["default"].startTime(i,t.bytes);return null!==t.timestampOffset&&(t.timestampOffset-=n),{start:n,end:n+e.duration}}},{key:"probeTsSegment_",value:function(t){var e=(0,u.inspect)(t.bytes,this.inspectCache_),i=void 0,n=void 0;return e?(e.video&&2===e.video.length?(this.inspectCache_=e.video[1].dts,i=e.video[0].dtsTime,n=e.video[1].dtsTime):e.audio&&2===e.audio.length&&(this.inspectCache_=e.audio[1].dts,i=e.audio[0].dtsTime,n=e.audio[1].dtsTime),{start:i,end:n,containsVideo:e.video&&2===e.video.length,containsAudio:e.audio&&2===e.audio.length}):null}},{key:"timestampOffsetForTimeline",value:function(t){return"undefined"===typeof this.timelines[t]?null:this.timelines[t].time}},{key:"mappingForTimeline",value:function(t){return"undefined"===typeof this.timelines[t]?null:this.timelines[t].mapping}},{key:"calculateSegmentTimeMapping_",value:function(t,e){var i=t.segment,n=this.timelines[t.timeline];if(null!==t.timestampOffset)this.logger_("tsO:",t.timestampOffset),n={time:t.startOfSegment,mapping:t.startOfSegment-e.start},this.timelines[t.timeline]=n,this.trigger("timestampoffset"),i.start=t.startOfSegment,i.end=e.end+n.mapping;else{if(!n)return!1;i.start=e.start+n.mapping,i.end=e.end+n.mapping}return!0}},{key:"saveDiscontinuitySyncInfo_",value:function(t){var e=t.playlist,i=t.segment;if(i.discontinuity)this.discontinuities[i.timeline]={time:i.start,accuracy:0};else if(e.discontinuityStarts.length)for(var n=0;n<e.discontinuityStarts.length;n++){var r=e.discontinuityStarts[n],a=e.discontinuitySequence+n+1,s=r-t.mediaIndex,o=Math.abs(s);if(!this.discontinuities[a]||this.discontinuities[a].accuracy>o){var l=void 0;l=s<0?i.start-(0,d.sumDurations)(e,t.mediaIndex,r):i.end+(0,d.sumDurations)(e,t.mediaIndex+1,r),this.discontinuities[a]={time:l,accuracy:o}}}}},{key:"logger_",value:function(){}}]),e}(f["default"].EventTarget);e["default"]=m},function(t,e,i){"use strict";var n,r,a,s;n=function(t,e){var i,a,s,o,l,c=[];if(!e.length)return null;for(i=0;i<t.byteLength;)a=t[i]<<24,a|=t[i+1]<<16,a|=t[i+2]<<8,a|=t[i+3],s=r(t.subarray(i+4,i+8)),o=a>1?i+a:t.byteLength,s===e[0]&&(1===e.length?c.push(t.subarray(i+8,o)):(l=n(t.subarray(i+8,o),e.slice(1)),l.length&&(c=c.concat(l)))),i=o;return c},r=function(t){var e="";return e+=String.fromCharCode(t[0]),e+=String.fromCharCode(t[1]),e+=String.fromCharCode(t[2]),e+=String.fromCharCode(t[3]),e},a=function(t){var e={},i=n(t,["moov","trak"]);return i.reduce((function(t,e){var i,r,a,s,o;return i=n(e,["tkhd"])[0],i?(r=i[0],a=0===r?12:20,s=i[a]<<24|i[a+1]<<16|i[a+2]<<8|i[a+3],o=n(e,["mdia","mdhd"])[0],o?(r=o[0],a=0===r?12:20,t[s]=o[a]<<24|o[a+1]<<16|o[a+2]<<8|o[a+3],t):null):null}),e)},s=function(t,e){var i,r,a;return i=n(e,["moof","traf"]),r=[].concat.apply([],i.map((function(e){return n(e,["tfhd"]).map((function(i){var r,a,s;return r=i[4]<<24|i[5]<<16|i[6]<<8|i[7],a=t[r]||9e4,s=n(e,["tfdt"]).map((function(t){var e,i;return e=t[0],i=t[4]<<24|t[5]<<16|t[6]<<8|t[7],1===e&&(i*=Math.pow(2,32),i+=t[8]<<24|t[9]<<16|t[10]<<8|t[11]),i}))[0],s=s||1/0,s/a}))}))),a=Math.min.apply(null,r),isFinite(a)?a:0},t.exports={parseType:r,timescale:a,startTime:s}},function(t,e,i){"use strict";var n=i(479),r=i(732).handleRollover,a={};a.ts=i(1295),a.aac=i(1296);var s=9e4,o=188,l=71,c=function(t){return t[0]==="I".charCodeAt(0)&&t[1]==="D".charCodeAt(0)&&t[2]==="3".charCodeAt(0)},u=function(t,e){var i,n,r=0,s=o;while(s<t.byteLength)if(t[r]!==l||t[s]!==l)r++,s++;else{switch(i=t.subarray(r,s),n=a.ts.parseType(i,e.pid),n){case"pat":e.pid||(e.pid=a.ts.parsePat(i));break;case"pmt":e.table||(e.table=a.ts.parsePmt(i));break;default:break}if(e.pid&&e.table)return;r+=o,s+=o}},d=function(t,e,i){var n,r,s,c,u,d=0,h=o,f=!1;while(h<t.byteLength)if(t[d]!==l||t[h]!==l)d++,h++;else{switch(n=t.subarray(d,h),r=a.ts.parseType(n,e.pid),r){case"pes":s=a.ts.parsePesType(n,e.table),c=a.ts.parsePayloadUnitStartIndicator(n),"audio"===s&&c&&(u=a.ts.parsePesTime(n),u&&(u.type="audio",i.audio.push(u),f=!0));break;default:break}if(f)break;d+=o,h+=o}h=t.byteLength,d=h-o,f=!1;while(d>=0)if(t[d]!==l||t[h]!==l)d--,h--;else{switch(n=t.subarray(d,h),r=a.ts.parseType(n,e.pid),r){case"pes":s=a.ts.parsePesType(n,e.table),c=a.ts.parsePayloadUnitStartIndicator(n),"audio"===s&&c&&(u=a.ts.parsePesTime(n),u&&(u.type="audio",i.audio.push(u),f=!0));break;default:break}if(f)break;d-=o,h-=o}},h=function(t,e,i){var n,r,s,c,u,d,h,f,p=0,m=o,v=!1,g={data:[],size:0};while(m<t.byteLength)if(t[p]!==l||t[m]!==l)p++,m++;else{switch(n=t.subarray(p,m),r=a.ts.parseType(n,e.pid),r){case"pes":if(s=a.ts.parsePesType(n,e.table),c=a.ts.parsePayloadUnitStartIndicator(n),"video"===s&&(c&&!v&&(u=a.ts.parsePesTime(n),u&&(u.type="video",i.video.push(u),v=!0)),!i.firstKeyFrame)){if(c&&0!==g.size){d=new Uint8Array(g.size),h=0;while(g.data.length)f=g.data.shift(),d.set(f,h),h+=f.byteLength;a.ts.videoPacketContainsKeyFrame(d)&&(i.firstKeyFrame=a.ts.parsePesTime(d),i.firstKeyFrame.type="video"),g.size=0}g.data.push(n),g.size+=n.byteLength}break;default:break}if(v&&i.firstKeyFrame)break;p+=o,m+=o}m=t.byteLength,p=m-o,v=!1;while(p>=0)if(t[p]!==l||t[m]!==l)p--,m--;else{switch(n=t.subarray(p,m),r=a.ts.parseType(n,e.pid),r){case"pes":s=a.ts.parsePesType(n,e.table),c=a.ts.parsePayloadUnitStartIndicator(n),"video"===s&&c&&(u=a.ts.parsePesTime(n),u&&(u.type="video",i.video.push(u),v=!0));break;default:break}if(v)break;p-=o,m-=o}},f=function(t,e){if(t.audio&&t.audio.length){var i=e;"undefined"===typeof i&&(i=t.audio[0].dts),t.audio.forEach((function(t){t.dts=r(t.dts,i),t.pts=r(t.pts,i),t.dtsTime=t.dts/s,t.ptsTime=t.pts/s}))}if(t.video&&t.video.length){var n=e;if("undefined"===typeof n&&(n=t.video[0].dts),t.video.forEach((function(t){t.dts=r(t.dts,n),t.pts=r(t.pts,n),t.dtsTime=t.dts/s,t.ptsTime=t.pts/s})),t.firstKeyFrame){var a=t.firstKeyFrame;a.dts=r(a.dts,n),a.pts=r(a.pts,n),a.dtsTime=a.dts/s,a.ptsTime=a.dts/s}}},p=function(t){var e,i=!1,n=0,r=null,o=null,l=0,c=0;while(t.length-c>=3){var u=a.aac.parseType(t,c);switch(u){case"timed-metadata":if(t.length-c<10){i=!0;break}if(l=a.aac.parseId3TagSize(t,c),l>t.length){i=!0;break}null===o&&(e=t.subarray(c,c+l),o=a.aac.parseAacTimestamp(e)),c+=l;break;case"audio":if(t.length-c<7){i=!0;break}if(l=a.aac.parseAdtsSize(t,c),l>t.length){i=!0;break}null===r&&(e=t.subarray(c,c+l),r=a.aac.parseSampleRate(e)),n++,c+=l;break;default:c++;break}if(i)return null}if(null===r||null===o)return null;var d=s/r,h={audio:[{type:"audio",dts:o,pts:o},{type:"audio",dts:o+1024*n*d,pts:o+1024*n*d}]};return h},m=function(t){var e={pid:null,table:null},i={};for(var r in u(t,e),e.table)if(e.table.hasOwnProperty(r)){var a=e.table[r];switch(a){case n.H264_STREAM_TYPE:i.video=[],h(t,e,i),0===i.video.length&&delete i.video;break;case n.ADTS_STREAM_TYPE:i.audio=[],d(t,e,i),0===i.audio.length&&delete i.audio;break;default:break}}return i},v=function(t,e){var i,n=c(t);return i=n?p(t):m(t),i&&(i.audio||i.video)?(f(i,e),i):null};t.exports={inspect:v}},function(t,e,i){"use strict";var n=i(479),r=function(t){var e=31&t[1];return e<<=8,e|=t[2],e},a=function(t){return!!(64&t[1])},s=function(t){var e=0;return(48&t[3])>>>4>1&&(e+=t[4]+1),e},o=function(t,e){var i=r(t);return 0===i?"pat":i===e?"pmt":e?"pes":null},l=function(t){var e=a(t),i=4+s(t);return e&&(i+=t[i]+1),(31&t[i+10])<<8|t[i+11]},c=function(t){var e={},i=a(t),n=4+s(t);if(i&&(n+=t[n]+1),1&t[n+5]){var r,o,l;r=(15&t[n+1])<<8|t[n+2],o=3+r-4,l=(15&t[n+10])<<8|t[n+11];var c=12+l;while(c<o){var u=n+c;e[(31&t[u+1])<<8|t[u+2]]=t[u],c+=5+((15&t[u+3])<<8|t[u+4])}return e}},u=function(t,e){var i=r(t),a=e[i];switch(a){case n.H264_STREAM_TYPE:return"video";case n.ADTS_STREAM_TYPE:return"audio";case n.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},d=function(t){var e=a(t);if(!e)return null;var i=4+s(t);if(i>=t.byteLength)return null;var n,r=null;return n=t[i+7],192&n&&(r={},r.pts=(14&t[i+9])<<27|(255&t[i+10])<<20|(254&t[i+11])<<12|(255&t[i+12])<<5|(254&t[i+13])>>>3,r.pts*=4,r.pts+=(6&t[i+13])>>>1,r.dts=r.pts,64&n&&(r.dts=(14&t[i+14])<<27|(255&t[i+15])<<20|(254&t[i+16])<<12|(255&t[i+17])<<5|(254&t[i+18])>>>3,r.dts*=4,r.dts+=(6&t[i+18])>>>1)),r},h=function(t){switch(t){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},f=function(t){for(var e,i=4+s(t),n=t.subarray(i),r=0,a=0,o=!1;a<n.byteLength-3;a++)if(1===n[a+2]){r=a+5;break}while(r<n.byteLength)switch(n[r]){case 0:if(0!==n[r-1]){r+=2;break}if(0!==n[r-2]){r++;break}a+3!==r-2&&(e=h(31&n[a+3]),"slice_layer_without_partitioning_rbsp_idr"===e&&(o=!0));do{r++}while(1!==n[r]&&r<n.length);a=r-2,r+=3;break;case 1:if(0!==n[r-1]||0!==n[r-2]){r+=3;break}e=h(31&n[a+3]),"slice_layer_without_partitioning_rbsp_idr"===e&&(o=!0),a=r-2,r+=3;break;default:r+=3;break}return n=n.subarray(a),r-=a,a=0,n&&n.byteLength>3&&(e=h(31&n[a+3]),"slice_layer_without_partitioning_rbsp_idr"===e&&(o=!0)),o};t.exports={parseType:o,parsePat:l,parsePmt:c,parsePayloadUnitStartIndicator:a,parsePesType:u,parsePesTime:d,videoPacketContainsKeyFrame:f}},function(t,e,i){"use strict";var n=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],r=function(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]},a=function(t,e,i){var n,r="";for(n=e;n<i;n++)r+="%"+("00"+t[n].toString(16)).slice(-2);return r},s=function(t,e,i){return unescape(a(t,e,i))},o=function(t,e){var i=t[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9],n=t[e+5],r=(16&n)>>4;return r?i+20:i+10},l=function(t,e){var i=(224&t[e+5])>>5,n=t[e+4]<<3,r=6144&t[e+3];return r|n|i},c=function(t,e){return t[e]==="I".charCodeAt(0)&&t[e+1]==="D".charCodeAt(0)&&t[e+2]==="3".charCodeAt(0)?"timed-metadata":!0&t[e]&&240===(240&t[e+1])?"audio":null},u=function(t){var e=0;while(e+5<t.length){if(255===t[e]&&240===(246&t[e+1]))return n[(60&t[e+2])>>>2];e++}return null},d=function(t){var e,i,n,a;e=10,64&t[5]&&(e+=4,e+=r(t.subarray(10,14)));do{if(i=r(t.subarray(e+4,e+8)),i<1)return null;if(a=String.fromCharCode(t[e],t[e+1],t[e+2],t[e+3]),"PRIV"===a){n=t.subarray(e+10,e+i+10);for(var o=0;o<n.byteLength;o++)if(0===n[o]){var l=s(n,0,o);if("com.apple.streaming.transportStreamTimestamp"===l){var c=n.subarray(o+1),u=(1&c[3])<<30|c[4]<<22|c[5]<<14|c[6]<<6|c[7]>>>2;return u*=4,u+=3&c[7],u}break}}e+=10,e+=i}while(e<t.byteLength);return null};t.exports={parseId3TagSize:o,parseAdtsSize:l,parseType:c,parseSampleRate:u,parseAacTimestamp:d}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(76),a=n(r),s=i(557),o=n(s),l=function(){},c=function(t){var e=t["default"]?"main":"alternative";return t.characteristics&&t.characteristics.indexOf("public.accessibility.describes-video")>=0&&(e="main-desc"),e},u=function(t,e){t.abort(),t.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)};e.stopLoaders=u;var d=function(t,e){e.activePlaylistLoader=t,t.load()};e.startLoaders=d;var h=function(t,e){return function(){var i=e.segmentLoaders,n=i[t],r=i.main,a=e.mediaTypes[t],s=a.activeTrack(),o=a.activeGroup(s),l=a.activePlaylistLoader;u(n,a),o&&(o.playlistLoader?(n.resyncLoader(),d(o.playlistLoader,a)):l&&r.resetEverything())}};e.onGroupChanged=h;var f=function(t,e){return function(){var i=e.segmentLoaders,n=i[t],r=i.main,a=e.mediaTypes[t],s=a.activeTrack(),o=a.activeGroup(s),l=a.activePlaylistLoader;u(n,a),o&&(o.playlistLoader?l!==o.playlistLoader?(n.track&&n.track(s),n.resetEverything(),d(o.playlistLoader,a)):d(o.playlistLoader,a):r.resetEverything())}};e.onTrackChanged=f;var p={AUDIO:function(t,e){return function(){var i=e.segmentLoaders[t],n=e.mediaTypes[t],r=e.blacklistCurrentPlaylist;u(i,n);var s=n.activeTrack(),o=n.activeGroup(),l=(o.filter((function(t){return t["default"]}))[0]||o[0]).id,c=n.tracks[l];if(s!==c){for(var d in a["default"].log.warn("Problem encountered loading the alternate audio track.Switching back to default."),n.tracks)n.tracks[d].enabled=n.tracks[d]===c;n.onTrackChanged()}else r({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(t,e){return function(){var i=e.segmentLoaders[t],n=e.mediaTypes[t];a["default"].log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),u(i,n);var r=n.activeTrack();r&&(r.mode="disabled"),n.onTrackChanged()}}};e.onError=p;var m={AUDIO:function(t,e,i){if(e){var n=i.tech,r=i.requestOptions,a=i.segmentLoaders[t];e.on("loadedmetadata",(function(){var t=e.media();a.playlist(t,r),(!n.paused()||t.endList&&"none"!==n.preload())&&a.load()})),e.on("loadedplaylist",(function(){a.playlist(e.media(),r),n.paused()||a.load()})),e.on("error",p[t](t,i))}},SUBTITLES:function(t,e,i){var n=i.tech,r=i.requestOptions,a=i.segmentLoaders[t],s=i.mediaTypes[t];e.on("loadedmetadata",(function(){var t=e.media();a.playlist(t,r),a.track(s.activeTrack()),(!n.paused()||t.endList&&"none"!==n.preload())&&a.load()})),e.on("loadedplaylist",(function(){a.playlist(e.media(),r),n.paused()||a.load()})),e.on("error",p[t](t,i))}};e.setupListeners=m;var v={AUDIO:function(t,e){var i=e.mode,n=e.hls,r=e.segmentLoaders[t],s=e.requestOptions,l=e.master.mediaGroups,u=e.mediaTypes[t],d=u.groups,h=u.tracks;for(var f in l[t]&&0!==Object.keys(l[t]).length&&"html5"===i||(l[t]={main:{default:{default:!0}}}),l[t])for(var v in d[f]||(d[f]=[]),l[t][f]){var g=l[t][f][v],y=void 0;if(y=g.resolvedUri?new o["default"](g.resolvedUri,n,s):null,g=a["default"].mergeOptions({id:v,playlistLoader:y},g),m[t](t,g.playlistLoader,e),d[f].push(g),"undefined"===typeof h[v]){var _=new a["default"].AudioTrack({id:v,kind:c(g),enabled:!1,language:g.language,default:g["default"],label:v});h[v]=_}}r.on("error",p[t](t,e))},SUBTITLES:function(t,e){var i=e.tech,n=e.hls,r=e.segmentLoaders[t],s=e.requestOptions,l=e.master.mediaGroups,c=e.mediaTypes[t],u=c.groups,d=c.tracks;for(var h in l[t])for(var f in u[h]||(u[h]=[]),l[t][h])if(!l[t][h][f].forced){var v=l[t][h][f];if(v=a["default"].mergeOptions({id:f,playlistLoader:new o["default"](v.resolvedUri,n,s)},v),m[t](t,v.playlistLoader,e),u[h].push(v),"undefined"===typeof d[f]){var g=i.addRemoteTextTrack({id:f,kind:"subtitles",enabled:!1,language:v.language,label:f},!1).track;d[f]=g}}r.on("error",p[t](t,e))},"CLOSED-CAPTIONS":function(t,e){var i=e.tech,n=e.master.mediaGroups,r=e.mediaTypes[t],s=r.groups,o=r.tracks;for(var l in n[t])for(var c in s[l]||(s[l]=[]),n[t][l]){var u=n[t][l][c];if(u.instreamId.match(/CC\d/)&&(s[l].push(a["default"].mergeOptions({id:c},u)),"undefined"===typeof o[c])){var d=i.addRemoteTextTrack({id:u.instreamId,kind:"captions",enabled:!1,language:u.language,label:c},!1).track;o[c]=d}}}};e.initialize=v;var g=function(t,e){return function(i){var n=e.masterPlaylistLoader,r=e.mediaTypes[t].groups,a=n.media();if(!a)return null;var s=null;return a.attributes[t]&&(s=r[a.attributes[t]]),s=s||r.main,"undefined"===typeof i?s:null===i?null:s.filter((function(t){return t.id===i.id}))[0]||null}};e.activeGroup=g;var y={AUDIO:function(t,e){return function(){var i=e.mediaTypes[t].tracks;for(var n in i)if(i[n].enabled)return i[n];return null}},SUBTITLES:function(t,e){return function(){var i=e.mediaTypes[t].tracks;for(var n in i)if("showing"===i[n].mode)return i[n];return null}}};e.activeTrack=y;var _=function(t){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(e){v[e](e,t)}));var e=t.mediaTypes,i=t.masterPlaylistLoader,n=t.tech,r=t.hls;["AUDIO","SUBTITLES"].forEach((function(i){e[i].activeGroup=g(i,t),e[i].activeTrack=y[i](i,t),e[i].onGroupChanged=h(i,t),e[i].onTrackChanged=f(i,t)}));var a=e.AUDIO.activeGroup(),s=(a.filter((function(t){return t["default"]}))[0]||a[0]).id;e.AUDIO.tracks[s].enabled=!0,e.AUDIO.onTrackChanged(),i.on("mediachange",(function(){["AUDIO","SUBTITLES"].forEach((function(t){return e[t].onGroupChanged()}))}));var o=function(){e.AUDIO.onTrackChanged(),n.trigger({type:"usage",name:"hls-audio-change"})};for(var l in n.audioTracks().addEventListener("change",o),n.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged),r.on("dispose",(function(){n.audioTracks().removeEventListener("change",o),n.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)})),n.clearTracks("audio"),e.AUDIO.tracks)n.audioTracks().addTrack(e.AUDIO.tracks[l])};e.setupMediaGroups=_;var b=function(){var t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(e){t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:l,activeTrack:l,onGroupChanged:l,onTrackChanged:l}})),t};e.createMediaTypes=b},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=i(458),a=function(t,e,i){return function(n){var a=t.master.playlists[e],s=(0,r.isIncompatible)(a),o=(0,r.isEnabled)(a);return"undefined"===typeof n?o:(n?delete a.disabled:a.disabled=!0,n===o||s||(i(),n?t.trigger("renditionenabled"):t.trigger("renditiondisabled")),n)}},s=function t(e,i,r){n(this,t);var s=e.masterPlaylistController_.fastQualityChange_.bind(e.masterPlaylistController_);if(i.attributes.RESOLUTION){var o=i.attributes.RESOLUTION;this.width=o.width,this.height=o.height}this.bandwidth=i.attributes.BANDWIDTH,this.id=r,this.enabled=a(e.playlists,i.uri,s)},o=function(t){var e=t.playlists;t.representations=function(){return e.master.playlists.filter((function(t){return!(0,r.isIncompatible)(t)})).map((function(e,i){return new s(t,e,e.uri)}))}};e["default"]=o,t.exports=e["default"]},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();function r(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=i(106),o=r(s),l=i(563),c=r(l),u=i(76),d=r(u),h=["seeking","seeked","pause","playing","error"],f=function(){function t(e){var i=this;a(this,t),this.tech_=e.tech,this.seekable=e.seekable,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,e.debug&&(this.logger_=d["default"].log.bind(d["default"],"playback-watcher ->")),this.logger_("initialize");var n=function(){return i.monitorCurrentTime_()},r=function(){return i.techWaiting_()},s=function(){return i.cancelTimer_()},l=function(){return i.fixesBadSeeks_()};this.tech_.on("seekablechanged",l),this.tech_.on("waiting",r),this.tech_.on(h,s),this.tech_.on("canplay",n),this.dispose=function(){i.logger_("dispose"),i.tech_.off("seekablechanged",l),i.tech_.off("waiting",r),i.tech_.off(h,s),i.tech_.off("canplay",n),i.checkCurrentTimeTimeout_&&o["default"].clearTimeout(i.checkCurrentTimeTimeout_),i.cancelTimer_()}}return n(t,[{key:"monitorCurrentTime_",value:function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&o["default"].clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=o["default"].setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"checkCurrentTime_",value:function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var t=this.tech_.currentTime(),e=this.tech_.buffered();if(this.lastRecordedTime===t&&(!e.length||t+c["default"].SAFE_TIME_DELTA>=e.end(e.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&t===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):t===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=t)}}},{key:"cancelTimer_",value:function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null}},{key:"fixesBadSeeks_",value:function(){var t=this.tech_.seeking(),e=this.seekable(),i=this.tech_.currentTime(),n=void 0;if(t&&this.afterSeekableWindow_(e,i)){var r=e.end(e.length-1);n=r}if(t&&this.beforeSeekableWindow_(e,i)){var a=e.start(0);n=a+c["default"].SAFE_TIME_DELTA}return"undefined"!==typeof n&&(this.logger_("Trying to seek outside of seekable at time "+i+" with seekable range "+c["default"].printableRange(e)+". Seeking to "+n+"."),this.tech_.setCurrentTime(n),!0)}},{key:"waiting_",value:function(){if(!this.techWaiting_()){var t=this.tech_.currentTime(),e=this.tech_.buffered(),i=c["default"].findRange(e,t);return i.length&&t+3<=i.end(0)?(this.cancelTimer_(),this.tech_.setCurrentTime(t),this.logger_("Stopped at "+t+" while inside a buffered region ["+i.start(0)+" -> "+i.end(0)+"]. Attempting to resume playback by seeking to the current time."),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}}},{key:"techWaiting_",value:function(){var t=this.seekable(),e=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_())return!0;if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(t,e)){var i=t.end(t.length-1);return this.logger_("Fell out of live window at time "+e+". Seeking to live point (seekable end) "+i),this.cancelTimer_(),this.tech_.setCurrentTime(i),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var n=this.tech_.buffered(),r=c["default"].findNextRange(n,e);if(this.videoUnderflow_(r,n,e))return this.cancelTimer_(),this.tech_.setCurrentTime(e),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;if(r.length>0){var a=r.start(0)-e;return this.logger_("Stopped at "+e+", setting timer for "+a+", seeking to "+r.start(0)),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*a,e),!0}return!1}},{key:"afterSeekableWindow_",value:function(t,e){return!!t.length&&e>t.end(t.length-1)+c["default"].SAFE_TIME_DELTA}},{key:"beforeSeekableWindow_",value:function(t,e){return!!(t.length&&t.start(0)>0&&e<t.start(0)-c["default"].SAFE_TIME_DELTA)}},{key:"videoUnderflow_",value:function(t,e,i){if(0===t.length){var n=this.gapFromVideoUnderflow_(e,i);if(n)return this.logger_("Encountered a gap in video from "+n.start+" to "+n.end+". Seeking to current time "+i),!0}return!1}},{key:"skipTheGap_",value:function(t){var e=this.tech_.buffered(),i=this.tech_.currentTime(),n=c["default"].findNextRange(e,i);this.cancelTimer_(),0!==n.length&&i===t&&(this.logger_("skipTheGap_:","currentTime:",i,"scheduled currentTime:",t,"nextRange start:",n.start(0)),this.tech_.setCurrentTime(n.start(0)+c["default"].TIME_FUDGE_FACTOR),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))}},{key:"gapFromVideoUnderflow_",value:function(t,e){for(var i=c["default"].findGaps(t),n=0;n<i.length;n++){var r=i.start(n),a=i.end(n);if(e-r<4&&e-r>2)return{start:r,end:a}}return null}},{key:"logger_",value:function(){}}]),t}();e["default"]=f,t.exports=e["default"]},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(76),a=n(r),s={errorInterval:30,getSource:function(t){var e=this.tech({IWillNotUseThisInPlugins:!0}),i=e.currentSource_;return t(i)}},o=function t(e,i){var n=0,r=0,o=a["default"].mergeOptions(s,i);e.ready((function(){e.trigger({type:"usage",name:"hls-error-reload-initialized"})}));var l=function(){r&&e.currentTime(r)},c=function(t){null!==t&&void 0!==t&&(r=e.duration()!==1/0&&e.currentTime()||0,e.one("loadedmetadata",l),e.src(t),e.trigger({type:"usage",name:"hls-error-reload"}),e.play())},u=function(){if(Date.now()-n<1e3*o.errorInterval)e.trigger({type:"usage",name:"hls-error-reload-canceled"});else{if(o.getSource&&"function"===typeof o.getSource)return n=Date.now(),o.getSource.call(e,c);a["default"].log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")}},d=function t(){e.off("loadedmetadata",l),e.off("error",u),e.off("dispose",t)},h=function(i){d(),t(e,i)};e.on("error",u),e.on("dispose",d),e.reloadSourceOnError=h},l=function(t){o(this,t)};e["default"]=l,t.exports=e["default"]},function(t,e,i){"use strict";i.r(e)},function(t,e,i){"use strict";var n=i(35),r=i(15),a=i(105),s=i(154),o=i(42),l=i(159),c=i(231),u=i(17),d=i(32),h=i(208),f=i(40),p=i(39),m=i(81),v=i(73),g=i(103),y=i(104),_=i(111),b=i(206),T=i(156),S=i(1303),w=i(222),C=i(142),k=i(45),x=i(205),E=i(47),P=i(71),O=i(139),I=i(149),L=i(110),A=i(158),D=i(20),M=i(746),j=i(1304),N=i(225),R=i(108),B=i(425).forEach,U=I("hidden"),F="Symbol",$="prototype",z=D("toPrimitive"),V=R.set,q=R.getterFor(F),H=Object[$],W=r.Symbol,G=a("JSON","stringify"),X=C.f,Y=k.f,K=S.f,J=x.f,Q=O("symbols"),Z=O("op-symbols"),tt=O("string-to-symbol-registry"),et=O("symbol-to-string-registry"),it=O("wks"),nt=r.QObject,rt=!nt||!nt[$]||!nt[$].findChild,at=o&&u((function(){return 7!=_(Y({},"a",{get:function(){return Y(this,"a",{value:7}).a}})).a}))?function(t,e,i){var n=X(H,e);n&&delete H[e],Y(t,e,i),n&&t!==H&&Y(H,e,n)}:Y,st=function(t,e){var i=Q[t]=_(W[$]);return V(i,{type:F,tag:t,description:e}),o||(i.description=e),i},ot=c?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof W},lt=function(t,e,i){t===H&&lt(Z,e,i),p(t);var n=g(e,!0);return p(i),d(Q,n)?(i.enumerable?(d(t,U)&&t[U][n]&&(t[U][n]=!1),i=_(i,{enumerable:y(0,!1)})):(d(t,U)||Y(t,U,y(1,{})),t[U][n]=!0),at(t,n,i)):Y(t,n,i)},ct=function(t,e){p(t);var i=v(e),n=b(i).concat(pt(i));return B(n,(function(e){o&&!dt.call(i,e)||lt(t,e,i[e])})),t},ut=function(t,e){return void 0===e?_(t):ct(_(t),e)},dt=function(t){var e=g(t,!0),i=J.call(this,e);return!(this===H&&d(Q,e)&&!d(Z,e))&&(!(i||!d(this,e)||!d(Q,e)||d(this,U)&&this[U][e])||i)},ht=function(t,e){var i=v(t),n=g(e,!0);if(i!==H||!d(Q,n)||d(Z,n)){var r=X(i,n);return!r||!d(Q,n)||d(i,U)&&i[U][n]||(r.enumerable=!0),r}},ft=function(t){var e=K(v(t)),i=[];return B(e,(function(t){d(Q,t)||d(L,t)||i.push(t)})),i},pt=function(t){var e=t===H,i=K(e?Z:v(t)),n=[];return B(i,(function(t){!d(Q,t)||e&&!d(H,t)||n.push(Q[t])})),n};if(l||(W=function(){if(this instanceof W)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=A(t),i=function(t){this===H&&i.call(Z,t),d(this,U)&&d(this[U],e)&&(this[U][e]=!1),at(this,e,y(1,t))};return o&&rt&&at(H,e,{configurable:!0,set:i}),st(e,t)},P(W[$],"toString",(function(){return q(this).tag})),P(W,"withoutSetter",(function(t){return st(A(t),t)})),x.f=dt,k.f=lt,C.f=ht,T.f=S.f=ft,w.f=pt,M.f=function(t){return st(D(t),t)},o&&(Y(W[$],"description",{configurable:!0,get:function(){return q(this).description}}),s||P(H,"propertyIsEnumerable",dt,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:W}),B(b(it),(function(t){j(t)})),n({target:F,stat:!0,forced:!l},{for:function(t){var e=String(t);if(d(tt,e))return tt[e];var i=W(e);return tt[e]=i,et[i]=e,i},keyFor:function(t){if(!ot(t))throw TypeError(t+" is not a symbol");if(d(et,t))return et[t]},useSetter:function(){rt=!0},useSimple:function(){rt=!1}}),n({target:"Object",stat:!0,forced:!l,sham:!o},{create:ut,defineProperty:lt,defineProperties:ct,getOwnPropertyDescriptor:ht}),n({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:ft,getOwnPropertySymbols:pt}),n({target:"Object",stat:!0,forced:u((function(){w.f(1)}))},{getOwnPropertySymbols:function(t){return w.f(m(t))}}),G){var mt=!l||u((function(){var t=W();return"[null]"!=G([t])||"{}"!=G({a:t})||"{}"!=G(Object(t))}));n({target:"JSON",stat:!0,forced:mt},{stringify:function(t,e,i){var n,r=[t],a=1;while(arguments.length>a)r.push(arguments[a++]);if(n=e,(f(e)||void 0!==t)&&!ot(t))return h(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!ot(e))return e}),r[1]=e,G.apply(null,r)}})}W[$][z]||E(W[$],z,W[$].valueOf),N(W,F),L[U]=!0},function(t,e,i){var n=i(73),r=i(156).f,a={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],o=function(t){try{return r(t)}catch(e){return s.slice()}};t.exports.f=function(t){return s&&"[object Window]"==a.call(t)?o(t):r(n(t))}},function(t,e,i){var n=i(230),r=i(32),a=i(746),s=i(45).f;t.exports=function(t){var e=n.Symbol||(n.Symbol={});r(e,t)||s(e,t,{value:a.f(t)})}},function(t,e,i){"use strict";var n=i(35),r=i(42),a=i(15),s=i(32),o=i(40),l=i(45).f,c=i(232),u=a.Symbol;if(r&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},h=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof h?new u(t):void 0===t?u():u(t);return""===t&&(d[e]=!0),e};c(h,u);var f=h.prototype=u.prototype;f.constructor=h;var p=f.toString,m="Symbol(test)"==String(u("test")),v=/^Symbol\((.*)\)[^)]+$/;l(f,"description",{configurable:!0,get:function(){var t=o(this)?this.valueOf():this,e=p.call(t);if(s(d,t))return"";var i=m?e.slice(7,-1):e.replace(v,"$1");return""===i?void 0:i}}),n({global:!0,forced:!0},{Symbol:h})}},function(t,e){},function(t,e,i){"use strict";i(748)},function(t,e,i){"use strict";i.r(e)},function(t,e,i){"use strict";i(749)},function(t,e,i){"use strict";i.r(e)},function(t,e,i){"use strict";i(750)},function(t,e,i){"use strict";i.r(e)},function(t,e,i){"use strict";i(751)},function(t,e,i){"use strict";i.r(e)},function(t,e,i){"use strict";i(752)},function(t,e,i){"use strict";i.r(e)},function(t,e,i){"use strict";i(753)},function(t,e,i){"use strict";i.r(e)},function(t,e,i){"use strict";i(754)},function(t,e,i){"use strict";i.r(e)},function(t,e,i){"use strict";i(755)},function(t,e,i){"use strict";i.r(e)},function(t,e,i){"use strict";i(756)},function(t,e,i){"use strict";i.r(e)},function(t,e,i){"use strict";i(757)},function(t,e,i){"use strict";i.r(e)},function(t,e,i){t.exports=i.p+"modules/nc/img/head.png"},function(t,e,i){"use strict";i(758)},function(t,e,i){"use strict";i.r(e)},function(t,e,i){"use strict";i(759)},function(t,e,i){"use strict";i.r(e)},function(t,e,i){"use strict";i(760)},function(t,e,i){"use strict";i.r(e)},function(t,e,i){"use strict";i(761)},function(t,e,i){"use strict";i.r(e)},function(t,e,i){"use strict";i(762)},function(t,e,i){"use strict";i.r(e)},function(t,e,i){"use strict";i(763)},function(t,e,i){"use strict";i.r(e)},function(t,e,i){"use strict";i(764)},function(t,e,i){"use strict";i.r(e)},function(t,e,i){"use strict";i(765)},function(t,e,i){"use strict";i.r(e)},function(t,e,i){var n=i(42),r=i(15),a=i(200),s=i(444),o=i(47),l=i(45).f,c=i(156).f,u=i(234),d=i(419),h=i(223),f=i(71),p=i(17),m=i(32),v=i(108).enforce,g=i(1345),y=i(20),_=i(442),b=i(443),T=y("match"),S=r.RegExp,w=S.prototype,C=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,k=/a/g,x=/a/g,E=new S(k)!==k,P=h.UNSUPPORTED_Y,O=n&&(!E||P||_||b||p((function(){return x[T]=!1,S(k)!=k||S(x)==x||"/a/i"!=S(k,"i")}))),I=function(t){for(var e,i=t.length,n=0,r="",a=!1;n<=i;n++)e=t.charAt(n),"\\"!==e?a||"."!==e?("["===e?a=!0:"]"===e&&(a=!1),r+=e):r+="[\\s\\S]":r+=e+t.charAt(++n);return r},L=function(t){for(var e,i=t.length,n=0,r="",a=[],s={},o=!1,l=!1,c=0,u="";n<=i;n++){if(e=t.charAt(n),"\\"===e)e+=t.charAt(++n);else if("]"===e)o=!1;else if(!o)switch(!0){case"["===e:o=!0;break;case"("===e:C.test(t.slice(n+1))&&(n+=2,l=!0),r+=e,c++;continue;case">"===e&&l:if(""===u||m(s,u))throw new SyntaxError("Invalid capture group name");s[u]=!0,a.push([u,c]),l=!1,u="";continue}l?u+=e:r+=e}return[r,a]};if(a("RegExp",O)){for(var A=function(t,e){var i,n,r,a,l,c,h=this instanceof A,f=u(t),p=void 0===e,m=[],g=t;if(!h&&f&&p&&t.constructor===A)return t;if((f||t instanceof A)&&(t=t.source,p&&(e="flags"in g?g.flags:d.call(g))),t=void 0===t?"":String(t),e=void 0===e?"":String(e),g=t,_&&"dotAll"in k&&(n=!!e&&e.indexOf("s")>-1,n&&(e=e.replace(/s/g,""))),i=e,P&&"sticky"in k&&(r=!!e&&e.indexOf("y")>-1,r&&(e=e.replace(/y/g,""))),b&&(a=L(t),t=a[0],m=a[1]),l=s(S(t,e),h?this:w,A),(n||r||m.length)&&(c=v(l),n&&(c.dotAll=!0,c.raw=A(I(t),i)),r&&(c.sticky=!0),m.length&&(c.groups=m)),t!==g)try{o(l,"source",""===g?"(?:)":g)}catch(y){}return l},D=function(t){t in A||l(A,t,{configurable:!0,get:function(){return S[t]},set:function(e){S[t]=e}})},M=c(S),j=0;M.length>j;)D(M[j++]);w.constructor=A,A.prototype=w,f(r,"RegExp",A)}g("RegExp")},function(t,e,i){"use strict";var n=i(105),r=i(45),a=i(20),s=i(42),o=a("species");t.exports=function(t){var e=n(t),i=r.f;s&&e&&!e[o]&&i(e,o,{configurable:!0,get:function(){return this}})}},function(t,e,i){"use strict";var n=i(71),r=i(39),a=i(17),s=i(419),o="toString",l=RegExp.prototype,c=l[o],u=a((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),d=c.name!=o;(u||d)&&n(RegExp.prototype,o,(function(){var t=r(this),e=String(t.source),i=t.flags,n=String(void 0===i&&t instanceof RegExp&&!("flags"in l)?s.call(t):i);return"/"+e+"/"+n}),{unsafe:!0})},function(t,e,i){"use strict";i(766)},function(t,e,i){"use strict";i.r(e)},,,,,,,,function(t,e,i){"use strict";i.r(e);var n=i(49),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ds-control mobile"},[i("div",{staticClass:"dsf-player"},[t._t("baberrage"),i("video-player",{ref:"videoPlayer",staticClass:"video-player vjs-custom-skin",attrs:{playsinline:!0,options:t.playerOptions},on:{play:function(e){return t.playerPlay(e)},pause:function(e){return t.playerPause(e)},ended:function(e){return t.playerEnded(e)},loadeddata:function(e){return t.playerLoadeddata(e)},waiting:function(e){return t.playerWaiting(e)},playing:function(e){return t.playerPlaying(e)},timeupdate:function(e){return t.playerTimeupdate(e)},canplay:function(e){return t.playerCanplay(e)},canplaythrough:function(e){return t.playerCanplaythrough(e)},ready:t.playerReadied,statechanged:function(e){return t.playerStateChanged(e)}}})],2)])},a=[];r._withStripped=!0;i(46),i(34),i(48),i(152),i(75),i(724),i(744);var s=i(76),o=i.n(s),l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.reseted?i("div",{staticClass:"video-player"},[i("video",{ref:"video",staticClass:"video-js"})]):t._e()},c=[];l._withStripped=!0;const u=window.videojs||o.a;"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");const i=Object(t);for(let n=1;n<arguments.length;n++){const t=arguments[n];if(null!=t)for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(i[e]=t[e])}return i},writable:!0,configurable:!0});const d=["loadeddata","canplay","canplaythrough","play","pause","waiting","playing","ended","error"];var h={name:"video-player",props:{start:{type:Number,default:0},crossOrigin:{type:String,default:""},playsinline:{type:Boolean,default:!1},customEventName:{type:String,default:"statechanged"},options:{type:Object,required:!0},events:{type:Array,default:()=>[]},globalOptions:{type:Object,default:()=>({controls:!0,controlBar:{remainingTimeDisplay:!1,playToggle:{},progressControl:{},fullscreenToggle:{},volumeMenuButton:{inline:!1,vertical:!0}},techOrder:["html5"],plugins:{}})},globalEvents:{type:Array,default:()=>[]}},data(){return{player:null,reseted:!0}},mounted(){this.player||this.initialize()},beforeDestroy(){this.player&&this.dispose()},methods:{initialize(){const t=Object.assign({},this.globalOptions,this.options);this.playsinline&&(this.$refs.video.setAttribute("playsinline",this.playsinline),this.$refs.video.setAttribute("webkit-playsinline",this.playsinline),this.$refs.video.setAttribute("x5-playsinline",this.playsinline),this.$refs.video.setAttribute("x5-video-player-type","h5"),this.$refs.video.setAttribute("x5-video-player-fullscreen",!1)),""!==this.crossOrigin&&(this.$refs.video.crossOrigin=this.crossOrigin,this.$refs.video.setAttribute("crossOrigin",this.crossOrigin));const e=(t,e)=>{t&&this.$emit(t,this.player),e&&this.$emit(this.customEventName,{[t]:e})};t.plugins&&delete t.plugins.__ob__;const i=this;this.player=u(this.$refs.video,t,(function(){const t=d.concat(i.events).concat(i.globalEvents),n={};for(let i=0;i<t.length;i++)"string"===typeof t[i]&&void 0===n[t[i]]&&(t=>{n[t]=null,this.on(t,()=>{e(t,!0)})})(t[i]);this.on("timeupdate",(function(){e("timeupdate",this.currentTime())})),i.$emit("ready",this)}))},dispose(t){this.player&&this.player.dispose&&("Flash"!==this.player.techName_&&this.player.pause&&this.player.pause(),this.player.dispose(),this.player=null,this.$nextTick(()=>{this.reseted=!1,this.$nextTick(()=>{this.reseted=!0,this.$nextTick(()=>{t&&t()})})}))}},watch:{options:{deep:!0,handler(t,e){this.dispose(()=>{t&&t.sources&&t.sources.length&&this.initialize()})}}}},f=h,p=i(1),m=Object(p["a"])(f,l,c,!1,null,null,null);m.options.__file="node_modules/vue-video-player/src/player.vue";var v=m.exports;window.videojs||o.a;var g=dsf.component({mixins:[$mixins.control],ctrlCaption:"播放",name:"DsfMobileNcPlayer",components:{videoPlayer:v},props:{autoPlay:{type:Boolean,default:!1},isLive:{type:Boolean,default:!1},netWork:{type:Boolean,default:!1},isPause:{type:Boolean,default:!0},seekTime:{type:Number,default:0},coverImg:{type:String,default:""},videoSource:{type:[String]},allowFastForward:{type:Boolean,default:!1},playIng:{type:Boolean,default:!1},isFull:{type:Boolean,default:!1},defaultFull:{type:Boolean,default:!1}},data:function(){return{initPlay:!1,isSeeking:!1,playerOptions:{playbackRates:!1,autoplay:this.autoPlay,muted:!1,loop:!1,preload:"auto",language:"zh-CN",aspectRatio:"16:9",fluid:!0,hls:!0,sources:[],poster:this.coverImg,width:document.documentElement.clientWidth,notSupportedMessage:"此视频暂无法播放",languages:{"zh-CN":{Play:"播放",Pause:"暂停","Current Time":"当前时间",Duration:"时长","Remaining Time":"剩余时间","Stream Type":"媒体流类型",LIVE:"直播",Loaded:"加载完毕",Progress:"进度",Fullscreen:"全屏","Non-Fullscreen":"退出全屏",Mute:"静音",Unmute:"取消静音","Playback Rate":"播放速度",Subtitles:"字幕","subtitles off":"关闭字幕",Captions:"内嵌字幕","captions off":"关闭内嵌字幕",Chapters:"节目段落","Close Modal Dialog":"关闭弹窗",Descriptions:"描述","descriptions off":"关闭描述","Audio Track":"音轨","You aborted the media playback":"视频播放被终止","A network error caused the media download to fail part-way.":"网络错误导致视频下载中途失败。","The media could not be loaded, either because the server or network failed or because the format is not supported.":"网络问题无法加载。","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"由于视频文件损坏或是该视频使用了你的浏览器不支持的功能，播放终止。","No compatible source was found for this media.":"无法找到此视频兼容的源。","The media is encrypted and we do not have the keys to decrypt it.":"视频已加密，无法解密。","Play Video":"播放视频",Close:"关闭","Modal Window":"弹窗","This is a modal window":"这是一个弹窗","This modal can be closed by pressing the Escape key or activating the close button.":"可以按ESC按键或启用关闭按钮来关闭此弹窗。",", opens captions settings dialog":", 开启标题设置弹窗",", opens subtitles settings dialog":", 开启字幕设置弹窗",", opens descriptions settings dialog":", 开启描述设置弹窗",", selected":", 选择","captions settings":"字幕设定","Audio Player":"音频播放器","Video Player":"视频播放器",Replay:"重播","Progress Bar":"进度小节","Volume Level":"音量","subtitles settings":"字幕设定","descriptions settings":"描述设定",Text:"文字",White:"白",Black:"黑",Red:"红",Green:"绿",Blue:"蓝",Yellow:"黄",Magenta:"紫红",Cyan:"青",Background:"背景",Window:"视窗",Transparent:"透明","Semi-Transparent":"半透明",Opaque:"不透明","Font Size":"字体尺寸","Text Edge Style":"字体边缘样式",None:"无",Raised:"浮雕",Depressed:"压低",Uniform:"均匀",Dropshadow:"下阴影","Font Family":"字体库","Proportional Sans-Serif":"比例无细体","Monospace Sans-Serif":"单间隔无细体","Proportional Serif":"比例细体","Monospace Serif":"单间隔细体",Casual:"舒适",Script:"手写体","Small Caps":"小型大写字体",Reset:"重启","restore all settings to the default values":"恢复全部设定至预设值",Done:"完成","Caption Settings Dialog":"字幕设定视窗","Beginning of dialog window. Escape will cancel and close the window.":"开始对话视窗。离开会取消及关闭视窗","End of dialog window.":"结束对话视窗"}}},playingTime:0,timeOutTimer:null}},created:function(){var t=this;this.autoPlay,this.isLive||(this.playerOptions.controlBar={timeDivider:!0,durationDisplay:!0,remainingTimeDisplay:!1,fullscreenToggle:!0},this.$nextTick((function(){var e=t.player.controlBar.addChild("button");e.addClass("vjs-icon-next"),e.on("tap",t.playerNext)}))),document.addEventListener("fullscreenchange",(function(t){document.fullscreenElement})),this.playerOptions.sources=[this.videoSrc()]},mounted:function(){this.initPlay=!0;var t=this.$el.querySelector("video");t.setAttribute("x5-video-player-type","h5-page"),t.setAttribute("x-webkit-airplay",!0),t.setAttribute("x5-video-player-fullscreen",!0),t.removeAttribute("x5-playsinline");var e=document.getElementsByClassName("vjs-fullscreen-control");this.isFull&&(e[0].className="vjs-fullscreen-control vjs-control vjs-button  ycfulldom")},computed:{player:function(){return this.$refs.videoPlayer.player},videoSrc:function(){return function(){var t=this.videoSource;if(!t)return{};var e=t.split("."),i=e[e.length-1],n="";switch(i){case"m3u8":n="application/x-mpegURL";break;case"mp4":n="video/mp4";break;default:n="";break}return n?{type:n,src:t}:t}}},methods:{defaultFullPage:function(){this.$emit("defaultFullPage")},isAndroid:function(){var t=window.navigator.userAgent;return t.indexOf("Android")>-1&&t.indexOf("Linux")>-1},fullScreen:function(){var t=this.$refs.videoPlayer.player;t.requestFullscreen(),t.isFullscreen(!0),t.play()},pause:function(){this.player.pause()},play:function(){this.player.play()},currentTime:function(t){this.player.currentTime(t)},playerNext:function(){this.$emit("playerNext")},playerPlay:function(t){this.$emit("playerPlay")},playerPause:function(t){this.$emit("playerPause")},playerEnded:function(t){this.$emit("playerEnded")},playerStateChanged:function(t){this.$emit("playerState",t)},playerReadied:function(t){this.isAndroid()&&this.player.muted(!0),this.$emit("playerReadied")},playAudio:function(){this.player.muted(!1)},playerLoadeddata:function(t){var e=this;this.isAndroid()?(this.autoPlay&&this.player&&this.player.play(),this.netWork&&this.$emit("netWorkAutoPlayer")):(this.seekTime&&(this.player.currentTime(this.seekTime),this.playingTime=this.player.currentTime()),this.player&&this.netWork&&(this.player.muted(!0),setTimeout((function(){e.player.play(),e.$emit("netWorkAutoPlayer"),e.player.muted(!1)}),200)))},playerWaiting:function(t){this.timeOutTimer=setTimeout((function(){dsf.layer.message("当前网络加载缓慢,请耐心等待"),clearTimeout(this.timeOutTimer)}),5e3)},playerPlaying:function(t){this.$emit("playerPlaying",t),clearTimeout(this.timeOutTimer)},playerTimeupdate:function(t){var e=this;if(this.initPlay&&!this.isSeeking){var i=this.seekTime;this.isSeeking=!0,this.isAndroid()?window.setTimeout((function(){e.initPlay=!1,i&&(e.player.currentTime(i),e.playingTime=e.player.currentTime()),e.player.play()}),1e3):this.initPlay=!1}else if(this.allowFastForward)this.playingTime=t.currentTime(),this.$emit("playerPlayingTime",this.playingTime);else{var n=t.currentTime();n-this.playingTime>10?window.setTimeout((function(){e.player.currentTime(e.playingTime)})):(this.playingTime=t.currentTime(),this.$emit("playerPlayingTime",n))}},playerCanplay:function(t){},playerCanplaythrough:function(t){this.$emit("playerCanplaythrough")}},beforeDestroy:function(){this.$refs.videoPlayer.dispose()},updated:function(){this.videoSource},watch:{videoSource:function(t,e){var i=this.videoSrc();i&&i.src&&!i.type&&(this.playerOptions.sources[0].src=i.src,this.playerOptions.sources[0].type=i.type)},playIng:function(t){}}}),y=g,b=Object(p["a"])(y,r,a,!1,null,null,null);b.options.__file="mobile/player/mobileNcPlayer.vue";var T=b.exports,S=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ac-player",attrs:{finished:t.finished},on:{load:t.loadCourse}},[t.isDesign?i("div",[t._v("播放详情")]):t._e(),[i("div",{ref:"playerInfo",staticClass:"player-info"},[i("div",{staticClass:"ac-player-wrap"},[i("div",{staticClass:"ac-player-background-black"},[t.finished&&("video"==t.currentPlayerType||"audio"==t.currentPlayerType)&&t.isPlayer?i("dsf-mobile-nc-player",{ref:"player",class:{audio:"audio"==t.currentPlayerType},attrs:{"cover-img":t.getCover(t.courseData.cover),videoSource:t.videoSrc(),seekTime:t.seekTime,allowFastForward:!0},on:{playerPlay:t.playerPlayAddPlaySpeedProgress,playerPause:t.playerPauseAddSpeedProgress,playerPlayingTime:t.playerPlayingTime,playerEnded:t.playerEnded}}):i("div",{staticClass:"player-oth-wrap",on:{click:t.isPriview}},[i("img",{attrs:{src:t.coverImg,alt:""}}),i("div",{staticClass:"play-icon"},[i("i",{staticClass:"def-play-icon"})])])],1)]),i("van-tabs",{staticClass:"course-play-box",model:{value:t.tabActive,callback:function(e){t.tabActive=e},expression:"tabActive"}},[i("van-tab",{attrs:{title:"简介",name:"简介"}},[i("div",{staticClass:"content",staticStyle:{"overflow-y":"auto"}},[i("div",{staticClass:"course-wrap"},[i("div",{staticClass:"course-inner"},[i("h3",{staticClass:"course-title"},[i("span",{staticClass:"title-span"},[t._v("课程简介")]),0==t.courseData.sfjrzx?i("van-button",{staticClass:"join-stud-btn",attrs:{type:"default",size:"small"},on:{click:t.joinStudy}},[t._v(" 加入在学 ")]):t._e(),i("div",{staticClass:"course-rate-wrap",class:{disabled:t.isPlayError}},[i("span",[t._v(t._s(t.showRate))])])],1),i("div",{staticClass:"course-container"},[i("h4",{staticClass:"con-title"},[t._v(t._s(t.courseData?t.courseData.title:"暂无标题"))]),i("p",{directives:[{name:"show",rawName:"v-show",value:!!t.courseData.abstract,expression:"!!courseData.abstract"}],staticClass:"con-desc con-common-padding"},[t._v(t._s(t.courseData?t.courseData.abstract:"暂无"))]),i("ul",{staticClass:"con-teachers con-common-padding"},t._l(t.courseData.skjsold,(function(e,n){return i("li",{key:e+n},[t._v(t._s(t.getTeacherDes(e)))])})),0)])])]),t.courseData&&t.courseData.skjsnow&&t.courseData.skjsnow.length>0?i("div",{staticClass:"course-wrap"},[i("div",{staticClass:"course-inner"},[i("h3",{staticClass:"course-title"},[t._v("教师简介")]),t._l(t.courseData.skjsnow,(function(e,n){return i("div",{key:e+n,staticClass:"course-container"},[i("h4",{staticClass:"con-title con-title-padding"},[t._v(" "+t._s(e.jsname?e.jsname:"暂无")+" "),i("span",{directives:[{name:"show",rawName:"v-show",value:"1"==e.sfms,expression:"item.sfms == '1'"}],staticClass:"con-title-detail",on:{click:function(i){return t.toTeacherDetail(e.jsid)}}},[t._v("详情")])]),i("p",{staticClass:"con-desc con-common-padding"},[t._v(t._s(e.dwzwzjzc?e.dwzwzjzc.replace(/,|，/g," "):""))])])}))],2)]):t._e()])]),i("van-tab",{attrs:{title:"章节",name:"章节"}},[i("player-list",{attrs:{id:t.$route.query.id,type:t.$route.params.type},on:{playerListItem:t.playerListItem}})],1)],1)],1),i("div",{staticClass:"player-fixed-bottom dsf-bottom"},[i("interaction",{ref:"interaction",attrs:{id:t.$route.query.id,type:"00",shareOpts:t.shareOpts,disabled:t.isPlayError}})],1)]],2)},w=[];S._withStripped=!0;i(100),i(212),i(109);var C=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ac-player-list"},[t.isDesign?i("div",[t._v("播放列表")]):t._e(),i("div",{staticClass:"list-wrap"},t._l(t.chapters,(function(e,n){return i("div",{key:e+n,class:{noShowItems:"课程"!==e.type_text},attrs:{name:n+1,disabled:"课程"!==e.type_text}},[i("div",{staticStyle:{"margin-bottom":"0.2rem"},attrs:{slot:"title"},slot:"title"},[i("h3",{staticClass:"item-title"},[i("span",{staticClass:"item-title-icon"}),i("p",{staticClass:"van-ellipsis",staticStyle:{width:"200px"}},[t._v(t._s(e.name))]),i("div",{staticClass:"item-title-time"},[i("span",[t._v(t._s(e.xs)+"学时")])])])]),i("ul",{directives:[{name:"show",rawName:"v-show",value:"课程"==e.type_text,expression:"item.type_text == '课程'"}],staticClass:"items"},t._l(e.kjParaInfo,(function(e,n){return i("li",{key:e+n,on:{click:function(i){return t.backToPlayer(e)}}},[i("div",{staticClass:"item-info"},[i("h4",{staticClass:"item-info"},["3"==e.kjlx_value?i("i",{staticClass:"icon iconfont icon-icon_shiyongwendang",staticStyle:{color:"#ff6a00"}}):"01"==e.type_value?i("i",{staticClass:"item-info-icon icon-course"}):i("dsf-icon",{staticClass:"course-icon",attrs:{name:t.getName(e)}}),t._v(" "+t._s(e.name)+" ")],1),e.kjsc?i("span",[t._v(t._s(e.kjsc))]):t._e()])])})),0)])})),0)])},k=[];C._withStripped=!0;i(87);var x=dsf.component({mixins:[$mixins.control],name:"DsfMobileNcCoursePlayerList",ctrlCaption:"播放列表",props:{type:{type:String,default:"2"},id:{type:String,default:""}},data:function(){return{activeNames:[1],currentRate:80,currentRate2:"80",loaded:!1,finished:!1,refreshing:!1,chapters:[]}},created:function(){this.isDesign||this.loadChapters()},methods:{getName:function(t){return"02"==t.type_value?"lianxi":"04"==t.type_value||"03"==t.type_value?"wenjuan":"05"==t.type_value?"word":""},backToPlayer:function(t){this.$emit("playerListItem",t)},loadChapters:function(){var t=this;t.refreshing&&(t.refreshing=!1);var e=t.dsf.layer.loading(),i="nc/mobile/tyzj/kcbf/getKcDetailMenu",n={relid:t.id||"887e762f18594a10b8346480570f401f",type:t.type||2},r="";t.dsf.http.get(i,n,$$webRoot.nc).done((function(e){if(e.success){for(var i=[],n=0;n<e.data.dyInfo.length;++n)i=i.concat(e.data.dyInfo[n]["kcParaInfo"]);t.chapters=i,t.chapters}else r=e.message||"获取列表数据异常"})).error((function(t){r="服务器异常"})).always((function(){t.loaded=!1,t.finished=!0,t.dsf.layer.closeLoading(e),r&&t.dsf.layer.message(r,!1)}))}}}),E=x,P=Object(p["a"])(E,C,k,!1,null,null,null);P.options.__file="mobile/player/mobileNcCoursePlayerList.vue";var O=P.exports,I=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("van-row",{staticClass:"interaction-comp dsf-bottom",class:{disabled:t.disabled},attrs:{type:"flex",justify:"space-around"}},[i("van-col",{attrs:{span:"2"},on:{click:t.likeChange}},[i("dsf-icon",{staticClass:"dianzan-icon",attrs:{name:t.disabled||t.liked?"dianzan_kuai":"dianzan"}}),i("span",{staticClass:"num"},[t._v(t._s(t.likeNum>0?t.likeNum:0))])],1),i("van-col",{attrs:{span:"2"},on:{click:t.collectChange}},[i("dsf-icon",{staticClass:"aixin-icon",attrs:{name:t.disabled||t.collected?"aixin_shixin":"aixin"}}),i("span",{staticClass:"num"},[t._v(t._s(t.collectNum>0?t.collectNum:0))])],1)],1)},L=[];I._withStripped=!0;var A={props:{id:{type:[String,Number],default:"",desc:"事务id"},type:{type:String,default:"",desc:"事务类型(课程00、新闻xw、学员说xys、频道pd、名师ms、专题班ztb)"},likedFun:{type:Function,default:function(){}},collectedFun:{type:Function,default:function(){}},shareOpts:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1},showSlot:{type:Boolean,default:!1},slotWidth:{type:[String,Number],default:""}},data:function(){return{param:{ywlxValue:this.type,ywid:this.id},liked:!1,collected:!1,likeNum:0,collectNum:0,shareNum:0}},created:function(){this.isDesign||(this.getLiked(),this.getCollected(),this.getShare())},methods:{getLiked:function(){var t=this;dsf.http.get("nc/mobile/tyzj/hd/tags/isTags",this.param,$$webRoot.nc).done((function(e){e.success?(t.liked=e.data.isTags,t.likeNum=e.data.num):dsf.layer.message(e.message,!1)})).error((function(t){dsf.layer.message(t.message,!1)}))},getCollected:function(){var t=this;dsf.http.get("nc/mobile/tyzj/hd/collect/isCollect",this.param,$$webRoot.nc).done((function(e){e.success?(t.collected=e.data.isCollect,t.collectNum=e.data.num):dsf.layer.message(e.message,!1)})).error((function(t){dsf.layer.message(t.message,!1)}))},likeChange:function(){var t=this;this.disabled||this.http(0,(function(e){t.liked=!t.liked,t.likeNum=t.likeNum+(t.liked?1:-1),t.likedFun(e)}))},collectChange:function(){var t=this;this.disabled||this.http(1,(function(e){t.collected=!t.collected,t.collectNum=t.collectNum+(t.collected?1:-1),t.collectedFun(e)}))},http:function(t,e){var i=this.dsf.layer.loading(),n=["nc/mobile/tyzj/hd/tags/saveOrCancel","nc/mobile/tyzj/hd/collect/saveOrCancel"][t];dsf.http.post(n,this.param,$$webRoot.nc).done((function(t){dsf.layer.closeLoading(i),t.success?(dsf.layer.message(t.message,!0),e(t.data)):dsf.layer.message(text,!1)})).error((function(t){dsf.layer.closeLoading(i),dsf.layer.message(t.message,!1)}))},getShare:function(){var t=this;dsf.http.get("nc/mobile/tyzj/hd/getShareCount",this.param,$$webRoot.nc).done((function(e){e.success?(t.shareNum=e.data,dsf.layer.message(e.message,!0)):dsf.layer.message(e.message,!1)})).error((function(t){dsf.layer.message(t.message,!1)}))},saveShare:function(){var t=this;dsf.http.post("nc/mobile/tyzj/hd/share/saveOrCancel",this.param,$$webRoot.nc).done((function(e){e.success?(dsf.layer.message(e.message,!0),t.getShare()):dsf.layer.message(e.message,!1)})).error((function(t){dsf.layer.message(t.message,!1)}))},shareChange:function(){var t=this;dsf.platform.share(dsf.mix(!0,{url:window.location.href,onSuccess:function(e){t.saveShare()}},this.shareOpts))}}},D=A,M=Object(p["a"])(D,I,L,!1,null,null,null);M.options.__file="mobile/player/base/interaction.vue";var j=M.exports,N=(i(153),dsf.component({mixins:[$mixins.control],name:"DsfMobileNcCoursePlayer",ctrlCaption:"播放详情",data:function(){return{tabActive:"简介",isEnd:!1,isPlaying:!1,isPlayError:!1,rateNum:0,showRate:0,rateReadonly:!1,loaded:!1,finished:!1,refreshing:!1,timer:null,infoPosi:!1,tagCollect:{dz:0,sc:0},shareOpts:{title:"",content:"",url:window.location.href.split("#/")[0]+"#/shareCourse/"+this.$route.query.id},currentPlayerType:"",isPlayer:!0,coverImg:""}},computed:{playVideoId:function(){return this.$store.state.ncMedia.playVideoId||""},playVideoTime:function(){return this.$store.state.ncMedia.playVideoTime||"00:00:00"},videoSource:function(){return this.$store.state.ncMedia.src},videoSrc:function(){var t=this;return function(){return dsf.isUnDef(t.videoSource)||dsf.isUnDef(t.videoSource.sd)?"":$$webRoot.nc+t.videoSource.sd.relative}},playingTime:function(){return this.$store.state.ncMedia.playingTime},seekTime:function(){return this.$store.state.ncMedia.seekTime},progressInfo:function(){return this.$store.state.ncMedia.progressInfo},courseData:function(){return this.$store.state.ncMedia.course}},created:function(){},mounted:function(){var t=this;this.finished=!1,window.setTimeout((function(){t.isDesign||t.loadCourse()}),500)},methods:{recharNum:function(t){return 1*t},isPriview:function(){this.isPlayer=!this.isPlayer},loadCourse:function(t,e){var i=this;this.refreshing&&(this.refreshing=!1),t=t||this.dsf.layer.loading();var n="";this.finished=!1,this.$store.dispatch("media/Media_GetCourseAll",{kcid:e||(this.$route.query.id||"ba8dd9946d1248cea128f44aea2dc696"),type:this.$route.params.type||2,dwid:""}).then((function(t){i.courseData,i.rateNum=Number(i.courseData.average_fs||0),i.showRate=i.courseData.rateNum,i.rateReadonly=1==i.courseData.kcsfpj,i.shareOpts.title="课程分享",i.shareOpts.content=i.courseData.title,i.shareOpts.image=dsf.getUploadFileInfo(t.courseData.cover)[0]["absolutePath"],i.tagCollect={sc:Number(i.courseData.totalcollect),dz:Number(i.courseData.totaltag)},i.coverImg=i.getCover(i.courseData.cover),i.setPlayerType(i.courseData.bfinfo.kjlx_value)})).catch((function(t){n=t})).finally((function(){i.loaded=!1,i.finished=!n,i.isPlayError=!!n,dsf.layer.closeLoading(t),n&&window.setTimeout((function(){dsf.layer.message(n,!1)}),500)}))},addSpeedProgress:function(){var t={};this.$store.dispatch("media/Media_PostProgress",t).then((function(t){t.success?"61101"==t.state&&dsf.layer.message(t.message):dsf.layer.message(t.message,!1)})).catch((function(t){}))},playerPlayAddPlaySpeedProgress:function(){"video"!=this.currentPlayerType&&"audio"!=this.currentPlayerType||(this.timer&&clearInterval(this.timer),this.timer=setInterval(this.addSpeedProgress.bind(this),1e4))},playerPauseAddSpeedProgress:function(){this.timer&&clearInterval(this.timer)},playerPlayingTime:function(t){this.isEnd=!1,this.isPlaying=!0,this.$store.commit("media/Media_UpdatePlayTime",Math.ceil(t))},playerEnded:function(){dsf.log("播放完成"),this.addSpeedProgress(),this.isEnd=!0,this.isPlaying=!1},formatSeconds:function(t){var e=dsf.date.secondsToTime(t/1e3);return e.hours,e.minutes,e.seconds,e.hours+":"+e.minutes+":"+e.seconds},formatSeek:function(t){t||(t="00:00:00"),t=t.split(":");var e=60*t[0]*60+60*t[1]+1*t[2];return e},toTeacherDetail:function(t){this.$router.push("/recommend/AcTeacherDetail/"+t)},rateChange:function(t){var e=this,i={title:"课程评价",message:"确定当前评分为: "+t,asyncClose:!0};e.dsf.layer.confirm(i,(function(){var i="nc/mobile/tyzj/kcbf/editYwdf",n={ywid:e.courseData.kcid,ywlx_text:"课程",ywlx_value:"00",fs:t},r=e.dsf.layer.loading(),a=null;e.dsf.http.post(i,n).done((function(t){if(t.success){e.dsf.layer.message("评价课程成功");var i=setTimeout((function(){e.loadCourse(r),clearTimeout(i)}),1200)}else a=t.message})).error((function(t){a="课程评价服务器异常"})).always((function(){a&&(e.dsf.layer.closeLoading(r),e.dsf.layer.message(mgs,!1))}))}),(function(){}))},joinStudy:function(){var t=this,e="zxgl/add",i={relid:t.courseData.kcid},n=t.dsf.layer.loading(),r=null;t.dsf.http.get(e,i).done((function(e){e.success?(t.dsf.layer.message("加入在学成功"),t.courseData.sfjrzx=1):r=e.message})).error((function(t){r="服务器异常"})).always((function(){r&&(t.dsf.layer.closeLoading(n),t.dsf.layer.message(r,!1))}))},playerListItem:function(t){var e=this,i=this;if(t.kjlx_value,this.addSpeedProgress(),this.timer&&clearInterval(this.timer),1==t.kjlx_value||2==t.kjlx_value){this.finished=!1,this.setPlayerType(t.kjlx_value),this.$store.commit("media/Media_SetSource",null),this.$store.commit("media/Media_SetProgress",null),this.$store.commit("media/Media_SetSeekTime",null),this.$store.commit("media/Media_UpdatePlayTime",null);var n=dsf.queue();n.step((function(e,n){var r=1==t.kjlx_value?t.spdz:t.ypdz,a=1==t.kjlx_value?"video":"audio",s=JSON.parse(r)[0]||{};s.id||e.reject("该媒体不存在"),i.$store.dispatch("media/Media_GetSource",{fileId:s.id,type:a}).then((function(n){i.$store.commit("media/Media_ChangeVideo",{videoId:t.kjid,videoTime:t.kjsc}),e.resolve()})).catch((function(t){e.reject()}))})),n.step((function(t,e){i.$store.dispatch("media/Media_GetProgress",{videoId:i.playVideoId,kcId:i.courseData.kcid}).then((function(){t.resolve()})).catch((function(t){dsf.reject(t)}))})),n.catch((function(t){dsf.layer.message(t,!1)})),n.finally((function(){e.finished=!0})),n.exec()}else if(this.$refs.player&&this.$refs.player.pause(),"试卷"==t.type_text){var r={examId:t.examid,userId:i.userId,deviceType:"mobile",businessId:t.businessid,entryType:3},a=i.dsf.layer.loading();i.dsf.http.get("nc/mobile/tyzj/exam/url",r).done((function(t){i.dsf.layer.closeLoading(a),t.success?i.$router.push({name:"dsfIframe",params:{url:dsf.config.webRoot+t.data.relativePath}}):i.dsf.layer.message(t.message||"获取列表数据异常",!1)})).error((function(t){i.dsf.layer.closeLoading(a),i.dsf.layer.message("服务器异常",!1)}))}else if("问卷"==t.type_text){var s=i.dsf.layer.loading(),o={wjid:t.id,type:"mobile"};i.dsf.http.get("nc/mobile/tyzj/wj/tbWj",o).done((function(t){i.dsf.layer.closeLoading(s),t.success?i.$router.push({path:"/iframe?url="+t.data.fullPath.replace("&isview","&readonly")}):i.dsf.layer.message(t.message||"获取跳转链接异常",!1)})).error((function(t){i.dsf.layer.closeLoading(s),i.dsf.layer.message("服务器异常",!1)}))}else{this.$store.commit("media/Media_SetSource",null),this.$store.commit("media/Media_SetProgress",null),this.$store.commit("media/Media_SetSeekTime",null),this.$store.commit("media/Media_UpdatePlayTime",null);var l=dsf.queue(),c="",u="",d="";l.step((function(e,n){switch(t.kjlx_value){case"3":c=JSON.parse(t.wgdz)[0],u="text",d="/preview/file?fileId="+c.id;break;case"4":c=t.yddz,u="media",d=t.yddz;break;default:c=t.yddz,u="media",d=t.yddz;break}i.isPlayer=!1,i.$store.dispatch("media/Media_GetSource",{fileId:d,type:u}).then((function(n){i.$store.commit("media/Media_ChangeVideo",{videoId:t.kjid,videoTime:t.kjsc}),e.resolve()})).catch((function(t){e.reject()}))})),l.step((function(t,e){i.$store.dispatch("media/Media_GetProgress",{videoId:i.playVideoId,kcId:i.courseData.kcid}).then((function(){t.resolve()})).catch((function(t){dsf.reject(t)}))})),l.catch((function(t){dsf.layer.message(t)})),l.finally((function(){e.finished=!0,e.currentPlayerType=u})),l.exec()}},getTeacherDes:function(t){var e=t.jsname?t.jsname:"";return e+(t.dwzwzjzc?" "+t.dwzwzjzc.replace(/,|，/g," "):"")},setPlayerType:function(t){2==t?this.currentPlayerType="audio":1==t?this.currentPlayerType="video":4==t?this.currentPlayerType="media":3==t?this.currentPlayerType="text":5==t&&(this.currentPlayerType="other")},getCover:function(t){var e=dsf.getUploadFileInfo(t),n=e[0].relativePath;return n?$$webRoot.nc+n:i(147)},iframeLoaded:function(){var t=this;if("text"==this.currentPlayerType||"media"==this.currentPlayerType||"other"==this.currentPlayerType){this.timer&&clearInterval(this.timer);var e=this.seekTime;this.timer=setInterval((function(){e+=10,t.$store.commit("media/Media_UpdatePlayTime",Math.ceil(e)),t.addSpeedProgress()}),1e4)}}},beforeDestroy:function(){this.timer&&clearInterval(this.timer)},components:{PlayerList:O,Interaction:j},beforeRouteEnter:function(t,e,i){var n=this;i((function(e){"Player"==t.name?e.$store.commit("media/Media_UseMini",!1):"audio"!=n.currentPlayerType&&"video"!=n.currentPlayerType||e.$store.commit("media/Media_UseMini",!0)}))},beforeRouteLeave:function(t,e,i){var n=this.$store;"dsfIframe"==t.name||"audio"!=this.currentPlayerType&&"video"!=this.currentPlayerType?(n.commit("media/Media_UseMini",!1),n.commit("media/Media_MiniHide",!1),n.commit("media/Meida_MiniAutoPlay",!1)):this.isPlayError?n.commit("media/Media_RollBack"):!this.isEnd&&this.isPlaying?(n.commit("media/Media_UseMini",!0),n.commit("media/Media_MiniHide",!1),n.commit("media/Meida_MiniAutoPlay",!0)):(n.commit("media/Media_UseMini",!0),n.commit("media/Media_MiniHide",!1),n.commit("media/Meida_MiniAutoPlay",!1)),n=null,i()}})),R=N,B=Object(p["a"])(R,S,w,!1,null,null,null);B.options.__file="mobile/player/mobileNcCoursePlayer.vue";var U=B.exports,F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("DsfMobileNcDataGrid",{ref:"dsfDatagrid",staticClass:"ac-specialList",attrs:{height:"100%","http-param":t.datagrid_httpParam,"background-color":"#fff",col:t.col,limit:t.limit,hasLoad:t.hasLoad,hasRefresh:t.hasRefresh,margin:t.margin,padding:t.padding},scopedSlots:t._u([{key:"default",fn:function(e){return n("van-cell",{key:e.data._id},[n("div",{staticClass:"citem",on:{click:function(i){return t.toDetail(e.data._id)}}},[n("div",{staticClass:"imgbox"},[n("van-image",{attrs:{src:t.setImg(e.data),fit:"full",width:"100%",height:"100%"},scopedSlots:t._u([{key:"loading",fn:function(){return[n("van-loading",{attrs:{type:"spinner",size:"20"}})]},proxy:!0},{key:"error",fn:function(){return[n("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:i(147)}})]},proxy:!0}],null,!0)}),n("div",{staticClass:"tnum ds_font7"},[n("span",[t._v(" "+t._s(t.stringafter(e.data["nc_ztb_mhlbdata.pxrq_sdate"]))+"至"+t._s(t.stringafter(e.data["nc_ztb_mhlbdata.pxrq_edate"]))+" ")])])],1),n("div",{staticClass:"rcontent"},[n("div",{staticClass:"toptitle ds_font5_m"},[n("p",{staticClass:"ell2"},[1==e.data["nc_ztb_mhlbdata.sfbx"]?n("span",{staticClass:"s2 ds_font5"},[t._v("必修")]):t._e(),t._v(" "+t._s(e.data["nc_ztb_mhlbdata.title"])+" ")])]),n("div",{staticClass:"cencontent"},[n("div",{staticClass:"txt"},[t._v("必修学时："+t._s(e.data["nc_ztb_mhlbdata.bxxs"]))]),n("div",{staticClass:"txt"},[t._v("选修学时："+t._s(e.data["nc_ztb_mhlbdata.xxxs"]))]),n("div",{staticClass:"p3 txt"},[t._v("学员人数："+t._s(e.data["nc_ztb_mhlbdata.studentNum"]))])])])])])}}])})},z=[];F._withStripped=!0;var V={name:"specialList",data:function(){return{datagrid_search:"",datagrid_httpParam:{query:'{"searchValue":""}',order:"[]",namespace:"nc.ztb",pageName:"mhlblist"}}},props:{detailUrl:{type:String,default:""},courseList:{type:Array,default:function(){return[]}},col:{type:[String,Number],default:1,desc:"一列显示几个，暂支持1和2"},hasLoad:{type:Boolean,default:!0,desc:"是否有上拉加载"},hasRefresh:{type:Boolean,default:!0,desc:"是否有下拉刷新"},dataSource:{type:String,default:"meta/list/data",desc:"请求接口，可自定义"},curr:{type:[String,Number],default:1,desc:"从哪一页开始"},limit:{type:[String,Number],default:10,desc:"每页显示多少"},httpParam:{type:Object,default:function(){return{}},desc:"接口参数"},padding:{type:Array,default:function(){return[0,15,0,17]}},margin:{type:Array,default:function(){return[0,0,0,0]}},detailRoute:{type:String,default:""}},methods:{onSearch:function(){this.datagrid_httpParam.query={searchValue:this.datagrid_search},this.$refs.dsfDatagrid.query()},toDetail:function(t){this.$router.push({path:this.detailUrl,query:{id:t}})},setImg:function(t){var e=t["nc_ztb_mhlbdata.cover"];return e&&(e=dsf.url.getWebPath(JSON.parse(e)[0]["relativePath"],$$webRoot.nc)),e||"/"},stringafter:function(t){var e="";return t&&(e=t.substr(5)),e}}},q=V,H=Object(p["a"])(q,F,z,!1,null,null,null);H.options.__file="mobile/recommend/special/specialList.vue";var W=H.exports,G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"learn-detail"},[t.isDesign?n("div",[t._v("专题详情")]):t._e(),n("div",{staticClass:"learn-detail-inner",style:{bottom:t.signBtn?"45px":0}},[n("div",{staticClass:"learn-cover"},[n("van-image",{attrs:{width:"100%",height:"100%",fit:"fill",src:t.setImg()},scopedSlots:t._u([{key:"loading",fn:function(){return[n("van-loading",{attrs:{type:"spinner",size:"20"}})]},proxy:!0},{key:"error",fn:function(){return[n("img",{staticStyle:{width:"100%"},attrs:{src:i(147)}})]},proxy:!0}])}),n("div",{staticClass:"learn-keyword-label"},t._l(t.pageInfo.label,(function(e,i){return n("div",{key:i,staticClass:"keyword-label-item"},[t._v(t._s(e))])})),0),"1"==t.signState||"2"==t.signState||"3"==t.signState?n("div",{staticClass:"learn-to",class:"3"==t.signState?"out":"",on:{click:function(e){return t.continueGO()}}},[n("span",{domProps:{textContent:t._s("1"==t.signState?"开始学习":"2"==t.signState?"继续学习":"3"==t.signState?"已结业":"")}})]):t._e()],1),n("van-tabs",{on:{click:t.tabClick},model:{value:t.tabActive,callback:function(e){t.tabActive=e},expression:"tabActive"}},[n("van-tab",{attrs:{title:"简介",name:"简介"}},[n("div",{staticClass:"brief-wrap",class:1==t.signBtn?"btn-blank":""},[n("div",{staticClass:"brief-inner"},[n("div",{staticClass:"brief-content-item"},[n("dsf-panel",{staticStyle:{width:"100%","border-radius":"0"},attrs:{panelData:{name:"基本信息",url:"",showMore:!1}}},[n("div",{staticClass:"course-item",attrs:{slot:"panel"},slot:"panel"},[n("div",{staticClass:"brief-title"},[t._v(t._s(t.pageInfo.title))]),n("div",{staticClass:"brief-date-wrap"},[n("div",{staticClass:"brief-date-item"},[t._v(" 报名日期： "),n("span",[t._v(t._s(t.pageInfo.bmrq_sdate))]),t._v(" 至 "),n("span",[t._v(t._s(t.pageInfo.bmrq_edate))])]),n("div",{staticClass:"brief-date-item"},[t._v(" 培训日期： "),n("span",[t._v(t._s(t.pageInfo.pxrq_sdate))]),t._v(" 至 "),n("span",[t._v(t._s(t.pageInfo.pxrq_edate))])])]),n("div",{staticClass:"brief-course-select-wrap"},[n("div",{staticClass:"brief-course-select-item orange"},[n("div",{staticClass:"course-select-icon-wrap"},[n("dsf-icon",{staticClass:"course-select-icon",attrs:{name:"bixiuke"}}),n("div",{staticClass:"course-select-name"},[t._v("必修")])],1),n("div",{staticClass:"num-hour-class-wrap"},[n("div",{staticClass:"num"},[t._v(t._s(t.pageInfo.bxcount))]),n("div",{staticClass:"unit"},[t._v("(门)")])]),n("div",{staticClass:"sprit-wrap"},[n("div",{staticClass:"sprit"})]),n("div",{staticClass:"num-hour-class-wrap"},[n("div",{staticClass:"num"},[t._v(t._s(t.pageInfo.bxxs))]),n("div",{staticClass:"unit"},[t._v("(学时)")])])]),n("div",{staticClass:"brief-course-select-item blue"},[n("div",{staticClass:"course-select-icon-wrap"},[n("dsf-icon",{staticClass:"course-select-icon",attrs:{name:"xuanxiuke"}}),n("div",{staticClass:"course-select-name"},[t._v("选修")])],1),n("div",{staticClass:"num-hour-class-wrap"},[n("div",{staticClass:"num"},[t._v(t._s(t.pageInfo.xxcount))]),n("div",{staticClass:"unit"},[t._v("(门)")])]),n("div",{staticClass:"sprit-wrap"},[n("div",{staticClass:"sprit"})]),n("div",{staticClass:"num-hour-class-wrap"},[n("div",{staticClass:"num"},[t._v(t._s(t.pageInfo.xxxs))]),n("div",{staticClass:"unit"},[t._v("(学时)")])])])]),n("div",{staticClass:"brief-info-wrap"},[n("div",{staticClass:"brief-info"},[t._v(" 学员人数： "),n("span",[t._v(t._s(t.pageInfo.studentNum))]),t._v("人 ")]),n("div",{staticClass:"brief-info"},[t._v(" 主办单位： "),n("span",[t._v(t._s(t.pageInfo.zbdw))])]),n("div",{staticClass:"brief-info"},[t._v(" 承办单位： "),n("span",[t._v(t._s(t.pageInfo.cjdw))])])])])])],1),n("div",{staticClass:"brief-content-item"},[n("dsf-panel",{staticStyle:{width:"100%","border-radius":"0"},attrs:{panelData:{name:"教学目的",url:"",showMore:!1}}},[n("div",{staticClass:"course-item",attrs:{slot:"panel"},slot:"panel"},[n("div",{staticClass:"brief-describe",domProps:{innerHTML:t._s(t.pageInfo.content)}})])])],1)])])]),n("van-tab",{attrs:{title:"课程",name:"课程"}},[n("div",{staticClass:"course-wrap",class:1==t.signBtn?"btn-blank":""},[Object.keys(t.pageCourse).length>0?n("div",{staticClass:"course-inner"},[t.courseMask?n("div",{staticClass:"course-mask"}):t._e(),t._l(t.pageCourse,(function(e,i){return n("dsf-panel",{key:i,staticStyle:{width:"100%","border-radius":"0"},attrs:{panelData:{name:e.dy_name,url:"",showMore:!1}}},[n("div",{staticClass:"course-item",attrs:{slot:"panel"},slot:"panel"},[n("div",{staticClass:"course-notice"},[n("div",[t._v("必修：")]),n("div",{staticClass:"course-notice-margin"},[n("span",[t._v(t._s(e.bxcount))]),t._v("门 ")]),n("div",{staticClass:"course-notice-margin"},[n("span",[t._v(t._s(e.bxxs))]),t._v("学时 ")]),n("div",[t._v("选修：")]),n("div",{staticClass:"course-notice-margin"},[n("span",[t._v(t._s(e.xxcount))]),t._v("门 ")]),n("div",{staticClass:"course-notice-margin"},[n("span",[t._v(t._s(e.xxxs))]),t._v("学时 ")])]),t._l(e.CHILDREN,(function(i,r){return n("div",{key:r,staticClass:"course-list-wrap",on:{click:function(n){"0"==i.study&&t.pageGo(i,e.nc_zyb_id)}}},[n("div",{staticClass:"course-list-inner"},[n("div",{staticClass:"course-list-inner-lt"},[n("div",{staticClass:"course-list-top"},["课程"!==i.type_text?n("dsf-icon",{staticClass:"course-icon",attrs:{name:"02"==i.type_value?"lianxi":"04"==i.type_value?"wenjuan":"05"==i.type_value?"word":""}}):n("i",{class:["icon",t.getIcon(i)]}),n("div",{staticClass:"course-title",class:{ban:"1"==i.study}},[t._v(t._s(i.name))])],1),n("div",{staticClass:"course-list-bottom"},[n("div",{staticClass:"course-class-hour"},["05"==i.type_value?n("span",[t._v(t._s(i.xs)+"学时")]):n("span",[t._v(t._s(i.type_text))]),"1"==i.sfbx_value?n("div",{staticClass:"bxIcon"},[t._v("必修")]):t._e()]),i.kcsc?n("div",{staticClass:"course-date"},[t._v(t._s(i.kcsc))]):t._e()])]),n("div",{staticClass:"course-list-inner-rt"},[n("van-circle",{attrs:{value:t.recharNum(i.wcjd),rate:100,speed:50,size:"35px","stroke-width":80,text:i.wcjd,"layer-color":"#ebedf0"}})],1)])])}))],2)])}))],2):t._e()])]),"0"!=t.signState&&"4"!=t.signState&&"5"!=t.signState?n("van-tab",{attrs:{title:"考核",name:"考核"}},[n("div",{staticClass:"examine-wrap",class:1==t.signBtn?"btn-blank":""},[n("div",{staticClass:"examine-inner"},[n("dsf-panel",{staticStyle:{width:"100%","border-radius":"0"},attrs:{panelData:{name:"进度",url:"",showMore:!1}}},[n("div",{staticClass:"examine-item",attrs:{slot:"panel"},slot:"panel"},[t.pageExamine.length>0?t._l(t.pageExamine,(function(e,i){return n("div",{key:i,staticClass:"examine-list"},[n("div",{staticClass:"examine-title"},[t._v(t._s(e.name))]),n("div",{staticClass:"examine-progress-wrap"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.totalBxxs&&"0"!=e.totalBxxs,expression:"item.totalBxxs && item.totalBxxs != '0'"}],staticClass:"examine-progress-item"},[n("div",{staticClass:"progress-item-lt"},[n("span",{staticClass:"progress-item-lt-key bx"},[t._v("必修")])]),n("div",{staticClass:"progress-item-ct"},[n("van-progress",{attrs:{percentage:t.formatterNum(e.bxjd),"stroke-width":"25","track-color":"#cccccc",color:"#FA5151","pivot-text":(e.bxjd||0)+"%"}})],1),n("div",{staticClass:"progress-item-rt"},[n("span",[t._v(t._s(e.totalBxxsjl))]),n("span",[t._v("/")]),n("span",[t._v(t._s(e.totalBxxs))])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.totalXxxs&&"0"!=e.totalXxxs,expression:"item.totalXxxs && item.totalXxxs != '0'"}],staticClass:"examine-progress-item"},[n("div",{staticClass:"progress-item-lt"},[n("span",{staticClass:"progress-item-lt-key xx"},[t._v("选修")])]),n("div",{staticClass:"progress-item-ct"},[n("van-progress",{attrs:{percentage:t.formatterNum(e.xxjd),"stroke-width":"25","track-color":"#cccccc",color:"#2A93FD","pivot-text":(e.xxjd||0)+"%"}})],1),n("div",{staticClass:"progress-item-rt"},[n("span",[t._v(t._s(e.totalXxxsjl))]),n("span",[t._v("/")]),n("span",[t._v(t._s(e.totalXxxs))])])])])])})):t._e()],2)]),t.pageExamine.length>0?n("div",{staticClass:"exam-wrap",class:1==t.signBtn?"btn-blank":""},[n("button",{class:["exam-item-btn",t.asment.jdsfwc?"":"btn-not-allow"],on:{click:function(e){return t.gotoSum(t.asment.jdsfwc)}}},[n("i",{staticClass:"icon iconfont icon-icon_shiyongwendang"}),t._v(" 小结 ")]),n("button",{class:["exam-item-btn",t.asment.jdsfwc?"":"btn-not-allow"],on:{click:function(e){return t.gotoExam(t.asment)}}},[n("i",{staticClass:"icon icon-wenjuan iconfont"}),n("span",[t._v("结业考试")])])]):t._e()],1)])]):t._e()],1)],1),t.signBtn?n("div",{staticClass:"sign-up dsf-bottom",class:"4"==t.signState?"seal":"5"==t.signState?"out":"",on:{click:function(e){"0"==t.signState&&t.signOn(t.pageInfo.title)}}},[n("div",{staticClass:"sign-up-content"},[n("span",{domProps:{textContent:t._s("0"==t.signState?"立即报名":"4"==t.signState?"封闭式":"5"==t.signState?"未授权":"")}}),"0"==t.signState&&"1"==t.pageInfo.bmxz_value?n("span",[t._v(" （剩余 "),n("span",[t._v(t._s(t.pageInfo.systudent))]),t._v("人） ")]):t._e()])]):t._e()])},X=[];G._withStripped=!0;i(445),i(229);var Y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dsf-info-panel ds_control"},[i("div",{staticClass:"dsf-info-panel-title-box"},[i("div",{staticClass:"dsf-info-panel-title ellipsis van-hairline--top-bottom"},[i("div",{staticClass:"dsf-info-panel-title-line"}),t._v(" "+t._s(t.name)+" ")]),t.showMore?i("div",{staticClass:"dsf-info-panel-more van-hairline--top-bottom",on:{click:function(e){return e.stopPropagation(),t.more.apply(null,arguments)}}},[t._v("更多")]):[t._t("customer")]],2),t._t("panel")],2)},K=[];Y._withStripped=!0;var J={name:"dsfInfoPanel",data:function(){return{name:"",url:"",showMore:!1,customer:!1}},props:{panelData:{type:Object,default:function(){return{name:"",url:"",showMore:!0}}}},computed:{},components:{},created:function(){this.name=this.panelData.name,this.url=this.panelData.url,this.showMore=this.panelData.showMore,this.customer=this.panelData.customer},mounted:function(){},methods:{more:function(){this.url}}},Q=J,Z=Object(p["a"])(Q,Y,K,!1,null,null,null);Z.options.__file="mobile/base/dsfPanel.vue";var tt=Z.exports,et=dsf.component({mixins:[$mixins.control],name:"DsfMobileNcSpecilaDetail",ctrlCaption:"专题详情",data:function(){return{progressList:{},nummm:30,currentRate:100,tabActive:"",pageInfo:{cover:null,label:[],title:"",bmrq_sdate:"",bmrq_edate:"",pxrq_sdate:"",pxrq_edate:"",bxcount:"",bxxs:"",xxcount:"",xxxs:"",studentNum:"",zbdw:"",cjdw:"",abstract:"",bmxz_value:"",systudent:null},pageCourse:[],courseMask:!0,signBtn:!0,nc_zyb_id:"",signState:"",pageExamine:{},continueLearn:"",ztbId:this.$route.query.id,userId:"",asment:""}},created:function(){this.isDesign||(this.initInfo(),this.initCoursePanel())},mounted:function(){},methods:{tabClick:function(t,e){},formatterNum:function(t){return parseInt(t)>100?100:parseInt(t)},setImg:function(t){var e=this.pageInfo.cover||null;return e&&(e=dsf.url.getWebPath(JSON.parse(e)[0][t||"relativePath"],$$webRoot.nc)),e||""},continueGO:function(){var t=this;t.$router.push({path:"/player/"+t.continueLearn+"/2"})},repeatGo:function(){var t=this;this.dsf.platform.share({url:window.location.href.split("#/")[0]+"#/shareSpecial/"+this.$route.query.id,title:"专题班分享",content:this.pageInfo.title,image:t.setImg("absolutePath")})},recharNum:function(t){var e=t;return e*=1,e},pageGo:function(t,e){var i=this;if("试卷"==t.type_text){var n={examId:t.relid,userId:i.userId,deviceType:"mobile",businessId:t.bussinesid,entryType:"1"},r=i.dsf.layer.loading();i.dsf.http.get("nc/mobile/tyzj/exam/url",n,$$webRoot.nc).done((function(t){i.dsf.layer.closeLoading(r),t.success?i.$router.push({name:"dsfIframe",params:{url:dsf.config.webRoot+t.data.relativePath}}):i.dsf.layer.message(t.message||"获取列表数据异常",!1)})).error((function(t){i.dsf.layer.closeLoading(r),i.dsf.layer.message("服务器异常",!1)}))}else if("问卷"==t.type_text){var a=i.dsf.layer.loading(),s={wjid:t.relid,type:"mobile",ztbid:i.ztbId};i.dsf.http.get("nc/mobile/tyzj/wj/tbWj",s,$$webRoot.nc).done((function(t){i.dsf.layer.closeLoading(a),t.success?i.$router.push({path:"/iframe?url="+t.data.fullPath.replace("&isview","&readonly")}):i.dsf.layer.message(t.message||"获取跳转链接异常",!1)})).error((function(t){i.dsf.layer.closeLoading(a),i.dsf.layer.message("服务器异常",!1)}))}else"课程"==t.type_text?i.$router.push({path:"/player/"+t.relid+"/2"}):"作业"==t.type_text&&i.dsf.layer.message("暂无",!1)},signOn:function(t){var e=this;if(1==e.pageInfo.bmxz_value&&e.pageInfo.systudent>0||0==e.pageInfo.bmxz_value){var i=e.dsf.layer.loading();e.dsf.http.post("nc/mobile/tj/ztb/addXymdBm",{nc_zyb_id:e.nc_zyb_id},$$webRoot.nc).done((function(t){if(e.dsf.layer.closeLoading(i),t.success){var n=setTimeout((function(){e.initInfo(),e.initCoursePanel(),clearTimeout(n)}),1500);e.dsf.layer.message(t.message,!0)}else e.dsf.layer.message(t.message||"报名失败",!1)})).error((function(t){e.dsf.layer.closeLoading(i),e.dsf.layer.message("服务器异常",!1)}))}else e.dsf.layer.message("报名人数已达上限",!1)},initInfo:function(){var t=this,e=this,i=e.dsf.layer.loading();dsf.http.get("nc/mobile/tyzj/ztb/getZtbInfo",{id:e.ztbId},$$webRoot.nc).done((function(n){if(e.dsf.layer.closeLoading(i),n.success){var r=n.data,a={cover:r.cover,label:r.label_text?r.label_text.split("^"):[],title:r.title,bmrq_sdate:r.bmrq_sdate,bmrq_edate:r.bmrq_edate,pxrq_sdate:r.pxrq_sdate,pxrq_edate:r.pxrq_edate,bxcount:r.bxcount,bxxs:r.bxxs,xxcount:r.xxcount,xxxs:r.xxxs,studentNum:r.studentNum,zbdw:r.zbdw,cjdw:r.cjdw,content:r.content,bmxz_value:parseInt(r.bmxz_value),systudent:parseInt(r.systudent)};e.nc_zyb_id=r.nc_zyb_id,e.signState=r.STATE,"0"==e.signState||"4"==e.signState||"5"==e.signState?e.signBtn=!0:e.signBtn=!1,"1"==e.signState||"2"==e.signState?e.courseMask=!1:e.courseMask=!0,e.pageInfo=a,"0"!=e.signState&&"5"!=e.signState&&""!=t.signState&&t.initExamine(),e.continueLearn=r.newKcId}else e.dsf.layer.message(n.message||"获取列表数据异常",!1)})).error((function(t){e.dsf.layer.closeLoading(i),e.dsf.layer.message("服务器异常",!1)}))},initCoursePanel:function(){var t=this,e=t.dsf.layer.loading();this.$http.get("nc/mobile/tyzj/ztb/getZtbKcList",{ztbid:t.ztbId,userId:t.userId},$$webRoot.nc).done((function(i){if(t.dsf.layer.closeLoading(e),i.success){var n=i.data.data;t.pageCourse=n}else t.dsf.layer.message(i.message||"获取列表数据异常",!1)})).error((function(i){t.dsf.layer.closeLoading(e),t.dsf.layer.message("服务器异常",!1)}))},initExamine:function(){var t=this,e=t.dsf.layer.loading();this.$http.get("nc/ztb/tea/getStudentZtbKh",{ztbid:t.ztbId,userId:t.userId},$$webRoot.nc).done((function(i){if(t.dsf.layer.closeLoading(e),i.success){var n=i.data.dyjdData;i.data,t.asment=i.data,t.pageExamine=n}else t.dsf.layer.message(i.message||"获取列表数据异常",!1)})).error((function(i){t.dsf.layer.closeLoading(e),t.dsf.layer.message("服务器异常",!1)}))},gotoSum:function(t){t&&dsf.layer.message("小结请去PC端操作",!1)},gotoExam:function(t){if(t.jdsfwc){var e=this,i={examId:t.ksid,userId:e.userId,deviceType:"mobile",businessId:e.ztbId,entryType:"1"},n=dsf.layer.loading();e.dsf.http.get("nc/mobile/tyzj/exam/url",i,$$webRoot.nc).done((function(t){dsf.layer.closeLoading(n),t.success?e.$router.push({name:"dsfIframe",params:{url:dsf.config.webRoot+t.data.relativePath}}):dsf.layer.message(t.message||"获取列表数据异常",!1)})).error((function(t){dsf.layer.closeLoading(n),dsf.layer.message("服务器异常",!1)}))}},getIcon:function(t){var e=t.type_text,i=t.kcflryvalue||"1",n=["icon-sp","icon-yp","icon-wg","icon-fmt","icon-qt"];if("课程"==e){var r=this.removeEmpty(i.split(","));return r&&1==r.length?n[r[0]-1]:n[0]}},removeEmpty:function(t){for(var e=0;e<t.length;e++)""!=t[e]&&"undefined"!=typeof t[e]||(t.splice(e,1),e-=1);return t}},components:{dsfPanel:tt}}),it=et,nt=Object(p["a"])(it,G,X,!1,null,null,null);nt.options.__file="mobile/recommend/special/mobileNcSpecilaDetail.vue";var rt=nt.exports,at=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("DsfMobileNcDataGrid",{ref:"dsfDatagrid",staticClass:"news-list",attrs:{height:"100%","max-top-number":t.maxTopNumber,"top-props":"teas_jwgl_bjgl_nowbcsjy.sxrs","http-param":t.datagrid_httpParam,"background-color":"#fff",padding:t.padding,margin:t.margin,"top-margin":[0,-15,0,-15],col:t.col,limit:t.limit,hasLoad:t.hasLoad,hasRefresh:t.hasRefresh},scopedSlots:t._u([t.maxTopNumber>0?{key:"top",fn:function(e){return[i("div",{staticClass:"news-swiper-list",on:{click:function(i){return t.toDetail(e.data["nc_news_xxlist.id"])}}},[i("div",{staticClass:"news-swiper-title"},[i("p",[t._v(t._s(e.data["nc_news_xxlist.cname"]))])]),i("div",{staticClass:"news-swiper-img"},[i("img",{attrs:{src:t.getCover(e.data),alt:""}}),i("p",[i("span",[t._v(t._s(e.data["nc_news_xxlist.cname"]))])])])])]}}:null,{key:"default",fn:function(e){return[i("div",{staticClass:"news-item",on:{click:function(i){return t.toDetail(e.data["nc_news_xxlist.id"])}}},[i("div",{staticClass:"news-list-img",class:{"no-image":!t.getCover(e.data)}},[i("img",{staticClass:"means-img",attrs:{src:t.getCover(e.data),alt:"",onerror:t.defHide}}),i("div",{staticClass:"news-item-content"},[i("p",{staticClass:"van-multi-ellipsis--l2"},[t._v(t._s(e.data["nc_news_xxlist.cname"]))]),i("p",[i("span",[t._v(t._s(e.data["nc_news_xxlist.ds_create_time"]))]),i("span",[i("dsf-icon",{staticClass:"yanjing-icon",attrs:{name:"yanjing"}}),t._v(t._s(e.data["nc_news_xxlist.djcs"])+" ")],1)])])])])]}}],null,!0)})},st=[];at._withStripped=!0;var ot={data:function(){return{is_check_refresh:!0}},created:function(){this.is_check_refresh=!1},methods:{$checkRefresh:function(t,e,i){var n=this;if(i(),t.name!=e.name)if(this.is_check_refresh){var r=this.$store.state.refresh.maps;r[t.name]&&r[t.name].state&&window.setTimeout((function(){n.$refresh(e.name,r[t.name].args),n.$removeRefresh(t.name)}),500)}else this.is_check_refresh=!0,this.$removeRefresh(t.name)},$pushRefresh:function(t,e){this.$store.commit("pushRefresh",{name:t,args:e||null})},$removeRefresh:function(t){this.$store.commit("removeRefresh",t)},$refresh:function(){}},beforeRouteEnter:function(t,e,i){i((function(n){n.$checkRefresh(t,e,i)}))}},lt={name:"newsList",mixins:[ot],data:function(){return{datagrid_search:"",datagrid_httpParam:{query:JSON.stringify({searchValue:""}),order:JSON.stringify([]),namespace:"nc.news",pageName:"xxlist"},defHide:"this.style.display = 'none'"}},props:{detailUrl:{type:String,default:""},maxTopNumber:{type:Number,default:5},col:{type:[String,Number],default:1,desc:"一列显示几个，暂支持1和2"},hasLoad:{type:Boolean,default:!0,desc:"是否有上拉加载"},hasRefresh:{type:Boolean,default:!0,desc:"是否有下拉刷新"},dataSource:{type:String,default:"meta/list/data",desc:"请求接口，可自定义"},curr:{type:[String,Number],default:1,desc:"从哪一页开始"},limit:{type:[String,Number],default:12,desc:"每页显示多少"},httpParam:{type:Object,default:function(){return{}},desc:"接口参数"},padding:{type:Array,default:function(){return[0,15,0,15]}},margin:{type:Array,default:function(){return[0,0,0,0]}}},computed:{},created:function(){},mounted:function(){},methods:{getCover:function(t){var e=dsf.getUploadFileInfo(t["nc_news_xxlist.cover"]);return dsf.url.getWebPath(e[0].relativePath,$$webRoot.nc)},query:function(){},toDetail:function(t){this.$router.push({path:this.detailUrl,query:{id:t}})},onscreen:function(t){var e=this;"down"==e[t]?e[t]="up":e[t]="down"}}},ct=lt,ut=Object(p["a"])(ct,at,st,!1,null,"d521544a",null);ut.options.__file="mobile/recommend/news/newsList.vue";var dt=ut.exports,ht=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"news-detail"},[t.isDesign?i("div",[t._v("新闻详情")]):t._e(),i("van-nav-bar",[i("div",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.newsInfo.name))])]),i("div",{staticClass:"news-body dsf-content"},[i("div",{staticClass:"news-mesg"},[i("p",{staticClass:"van-ellipsis"},[i("span",[t._v(t._s(t.newsInfo.time))]),i("span",{staticStyle:{display:"block"}},[t._v("来源："+t._s(t.newsInfo.source))])]),i("p",[i("span",[i("dsf-icon",{staticClass:"yanjing-icon",attrs:{name:"yanjing"}}),t._v(" "+t._s(t.newsInfo.llcs)+" ")],1)])]),i("div",{staticClass:"news-title"},[t._v(" "+t._s(t.newsInfo.name)+" ")]),i("div",{ref:"newsContent",staticClass:"news-detail",domProps:{innerHTML:t._s(t.newsInfo.content)},on:{click:t.imgPreview}})]),i("div",{staticClass:"news-bottom dsf-bottom"},[i("interaction",{ref:"interaction",attrs:{id:t.$route.query.id,type:"xw",shareOpts:t.shareOpts}})],1),i("van-image-preview",{attrs:{images:t.imgPreviewSrc,"show-index":!1},model:{value:t.imgShow,callback:function(e){t.imgShow=e},expression:"imgShow"}})],1)},ft=[];ht._withStripped=!0;var pt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("van-row",{staticClass:"interaction-comp",class:{disabled:t.disabled},attrs:{type:"flex",justify:"space-around"}},[i("van-col",{attrs:{span:"1"},on:{click:t.likeChange}},[i("dsf-icon",{staticClass:"dianzan-icon",attrs:{name:t.disabled||t.liked?"dianzan_kuai":"dianzan"}}),i("span",{staticClass:"num"},[t._v(" "+t._s(t.likeNum<0?0:t.likeNum)+" ")])],1),i("van-col",{attrs:{span:"1"},on:{click:t.collectChange}},[i("dsf-icon",{staticClass:"aixin-icon",attrs:{name:t.disabled||t.collected?"aixin_shixin":"aixin"}}),i("span",{staticClass:"num"},[t._v(" "+t._s(t.collectNum<0?0:t.collectNum)+" ")])],1),i("van-col",{staticClass:"share",attrs:{span:"6"},on:{click:t.shareChange}},[i("dsf-icon",{staticClass:"fenxiang-icon",attrs:{name:"fenxiang"}}),i("span",[t._v("分享")])],1)],1)},mt=[];pt._withStripped=!0;var vt={props:{id:{type:[String,Number],default:"",desc:"事务id"},type:{type:String,default:"",desc:"事务类型(课程00、新闻xw、学员说xys、频道pd、名师ms、专题班ztb)"},likedFun:{type:Function,default:function(){}},collectedFun:{type:Function,default:function(){}},shareOpts:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1}},data:function(){return{param:{ywlxValue:this.type,ywid:this.id},liked:!1,collected:!1,likeNum:0,collectNum:0}},created:function(){this.getLiked(),this.getCollected()},methods:{getLiked:function(){var t=this;dsf.http.get("nc/mobile/tyzj/hd/tags/isTags",this.param,$$webRoot.nc).done((function(e){e.success?(t.liked=e.data.isTags,t.likeNum=e.data.num):dsf.layer.message(e.message,!1)})).error((function(t){dsf.layer.message(t.message,!1)}))},getCollected:function(){var t=this;dsf.http.get("nc/mobile/tyzj/hd/collect/isCollect",this.param,$$webRoot.nc).done((function(e){e.success?(t.collected=e.data.isCollect,t.collectNum=e.data.num):dsf.layer.message(e.message,!1)})).error((function(t){dsf.layer.message(t.message,!1)}))},likeChange:function(){var t=this;this.disabled||this.http(0,(function(e){t.liked=!t.liked,t.likeNum=t.likeNum+(t.liked?1:-1),t.likedFun(e)}))},collectChange:function(){var t=this;this.disabled||this.http(1,(function(e){t.collected=!t.collected,t.collectNum=t.collectNum+(t.collected?1:-1),t.collectedFun(e)}))},http:function(t,e){var i=dsf.layer.loading(),n=["nc/mobile/tyzj/hd/tags/saveOrCancel","nc/mobile/tyzj/hd/collect/saveOrCancel"][t],r=this[["liked","collected"][t]]?"取消":"操作";dsf.http.post(n,this.param,$$webRoot.nc).done((function(t){dsf.layer.closeLoading(i),t.success?(dsf.layer.message(r+"成功",!0),e(t.data)):dsf.layer.message(r+"失败",!1)})).error((function(t){dsf.layer.closeLoading(i),dsf.layer.message(t.message,!1)}))},shareChange:function(){dsf.platform.share(dsf.mix(!0,{url:window.location.href},this.shareOpts))}}},gt=vt,yt=Object(p["a"])(gt,pt,mt,!1,null,null,null);yt.options.__file="mobile/recommend/interaction/interaction.vue";var _t=yt.exports,bt=_t,Tt=dsf.component({mixins:[$mixins.control],ctrlCaption:"新闻详情",name:"DsfMobileNcNewsDetail",components:{interaction:bt},data:function(){return{imgPreviewSrc:[],imgShow:!1,newsInfo:{id:"",name:"",time:"",source:"",content:"",llcs:"0",dz:"0",collect:"0"},shareOpts:{title:"资料分享",content:"",url:window.location.href.split("#/")[0]+"#/shareNew/"+this.$route.query.id}}},computed:{},created:function(){var t=this;this.isDesign||t.initPage()},mounted:function(){},methods:{imgPreview:function(t){var e=this;"img"===t.target.nodeName.toLowerCase()&&(e.imgPreviewSrc=[],e.imgPreviewSrc.push(t.target.src),e.imgShow=!0)},initPage:function(){var t=dsf.layer.loading(),e=this.$route.query.id||"008f003250a8481e84ad28ad4dc3af24",i=this;this.$http.get("nc/mobile/tj/news/findNewsDetail",{id:e,preview:""},$$webRoot.nc).done((function(n){if(dsf.layer.closeLoading(t),n.success){var r=n.data,a={id:e,name:r.name,time:r.time,source:r.source,content:r.content,llcs:r.llcs||0,dz:r.dz||0,collect:r.collect||0};i.shareOpts.content=r.name,i.newsInfo=a}else dsf.layer.message(n.message||"资料数据异常",!1)})).error((function(t){i.dsf.layer.message(t.message,!1)}))}}}),St=Tt,wt=Object(p["a"])(St,ht,ft,!1,null,null,null);wt.options.__file="mobile/recommend/news/mobileNcNewsDetail.vue";var Ct=wt.exports,kt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("DsfMobileNcDataGrid",{ref:"dsfDatagrid",staticClass:"channel",attrs:{height:"100%","max-top-number":t.maxTopNumber,"top-props":"teas_jwgl_bjgl_nowbcsjy.sxrs","http-param":t.datagrid_httpParam,"background-color":"#fff",padding:t.padding,margin:t.margin,"top-margin":[0,-15,0,-15],col:t.col,limit:t.limit,hasLoad:t.hasLoad,hasRefresh:t.hasRefresh},scopedSlots:t._u([{key:"default",fn:function(e){return[i("channelItem",{attrs:{item:e.data,"detail-url":t.detailUrl}})]}}])})},xt=[];kt._withStripped=!0;var Et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"channel-item",on:{click:function(e){return t.toDetail(t.item["_id"])}}},[n("div",{staticClass:"channel-item-img"},[n("van-image",{attrs:{src:t.getCover(),fit:"fill"},scopedSlots:t._u([{key:"loading",fn:function(){return[n("van-loading",{attrs:{type:"spinner",size:"20"}})]},proxy:!0},{key:"error",fn:function(){return[n("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:i(147)}})]},proxy:!0}])})],1),n("div",{staticClass:"channel-item-content"},[n("div",{staticClass:"van-multi-ellipsis--l3 channel-title"},[t._v(t._s(t.item["nc_pd_pddata.title"]))]),n("div",{staticClass:"channel-label-box"},t._l(t.label,(function(e,i){return n("div",{key:i,staticClass:"channel-label"},[t._v(t._s(e))])})),0),n("div",{staticClass:"channel-icon-box"},[n("div",{staticClass:"channel-icon"},[n("dsf-icon",{attrs:{name:"yanjing"}}),t._v(t._s(t.item["nc_pd_pddata.djs"]||0))],1),n("div",{staticClass:"channel-icon"},[n("dsf-icon",{attrs:{name:"tuijianweixuanzhong"}}),t._v(t._s(t.item["nc_pd_pddata.dys"]||0))],1)])])])},Pt=[];Et._withStripped=!0;var Ot={name:"channelItem",data:function(){return{label:[]}},props:{detailUrl:{type:String,default:""},item:{type:Object,default:function(){return{}}}},computed:{},components:{},created:function(){this.item["nc_pd_pddata.label_text"]&&(this.label=this.item["nc_pd_pddata.label_text"].split("^"))},mounted:function(){},methods:{getCover:function(){if(!this.item["nc_pd_pddata.cover"])return"_nc/assets/styles/themes/img/file-read-18688.png";var t=dsf.getUploadFileInfo(this.item["nc_pd_pddata.cover"]);return dsf.url.getWebPath(t[0].relativePath,$$webRoot.nc)},toDetail:function(t){this.$router.push({path:this.detailUrl,query:{id:t}})}}},It=Ot,Lt=Object(p["a"])(It,Et,Pt,!1,null,"19510cb8",null);Lt.options.__file="mobile/recommend/channel/channelItem.vue";var At=Lt.exports,Dt={name:"channel",mixins:[ot],data:function(){return{datagrid_httpParam:{query:JSON.stringify({searchValue:""}),order:[],namespace:"nc.pd",pageName:"mhpdlist"}}},props:{detailUrl:{type:String,default:""},maxTopNumber:{type:Number,default:5},col:{type:[String,Number],default:1,desc:"一列显示几个，暂支持1和2"},hasLoad:{type:Boolean,default:!0,desc:"是否有上拉加载"},hasRefresh:{type:Boolean,default:!0,desc:"是否有下拉刷新"},dataSource:{type:String,default:"meta/list/data",desc:"请求接口，可自定义"},curr:{type:[String,Number],default:1,desc:"从哪一页开始"},limit:{type:[String,Number],default:12,desc:"每页显示多少"},httpParam:{type:Object,default:function(){return{}},desc:"接口参数"},padding:{type:Array,default:function(){return[0,15,0,15]}},margin:{type:Array,default:function(){return[0,0,0,0]}}},computed:{},components:{channelItem:At},created:function(){},mounted:function(){},methods:{}},Mt=Dt,jt=Object(p["a"])(Mt,kt,xt,!1,null,null,null);jt.options.__file="mobile/recommend/channel/channel.vue";var Nt=jt.exports,Rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"detail",staticClass:"channel-detail"},[n("div",{staticClass:"channel-detail-top"},[n("div",{staticClass:"channel-detail-img"},[n("van-image",{attrs:{src:t.getCover(),fit:"fill"},scopedSlots:t._u([{key:"loading",fn:function(){return[n("van-loading",{attrs:{type:"spinner",size:"20"}})]},proxy:!0},{key:"error",fn:function(){return[n("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:i(147)}})]},proxy:!0}])})],1),n("div",{staticClass:"channel-detail-info-box"},[n("div",{staticClass:"channel-detail-info-title ellipsis"},[t._v(t._s(t.channelData.title||""))]),n("div",{staticClass:"channel-detail-info-label-box"},t._l(t.channelData["label_text"],(function(e,i){return n("div",{key:i,staticClass:"channel-label"},[t._v(t._s(e||""))])})),0),n("div",{staticClass:"channel-detail-info-info"},[n("div",{staticClass:"channel-detail-info-info-label"},[t._v("共"+t._s(t.channelData.count||0)+"门")]),n("div",{staticClass:"channel-detail-info-info-label"},[t._v(t._s("发布 "+t.channelData.ds_update_time||!1))]),n("div",{staticClass:"channel-detail-info-info-label"},[n("dsf-icon",{attrs:{name:"yanjing"}}),t._v(t._s(t.channelData.djs||0)+" ")],1),n("div",{staticClass:"channel-detail-info-info-label"},[n("dsf-icon",{attrs:{name:"iconfontzhizuobiaozhun13"}}),t._v(t._s(t.channelData.dys||0)+" ")],1)]),n("div",{staticClass:"channel-detail-read-btn",on:{click:t.subscribe}},[t._v(t._s(t.channelData.sfdy?"取消订阅":"+ 订阅"))])])]),n("div",{ref:"tabs"},[n("van-tabs",{attrs:{animated:"",swipeable:""},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.items,(function(e){return n("van-tab",{key:e.name,attrs:{title:e.name,name:e.name}},["简介"==e.name?n("channelInfo",{key:e.name,attrs:{text:t.channelData.content||""}}):"列表"==e.name?n("channelDetailList",{key:e.name,staticStyle:{height:"100%"},attrs:{id:t.channelId}}):"相关资源"==e.name?n("channelDetailSource",{key:e.name,staticStyle:{height:"100%"},attrs:{id:t.channelId}}):n("div")],1)})),1)],1),n("div",{staticClass:"channel-detail-bottom-box"},[n("div",{staticClass:"channel-detail-bottom"},[n("interaction",{ref:"interaction",attrs:{id:t.channelId,type:"pd",shareOpts:t.shareOpts}})],1)])])},Bt=[];Rt._withStripped=!0;i(440);var Ut=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("DsfMobileNcDataGrid",{ref:"dsfDatagrid",staticClass:"channel",attrs:{height:"100%","max-top-number":t.maxTopNumber,"top-props":"teas_jwgl_bjgl_nowbcsjy.sxrs","http-param":t.datagrid_httpParam,"background-color":"#fff",padding:t.padding,margin:t.margin,"top-margin":[0,-15,0,-15],col:t.col,limit:t.limit,hasLoad:t.hasLoad,hasRefresh:t.hasRefresh},scopedSlots:t._u([{key:"default",fn:function(e){return[i("channelDetail",{attrs:{item:e.data,readOnly:t.readOnly}})]}}])})},Ft=[];Ut._withStripped=!0;var $t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"channel-detail-item",on:{click:t.goCourse}},[n("div",{staticClass:"channel-item-img"},[n("van-image",{attrs:{src:t.getCover(),fit:"fill"},scopedSlots:t._u([{key:"loading",fn:function(){return[n("van-loading",{attrs:{type:"spinner",size:"20"}})]},proxy:!0},{key:"error",fn:function(){return[n("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:i(147)}})]},proxy:!0}])}),n("div",{staticClass:"channel-item-img-rank"},[n("div",{staticClass:"rank-number"},[t._v(t._s(t.item["nc_pd_pdkcdata.average_fs"]||0))])]),t.item["nc_pd_pdkcdata.kcsc"]?n("div",{staticClass:"channel-item-img-date ellipsis"},[n("dsf-icon",{attrs:{name:"shijian"}}),t._v(t._s(t.item["nc_pd_pdkcdata.kcsc"]))],1):t._e()],1),n("div",{staticClass:"channel-item-content"},[n("div",{staticClass:"channel-title"},[t._v(t._s(t.item["nc_pd_pdkcdata.title"]||"暂无"))]),n("div",{staticClass:"channel-label-box ellipsis"},[t._v(t._s(t.item["nc_pd_pdkcdata.skjsunit"]||"暂无"))]),n("div",{staticClass:"channel-icon-box"},[n("div",{staticClass:"channel-icon"},[n("dsf-icon",{attrs:{name:"yanjing"}}),t._v(t._s(t.item["nc_pd_pdkcdata.djs"]||0)+" ")],1),n("div",{staticClass:"channel-icon"},[n("dsf-icon",{attrs:{name:"date"}}),t._v(t._s(t.item["nc_pd_pdkcdata.xs"]||0)+"学时 ")],1)])])])},zt=[];$t._withStripped=!0;var Vt={name:"channelDetail",data:function(){return{}},props:{item:{type:Object,default:function(){return{}}},readOnly:{type:Boolean,default:!1}},computed:{},components:{},created:function(){},mounted:function(){},methods:{getCover:function(){if(!this.item["nc_pd_pdkcdata.cover"]){var t=i(147);return t}var e=dsf.getUploadFileInfo(this.item["nc_pd_pdkcdata.cover"]);return dsf.config.webRoot+e[0].relativePath},goCourse:function(){this.readOnly||this.$router.push("/mobile/nc/recommendFile/mobile-courseDetail?id"+this.item["nc_pd_pdkcdata.relid"])}}},qt=Vt,Ht=Object(p["a"])(qt,$t,zt,!1,null,"d9922894",null);Ht.options.__file="mobile/recommend/channel/channelDetail.vue";var Wt=Ht.exports,Gt={name:"channelDetailList",mixins:[ot],data:function(){return{datagrid_httpParam:{query:JSON.stringify({searchValue:""}),order:[],namespace:"nc.pd",pageName:"mhpdkclist",id:this.id}}},props:{id:{type:String,default:""},maxTopNumber:{type:Number,default:5},col:{type:[String,Number],default:1,desc:"一列显示几个，暂支持1和2"},hasLoad:{type:Boolean,default:!0,desc:"是否有上拉加载"},hasRefresh:{type:Boolean,default:!1,desc:"是否有下拉刷新"},dataSource:{type:String,default:"meta/list/data",desc:"请求接口，可自定义"},curr:{type:[String,Number],default:1,desc:"从哪一页开始"},limit:{type:[String,Number],default:12,desc:"每页显示多少"},httpParam:{type:Object,default:function(){return{}},desc:"接口参数"},padding:{type:Array,default:function(){return[0,15,0,15]}},margin:{type:Array,default:function(){return[0,0,0,0]}},readOnly:{type:Boolean,default:!1}},computed:{},components:{channelDetail:Wt},created:function(){},mounted:function(){},methods:{getCover:function(t){var e=dsf.getUploadFileInfo(t["nc_news_xxlist.cover"]);return dsf.url.getWebPath(e[0].relativePath,$$webRoot.nc)},query:function(){},toDetail:function(t){this.$router.push({path:"/recommend/newsDetail/"+t})}}},Xt=Gt,Yt=Object(p["a"])(Xt,Ut,Ft,!1,null,null,null);Yt.options.__file="mobile/recommend/channel/channelDetailList.vue";var Kt=Yt.exports,Jt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("DsfMobileNcDataGrid",{ref:"dsfDatagrid",staticClass:"channel-detail-source-datagrid",attrs:{height:"100%","max-top-number":t.maxTopNumber,"top-props":"teas_jwgl_bjgl_nowbcsjy.sxrs","http-param":t.datagrid_httpParam,"background-color":"#fff",padding:t.padding,margin:t.margin,"top-margin":[0,-15,0,-15],col:t.col,limit:t.limit,hasLoad:t.hasLoad,hasRefresh:t.hasRefresh},scopedSlots:t._u([{key:"default",fn:function(t){return[i("channelSourceItem",{attrs:{item:t.data}})]}}])})},Qt=[];Jt._withStripped=!0;var Zt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"channel-detail-source-item",on:{click:t.goSource}},[i("div",{staticClass:"source-img"},[i("van-image",{attrs:{src:t.getCover(),fit:"fill"},scopedSlots:t._u([{key:"loading",fn:function(){return[i("van-loading",{attrs:{type:"spinner",size:"20"}})]},proxy:!0},{key:"error",fn:function(){return[i("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:"_nc/assets/styles/themes/img/file-read-18688.png"}})]},proxy:!0}])}),i("div",{staticClass:"source-img-info"},[t._v(t._s(t.item["nc_pd_pdgldata.type_text"]||""))])],1),i("div",{staticClass:"source-title"},[t._v(t._s(t.item["nc_pd_pdgldata.title"]||""))])])},te=[];Zt._withStripped=!0;var ee={name:"channelSourceItem",data:function(){return{}},props:{item:{type:Object,default:function(){return{}}}},computed:{},components:{},created:function(){},mounted:function(){},methods:{getCover:function(){if(!this.item["nc_pd_pdgldata.cover"])return"_nc/assets/styles/themes/img/file-read-18688.png";var t=dsf.getUploadFileInfo(this.item["nc_pd_pdgldata.cover"]);return dsf.url.getWebPath(t[0].relativePath,$$webRoot.nc)},goSource:function(){var t=this.item["nc_pd_pdgldata.nc_zyb_id"];"00"==this.item["nc_pd_pdgldata.type_value"]?this.$router.push("/mobile/nc/recommendFile/mobile-courseDetail?id="+t):"01"==this.item["nc_pd_pdgldata.type_value"]?this.$router.push("/mobile/nc/recommendFile/mobile-chanelDetail?id="+t):"05"==this.item["nc_pd_pdgldata.type_value"]&&this.$router.push("/mobile/nc/recommendFile/mobile-specilaDetail?id="+t)}}},ie=ee,ne=Object(p["a"])(ie,Zt,te,!1,null,"22623033",null);ne.options.__file="mobile/recommend/channel/channelSourceItem.vue";var re=ne.exports,ae={name:"channelDetailSource",mixins:[ot],data:function(){return{datagrid_httpParam:{query:JSON.stringify({searchValue:""}),order:[],namespace:"nc.pd",pageName:"pdgllist",id:this.id}}},props:{id:{type:String,default:""},maxTopNumber:{type:Number,default:5},col:{type:[String,Number],default:2,desc:"一列显示几个，暂支持1和2"},hasLoad:{type:Boolean,default:!0,desc:"是否有上拉加载"},hasRefresh:{type:Boolean,default:!1,desc:"是否有下拉刷新"},dataSource:{type:String,default:"meta/list/data",desc:"请求接口，可自定义"},curr:{type:[String,Number],default:1,desc:"从哪一页开始"},limit:{type:[String,Number],default:12,desc:"每页显示多少"},httpParam:{type:Object,default:function(){return{}},desc:"接口参数"},padding:{type:Array,default:function(){return[15,15,0,15]}},margin:{type:Array,default:function(){return[0,0,0,0]}}},computed:{},components:{channelSourceItem:re},created:function(){},mounted:function(){},methods:{getCover:function(t){var e=dsf.getUploadFileInfo(t["nc_news_xxlist.cover"]);return dsf.url.getWebPath(e[0].relativePath,$$webRoot.nc)},query:function(){},toDetail:function(t){this.$router.push({path:"/recommend/newsDetail/"+t})}}},se=ae,oe=Object(p["a"])(se,Jt,Qt,!1,null,null,null);oe.options.__file="mobile/recommend/channel/channelDetailSource.vue";var le=oe.exports,ce=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"channel-detail-info",domProps:{innerHTML:t._s(t.text)}})},ue=[];ce._withStripped=!0;var de={name:"channelInfo",data:function(){return{}},props:["text"],computed:{},components:{},created:function(){},mounted:function(){},methods:{}},he=de,fe=Object(p["a"])(he,ce,ue,!1,null,"44869e5a",null);fe.options.__file="mobile/recommend/channel/channelInfo.vue";var pe=fe.exports,me=dsf.component({mixins:[$mixins.control],name:"DsfMobileNcChannelDetail",ctrlCaption:"频道详情",data:function(){return{activeName:"简介",items:[{name:"简介"},{name:"列表"},{name:"相关资源"}],channelData:{},shareOpts:{title:"频道分享",content:"",url:window.location.href.split("#/")[0]+"#/shareChannel/"+this.$route.query.id},channelId:this.$route.query.id}},computed:{},components:{channelDetailList:Kt,channelInfo:pe,channelDetailSource:le,Interaction:bt},created:function(){this.reqData()},mounted:function(){var t=this;this.$nextTick((function(){t.$refs.tabs.style.height=window.innerHeight+"px"}))},methods:{throttle:function(t,e){var i;return function(){var n=this,r=arguments;i||(i=setTimeout((function(){i=null,t.apply(n,r)}),e))}},reqData:function(){var t=this;if(this.channelId){var e=dsf.layer.loading();dsf.http.get("nc/mobile/tj/pd/getPdInfo",{id:this.channelId},$$webRoot.nc).done((function(i){dsf.layer.closeLoading(e),2e4===i.state?(i.data.ds_update_time=i.data.ds_update_time.slice(0,10),t.channelData=i.data,t.shareOpts.content=i.data.title,t.shareOpts.image=dsf.getUploadFileInfo(i.data.cover)[0]["absolutePath"]):dsf.layer.alert({title:"频道获取失败",message:i.message+" 请联系管理员"})})).error((function(){dsf.layer.closeLoading(e),dsf.layer.alert({title:"频道获取失败",message:" 请联系管理员"})}))}else dsf.layer.message("频道ID不存在")},subscribe:function(){var t=this,e=dsf.layer.loading();dsf.http.post("dsfa/subscribe/saveOrCancel",{ywlxValue:"pd",ywlxText:"频道",ywid:this.channelData["nc_zyb_id"]},$$webRoot.nc).done((function(i){dsf.layer.closeLoading(e),2e4===i.state?(t.channelData.sfdy=i.data.isDo,dsf.layer.message(i.data.isDo?"订阅成功":"取消成功","success"),t.$set(t.channelData,"dys",i.data.isDo?++t.channelData.dys:--t.channelData.dys)):dsf.layer.alert({title:"订阅失败",message:i.message+" 请联系管理员"})})).error((function(){dsf.layer.closeLoading(e),dsf.layer.alert({title:"订阅失败",message:" 请联系管理员"})}))},getCover:function(){if(!this.channelData["cover"]){var t=i(147);return t}var e=dsf.getUploadFileInfo(this.channelData["cover"]);return dsf.url.getWebPath(e[0].relativePath,$$webRoot.nc)}}}),ve=me,ge=Object(p["a"])(ve,Rt,Bt,!1,null,null,null);ge.options.__file="mobile/recommend/channel/mobileNcChannelDetail.vue";var ye=ge.exports,_e=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("dsf-treeselect-sidepopup",{ref:"dsfTreeselectSidepopup",attrs:{site:"body",customClass:"dsf-treeselect-recommend",datas:t.choiceAllData,submitFun:t.submitFunType}}),n("dsf-choice-side-popup",{ref:"dsfChoiceSidepopup",attrs:{datas:t.choiceData,submitFun:t.submitFun}}),n("DsfMobileNcDataGrid",{ref:"dsfDatagrid",staticClass:"ac-teacher-list",staticStyle:{height:"100%"},attrs:{"http-param":t.datagrid_httpParam,col:t.col,limit:t.limit,hasLoad:t.hasLoad,hasRefresh:t.hasRefresh,margin:t.margin,padding:t.padding},scopedSlots:t._u([t.hasFilter?{key:"search",fn:function(){return[n("div",[n("div",{staticClass:"ac-teacher-list-screen"},[n("div",{staticClass:"ac-tch-lst-screen-item",on:{click:t.changeTreeSelectPopupShow}},[n("dsf-icon",{staticClass:"ac-tch-lst-screen-icon left",attrs:{name:"quanbu"}}),n("span",{staticClass:"ac-tch-lst-screen-fun"},[t._v("全部")])],1),n("div",{staticClass:"ac-tch-lst-screen-item",on:{click:function(e){return t.onscreen("gkcs")}}},[n("dsf-sort",{attrs:{iconName:"点击量","custom-sort":t.gkcs}})],1),n("div",{staticClass:"ac-tch-lst-screen-item",on:{click:function(e){return t.onscreen("subscribe")}}},[n("dsf-sort",{attrs:{iconName:"订阅量","custom-sort":t.subscribe}})],1),n("div",{staticClass:"ac-tch-lst-screen-item",on:{click:t.changeSidePanelShow}},[n("dsf-icon",{staticClass:"ac-tch-lst-screen-icon left",attrs:{name:"shaixuan"}}),n("span",{staticClass:"ac-tch-lst-screen-fun"},[t._v("筛选")])],1)]),t.choiceText.length>0?n("div",{staticClass:"dsf-searchopts"},t._l(t.choiceText,(function(e,i){return n("span",{key:i},[t._v(" "+t._s(e.text)+" "),n("dsf-icon",{attrs:{name:"icon2"},on:{click:function(n){return t.deleteSerachV(e,i)}}})],1)})),0):t._e()])]},proxy:!0}:null,{key:"default",fn:function(e){return[n("div",{staticClass:"ac-teacher-list-wrap",on:{click:function(i){return t.toDetail(e.data["nc_szk_mslbsjy.nc_szk_id"])}}},[n("div",{staticClass:"ac-teacher-list-inner"},[n("div",{staticClass:"ac-tch-lst-top"},[n("van-image",{attrs:{src:t.setImg(e.data),fit:"full",width:"100%",height:"100%"},scopedSlots:t._u([{key:"loading",fn:function(){return[n("van-loading",{attrs:{type:"spinner",size:"20"}})]},proxy:!0},{key:"error",fn:function(){return[n("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:i(745)}})]},proxy:!0}],null,!0)}),n("div",{staticClass:"ac-tch-lst-tp-name"},[n("span",[t._v(t._s(e.data["nc_szk_mslbsjy.name"]))])])],1),n("div",{staticClass:"ac-tch-lst-bottom"},[n("div",{staticClass:"ac-tch-lst-bt-course"},[n("span",[t._v(" "+t._s(e.data["nc_szk_mslbsjy.kcnum"]||0)+" ")]),n("span",[t._v("门课程")])]),n("div",{staticClass:"ac-tch-lst-bt-post"},[n("span",{domProps:{innerHTML:t._s(e.data["nc_szk_mslbsjy.job_text"]||"&nbsp;")}})])])])])]}}],null,!0)})],1)},be=[];_e._withStripped=!0;var Te=i(84),Se=(i(213),{name:"ac-teacher-list",data:function(){return{datagrid_search:"",gkcs:"",subscribe:"",datagrid_httpParam:{query:"{}",order:"",namespace:"nc.szk",pageName:"mslist"},choiceData:[],choiceText:[],labelText:[],choiceAllData:[],typeText:[],typeIds:[]}},props:{detailUrl:{type:String,default:""},col:{type:[String,Number],default:3,desc:"一列显示几个，暂支持1和2"},hasLoad:{type:Boolean,default:!0,desc:"是否有上拉加载"},hasRefresh:{type:Boolean,default:!0,desc:"是否有下拉刷新"},dataSource:{type:String,default:"meta/list/data",desc:"请求接口，可自定义"},curr:{type:[String,Number],default:1,desc:"从哪一页开始"},limit:{type:[String,Number],default:12,desc:"每页显示多少"},httpParam:{type:Object,default:function(){return{}},desc:"接口参数"},hasFilter:{type:Boolean,default:!0},padding:{type:Array,default:function(){return[0,8,0,8]}},margin:{type:Array,default:function(){return[0,0,0,0]}}},created:function(){},methods:{onSearch:function(){this.query({searchValue:this.datagrid_search})},onscreen:function(t){var e=this;"desc"==e[t]?e[t]="asc":e[t]="desc",this.queryOrder()},toDetail:function(t){this.$router.push({path:this.detailUrl,query:{id:t}})},changeSidePanelShow:function(){this.choiceData,this.$refs.dsfChoiceSidepopup.changeShow(),0==this.choiceData.length&&this.getMsSxx()},getMsSxx:function(){var t=this,e=dsf.layer.loading();this.$http.get("nc/mobile/tj/ms/findMsSxx",{}).done((function(i){dsf.layer.closeLoading(e),i.success?t.choiceData=i.data:dsf.layer.message(i.message||"获取列表数据异常",!1)})).error((function(t){dsf.layer.closeLoading(e),dsf.layer.message("服务器异常",!1)}))},submitFun:function(t,e,i){this.choiceData=t,this.labelText=i,this.choiceText=this.typeText,this.choiceText=this.choiceText.concat(i),this.query(e)},deleteSerachV:function(t,e){this.choiceText.splice(e,1);var i=dsf.type(this.datagrid_httpParam.query),n=this.datagrid_httpParam.query;if(n="string"===i?JSON.parse(this.datagrid_httpParam.query):dsf.mix(!0,{},n),"tree"==t.type){var r=this.typeIds.indexOf(t.value);this.typeIds.splice(r,1);var a=n[t.key].split(" ");a.splice(a.indexOf(t.value),1),n[t.key]=a.join(" ");var s=e-this.labelText.length;this.typeText.splice(s,1)}else{if("range"==t.type&&-1==t.itemI?(this.choiceData[t.index].v1="",this.choiceData[t.index].v2=""):this.choiceData[t.index].items[t.itemI]["choice"]=!1,"range"==t.type)delete n[t.key+"_1"],delete n[t.key+"_2"],this.choiceData[t.index]["choice"]={};else{var o=n[t.key],l=!0;"like"!=t.type&&"slike"!=t.type&&"elike"!=t.type||(o=o.split(" "),l=!1),o.splice(o.indexOf(t.value),1),n[t.key]=l?o:o.join(" "),delete this.choiceData[t.index]["choice"][t.value]}var c=e-this.typeText.length;this.labelText.splice(c,1)}this.query({},n)},changeTreeSelectPopupShow:function(){var t=this;if(this.$refs.dsfTreeselectSidepopup.changeShow(this.typeIds),0==this.choiceAllData.length){var e=dsf.layer.loading();this.$http.get("meta/tree/dbSource",{rmId:"5ea7f2a5050d401fa129b04f28f3c38e"}).done((function(i){dsf.layer.closeLoading(e),i.success?t.choiceAllData=i.data:dsf.layer.message(i.message||"获取列表数据异常",!1)})).error((function(t){dsf.layer.closeLoading(e),dsf.layer.message("服务器异常",!1)}))}},submitFunType:function(t,e,i){this.typeText=i,this.choiceText=this.labelText,this.choiceText=this.choiceText.concat(i),this.typeIds=e,this.query(Object(Te["a"])({},t,e.join(" ")))},query:function(t,e){e=e||this.datagrid_httpParam.query;var i=dsf.type(e);e="string"===i?JSON.parse(e):dsf.mix(!0,{},e),e=dsf.mix(e,t),this.datagrid_httpParam.query=JSON.stringify(e),this.$refs.dsfDatagrid.query()},setImg:function(t){var e=t["nc_szk_mslbsjy.pcphoto"];return e&&(e=dsf.url.getWebPath(JSON.parse(e)[0]["relativePath"],$$webRoot.nc)),e||"/"},queryOrder:function(){var t=[];this.gkcs&&t.push({code:"gkcs",sort:this.gkcs}),this.subscribe&&t.push({code:"subscribe",sort:this.subscribe}),this.datagrid_httpParam.order=JSON.stringify(t),this.$refs.dsfDatagrid.query()}}}),we=Se,Ce=Object(p["a"])(we,_e,be,!1,null,null,null);Ce.options.__file="mobile/recommend/teacher/acTeacherList.vue";var ke=Ce.exports,xe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ac-teacher-detail-wrap"},[n("div",{staticClass:"ac-teacher-detail-header"},[n("div",{staticClass:"ac-tch-dtl-hd-top"},[n("div",{staticClass:"ac-tch-dtl-hd-name-wrap"},[n("div",{staticClass:"ac-tch-dtl-hd-name"},[t._v(t._s(t.pageInfo.name))]),n("van-image",{staticClass:"ac-tch-dtl-hd-ico",attrs:{src:t.setImg(t.pageInfo.photo),fit:"full"},scopedSlots:t._u([{key:"loading",fn:function(){return[n("van-loading",{attrs:{type:"spinner",size:"20"}})]},proxy:!0},{key:"error",fn:function(){return[n("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:i(745)}})]},proxy:!0}])})],1)]),n("div",{staticClass:"ac-tch-dtl-hd-bottom"},[n("div",{staticClass:"ac-tch-dtl-hd-post"},[n("div",{staticClass:"ac-tch-dtl-hd-post-cont"},[t._v(t._s(t.pageInfo.job))])]),n("div",{staticClass:"ac-tch-dtl-hd-course-wrap"},[n("div",{staticClass:"course-subscribe",on:{click:t.subscribeOn}},[n("span",[t._v(t._s(t.pageInfo.isSubscribe?"取消订阅":"订阅"))])]),n("div",{staticClass:"course-inner"},[n("span",{staticClass:"course-num"},[t._v(t._s(t.pageInfo.courseNum||0))]),n("span",{staticClass:"course-name"},[t._v("门课程")])])]),n("div",{staticClass:"ac-tch-dtl-hd-story-wrap"},[n("p",{staticClass:"story-content",class:"close"==t.storyState?"van-multi-ellipsis--l3":"van-t",domProps:{innerHTML:t._s(t.pageInfo.description)}}),n("div",{staticClass:"story-content-icon",domProps:{textContent:t._s("close"==t.storyState?"展开":"收起")},on:{click:function(e){return t.onStory()}}})])])]),n("div",{staticClass:"ac-teacher-detail-domain-wrap"},[t._m(0),n("div",{staticClass:"domain-label-wrap"},t._l(t.pageInfo.label,(function(e,i){return n("div",{key:i,staticClass:"domain-label-item"},[n("span",[t._v(t._s(e))])])})),0)]),n("div",{staticClass:"ac-teacher-detail-lesson-wrap"},[n("div",{staticClass:"lesson-title-wrap"},[t._m(1),n("div",{staticClass:"lesson-title-right"},[n("div",{staticClass:"lesson-filter-item"},[n("dsf-sort",{attrs:{iconName:"最新"},on:{click:t.sortTop}})],1),n("div",{staticClass:"lesson-filter-item"},[n("dsf-sort",{attrs:{iconName:"最热"},on:{click:t.sortHot}})],1)])]),t.pageInfo.id?n("teacher-course-list",{attrs:{"has-load":!0,"has-refresh":!0,limit:8,padding:[8,8,8,8],hot:t.hot,top:t.top,tchId:t.pageInfo.id}}):t._e()],1)])},Ee=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"domain-title-wrap"},[i("div",{staticClass:"domain-title-inner"},[i("div",{staticClass:"domain-title-icon"}),i("div",{staticClass:"domain-title-name"},[t._v("擅长领域")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"lesson-title-left"},[i("div",{staticClass:"lesson-title-icon"}),i("div",{staticClass:"lesson-title-name"},[t._v("课程")])])}];xe._withStripped=!0;i(1302),i(1305);var Pe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("dsf-treeselect-sidepopup",{ref:"dsfTreeselectSidepopup",attrs:{site:"body",customClass:"dsf-treeselect-recommend",datas:t.choiceAllData,submitFun:t.submitFunType}}),n("dsf-choice-side-popup",{ref:"dsfChoiceSidepopup",attrs:{datas:t.choiceData,submitFun:t.submitFun}}),n("DsfMobileNcDataGrid",{ref:"dsfDatagrid",staticClass:"ac-course",style:{height:"100%"},attrs:{"http-param":t.datagrid_httpParam,"background-color":"#fff",padding:t.padding,margin:t.margin,col:t.col,limit:t.limit,hasLoad:t.hasLoad,hasRefresh:t.hasRefresh},scopedSlots:t._u([t.hasFilter?{key:"search",fn:function(){return[n("div",[n("div",{staticClass:"ac-teacher-list-screen"},[n("div",{staticClass:"ac-tch-lst-screen-item",on:{click:t.changeTreeSelectPopupShow}},[n("dsf-icon",{staticClass:"ac-tch-lst-screen-icon left",attrs:{name:"quanbu"}}),n("span",{staticClass:"ac-tch-lst-screen-fun"},[t._v("全部")])],1),n("div",{staticClass:"ac-tch-lst-screen-item",on:{click:function(e){return t.onscreen("ds_create_time")}}},[n("dsf-sort",{attrs:{iconName:"最新","custom-sort":t.ds_create_time}})],1),n("div",{staticClass:"ac-tch-lst-screen-item",on:{click:function(e){return t.onscreen("ckl")}}},[n("dsf-sort",{attrs:{iconName:"最热","custom-sort":t.ckl}})],1),n("div",{staticClass:"ac-tch-lst-screen-item",on:{click:t.changeSidePanelShow}},[n("dsf-icon",{staticClass:"ac-tch-lst-screen-icon left",attrs:{name:"shaixuan"}}),n("span",{staticClass:"ac-tch-lst-screen-fun"},[t._v("筛选")])],1)]),t.choiceText.length>0?n("div",{staticClass:"dsf-searchopts"},t._l(t.choiceText,(function(e,i){return n("span",{key:i},[t._v(" "+t._s(e.text)+" "),n("dsf-icon",{attrs:{name:"icon2"},on:{click:function(n){return t.deleteSerachV(e,i)}}})],1)})),0):t._e()])]},proxy:!0}:null,{key:"default",fn:function(e){return[n("div",{staticClass:"course-item",on:{click:function(i){return t.toDetail(e.data._id)}}},[n("div",{staticClass:"course-img-wrap"},[n("van-image",{attrs:{src:t.setImg(e.data),fit:"full",width:"100%",height:"100%"},scopedSlots:t._u([{key:"loading",fn:function(){return[n("van-loading",{attrs:{type:"spinner",size:"20"}})]},proxy:!0},{key:"error",fn:function(){return[n("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:i(147)}})]},proxy:!0}],null,!0)}),n("div",{staticClass:"course-time"},[n("i",{staticClass:"time-icon"}),n("span",[t._v(t._s(e.data["nc_kck_mhkc_mhkcsjy.kcsc"]||"暂无课程时长"))])])],1),n("div",{staticClass:"course-desc"},[n("h3",{staticClass:"course-desc-title van-multi-ellipsis--l2"},[e.data["nc_kck_mhkc_mhkcsjy.sfnew"]?n("i",{staticClass:"course-desc-new"},[t._v("new")]):t._e(),t._v(t._s(e.data["nc_kck_mhkc_mhkcsjy.title"]||"暂无标题")+" ")]),n("p",{staticClass:"course-desc-teacher van-ellipsis"},[t._v(t._s(e.data["nc_kck_mhkc_mhkcsjy.skjs"]||"暂无"))]),n("div",{staticClass:"course-info"},[n("span",[n("i",{staticClass:"course-info-icon-xs"}),t._v(" "+t._s(e.data["nc_kck_mhkc_mhkcsjy.fbrq"]||"暂无")+" ")]),n("span",[n("i",{staticClass:"course-info-icon-see"}),t._v(" "+t._s(e.data["nc_kck_mhkc_mhkcsjy.ckl"]||0)+" ")])])])])]}}],null,!0)})],1)},Oe=[];Pe._withStripped=!0;var Ie={name:"courseList",data:function(){return{datagrid_search:"",datagrid_httpParam:{query:"{}",order:"",namespace:"nc.kck.mhkc",pageName:"kclb"},ds_create_time:"",ckl:"",choiceData:[],choiceText:[],labelText:[],choiceAllData:[],typeText:[],typeIds:[]}},props:{detailUrl:{type:String,default:""},col:{type:[String,Number],default:2,desc:"一列显示几个，暂支持1和2"},hasLoad:{type:Boolean,default:!0,desc:"是否有上拉加载"},hasRefresh:{type:Boolean,default:!0,desc:"是否有下拉刷新"},dataSource:{type:String,default:"meta/list/data",desc:"请求接口，可自定义"},curr:{type:[String,Number],default:1,desc:"从哪一页开始"},limit:{type:[String,Number],default:12,desc:"每页显示多少"},httpParam:{type:Object,default:function(){return{}},desc:"接口参数"},hasFilter:{type:Boolean,default:!0},padding:{type:Array,default:function(){return[15,8.5,0,8.5]}},margin:{type:Array,default:function(){return[0,0,0,0]}},detailRoute:{type:String,default:""}},methods:{toDetail:function(t){this.$router.push({path:this.detailUrl,query:{id:t}})},onscreen:function(t){var e=this;"desc"==e[t]?e[t]="asc":e[t]="desc",this.queryOrder()},onSearch:function(){this.query({searchValue:this.datagrid_search})},changeSidePanelShow:function(){this.isDesign||(this.$refs.dsfChoiceSidepopup.changeShow(),this.choiceData,0==this.choiceData.length&&this.getKcSxx())},getKcSxx:function(){var t=this,e=dsf.layer.loading();this.$http.get("nc/mobile/tj/kc/getKcSxx",{},$$webRoot.nc).then((function(i){dsf.layer.closeLoading(e),i.data.success?t.choiceData=i.data.data:dsf.layer.message(i.data.message||"获取列表数据异常",!1)})).catch((function(t){dsf.layer.closeLoading(e),dsf.layer.message("服务器异常",!1)}))},submitFun:function(t,e,i){this.choiceData=t,this.labelText=i,this.choiceText=this.typeText,this.choiceText=this.choiceText.concat(i),this.query(e)},deleteSerachV:function(t,e){this.choiceText.splice(e,1);var i=dsf.type(this.datagrid_httpParam.query),n=this.datagrid_httpParam.query;if(n="string"===i?JSON.parse(this.datagrid_httpParam.query):dsf.mix(!0,{},n),"tree"==t.type){var r=this.typeIds.indexOf(t.value);this.typeIds.splice(r,1);var a=n[t.key].split(" ");a.splice(a.indexOf(t.value),1),n[t.key]=a.join(" ");var s=e-this.labelText.length;this.typeText.splice(s,1)}else{if("range"==t.type&&-1==t.itemI?(this.choiceData[t.index].v1="",this.choiceData[t.index].v2=""):this.choiceData[t.index].items[t.itemI]["choice"]=!1,"range"==t.type)delete n[t.key+"_1"],delete n[t.key+"_2"],this.choiceData[t.index]["choice"]={};else{var o=n[t.key],l=!0;"like"!=t.type&&"slike"!=t.type&&"elike"!=t.type||(o=o.split(" "),l=!1),o.splice(o.indexOf(t.value),1),n[t.key]=l?o:o.join(" "),delete this.choiceData[t.index]["choice"][t.value]}var c=e-this.typeText.length;this.labelText.splice(c,1)}this.query({},n)},changeTreeSelectPopupShow:function(){var t=this;if(this.$refs.dsfTreeselectSidepopup.changeShow(this.typeIds),0==this.choiceAllData.length){var e=dsf.layer.loading();this.$http.get("meta/tree/dbSource",{rmId:"5ea7f2a5050d401fa129b04f28f3c38e"}).done((function(i){dsf.layer.closeLoading(e),i.success?t.choiceAllData=i.data:dsf.layer.message(i.message||"获取列表数据异常",!1)})).error((function(t){dsf.layer.closeLoading(e),dsf.layer.message("服务器异常",!1)}))}},submitFunType:function(t,e,i){this.typeText=i,this.choiceText=this.labelText,this.choiceText=this.choiceText.concat(i),this.typeIds=e,this.query(Object(Te["a"])({},t,e.join(" ")))},query:function(t,e){e=e||this.datagrid_httpParam.query;var i=dsf.type(e);e="string"===i?JSON.parse(e):dsf.mix(!0,{},e),e=dsf.mix(e,t),this.datagrid_httpParam.query=JSON.stringify(e),this.$refs.dsfDatagrid.query()},setImg:function(t){var e=t["nc_kck_mhkc_mhkcsjy.cover"];return e&&(e=dsf.url.getWebPath(JSON.parse(e)[0]["relativePath"],$$webRoot.nc)),e||"/"},queryOrder:function(){var t=[];this.ds_create_time&&t.push({code:"ds_create_time",sort:this.ds_create_time}),this.ckl&&t.push({code:"ckl",sort:this.ckl}),this.datagrid_httpParam.order=JSON.stringify(t),this.$refs.dsfDatagrid.query()},$refresh:function(){this.query()}}},Le=Ie,Ae=Object(p["a"])(Le,Pe,Oe,!1,null,null,null);Ae.options.__file="mobile/recommend/course/courseList.vue";var De=Ae.exports,Me=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ac-player-list"},[i("div",{staticClass:"list-wrap"},t._l(t.chapters,(function(e,n){return i("div",{key:e+n,class:{noShowItems:"课程"!==e.type_text},attrs:{name:n+1,disabled:"课程"!==e.type_text}},[i("div",{staticStyle:{"margin-bottom":"0.2rem"},attrs:{slot:"title"},slot:"title"},[i("h3",{staticClass:"item-title"},[i("span",{staticClass:"item-title-icon"}),i("p",{staticClass:"van-ellipsis",staticStyle:{width:"200px"}},[t._v(t._s(e.name))]),i("div",{staticClass:"item-title-time"},[i("span",[t._v(t._s(e.xs)+"学时")])])])]),i("ul",{directives:[{name:"show",rawName:"v-show",value:"课程"==e.type_text,expression:"item.type_text == '课程'"}],staticClass:"items"},t._l(e.kjParaInfo,(function(e,n){return i("li",{key:e+n,on:{click:function(i){return t.backToPlayer(e)}}},[i("div",{staticClass:"item-info"},[i("h4",{staticClass:"item-info"},["3"==e.kjlx_value?i("i",{staticClass:"icon iconfont icon-icon_shiyongwendang",staticStyle:{color:"#ff6a00"}}):"01"==e.type_value?i("i",{staticClass:"item-info-icon icon-course"}):i("dsf-icon",{staticClass:"course-icon",attrs:{name:t.getName(e)}}),t._v(" "+t._s(e.name)+" ")],1),e.kjsc?i("span",[t._v(t._s(e.kjsc))]):t._e()])])})),0)])})),0)])},je=[];Me._withStripped=!0;var Ne={props:{type:{type:String,default:"2"},id:{type:String,default:""}},data:function(){return{activeNames:[1],currentRate:80,currentRate2:"80",loaded:!1,finished:!1,refreshing:!1,chapters:null}},created:function(){this.loadChapters()},methods:{getName:function(t){return"02"==t.type_value?"lianxi":"04"==t.type_value||"03"==t.type_value?"wenjuan":"05"==t.type_value?"word":""},backToPlayer:function(t){this.$emit("playerListItem",t)},loadChapters:function(){var t=this;t.refreshing&&(t.refreshing=!1);var e=dsf.layer.loading(),i="nc/mobile/tyzj/kcbf/getKcDetailMenu",n={relid:t.id||"2441a3cad5da43d1b5a23e7a5e96d4db",type:t.type||2},r="";t.dsf.http.get(i,n).done((function(e){if(e.success){for(var i=[],n=0;n<e.data.dyInfo.length;++n)i=i.concat(e.data.dyInfo[n]["kcParaInfo"]);t.chapters=i,t.chapters}else r=e.message||"获取列表数据异常"})).error((function(t){r="服务器异常"})).always((function(){t.loaded=!1,t.finished=!0,dsf.layer.closeLoading(e),r&&dsf.layer.message(r,!1)}))}}},Re=Ne,Be=Object(p["a"])(Re,Me,je,!1,null,null,null);Be.options.__file="mobile/recommend/course/coursePlayerList.vue";Be.exports;var Ue=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("dsf-treeselect-sidepopup",{ref:"dsfTreeselectSidepopup",attrs:{site:"body",customClass:"dsf-treeselect-recommend",datas:t.choiceAllData,submitFun:t.submitFunType}}),n("dsf-choice-side-popup",{ref:"dsfChoiceSidepopup",attrs:{datas:t.choiceData,submitFun:t.submitFun}}),n("DsfMobileNcDataGrid",{ref:"dsfDatagrid",staticClass:"ac-course",style:{height:"100%"},attrs:{"http-param":t.datagrid_httpParam,"background-color":"#fff",padding:t.padding,margin:t.margin,col:t.col,limit:t.limit,hasLoad:t.hasLoad,hasRefresh:t.hasRefresh},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticClass:"course-item",on:{click:function(i){return t.toDetail(e.data._id)}}},[n("div",{staticClass:"course-img-wrap"},[n("van-image",{attrs:{src:t.setImg(e.data),fit:"full",width:"100%",height:"100%"},scopedSlots:t._u([{key:"loading",fn:function(){return[n("van-loading",{attrs:{type:"spinner",size:"20"}})]},proxy:!0},{key:"error",fn:function(){return[n("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:i(147)}})]},proxy:!0}],null,!0)}),n("div",{staticClass:"course-time"},[n("i",{staticClass:"time-icon"}),n("span",[t._v(t._s(e.data["nc_szk_mskcdetail.kcsc"]||"暂无课程时长"))])])],1),n("div",{staticClass:"course-desc"},[n("h3",{staticClass:"course-desc-title"},[e.data["nc_szk_mskcdetail.sfnew"]?n("i",{staticClass:"course-desc-new"},[t._v("new")]):t._e(),t._v(t._s(e.data["nc_szk_mskcdetail.title"]||"暂无标题")+" ")]),n("p",{staticClass:"course-desc-teacher"},[t._v(t._s(e.data["nc_szk_mskcdetail.skjs"]||" "))]),n("div",{staticClass:"course-info"},[n("span",[n("i",{staticClass:"course-info-icon-xs"}),t._v(" "+t._s(e.data["nc_szk_mskcdetail.kcxs"]||0)+"学时 ")]),n("span",[n("i",{staticClass:"course-info-icon-see"}),t._v(" "+t._s(e.data["nc_szk_mskcdetail.gkcs"]||0)+" ")])])])])]}}])})],1)},Fe=[];Ue._withStripped=!0;var $e=i(107),ze=i.n($e),Ve=i(164),qe={name:"teacherCourseList",data:function(){return{datagrid_search:"",datagrid_httpParam:{},ds_create_time:"desc",ckl:"desc",choiceData:[],choiceText:[],labelText:[],choiceAllData:[],typeText:[],typeIds:[]}},props:{tchId:{type:String,default:"",desc:"教师id"},top:{type:String,default:"desc",desc:"最新排序"},hot:{type:String,default:"desc",desc:"最热排序"},col:{type:[String,Number],default:2,desc:"一列显示几个，暂支持1和2"},hasLoad:{type:Boolean,default:!0,desc:"是否有上拉加载"},hasRefresh:{type:Boolean,default:!0,desc:"是否有下拉刷新"},dataSource:{type:String,default:"meta/list/data",desc:"请求接口，可自定义"},curr:{type:[String,Number],default:1,desc:"从哪一页开始"},limit:{type:[String,Number],default:12,desc:"每页显示多少"},httpParam:{type:Object,default:function(){return{}},desc:"接口参数"},hasFilter:{type:Boolean,default:!0},padding:{type:Array,default:function(){return[15,8.5,0,8.5]}},margin:{type:Array,default:function(){return[0,0,0,0]}},detailRoute:{type:String,default:""}},created:function(){this.initHttp()},methods:{initHttp:function(){var t=this,e={query:"{}",order:JSON.stringify([{code:"ds_update_time",sort:t.top},{code:"gkcs",sort:t.hot}]),namespace:"nc.szk",pageName:"mskclist",id:t.tchId};this.datagrid_httpParam=e},toDetail:function(t){this.$router.push({path:"/player/"+t+"/2"})},onscreen:function(){},onSearch:function(){this.query({searchValue:this.datagrid_search})},changeSidePanelShow:function(){this.$refs.dsfChoiceSidepopup.changeShow(),0==this.choiceData.length&&this.getKcSxx()},getKcSxx:function(){var t=this,e=dsf.layer.loading();this.$http.get("nc/mobile/tj/kc/getKcSxx",{}).done((function(i){dsf.layer.closeLoading(e),i.success?t.choiceData=i.data:dsf.layer.message(i.message||"获取列表数据异常",!1)})).error((function(t){dsf.layer.closeLoading(e),dsf.layer.message("服务器异常",!1)}))},submitFun:function(t,e,i){this.choiceData=t,this.labelText=i,this.choiceText=this.typeText,this.choiceText=this.choiceText.concat(i),this.query(e)},deleteSerachV:function(t,e){this.choiceText.splice(e,1);var i=dsf.type(this.datagrid_httpParam.query),n=this.datagrid_httpParam.query;if(n="string"===i?JSON.parse(this.datagrid_httpParam.query):dsf.mix(!0,{},n),"tree"==t.type){var r=this.typeIds.indexOf(t.value);this.typeIds.splice(r,1);var a=n[t.key].split(" ");a.splice(a.indexOf(t.value),1),n[t.key]=a.join(" ");var s=e-this.labelText.length;this.typeText.splice(s,1)}else{if("range"==t.type&&-1==t.itemI?(this.choiceData[t.index].v1="",this.choiceData[t.index].v2=""):this.choiceData[t.index].items[t.itemI]["choice"]=!1,"range"==t.type)delete n[t.key+"_1"],delete n[t.key+"_2"],this.choiceData[t.index]["choice"]={};else{var o=n[t.key],l=!0;"like"!=t.type&&"slike"!=t.type&&"elike"!=t.type||(o=o.split(" "),l=!1),o.splice(o.indexOf(t.value),1),n[t.key]=l?o:o.join(" "),delete this.choiceData[t.index]["choice"][t.value]}var c=e-this.typeText.length;this.labelText.splice(c,1)}this.query({},n)},changeTreeSelectPopupShow:function(){var t=this;if(this.$refs.dsfTreeselectSidepopup.changeShow(this.typeIds),0==this.choiceAllData.length){var e=dsf.layer.loading();this.$http.get("meta/tree/dbSource",{rmId:"5ea7f2a5050d401fa129b04f28f3c38e"}).done((function(i){dsf.layer.closeLoading(e),i.success?t.choiceAllData=i.data:dsf.layer.message(i.message||"获取列表数据异常",!1)})).error((function(t){dsf.layer.closeLoading(e),dsf.layer.message("服务器异常",!1)}))}},submitFunType:function(t,e,i){this.typeText=i,this.choiceText=this.labelText,this.choiceText=this.choiceText.concat(i),this.typeIds=e,this.query(Object(Te["a"])({},t,e.join(" ")))},query:function(t,e){e=e||this.datagrid_httpParam.query;var i=dsf.type(e);e="string"===i?JSON.parse(e):dsf.mix(!0,{},e),e=dsf.mix(e,t),this.datagrid_httpParam.query=JSON.stringify(e),this.$refs.dsfDatagrid.query()},setImg:function(t){var e=t["nc_szk_mskcdetail.cover"];return e&&(e=dsf.url.getWebPath(JSON.parse(e)[0]["relativePath"],$$webRoot.nc)),e||"/"},queryOrder:function(){this.datagrid_httpParam.order=JSON.stringify([{code:"ds_update_time",sort:this.top},{code:"gkcs",sort:this.hot}]),this.$refs.dsfDatagrid.query()}},watch:{top:{handler:function(t,e){var i=this;return Object(Ve["a"])(ze.a.mark((function n(){return ze.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t&&t!=e&&i.queryOrder();case 1:case"end":return n.stop()}}),n)})))()},immediate:!1},hot:{handler:function(t,e){var i=this;return Object(Ve["a"])(ze.a.mark((function n(){return ze.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t&&t!=e&&i.queryOrder();case 1:case"end":return n.stop()}}),n)})))()},immediate:!1}}},He=qe,We=Object(p["a"])(He,Ue,Fe,!1,null,null,null);We.options.__file="mobile/recommend/course/teacherCourseList.vue";var Ge=We.exports,Xe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.$store.state.ncMedia.isUseMini&&t.videoSrc()&&null!==t.seekTime?i("dsf-player-mini",{ref:"player",attrs:{"is-show":t.isShow,"auto-play":t.autoPlay,"cover-img":t.coverImage,title:t.courseTitle,"sub-title":t.userName,"seek-time":t.seekTime,videoSource:t.videoSrc()},on:{playerPlay:t.playerPlay,playerPause:t.playerPause,playerPlayingTime:t.playerPlayingTime,playerEnded:t.playerEnded,playerWaiting:t.playerWaiting,close:t.close,hide:t.hide,show:t.show,go:t.toDetail}}):t._e()},Ye=[];Xe._withStripped=!0;var Ke=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dsf-player",on:{click:function(e){return t.defaultClick()}}},[t._t("baberrage")],2)},Je=[];Ke._withStripped=!0;var Qe={props:{autoPlay:{type:Boolean,default:!1},isLive:{type:Boolean,default:!1},netWork:{type:Boolean,default:!1},isPause:{type:Boolean,default:!0},seekTime:{type:Number,default:0},coverImg:{type:String,default:""},videoSource:{type:[String]},allowFastForward:{type:Boolean,default:!1},playIng:{type:Boolean,default:!1},showMark:{type:Boolean,default:!1}},data:function(){return{initPlay:!1,isSeeking:!1,playerOptions:{playbackRates:[.7,1,1.5,2],autoplay:this.autoPlay,muted:!1,loop:!1,preload:"auto",language:"zh-CN",aspectRatio:"16:9",fluid:!0,hls:!0,sources:[],poster:this.coverImg,width:document.documentElement.clientWidth,notSupportedMessage:"此视频暂无法播放",languages:{"zh-CN":{Play:"播放",Pause:"暂停","Current Time":"当前时间",Duration:"时长","Remaining Time":"剩余时间","Stream Type":"媒体流类型",LIVE:"直播",Loaded:"加载完毕",Progress:"进度",Fullscreen:"全屏","Non-Fullscreen":"退出全屏",Mute:"静音",Unmute:"取消静音","Playback Rate":"播放速度",Subtitles:"字幕","subtitles off":"关闭字幕",Captions:"内嵌字幕","captions off":"关闭内嵌字幕",Chapters:"节目段落","Close Modal Dialog":"关闭弹窗",Descriptions:"描述","descriptions off":"关闭描述","Audio Track":"音轨","You aborted the media playback":"视频播放被终止","A network error caused the media download to fail part-way.":"网络错误导致视频下载中途失败。","The media could not be loaded, either because the server or network failed or because the format is not supported.":"网络问题无法加载。","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"由于视频文件损坏或是该视频使用了你的浏览器不支持的功能，播放终止。","No compatible source was found for this media.":"无法找到此视频兼容的源。","The media is encrypted and we do not have the keys to decrypt it.":"视频已加密，无法解密。","Play Video":"播放视频",Close:"关闭","Modal Window":"弹窗","This is a modal window":"这是一个弹窗","This modal can be closed by pressing the Escape key or activating the close button.":"可以按ESC按键或启用关闭按钮来关闭此弹窗。",", opens captions settings dialog":", 开启标题设置弹窗",", opens subtitles settings dialog":", 开启字幕设置弹窗",", opens descriptions settings dialog":", 开启描述设置弹窗",", selected":", 选择","captions settings":"字幕设定","Audio Player":"音频播放器","Video Player":"视频播放器",Replay:"重播","Progress Bar":"进度小节","Volume Level":"音量","subtitles settings":"字幕设定","descriptions settings":"描述设定",Text:"文字",White:"白",Black:"黑",Red:"红",Green:"绿",Blue:"蓝",Yellow:"黄",Magenta:"紫红",Cyan:"青",Background:"背景",Window:"视窗",Transparent:"透明","Semi-Transparent":"半透明",Opaque:"不透明","Font Size":"字体尺寸","Text Edge Style":"字体边缘样式",None:"无",Raised:"浮雕",Depressed:"压低",Uniform:"均匀",Dropshadow:"下阴影","Font Family":"字体库","Proportional Sans-Serif":"比例无细体","Monospace Sans-Serif":"单间隔无细体","Proportional Serif":"比例细体","Monospace Serif":"单间隔细体",Casual:"舒适",Script:"手写体","Small Caps":"小型大写字体",Reset:"重启","restore all settings to the default values":"恢复全部设定至预设值",Done:"完成","Caption Settings Dialog":"字幕设定视窗","Beginning of dialog window. Escape will cancel and close the window.":"开始对话视窗。离开会取消及关闭视窗","End of dialog window.":"结束对话视窗"}}},playingTime:0,timeOutTimer:null}},created:function(){var t=this;this.isLive||(this.playerOptions.controlBar={timeDivider:!0,durationDisplay:!0,remainingTimeDisplay:!1,fullscreenToggle:!0},this.$nextTick((function(){var e=t.player.controlBar.addChild("button");t.player.controlBar.addChild("button");e.addClass("vjs-icon-next"),e.on("tap",t.playerNext)}))),document.addEventListener("fullscreenchange",(function(t){document.fullscreenElement})),this.playerOptions.sources=[this.videoSrc()]},mounted:function(){this.initPlay=!0;var t=this.$el.querySelector("video");t.setAttribute("x5-video-player-type","h5-page"),t.setAttribute("x-webkit-airplay",!0),t.setAttribute("x5-video-player-fullscreen",!1),t.removeAttribute("x5-playsinline")},computed:{player:function(){return this.$refs.videoPlayer.player},videoSrc:function(){return function(){var t=this.videoSource;if(!t)return{};var e=t.split("."),i=e[e.length-1],n="";switch(i){case"m3u8":n="application/x-mpegURL";break;case"mp4":n="video/mp4";break;default:n="";break}return n?{type:n,src:t}:t}}},methods:{defaultClick:function(){},isAndroid:function(){var t=window.navigator.userAgent;return t.indexOf("Android")>-1&&t.indexOf("Linux")>-1},fullScreen:function(){var t=this.$refs.videoPlayer.player;t.requestFullscreen(),t.isFullscreen(!0),t.play()},pause:function(){this.player.pause()},play:function(){this.player.play()},currentTime:function(t){this.player.currentTime(t)},playerNext:function(){this.$emit("playerNext")},playerPlay:function(t){this.$emit("playerPlay")},playerPause:function(t){this.$emit("playerPause")},playerEnded:function(t){this.$emit("playerEnded")},playerStateChanged:function(t){this.$emit("playerState",t)},playerReadied:function(t){this.isAndroid()&&this.player.muted(!0)},playerLoadeddata:function(t){var e=this;this.isAndroid()?(this.autoPlay&&this.player&&this.player.play(),this.netWork&&this.$emit("netWorkAutoPlayer")):(this.seekTime&&(this.player.currentTime(this.seekTime),this.playingTime=this.player.currentTime()),this.player&&this.netWork&&(this.player.muted(!0),setTimeout((function(){e.player.play(),e.$emit("netWorkAutoPlayer")}),200)))},playerWaiting:function(t){this.timeOutTimer=setTimeout((function(){dsf.layer.message("当前网络加载缓慢,请耐心等待"),clearTimeout(this.timeOutTimer)}),5e3)},playerPlaying:function(t){this.$emit("playerPlaying",t)},playerTimeupdate:function(t){var e=this;if(this.timeOutTimer&&clearTimeout(this.timeOutTimer),this.initPlay&&!this.isSeeking){var i=this.seekTime;this.isSeeking=!0,this.isAndroid()?window.setTimeout((function(){e.initPlay=!1,i&&(e.player.currentTime(i),e.playingTime=e.player.currentTime()),e.player.muted(!1),e.player.play()}),1e3):this.initPlay=!1}else if(this.allowFastForward)this.playingTime=t.currentTime(),this.$emit("playerPlayingTime",this.playingTime);else{var n=t.currentTime();n-this.playingTime>10?window.setTimeout((function(){e.player.currentTime(e.playingTime)})):(this.playingTime=t.currentTime(),this.$emit("playerPlayingTime",n))}},playerCanplay:function(t){},playerCanplaythrough:function(t){this.$emit("playerCanplaythrough")}},beforeDestroy:function(){this.$refs.videoPlayer.dispose(),this.timeOutTimer&&clearTimeout(this.timeOutTimer)},updated:function(){this.videoSource},watch:{videoSource:function(t,e){var i=this.videoSrc();i&&i.src&&!i.type&&(this.playerOptions.sources[0].src=i.src,this.playerOptions.sources[0].type=i.type)},playIng:function(t){}}},Ze=Qe,ti=Object(p["a"])(Ze,Ke,Je,!1,null,null,null);ti.options.__file="mobile/recommend/dsfPlayer/dsfPlayer.vue";ti.exports;var ei=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dsf-player-mini",class:{hide:!t.currentShow}},[n("div",{staticClass:"close",on:{click:t.close}},[n("img",{staticClass:"close",attrs:{src:"_nc/assets/images/player/mini/close.png"}})]),n("div",{staticClass:"info-content",on:{click:t.toDetail}},[n("van-image",{staticClass:"info-content-conver",attrs:{src:t.coverImg,fit:"full"},scopedSlots:t._u([{key:"loading",fn:function(){return[n("van-loading",{attrs:{type:"spinner",size:"20"}})]},proxy:!0},{key:"error",fn:function(){return[n("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:i(147)}})]},proxy:!0}])}),n("div",{staticClass:"info-content-inner"},[n("p",{staticClass:"info-content-title van-ellipsis"},[t._v(t._s(t.title))]),n("p",{staticClass:"info-content-subtitle"},[t._v(t._s(t.subTitle))])])],1),n("div",{staticClass:"controller"},[n("div",{staticClass:"up",on:{click:t.toDetail}},[n("img",{attrs:{src:"_nc/assets/images/player/mini/up.png"}})]),t.isWaiting?n("div",{staticClass:"waiting"},[n("van-loading",{attrs:{type:"spinner"}})],1):t._e(),!t.isWaiting&&t.isPlaying?n("div",{staticClass:"pause",on:{click:t.pause}},[n("img",{attrs:{src:"_nc/assets/images/player/mini/pause.png"}})]):t._e(),t.isWaiting||t.isPlaying?t._e():n("div",{staticClass:"play",on:{click:t.play}},[n("img",{attrs:{src:"_nc/assets/images/player/mini/play.png"}})])]),n("div",{staticClass:"hide-bar",on:{click:t.showOrHide}},[t.currentShow?n("img",{attrs:{src:"_nc/assets/images/player/mini/hide.png"}}):n("img",{attrs:{src:"_nc/assets/images/player/mini/open.png"}})]),n("div",{staticStyle:{display:"none"}})])},ii=[];ei._withStripped=!0;var ni={name:"dsfPlayerMini",computed:{player:function(){return this.$refs.videoPlayer.player},videoSrc:function(){return function(){var t=this.videoSource,e=t.split("."),i=e[e.length-1],n="";switch(i){case"mp3":n="audio/mp3";break;case"m3u8":n="application/x-mpegURL";break;case"mp4":n="video/mp4";break;default:n="";break}return n?{type:n,src:t}:t}}},props:{autoPlay:{type:Boolean,default:!0},videoSource:{type:[String]},seekTime:{type:Number,default:0},coverImg:{type:String,default:""},title:{type:String,default:""},subTitle:{type:String,default:""},isShow:{type:Boolean,default:!0}},data:function(){return{initPlay:!1,isSeeking:!1,currentShow:this.isShow,isPlaying:!1,isWaiting:!0,playerOptions:{playbackRates:[.7,1,1.5,2],autoplay:this.autoPlay,muted:!1,loop:!1,preload:"auto",language:"zh-CN",aspectRatio:"16:9",fluid:!0,hls:!0,sources:[],poster:this.coverImg,width:document.documentElement.clientWidth,notSupportedMessage:"此视频暂无法播放",languages:{"zh-CN":{Play:"播放",Pause:"暂停","Current Time":"当前时间",Duration:"时长","Remaining Time":"剩余时间","Stream Type":"媒体流类型",LIVE:"直播",Loaded:"加载完毕",Progress:"进度",Fullscreen:"全屏","Non-Fullscreen":"退出全屏",Mute:"静音",Unmute:"取消静音","Playback Rate":"播放速度",Subtitles:"字幕","subtitles off":"关闭字幕",Captions:"内嵌字幕","captions off":"关闭内嵌字幕",Chapters:"节目段落","Close Modal Dialog":"关闭弹窗",Descriptions:"描述","descriptions off":"关闭描述","Audio Track":"音轨","You aborted the media playback":"视频播放被终止","A network error caused the media download to fail part-way.":"网络错误导致视频下载中途失败。","The media could not be loaded, either because the server or network failed or because the format is not supported.":"视频因格式不支持或者服务器或网络的问题无法加载。","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"由于视频文件损坏或是该视频使用了你的浏览器不支持的功能，播放终止。","No compatible source was found for this media.":"无法找到此视频兼容的源。","The media is encrypted and we do not have the keys to decrypt it.":"视频已加密，无法解密。","Play Video":"播放视频",Close:"关闭","Modal Window":"弹窗","This is a modal window":"这是一个弹窗","This modal can be closed by pressing the Escape key or activating the close button.":"可以按ESC按键或启用关闭按钮来关闭此弹窗。",", opens captions settings dialog":", 开启标题设置弹窗",", opens subtitles settings dialog":", 开启字幕设置弹窗",", opens descriptions settings dialog":", 开启描述设置弹窗",", selected":", 选择","captions settings":"字幕设定","Audio Player":"音频播放器","Video Player":"视频播放器",Replay:"重播","Progress Bar":"进度小节","Volume Level":"音量","subtitles settings":"字幕设定","descriptions settings":"描述设定",Text:"文字",White:"白",Black:"黑",Red:"红",Green:"绿",Blue:"蓝",Yellow:"黄",Magenta:"紫红",Cyan:"青",Background:"背景",Window:"视窗",Transparent:"透明","Semi-Transparent":"半透明",Opaque:"不透明","Font Size":"字体尺寸","Text Edge Style":"字体边缘样式",None:"无",Raised:"浮雕",Depressed:"压低",Uniform:"均匀",Dropshadow:"下阴影","Font Family":"字体库","Proportional Sans-Serif":"比例无细体","Monospace Sans-Serif":"单间隔无细体","Proportional Serif":"比例细体","Monospace Serif":"单间隔细体",Casual:"舒适",Script:"手写体","Small Caps":"小型大写字体",Reset:"重启","restore all settings to the default values":"恢复全部设定至预设值",Done:"完成","Caption Settings Dialog":"字幕设定视窗","Beginning of dialog window. Escape will cancel and close the window.":"开始对话视窗。离开会取消及关闭视窗","End of dialog window.":"结束对话视窗"}}}}},mounted:function(){this.isWaiting=!0,this.initPlay=!0;var t=this.$el.querySelector("video");t.setAttribute("x5-video-player-type","h5-page"),t.setAttribute("x-webkit-airplay",!0),t.setAttribute("x5-video-player-fullscreen",!1),t.removeAttribute("x5-playsinline"),this.seekTime},methods:{isAndroid:function(){var t=window.navigator.userAgent;return t.indexOf("Android")>-1&&t.indexOf("Linux")>-1},play:function(){this.player.play()},pause:function(){this.player.pause()},playerLoadeddata:function(t){this.isAndroid()?this.autoPlay&&this.player&&this.player.play():this.seekTime&&this.player.currentTime(this.seekTime)},playerPlay:function(t){this.isPlaying=!0,this.$emit("playerPlay",t)},playerPause:function(t){this.isPlaying=!1,this.$emit("playerPause",t)},playerWaiting:function(t){this.isWaiting=!0,this.$emit("playerWaiting",t)},playerPlaying:function(t){this.$emit("playerPlaying",t)},playerTimeupdate:function(t){var e=this;if(this.initPlay&&!this.isSeeking){var i=this.seekTime;this.isSeeking=!0,this.isAndroid()?window.setTimeout((function(){e.initPlay=!1,i&&e.player.currentTime(i),e.player.muted(!1),e.player.play()}),1e3):this.initPlay=!1}else this.$emit("playerPlayingTime",t.currentTime())},playerReadied:function(t){this.isWaiting=!1,this.isAndroid()&&this.player.muted(!0),this.$emit("playerReadied",t)},playerStateChanged:function(t){this.$emit("playerState",t)},playerCanplay:function(t){this.$emit("playerCanplay")},playerCanplaythrough:function(t){this.isWaiting=!1,this.$emit("playerCanplaythrough")},playerEnded:function(){this.$emit("playerEnded")},close:function(){this.$emit("close")},toDetail:function(){this.$emit("go")},showOrHide:function(){this.currentShow=!this.currentShow,this.currentShow?this.$emit("show"):this.$emit("hide")}},watch:{videoSource:{handler:function(t,e){var i=this.videoSrc();i&&i.type&&this.$set(this.playerOptions.sources,0,i),dsf.log(this.playerOptions.sources)},immediate:!0}}},ri=ni,ai=Object(p["a"])(ri,ei,ii,!1,null,null,null);ai.options.__file="mobile/recommend/dsfPlayer/dsfPlayerMini.vue";var si=ai.exports,oi={name:"App",components:{dsfPlayerMini:si},data:function(){return{timer:null}},props:{isShow:{type:Boolean,default:!1},autoPlay:{type:Boolean,default:!0}},computed:{player:function(){return this.$refs.player},course:function(){return this.$store.state.ncMedia.course},playVideoId:function(){return this.$store.state.ncMedia.playVideoId||""},playVideoTime:function(){return this.$store.state.ncMedia.playVideoTime||"00:00:00"},videoSource:function(){return this.$store.state.ncMedia.src},videoSrc:function(){var t=this;return function(){if(dsf.isUnDef(t.videoSource))return"";var e="",i=t.videoSource.mp3;if(e=i.relative,e)e=dsf.url.getWebPath(e);else{var n=t.videoSource.sd;e=dsf.url.getWebPath(n.relative)}return e}},playingTime:function(){return this.$store.state.ncMedia.playingTime},progressInfo:function(){return this.$store.state.ncMedia.progressInfo},courseData:function(){return this.$store.state.ncMedia.course},seekTime:function(){return this.$store.state.ncMedia.playingTime},courseTitle:function(){return dsf.isUnDef(this.$store.state.ncMedia.course)||dsf.isUnDef(this.$store.state.ncMedia.course.title)?"":this.$store.state.ncMedia.course.title},coverImage:function(){var t=dsf.getUploadFileInfo(this.$store.state.ncMedia.course.cover);return"array"==dsf.type(t)?dsf.url.getWebPath(t[0].relativePath):t.relativePath?dsf.url.getWebPath(t.relativePath):""},userName:function(){if(this.$store.state.ncMedia.course){var t=this.$store.state.ncMedia.course.skjsnow[0];return t?t.jsname:""}return""}},methods:{formatSeconds:function(t){var e=dsf.date.secondsToTime(t/1e3);return e.hours,e.minutes,e.seconds,e.hours+":"+e.minutes+":"+e.seconds},formatSeek:function(t){t||(t="00:00:00"),t=t.split(":");var e=60*t[0]*60+60*t[1]+1*t[2];return e},playerPlay:function(t){var e=this;this.clearTimer(),this.timer=window.setInterval((function(){e.addSpeedProgress()}),1e4)},playerPause:function(t){this.$store.commit("media/Media_MiniPlaying",!1),this.clearTimer()},playerPlayingTime:function(t){this.$store.commit("media/Media_MiniPlaying",!0),this.$store.commit("media/Media_UpdatePlayTime",Math.ceil(t))},playerEnded:function(){this.$store.commit("media/Media_MiniPlaying",!1),this.clearTimer(),this.addSpeedProgress()},playerWaiting:function(){},addSpeedProgress:function(){var t={};this.$store.dispatch("media/Media_PostProgress",t).then((function(t){t.success?"61101"==t.state&&dsf.layer.message(t.message):dsf.layer.message(t.message,!1)})).catch((function(t){dsf.layer.message("添加播放记录服务器异常",!1)}))},clearTimer:function(){this.timer&&(window.clearInterval(this.timer),this.timer=null)},close:function(){this.$store.commit("media/Media_UseMini",!1)},hide:function(){this.$store.commit("media/Media_MiniHide",!0)},show:function(){this.$store.commit("media/Media_MiniHide",!1)},toDetail:function(){this.$router.push({path:"/player/"+this.course.kcid+"/2"})}},destroyed:function(){this.clearTimer(),this.$store.commit("media/Media_SetSeekTime",null)},deactivated:function(){this.clearTimer(),this.$store.commit("media/Media_SetSeekTime",null)}},li=oi,ci=Object(p["a"])(li,Xe,Ye,!1,null,null,null);ci.options.__file="mobile/recommend/course/coursePlayerMini.vue";ci.exports;var ui=dsf.component({mixins:[$mixins.control],name:"DsfMobileNcTeacherDetail",ctrlCaption:"师资详情",components:{TeacherCourseList:Ge},data:function(){return{storyState:"close",labelList:[],top:"desc",hot:"desc",id:null,pageInfo:{id:"",name:"",job:"",courseNum:"",label:[],photo:"",description:""}}},props:{col:{type:[String,Number],default:3,desc:"一列显示几个，暂支持1和2"},hasLoad:{type:Boolean,default:!0,desc:"是否有上拉加载"},hasRefresh:{type:Boolean,default:!0,desc:"是否有下拉刷新"},dataSource:{type:String,default:"meta/list/data",desc:"请求接口，可自定义"},curr:{type:[String,Number],default:1,desc:"从哪一页开始"},limit:{type:[String,Number],default:12,desc:"每页显示多少"},httpParam:{type:Object,default:function(){return{}},desc:"接口参数"},detailRoute:{type:String,default:""}},created:function(){var t=this;this.isDesign||t.initPage()},mounted:function(){},methods:{subscribeOn:function(){var t=this,e=dsf.layer.loading();dsf.http.post("nc/mobile/tyzj/hd/subscribe/saveOrCancel",{ywlxValue:"ms",ywid:t.$route.query.id},$$webRoot.nc).done((function(i){dsf.layer.closeLoading(e),2e4===i.state?(i.data.isDo?t.pageInfo.isSubscribe=1:t.pageInfo.isSubscribe=0,dsf.layer.message(i.data.isDo?"订阅成功":"取消成功","success")):dsf.layer.alert({title:"订阅失败",message:i.message+" 请联系管理员"})})).error((function(){dsf.layer.closeLoading(e),dsf.layer.alert({title:"订阅失败",message:" 请联系管理员"})}))},setImg:function(t){var e=t;return e&&(e=$$webRoot.nc+t),e||"/"},repeatGo:function(){this.dsf.platform.share({url:window.location.href,title:"名师详情"})},sortTop:function(t){this.top=t},sortHot:function(t){this.hot=t},onStory:function(){var t=this.storyState;"close"==t?this.storyState="open":"open"==t&&(this.storyState="close")},onscreen:function(t){var e=this;"down"==e[t]?e[t]="up":e[t]="down"},initPage:function(){var t=dsf.layer.loading(),e=this.$route.query.id||"71c0dcd8220f403dbc8bb552aeaca909",i=this;this.$http.get("nc/mobile/tj/ms/findMsInfo",{id:e},$$webRoot.nc).done((function(e){if(dsf.layer.closeLoading(t),e.success){var n=e.data,r={id:n.nc_szk_id,name:n.name,job:n.job_text,courseNum:n.courseNum,label:n.label_text?n.label_text.split("^"):[],photo:n.photo?JSON.parse(n.mobphoto)[0].relativePath:null,description:n.description?n.description.replace(/<\/?.+?>/g,"").replace(/ /g,""):"-",isSubscribe:n.isSubscribe};i.pageInfo=r}else dsf.layer.message(e.message||"获取列表数据异常",!1)})).error((function(e){dsf.layer.closeLoading(t),dsf.layer.message("服务器异常",!1)}))}}}),di=ui,hi=Object(p["a"])(di,xe,Ee,!1,null,null,null);hi.options.__file="mobile/recommend/teacher/mobileNcTeacherDetail.vue";var fi=hi.exports,pi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("DsfMobileNcDataGrid",{ref:"dsfDatagrid",staticClass:"liveList",staticStyle:{height:"100%"},attrs:{"http-param":t.datagrid_httpParam,hasLoad:t.hasLoad,hasRefresh:t.hasRefresh,"data-source":"meta/list/data",col:"1",limit:t.limit,margin:t.margin,"background-color":"#fff",padding:t.padding},scopedSlots:t._u([{key:"default",fn:function(e){return n("van-cell",{key:e.data._id},[n("div",{staticClass:"live-item",on:{click:function(i){return t.toDetail(e.data._id)}}},[n("div",{staticClass:"img"},[n("van-image",{attrs:{width:"100%",height:"100%",fit:"fill",src:t.setImg(e.data)},scopedSlots:t._u([{key:"loading",fn:function(){return[n("van-loading",{attrs:{type:"spinner",size:"20"}})]},proxy:!0},{key:"error",fn:function(){return[n("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:i(147)}})]},proxy:!0}],null,!0)}),n("div",{staticClass:"live-user-number"},[1==e.data["nc_zbgl_mhzb_data.state"]?[n("span",[t._v("直播")]),t._v(" "+t._s(e.data["nc_zbgl_mhzb_data.yypeo"])+"人 ")]:t._e(),2==e.data["nc_zbgl_mhzb_data.state"]?[n("span",[t._v("预约")]),t._v(" "+t._s(e.data["nc_zbgl_mhzb_data.yypeo"])+"人 ")]:t._e(),3==e.data["nc_zbgl_mhzb_data.state"]?[n("span",[t._v("回放")]),t._v(" "+t._s(e.data["nc_zbgl_mhzb_data.yypeo"])+"人 ")]:t._e()],2)],1),n("div",{staticClass:"van-multi-ellipsis--l2 title-font"},[1==e.data["nc_zbgl_mhzb_data.state"]?n("dsf-icon",{staticClass:"live-icon",attrs:{name:"tongji"}}):t._e(),3==e.data["nc_zbgl_mhzb_data.state"]?n("dsf-icon",{staticClass:"live-icon",attrs:{name:"shexiang"}}):t._e(),2==e.data["nc_zbgl_mhzb_data.state"]?n("dsf-icon",{staticClass:"live-icon",attrs:{name:"yuyue1"}}):t._e(),t._v(" "+t._s(e.data["nc_zbgl_mhzb_data.name"])+" ")],1),n("div",{staticClass:"van-ellipsis desc-font"},[t._v(" "+t._s(e.data["nc_zbgl_mhzb_data.speaker"])+t._s(e.data["nc_zbgl_mhzb_data.speaker"]&&e.data["nc_zbgl_mhzb_data.job"]?"-":"")+t._s(e.data["nc_zbgl_mhzb_data.job"])+"  ")]),n("div",{staticClass:"van-ellipsis desc-font"},[t._v(t._s(t.formatterDate(e.data)))])])])}}])})},mi=[];pi._withStripped=!0;var vi={name:"liveList",mixins:[ot],props:{detailUrl:{type:String,default:""},limit:{type:Number,default:10},hasLoad:{type:Boolean,default:!0,desc:"是否有上拉加载"},hasRefresh:{type:Boolean,default:!0,desc:"是否有下拉刷新"},padding:{type:Array,default:function(){return[0,15,0,15]}},margin:{type:Array,default:function(){return[0,0,0,0]}}},data:function(){return{datagrid_search:"",datagrid_httpParam:{query:"{}",namespace:"nc.zbgl.mhzb",pageName:"mhzblist"}}},methods:{formatterDate:function(t){var e=t;return e["nc_zbgl_mhzb_data.sdate"]==e["nc_zbgl_mhzb_data.edate"]?e["nc_zbgl_mhzb_data.sdate"]+" "+e["nc_zbgl_mhzb_data.zbrq_stime"]+" 至 "+e["nc_zbgl_mhzb_data.zbrq_etime"]:e["nc_zbgl_mhzb_data.sdate"]+" 至 "+e["nc_zbgl_mhzb_data.edate"]},onSearch:function(){this.datagrid_httpParam.query={searchValue:this.datagrid_search},this.$refs.dsfDatagrid.query()},toDetail:function(t){this.$router.push({path:this.detailUrl,query:{id:t}})},parseJson:function(t){return JSON.parse(t)},momentSdate:function(t){return dsf.date.format(t,"yyyy-mm-dd hh:ii")},setImg:function(t){var e=t["nc_zbgl_mhzb_data.cover"];return e&&(e=dsf.url.getWebPath(JSON.parse(e)[0]["relativePath"],$$webRoot.nc)),e||"/"},momentEdate:function(t){return dsf.date.format(t,"yyyy-mm-dd hh:ii")},query:function(){this.datagrid_httpParam.query=JSON.stringify({searchValue:this.datagrid_search}),this.datagrid=this.$refs.dsfDatagrid.query()}}},gi=vi,yi=Object(p["a"])(gi,pi,mi,!1,null,null,null);yi.options.__file="mobile/recommend/live/liveList.vue";var _i=yi.exports,bi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{"min-height":"100%"}},[n("van-nav-bar",{attrs:{title:t.pageInfo.name},on:{"click-left":function(e){return t.$router.go(-1)}}}),n("div",{staticClass:"live-detail-video",class:2!=t.pageInfo.state?"video-active":""},[2==t.pageInfo.state?n("van-image",{attrs:{width:"100%",height:"100%",fit:"fill",src:t.coverPath()},scopedSlots:t._u([{key:"loading",fn:function(){return[n("van-loading",{attrs:{type:"spinner",size:"20"}})]},proxy:!0},{key:"error",fn:function(){return[n("img",{attrs:{src:i(147)}})]},proxy:!0}],null,!1,3233905979)}):t._e(),2!=t.pageInfo.state?n("dsf-player",{attrs:{videoSource:{src:t.pageInfo.m3u8_play_url},"cover-img":t.coverPath()}}):t._e(),t.pageInfo["zbrq_sdate"]&&2==t.pageInfo.state?n("div",{staticClass:"video-info"},[n("div",[n("i",[t._v(" 倒计时： ")]),n("span",[t._v(t._s(t.time.days))]),n("i",[t._v(":")]),n("span",[t._v(t._s(t.time.hours))]),n("i",[t._v(":")]),n("span",[t._v(t._s(t.time.minutes))]),n("i",[t._v(":")]),n("span",[t._v(t._s(t.time.seconds))])]),n("div",[t._v(t._s(t.pageInfo.yypeo||0)+"人 预约")])]):t._e(),n("div",{staticClass:"video-online-num"},[t._v(" "+t._s(t.pageInfo.gkpeo||0)+" 人"+t._s(3==t.pageInfo.state?"已观看":"在线")+" ")])],1),n("dsf-panel",{staticClass:"live-detail-body",staticStyle:{width:"100%"},attrs:{panelData:{name:"简介",showMore:!1,customer:!0}},scopedSlots:t._u([{key:"customer",fn:function(){return[n("div",{staticClass:"live-detail-rate-warp"},[n("van-rate",{staticClass:"live-detail-rate",attrs:{size:18,"allow-half":"",color:"#FD952A","void-icon":"star","void-color":"#eee",readonly:t.rateReadonly},on:{change:t.rateChange},model:{value:t.pageInfo.average_fs,callback:function(e){t.$set(t.pageInfo,"average_fs",e)},expression:"pageInfo.average_fs"}}),n("span",[t._v(t._s(t.showRate))])],1)]},proxy:!0},{key:"panel",fn:function(){return[n("div",{staticClass:"live-detail-abstract"},[t._v(" "+t._s(t.pageInfo.abstract||"暂无简介")+" ")])]},proxy:!0}])}),2==t.pageInfo.state?n("div",{staticClass:"live-detail-bottom",on:{click:function(e){return t.changeState("1"==t.pageInfo.isyy_value?"3":"1")}}},[t._v(" "+t._s("1"==t.pageInfo.isyy_value?"已预约":"立即预约")+" ")]):n("div",{staticClass:"live-detail-bottom no-bg"},[n("interaction",{ref:"interaction",attrs:{id:t.$route.params.id,type:"zb",shareOpts:t.shareOpts}})],1)],1)},Ti=[];bi._withStripped=!0;i(480);var Si={name:"liveDetail",mixins:[ot],components:{interaction:bt},data:function(){return{timerId:null,active:0,pageInfo:{},time:{days:"00",hours:"00",minutes:"00",seconds:"00"}}},computed:{showRate:function(){if(dsf.isUnDef(this.pageInfo.average_fs))return"0.0";var t=Number(this.pageInfo.average_fs);return t.toFixed(1)},coverPath:function(){return function(){var t=this.pageInfo,e=dsf.getUploadFileInfo(t.cover,0);return e.relativePath?dsf.url.getWebPath(e.relativePath,$$webRoot.nc):""}},tagsNum:function(){if(this.pageInfo.tagsNum){var t=parseInt(this.pageInfo.tagsNum);return t<0?0:t}return 0},collectNum:function(){if(this.pageInfo.collectNum){var t=parseInt(this.pageInfo.collectNum);return t<0?0:t}return 0},shareOpts:function(){return{title:"直播分享",content:this.pageInfo.name,url:window.location.href.split("#/")[0]+"#/shareLive/"+this.$route.params.id}},rateReadonly:function(){return!!dsf.isUnDef(this.pageInfo.nc_zbgl_jbxx_id)||!!this.pageInfo.average_fs}},created:function(){var t=this;t.initPage()},mounted:function(){},destroyed:function(){this.clearTimer()},methods:{shareFun:function(){},rateChange:function(t){var e=this,i={title:"评价",message:"确定当前评分为: "+t,asyncClose:!0};dsf.layer.confirm(i,(function(){e.evaluate(e.pageInfo.nc_zbgl_jbxx_id,t)}),(function(){}))},changeState:function(t){var e=dsf.layer.loading(),i=this.dsf.$user.loginInfo.userId,n=this.$route.params.id,r=this;this.$http.post("nc/mobile/tj/zb/zbOp",{nc_zbid:n,nc_students_id:i,optype:t}).done((function(i){dsf.layer.closeLoading(e),i.success?(r.pageInfo.isyy_value=t,dsf.layer.message("1"==t?"预约成功":"取消预约成功",!0)):dsf.layer.message(i.message||"操作数据异常",!1)})).error((function(t){dsf.layer.closeLoading(e),dsf.layer.message("服务器异常",!1)}))},initPage:function(){var t=this;this.loadData((function(e){dsf.isUnDef(e.tagsNum)&&(e.tagsNum=0),dsf.isUnDef(e.collectNum)&&(e.collectNum=0),dsf.isUnDef(e.average_fs)&&(e.average_fs=0),e.average_fs=1*e.average_fs,t.pageInfo=e,t.timeDown()}))},timeDown:function(){var t=this;this.pageInfo.zbrq_sdate&&(this.timerId=window.setInterval((function(){var e=dsf.date.parse(t.pageInfo.zbrq_sdate,"yyyy-mm-dd hh:ii:ss"),i=new Date,n=dsf.date.timeDown(i,e);t.time=n,"00"==t.time.days&&"00"==t.time.hours&&"00"==t.time.minutes&&"00"==t.time.seconds&&t.clearTimer()}),1e3))},clearTimer:function(){this.timerId&&window.clearInterval(this.timerId)},loadData:function(t){var e=dsf.layer.loading(),i=this.$route.params.id;this.$http.get("nc/mobile/tj/zb/zbdetail",{zbid:i}).done((function(i){if(dsf.layer.closeLoading(e),i.success){var n=i.data;t(n)}else dsf.layer.message(i.message||"获取直播数据异常",!1)})).error((function(t){dsf.layer.closeLoading(e),dsf.layer.message("服务器异常",!1)}))},evaluate:function(t,e,i){var n="nc/mobile/tyzj/kcbf/editYwdf",r={ywid:t,ywlx_text:"直播",ywlx_value:"zb",fs:e},a="",s=dsf.layer.loading();dsf.http.post(n,r).done((function(t){a=t.success?"感谢您的评价":t.message})).error((function(t){a="提交出现错误"})).always((function(){dsf.layer.closeLoading(s),a&&window.setTimeout((function(){dsf.layer.message(a)}),500)}))}}},wi=Si,Ci=Object(p["a"])(wi,bi,Ti,!1,null,null,null);Ci.options.__file="mobile/recommend/live/liveDetail.vue";Ci.exports;var ki=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"share-container live-sign-detail"},[t.isDesign?n("div",[t._v("直播详情")]):t._e(),1===t.noId?[n("div",{staticClass:"box live-sign-inner"},[n("div",{staticClass:"live-sign-cover"},[n("van-image",{attrs:{width:"100%",height:"100%",fit:"fill",src:t.setImg()},scopedSlots:t._u([{key:"loading",fn:function(){return[n("van-loading",{attrs:{type:"spinner",size:"20"}})]},proxy:!0},{key:"error",fn:function(){return[n("img",{attrs:{src:i(147)}})]},proxy:!0}],null,!1,3233905979)})],1),n("div",{staticClass:"tec"},[t.pageInfo.speaker?n("div",{staticClass:"van-ellipsis"},[t._v("主讲人："+t._s(t.pageInfo.speaker))]):t._e(),n("div",{staticClass:"van-ellipsis"},[t._v("已有"+t._s(t.pageInfo.yypeo||0)+"人参加")])]),n("dsf-panel",{staticClass:"intro-panel",attrs:{panelData:{name:"直播简介"}}},[n("div",{staticClass:"course-item",attrs:{slot:"panel"},slot:"panel"},[n("div",{staticClass:"title",domProps:{innerHTML:t._s(t.pageInfo.name)}}),n("div",{staticClass:"time"},[t._v(t._s(t.formatterDate()))]),n("div",{staticClass:"intro",domProps:{innerHTML:t._s(t.pageInfo.abstract||"暂无简介")}}),n("div",{staticClass:"btns"},[n("div",{on:{click:t.praise}},[n("dsf-icon",{staticClass:"dianzan-icon",class:{on:1==t.pageInfo.sfdz},attrs:{name:(t.pageInfo.sfdz,"dianzan")}}),n("span",{staticClass:"num"},[t._v(t._s(t.pageInfo.tagsNum))])],1),n("div",{on:{click:t.collections}},[n("dsf-icon",{staticClass:"aixin-icon",class:{on:1==t.pageInfo.sfsc},attrs:{name:(t.pageInfo.sfsc,"aixin")}}),n("span",{staticClass:"num"},[t._v(t._s(t.pageInfo.collectNum))])],1)])])])],1),n("div",{staticClass:"bottom-btns"},[n("span",{staticClass:"share-btn",on:{click:t.repeatGo}},[t._v("分享")]),n("span",{class:{ban:5==t.pageInfo.btnOper&&0==t.pageInfo.playstatus},on:{click:t.liveOper}},[t._v(t._s(t.pageInfo.btnText))])])]:t._e(),-1!=t.noId&&1!==t.noId?n("div",{staticClass:"no-data"},[t._v(t._s(t.noId))]):t._e(),-1==t.noId?n("van-skeleton",{attrs:{title:"",avatar:"",row:10,animate:!1}}):t._e()],2)},xi=[];ki._withStripped=!0;var Ei={name:"liveSign",data:function(){return{noId:-1,zbId:this.$route.params.id,userId:this.dsf.$user.loginInfo.userId,pageInfo:{}}},created:function(){this.initPage(),this.$route.params.state},mounted:function(){},methods:{praise:function(){var t=this,e=t.dsf.layer.loading();t.dsf.http.post("nc/mobile/tyzj/hd/tags/saveOrCancel",{ywlxValue:"zb",ywid:t.zbId}).done((function(i){t.dsf.layer.closeLoading(e),2e4==i.state&&t.initPage()})).error((function(i){t.dsf.layer.closeLoading(e),t.dsf.layer.message("服务器异常",!1)}))},collections:function(){var t=this,e=t.dsf.layer.loading();t.dsf.http.post("nc/mobile/tyzj/hd/collect/saveOrCancel",{ywlxValue:"zb",ywid:t.zbId}).done((function(i){t.dsf.layer.closeLoading(e),2e4==i.state&&t.initPage()})).error((function(i){t.dsf.layer.closeLoading(e),t.dsf.layer.message("服务器异常",!1)}))},formatterDate:function(){var t=this.pageInfo.sdate,e=this.pageInfo.zbrq_stime,i=this.pageInfo.edate,n=this.pageInfo.zbrq_etime;return t===i?t+" "+e+" — "+n:t+" "+e+" — "+i+" "+n},initPage:function(){var t=this,e=t.dsf.layer.loading();t.dsf.http.get("nc/mobile/tj/zb/zbdetail",{zbid:t.zbId}).done((function(i){if(t.dsf.layer.closeLoading(e),i.success)if(dsf.isEmptyObject(i.data)||!i.data)t.noId="直播不存在";else{t.noId=1;var n=i.data,r=null,a=null,s=null;1==n.state?(r="进入直播",s="直播",a=0==n.isyy_value?1:1==n.isyy_value?2:null):2==n.state?(s="预约",r=0==n.isyy_value||-1==n.isyy_value?"预约":1==n.isyy_value?"已预约":"",a=-1==n.isyy_value?-1:0==n.isyy_value?3:1==n.isyy_value?4:null):3==n.state&&(s="回放",r="回放",a=5),t.$set(n,"iconText",s),t.$set(n,"btnText",r),t.$set(n,"btnOper",a),t.pageInfo=n}else t.dsf.layer.message(i.message||"获取列表数据异常",!1)})).error((function(i){t.dsf.layer.closeLoading(e),t.dsf.layer.message("服务器异常",!1)}))},liveSkip:function(){var t=this,e=t.dsf.layer.loading();t.dsf.http.post("nc/mobile/tj/zb/addLiveGroup",{zbid:t.zbId,dduserid:t.userId}).done((function(i){t.dsf.layer.closeLoading(e),2e4==i.state?t.toDetail(t.pageInfo.chatId):t.toError()})).error((function(i){t.dsf.layer.closeLoading(e),t.dsf.layer.message("服务器异常",!1)}))},liveOper:function(){var t=this,e=t.pageInfo;if(e.btnOper)if(2==e.btnOper)t.toDetail(t.pageInfo.chatId);else if(3==e.btnOper)t.handleState();else if(4==e.btnOper);else if(5==e.btnOper&&0!=e.playstatus){var i=t.dsf.layer.loading();t.dsf.http.post("nc/mobile/tj/zb/playback",{zbid:t.zbId}).done((function(n){t.dsf.layer.closeLoading(i),2e4==n.state&&(2!=e.playstatus&&1!=e.playstatus||dsf.platform.openLink(e.playback_url))})).error((function(e){t.dsf.layer.closeLoading(i),t.dsf.layer.message("服务器异常",!1)}))}else 1==e.btnOper&&t.liveSkip()},handleState:function(){var t=this,e=t.pageInfo,i=t.dsf.layer.loading(),n=3==e.btnOper?1:5==e.btnOper?2:4==e.btnOper?3:null;if(n){var r={nc_zbid:e.nc_zbgl_jbxx_id,optype:n};t.dsf.http.post("nc/zbgl/zbOp",r).done((function(e){t.dsf.layer.closeLoading(i),2e4==e.state?t.initPage():dsf.layer.message(data.message,!1)})).error((function(e){t.dsf.layer.closeLoading(i),t.dsf.layer.message("服务器异常",!1)}))}},repeatGo:function(){var t=this;this.dsf.platform.share({url:window.location.href.split("#/")[0]+"#/shareLive/"+this.$route.params.id,title:"直播分享",content:this.pageInfo.name,image:t.setImg("absolutePath")})},setImg:function(t){var e=this.pageInfo.cover;return e&&(e=dsf.url.getWebPath(JSON.parse(e)[0][t||"relativePath"])),e||""},toDetail:function(t){dsf.platform.toConversation(t,(function(){}),(function(){dsf.layer.message("未找到指定会话",!1)}))},toError:function(t){this.$router.push({path:"/recommend/liveError/"+this.zbId})}}},Pi=Ei,Oi=Object(p["a"])(Pi,ki,xi,!1,null,"862fb9cc",null);Oi.options.__file="mobile/recommend/live/liveSign.vue";Oi.exports;var Ii=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"share-container live-sign-detail"},[t.isDesign?n("div",[t._v("直播详情")]):t._e(),1===t.noId?[n("div",{staticClass:"box live-sign-inner"},[n("div",{staticClass:"live-sign-cover"},[n("van-image",{attrs:{width:"100%",height:"100%",fit:"fill",src:t.setImg()},scopedSlots:t._u([{key:"loading",fn:function(){return[n("van-loading",{attrs:{type:"spinner",size:"20"}})]},proxy:!0},{key:"error",fn:function(){return[n("img",{staticStyle:{width:"100%"},attrs:{src:i(147)}})]},proxy:!0}],null,!1,3684487084)})],1),n("div",{staticClass:"tec"},[t.pageInfo.speaker?n("div",{staticClass:"van-ellipsis"},[t._v("主讲人："+t._s(t.pageInfo.speaker))]):t._e(),n("div",{staticClass:"van-ellipsis"},[t._v("已有"+t._s(t.pageInfo.yypeo||0)+"人参加")])]),n("dsf-panel",{staticClass:"intro-panel",attrs:{panelData:{name:"直播简介"}}},[n("div",{staticClass:"course-item",attrs:{slot:"panel"},slot:"panel"},[n("div",{staticClass:"title",domProps:{innerHTML:t._s(t.pageInfo.name)}}),n("div",{staticClass:"time"},[t._v(t._s(t.formatterDate()))]),n("div",{staticClass:"intro",domProps:{innerHTML:t._s(t.pageInfo.abstract||"暂无简介")}}),n("div",{staticClass:"btns"},[n("div",{on:{click:t.praise}},[n("dsf-icon",{staticClass:"dianzan-icon",class:{on:1==t.pageInfo.sfdz},attrs:{name:(t.pageInfo.sfdz,"dianzan")}}),n("span",{staticClass:"num"},[t._v(t._s(t.pageInfo.tagsNum))])],1),n("div",{on:{click:t.collections}},[n("dsf-icon",{staticClass:"aixin-icon",class:{on:1==t.pageInfo.sfsc},attrs:{name:(t.pageInfo.sfsc,"aixin")}}),n("span",{staticClass:"num"},[t._v(t._s(t.pageInfo.collectNum))])],1)])])])],1),n("div",{staticClass:"bottom-btns"},[n("span",{staticClass:"share-btn",on:{click:t.repeatGo}},[t._v("分享")]),n("span",{class:{ban:5==t.pageInfo.btnOper&&0==t.pageInfo.playstatus},on:{click:t.liveOper}},[t._v(t._s(t.pageInfo.btnText))])])]:t._e(),-1!=t.noId&&1!==t.noId?n("div",{staticClass:"no-data"},[t._v(t._s(t.noId))]):t._e()],2)},Li=[];Ii._withStripped=!0;var Ai=dsf.component({mixins:[$mixins.control],ctrlCaption:"直播详情",name:"DsfMobileNcLiveSign",components:{dsfPanel:tt},data:function(){return{noId:-1,zbId:this.$route.query.id||"95d08a6e3f84463bad7cb818b6f874f0",userId:"",pageInfo:{}}},created:function(){this.isDesign||this.initPage()},mounted:function(){},methods:{praise:function(){var t=this,e=t.dsf.layer.loading();t.dsf.http.post("nc/mobile/tyzj/hd/tags/saveOrCancel",{ywlxValue:"zb",ywid:t.zbId},$$webRoot.nc).done((function(i){t.dsf.layer.closeLoading(e),2e4==i.state&&t.initPage()})).error((function(i){t.dsf.layer.closeLoading(e),t.dsf.layer.message("服务器异常",!1)}))},collections:function(){var t=this,e=t.dsf.layer.loading();t.dsf.http.post("nc/mobile/tyzj/hd/collect/saveOrCancel",{ywlxValue:"zb",ywid:t.zbId},$$webRoot.nc).done((function(i){t.dsf.layer.closeLoading(e),2e4==i.state&&t.initPage()})).error((function(i){t.dsf.layer.closeLoading(e),t.dsf.layer.message("服务器异常",!1)}))},formatterDate:function(){var t=this.pageInfo.sdate,e=this.pageInfo.zbrq_stime,i=this.pageInfo.edate,n=this.pageInfo.zbrq_etime;return t===i?t+" "+e+" — "+n:t+" "+e+" — "+i+" "+n},initPage:function(){var t=this,e=t.dsf.layer.loading();t.dsf.http.get("nc/mobile/tj/zb/zbdetail",{zbid:t.zbId},$$webRoot.nc).done((function(i){if(t.dsf.layer.closeLoading(e),i.success)if(dsf.isEmptyObject(i.data)||!i.data)t.noId="直播不存在";else{t.noId=1;var n=i.data,r=null,a=null,s=null;1==n.state?(r="进入直播",s="直播",a=0==n.isyy_value?1:1==n.isyy_value?2:null):2==n.state?(s="预约",r=0==n.isyy_value||-1==n.isyy_value?"预约":1==n.isyy_value?"已预约":"",a=-1==n.isyy_value?-1:0==n.isyy_value?3:1==n.isyy_value?4:null):3==n.state&&(s="回放",r="回放",a=5),t.$set(n,"iconText",s),t.$set(n,"btnText",r),t.$set(n,"btnOper",a),t.pageInfo=n}else t.dsf.layer.message(i.message||"获取列表数据异常",!1)})).error((function(i){t.dsf.layer.closeLoading(e),t.dsf.layer.message("服务器异常",!1)}))},liveSkip:function(){var t=this,e=t.dsf.layer.loading();t.dsf.http.post("nc/mobile/tj/zb/addLiveGroup",{zbid:t.zbId,dduserid:t.userId},$$webRoot.nc).done((function(i){t.dsf.layer.closeLoading(e),2e4==i.state?t.toDetail(t.pageInfo.chatId):t.toError()})).error((function(i){t.dsf.layer.closeLoading(e),t.dsf.layer.message("服务器异常",!1)}))},liveOper:function(){var t=this,e=t.pageInfo;if(e.btnOper)if(2==e.btnOper)t.toDetail(t.pageInfo.chatId);else if(3==e.btnOper)t.handleState();else if(4==e.btnOper);else if(5==e.btnOper&&0!=e.playstatus){var i=t.dsf.layer.loading();t.dsf.http.post("nc/mobile/tj/zb/playback",{zbid:t.zbId},$$webRoot.nc).done((function(n){t.dsf.layer.closeLoading(i),2e4==n.state&&(2!=e.playstatus&&1!=e.playstatus||dsf.platform.openLink(e.playback_url))})).error((function(e){t.dsf.layer.closeLoading(i),t.dsf.layer.message("服务器异常",!1)}))}else 1==e.btnOper&&t.liveSkip()},handleState:function(){var t=this,e=t.pageInfo,i=t.dsf.layer.loading(),n=3==e.btnOper?1:5==e.btnOper?2:4==e.btnOper?3:null;if(n){var r={nc_zbid:e.nc_zbgl_jbxx_id,optype:n};t.dsf.http.post("nc/zbgl/zbOp",r,$$webRoot.nc).done((function(e){t.dsf.layer.closeLoading(i),2e4==e.state?t.initPage():dsf.layer.message(data.message,!1)})).error((function(e){t.dsf.layer.closeLoading(i),t.dsf.layer.message("服务器异常",!1)}))}},repeatGo:function(){var t=this;this.dsf.platform.share({url:window.location.href.split("#/")[0]+"#/shareLive/"+this.$route.query.id,title:"直播分享",content:this.pageInfo.name,image:t.setImg("absolutePath")})},setImg:function(t){var e=this.pageInfo.cover;return e&&(e=dsf.url.getWebPath(JSON.parse(e)[0][t||"relativePath"],$$webRoot.nc)),e||""},toDetail:function(t){dsf.platform.toConversation(t,(function(){}),(function(){dsf.layer.message("未找到指定会话",!1)}))},toError:function(t){this.$router.push({path:"/recommend/liveError/"+this.zbId})}}}),Di=Ai,Mi=Object(p["a"])(Di,Ii,Li,!1,null,null,null);Mi.options.__file="mobile/recommend/live/mobileNcLiveSign.vue";var ji=Mi.exports,Ni=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Ri=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"live-error"},[i("img",{attrs:{src:"_nc/assets/styles/mobile/themes/images/liveError.png",alt:""}}),i("span",[t._v("抱歉，仅授权用户可观看直播")])])}];Ni._withStripped=!0;var Bi={name:"liveError",data:function(){return{}},created:function(){this.initPage()},mounted:function(){},methods:{}},Ui=Bi,Fi=Object(p["a"])(Ui,Ni,Ri,!1,null,"9300a00a",null);Fi.options.__file="mobile/recommend/live/liveError.vue";Fi.exports;var $i=[{path:"/mobile/nc/coursePlayer",name:"dsfMobileNcCoursePlayer",component:U,desc:"课程详情"},{path:"/mobile/nc/specialDetail",name:"dsfMobileNcSpecilaDetail",component:rt,desc:"专题详情"},{path:"/mobile/nc/newsDetail",name:"dsfMobileNcNewsDetail",component:Ct,desc:"新闻详情"},{path:"/mobile/nc/channelDetail",name:"dsfMobileNcChannelDetail",component:ye,desc:"频道详情"},{path:"/mobile/nc/teacherDetail",name:"dsfMobileNcTeacherDetail",component:fi,desc:"师资详情"},{path:"/mobile/nc/liveSign",name:"dsfMobileNcLiveSign",component:ji,desc:"直播详情"}],zi=$i,Vi=(i(144),i(145),i(1306),i(509),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ac-recommend"},[i("van-tabs",{attrs:{"swipe-threshold":6,swipeable:!0,animated:!0,duration:.5,sticky:!0},on:{click:t.changeUrl},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(t.items,(function(e){return i("van-tab",{key:e.name,attrs:{title:e.name,name:e.id}},[t.isDesign?t._e():i("div",{key:e.name},["shizi"==e.id?i("ac-teacher-list",{key:e.name,staticStyle:{height:"100%"},attrs:{"detail-url":t.teacherDetail,margin:[8,0,0,0]}}):"zhibo"==e.id?i("live-list",{key:e.name,ref:"liveList",refInFor:!0,staticStyle:{height:"100%"},attrs:{"detail-url":t.liveDetail,margin:[8,0,0,0]}}):"pindao"==e.id?i("channel",{key:e.name,staticStyle:{height:"100%"},attrs:{"detail-url":t.channelDetail,margin:[8,0,0,0]}}):"ziliao"==e.id?i("news-list",{key:e.name,staticStyle:{height:"100%"},attrs:{"detail-url":t.newsDetail,"max-top-number":5,margin:[8,0,0,0]}}):"kecheng"==e.id?i("course-list",{key:e.name,ref:"courseList",refInFor:!0,staticStyle:{height:"100%"},attrs:{"detail-url":t.courseDetail,margin:[8,0,0,0]}}):"zhuanti"==e.id?i("special-list",{key:e.name,staticStyle:{height:"100%"},attrs:{margin:[8,0,0,0],"detail-url":t.specialDetail}}):t._e()],1)])})),1),i("dsf-icon",{staticClass:"search-icon",attrs:{name:"fangdajing"},on:{click:t.searchHandler}})],1)}),qi=[];Vi._withStripped=!0;var Hi=dsf.component({name:"DsfMobileNcRecommend",ctrlCaption:"推荐",mixins:[$mixins.control],components:{AcTeacherList:ke,liveList:_i,newsList:dt,courseList:De,specialList:W,channel:Nt},data:function(){return{active:"",searchValue:this.searchStr,items:[{name:"课程",id:"kecheng"},{name:"专题",id:"zhuanti"},{name:"频道",id:"pindao"},{name:"资料",id:"ziliao"},{name:"直播",id:"zhibo"},{name:"师资",id:"shizi"}],actives:["kecheng","zhuanti","pindao","ziliao","zhibo","shizi"]}},props:{defaultActive:String,searchStr:[String],searchDetail:{type:String,default:"/mobile/nc/recommendFile/mobile-globlesearch"},courseDetail:{type:String,default:"/mobile/nc/recommendFile/mobile-courseDetail"},specialDetail:{type:String,default:"/mobile/nc/recommendFile/mobile-specilaDetail"},channelDetail:{type:String,default:"/mobile/nc/recommendFile/mobile-chanelDetail"},newsDetail:{type:String,default:"/mobile/nc/recommendFile/mobile-newsDetail"},liveDetail:{type:String,default:"/mobile/nc/recommendFile/mobile-liveDetail"},teacherDetail:{type:String,default:"/mobile/nc/recommendFile/mobile-teacherDetail"}},mounted:function(){if(this.$route.query&&dsf.isDef(this.$route.query.id)){var t=this.$route.query.id,e=t>5||t<0?0:t;this.active=this.actives[e]}},watch:{$route:function(t){if(t.query&&dsf.isDef(t.query.id)){var e=t.query.id,i=e>5||e<0?0:e;this.active=this.actives[i]}}},methods:{searchHandler:function(){this.$router.push({path:this.searchDetail})},$refresh:function(t,e){"liveDetail"==t?this.$refs.liveList&&this.$refs.liveList[0].query():"Player"==t&&this.$refs.courseList&&this.$refs.courseList[0].query()},changeUrl:function(t){var e=0;this.items.forEach((function(i,n){i.id===t&&(e=n)})),this.$router.replace({query:{id:e}})}}}),Wi=Hi,Gi=Object(p["a"])(Wi,Vi,qi,!1,null,null,null);Gi.options.__file="mobile/recommend/mobileNcRecommend.vue";var Xi=Gi.exports,Yi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("dsf-side-popup",{ref:"dsfSidePopup",attrs:{site:"body",customClass:"dsf-choice-side-popup"}},[t.isShow?i("div",{staticClass:"content"},t._l(t.list,(function(e,n){return i("div",{key:n},[i("div",{staticClass:"title"},[t._v(t._s(n))]),t._l(e,(function(n,r){return i("div",{key:r,staticClass:"box"},[n.items.length>0?i("div",[e.length>1?i("div",{staticClass:"title"},[t._v(t._s(n.name))]):t._e(),i("div",{staticClass:"data"},["range"==n.operator?i("div",{staticClass:"range"},[i("van-field",{attrs:{placeholder:"请输入最小"+n.name},model:{value:n.v1,callback:function(e){t.$set(n,"v1",e)},expression:"item.v1"}}),i("b"),i("van-field",{attrs:{placeholder:"请输入最大"+n.name},model:{value:n.v2,callback:function(e){t.$set(n,"v2",e)},expression:"item.v2"}})],1):t._e(),t._l(n.items,(function(e,r){return i("div",{key:r,class:{big:e.text.length>5,choice:e["choice"]},attrs:{index:r},on:{click:function(i){return t.changeChoice(i,e,n,r)}}},[t._v(" "+t._s(e.text)+" ")])}))],2)]):i("div",[e.length>1?i("div",{staticClass:"title"},[t._v(t._s(n.name))]):t._e(),i("p",{staticStyle:{"font-size":"12px","text-align":"center"}},[t._v("暂无数据")])])])}))],2)})),0):t._e(),i("div",{staticClass:"bottom"},[i("div",{on:{click:t.changeShow}},[t._v("取消")]),i("div",{on:{click:t.submit}},[t._v("确定")])])])},Ki=[];Yi._withStripped=!0;var Ji={name:"DsfChoiceSidePopup",props:{datas:{type:Array,default:function(){return[]}},submitFun:{type:Function,default:function(){}}},computed:{list:{get:function(t){return this.getList()},set:function(){this.getList=function(){return this.refreshList()}}}},data:function(){return{getList:this.refreshList,isShow:!0}},methods:{changeShow:function(t){if(this.$refs.dsfSidePopup.changeShow(),!t&&this.$refs.dsfSidePopup.isShow){this.list={};var e=this;setTimeout((function(){e.list}),3e3)}this.isShow=this.$refs.dsfSidePopup.isShow},refreshList:function(){var t={},e=this.datas;for(var i in e){var n=dsf.mix(!0,{},e[i],!0);for(var r in n.index=i,n.items)n.items[r]["choice"]=n.items[r]["choice"]||!1;t[n.group]||(t[n.group]=[]),t[n.group].push(n)}return t},changeChoice:function(t,e,i,n){t.target;e.index=n,i.choice||(i.choice={});var r=e.text.length>5?"big ":"";if(i.choice[e.value])e.choice=!1,delete i.choice[e.value];else{if(e.choice=!0,"range"==i.operator){i.choice={},i.v1="",i.v2="";var a=t.target.parentNode.querySelector(".choice");a&&(a.setAttribute("class",r),i["items"][a.getAttribute("index")].choice=!1);var s=t.target.parentNode.querySelectorAll("input");s&&(s[0].value="",s[1].value="")}i.choice[e.value]=e}t.target.setAttribute("class",r+(e.choice?"choice":""))},submit:function(){var t=[],e={},i=[];for(var n in this.list){var r=this.list[n];for(var a in r){var s=r[a];if("range"==s.operator)if(s.v1||s.v2)for(var o in s.v1&&(e[s.queryCol+"_1"]=s.v1),s.v2&&(e[s.queryCol+"_2"]=s.v2),i.push({text:s.name+"："+(s.v1?s.v1+(s.v2?"-"+s.v2:"以下"):s.v2+"以上"),index:s.index,itemI:-1,key:s.queryCol,type:"range"}),s.items)s.items[o]["choice"]=!1;else for(var l in s.choice)i.push({text:s.name+"："+s.choice[l].text,index:s.index,itemI:s.choice[l].index,key:s.queryCol,type:"range"}),s.value=l.split(";"),s.value[0]&&(e[s.queryCol+"_1"]=s.value[0]),s.value[0]&&(e[s.queryCol+"_2"]=s.value[1]);else{for(var c in s.value=[],s.choice)s.value.push(c),i.push({text:s.name+"："+s.choice[c].text,index:s.index,itemI:s.choice[c].index,key:s.queryCol,type:s.operator,value:c});"like"==s.operator||"slike"==s.operator||"elike"==s.operator?(s.value=s.value.join(" "),s.value&&(e[s.queryCol]=s.value)):s.value.length>0&&(e[s.queryCol]=s.value)}t.push(s)}}this.submitFun(t,e,i),this.changeShow(!0)}}},Qi=Ji,Zi=Object(p["a"])(Qi,Yi,Ki,!1,null,null,null);Zi.options.__file="mobile/recommend/dsfChoiceSidePopup/dsfChoiceSidePopup.vue";var tn=Zi.exports,en=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("van-popup",{ref:"popup",staticClass:"dsf-choice-side-popup dsf-treeselect-sidepopup",class:t.customClass,style:{width:"100%",height:"100%"},attrs:{"overlay-style":{background:"transparent"},"get-container":t.site,position:"left"},model:{value:t.isShow,callback:function(e){t.isShow=e},expression:"isShow"}},[t.isShow?i("van-tree-select",{style:{height:"calc(100% - 0.98rem)"},attrs:{items:t.list,"main-active-index":t.mainActiveIndex,"active-id":t.activeIds},on:{"click-nav":t.onNavClick,"click-item":t.onItemClick}}):t._e(),i("div",{staticClass:"bottom"},[i("dsf-mobile-button",{staticClass:"cancel",attrs:{plain:"",type:"primary"},on:{click:t.changeShow}},[t._v("取消")]),i("dsf-mobile-button",{staticClass:"submit",on:{click:t.submit}},[t._v("确定")])],1)],1)],1)},nn=[];en._withStripped=!0;var rn={name:"DsfTreeselectSidepopup",props:{show:{type:Boolean,default:!1,desc:"默认是否显示"},datas:{type:Array,default:function(){return[]}},submitFun:{type:Function,default:function(){}},site:{default:"",desc:"挂载"},customClass:{type:String,default:""},fmainActiveIndex:{type:Number,default:0}},data:function(){return{isShow:this.show,mainActiveIndex:this.fmainActiveIndex,activeIds:[],old_activeIds:[],activeTexts:{}}},computed:{list:function(){return dsf.mix(!0,[],this.datas)}},methods:{changeShow:function(t){this.activeIds=t,this.isShow=!this.isShow,this.isShow&&(this.activeIds=dsf.mix(!0,[],this.old_activeIds))},onNavClick:function(t){this.mainActiveIndex=t},onItemClick:function(t){var e=this.activeIds.indexOf(t.id);e>-1?this.activeIds.splice(e,1):(this.activeIds.push(t.id),t.ptext=this.list[this.mainActiveIndex].text,this.activeTexts[t.id]=t)},submit:function(){this.old_activeIds=dsf.mix(!0,[],this.activeIds);var t=[],e=null;for(var i in this.old_activeIds){var n=this.activeTexts[this.old_activeIds[i]];t.push({text:n.ptext+">"+n.text,value:n.id,type:"tree",key:n.queryCol}),e=n.queryCol}this.submitFun(e,this.old_activeIds,t,this.list[this.mainActiveIndex]),this.changeShow()}}},an=rn,sn=Object(p["a"])(an,en,nn,!1,null,null,null);sn.options.__file="mobile/recommend/dsfChoiceSidePopup/dsfTreeSelectPopup.vue";var on=sn.exports,ln=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"dsf-datagrid",staticClass:"dsf-datagrid ds_control"},[i("div",{ref:"fixedbox",staticClass:"fixed"},[t._t("search")],2),i("div",{ref:"list",staticClass:"list-box",style:{height:"calc(100% - "+t.fixedHeight+"rem)"},on:{"&scroll":function(e){return t.watchScroll.apply(null,arguments)}}},[i("van-pull-refresh",{attrs:{disabled:!t.hasRefresh},on:{refresh:t.onRefresh},model:{value:t.refreshing,callback:function(e){t.refreshing=e},expression:"refreshing"}},[t.getted&&t.data.length>0?i("van-list",{ref:"list",class:{dimidiate:1!=t.col},style:{margin:t.marginToRem},attrs:{finished:t.finished,"finished-text":"没有更多了","immediate-check":!1},on:{load:t.onLoad}},[i("div",{style:{padding:t.paddingToRem,"background-color":t.backgroundColor,overflow:"auto"}},[t.topData.length>0?i("div",{staticClass:"top-item",style:{margin:t.topMarginToRem}},[i("van-swipe",{staticClass:"news-swipe",attrs:{autoplay:3e3,"indicator-color":"white"}},t._l(t.topData,(function(e,n){return i("van-swipe-item",{key:n},[t._t("top",null,{data:e})],2)})),1)],1):t._e(),t._l(t.normalData,(function(e,n){return i("div",{key:n,staticClass:"item",style:{width:1==t.col?"auto":100/t.col+"%"}},[t._t("default",null,{data:e})],2)}))],2)]):t._e(),t.getted&&0==t.data.length?i("div",{staticClass:"no-data"},[t._v("暂无数据")]):t._e()],1)],1)])},cn=[];ln._withStripped=!0;i(747);var un={name:"DsfMobileNcDataGrid",props:{col:{type:[String,Number],default:1,desc:"一列显示几个，暂支持1和2"},hasLoad:{type:Boolean,default:!0,desc:"是否有上拉加载"},hasRefresh:{type:Boolean,default:!0,desc:"是否有下拉刷新"},dataSource:{type:String,default:"meta/list/data",desc:"请求接口，可自定义"},curr:{type:[String,Number],default:1,desc:"从哪一页开始"},limit:{type:[String,Number],default:12,desc:"每页显示多少"},httpParam:{type:Object,default:function(){return{}},desc:"接口参数"},maxTopNumber:{type:Number,default:5,desc:"置顶数据最大限制"},topProps:{type:String,default:"",desc:"top属性名称"},backgroundColor:{type:String,default:"transparent"},padding:{type:Array,default:function(){return[0,0,0,0]}},margin:{type:Array,default:function(){return[0,0,0,0]}},topMargin:{type:Array,default:function(){return[0,0,0,0]}},immediate:{type:Boolean,default:!0,desc:"初始化后立即自动查询"},pageNumKey:{type:String,default:"pageNum",desc:"加载页码的key"},saveScroll:{type:Boolean,default:!0,desc:"是否保存滚动条位置"},dataListString:{type:String,default:"",desc:"取值的data参数"}},computed:{paddingToRem:function(){var t=_.map(this.padding,(function(t){var e=t||0,i=e/50;return i}));return t.join("rem ")+"rem"},marginToRem:function(){var t=_.map(this.margin,(function(t){var e=t||0,i=e/50;return i}));return t.join("rem ")+"rem"},topMarginToRem:function(){var t=_.map(this.topMargin,(function(t){var e=t||0,i=e/50;return i}));return t.join("rem ")+"rem"},scrollKey:function(){return this._uid+"_list_scroll"}},data:function(){return{data:[],fixedHeight:0,topData:[],normalData:[],loading:!1,finished:!1,refreshing:!1,pageNumV:this.curr,getted:!1}},mounted:function(){this.fixedHeight=this.$refs.fixedbox.offsetHeight,this.fixedHeight=this.fixedHeight/50,this.immediate&&this.loadData(!0)},activated:function(){this.restoreScroll()},destroyed:function(){window.sessionStorage.removeItem(this.scrollKey)},methods:{loadData:function(t){var e,i=this;if(!this.geting){var n=this;this.geting=!0;var r=dsf.mix((e={},Object(Te["a"])(e,this.pageNumKey,n.pageNumV),Object(Te["a"])(e,"pageSize",n.limit),e),n.httpParam),a=t&&dsf.layer.loading(),s="";this.$http.get(n.dataSource,r,$$webRoot.nc).done((function(t){if(t.success){var e=t.data||[];i.dataListString&&(e=t.data[i.dataListString]||[]),n.checkData(e,0==n.data.length),n.data=n.data.concat(e),i.hasLoad?e.length<n.limit&&(n.loading=!1,n.finished=!0):n.finished=!1}else s=t.message||"获取列表数据异常"})).error((function(t){s=t.message})).always((function(e){t?n.dsf.layer.closeLoading(a):n.$nextTick((function(){n.refreshing=!1,n.loading=!1})),s&&window.setTimeout((function(){n.dsf.layer.message(s,!1)}),1e3),n.geting=!1,n.getted=!0}))}},onLoad:function(t){this.geting||(this.hasLoad||t)&&(this.refreshing&&(this.data=[],this.topData=[],this.normalData=[],this.pageNumV=this.curr-1),this.pageNumV++,this.loadData())},onRefresh:function(){this.finished=!1,this.loading=!0,this.onLoad(1)},query:function(t){this.refreshing=!0,this.onRefresh()},checkData:function(t,e){if(e){for(var i=[],n=[],r=0;r<t.length;r++){var a=!1;this.maxTopNumber>0&&r<this.maxTopNumber&&this.topProps&&(a=!!t[r][this.topProps]),a?i.push(t[r]):n.push(t[r])}this.topData=this.normalData.concat(i),this.normalData=this.normalData.concat(n)}else this.normalData=this.normalData.concat(t)},clearData:function(){this.data=[]},watchScroll:function(t){if(this.saveScroll){var e=t.currentTarget.scrollTop;window.sessionStorage.setItem(this.scrollKey,e)}},restoreScroll:function(){if(this.saveScroll){var t=window.sessionStorage.getItem(this.scrollKey);t&&(t=t||0,this.$el.querySelector(".list-box").scrollTop=t)}}},watch:{httpParam:{handler:function(t){this.loadData(!0)},deep:!0}}},dn=un,hn=Object(p["a"])(dn,ln,cn,!1,null,null,null);hn.options.__file="mobile/recommend/dsfDataGrid/dsfDataGrid.vue";var fn=hn.exports,pn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("van-popup",{ref:"popup",class:t.customClass,style:{width:"84%",height:"100%"},attrs:{"get-container":t.site,position:"right"==t.position?"right":"left"},model:{value:t.isShow,callback:function(e){t.isShow=e},expression:"isShow"}},[t._t("default")],2)],1)},mn=[];pn._withStripped=!0;var vn={name:"DsfSidePopup",props:{position:{type:String,default:"right",desc:"right/left"},show:{type:Boolean,default:!1,desc:"默认是否显示"},site:{default:"",desc:"挂载"},customClass:{type:String,default:"",desc:"自定义class"}},data:function(){return{isShow:this.show}},methods:{changeShow:function(){this.isShow=!this.isShow}}},gn=vn,yn=Object(p["a"])(gn,pn,mn,!1,null,null,null);yn.options.__file="mobile/recommend/dsfSidePopup/dsfSidePopup.vue";var _n=yn.exports,bn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dsf-sort",on:{click:function(e){return t.changeStatus()}}},[i("span",{staticClass:"sort-name",style:{"font-size":t.fontSize}},[t._v(t._s(t.iconName))]),i("div",{staticClass:"sort-icon-g"},[i("dsf-icon",{staticClass:"top",class:"asc"==t.status?"on":"desc"==t.status?"def":"",attrs:{name:"shangjiantou"}}),i("dsf-icon",{staticClass:"bottom",class:"desc"==t.status?"on":"asc"==t.status?"def":"",attrs:{name:"xiajiantou"}})],1)])},Tn=[];bn._withStripped=!0;var Sn={name:"dsfSort",data:function(){return{status:this.customSort}},props:{fontSize:{type:[String],default:"17px",desc:"字体大小"},customSort:{type:String,default:"desc"},iconName:{type:[String],default:"请设置名称",desc:"按钮名称"},code:{type:String,default:"ds_create_time"}},methods:{changeStatus:function(t){t?this.status=t:("desc"==this.status?this.status="asc":this.status="desc",this.$emit("click",this.status,this.code))}}},wn=Sn,Cn=Object(p["a"])(wn,bn,Tn,!1,null,null,null);Cn.options.__file="mobile/recommend/dsfFilter/dsfSort.vue";var kn=Cn.exports,xn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{height:"100vh",overflow:"hidden"}},[i("DsfMobileNcDataGrid",{ref:"dg",staticClass:"global-search",staticStyle:{height:"100%"},attrs:{immediate:!1,dataSource:"nc/mobile/es/search/data","http-param":t.datagrid_httpParam,"background-color":"#fff",col:1,limit:12,hasLoad:!0,hasRefresh:!0,margin:t.margin,padding:t.padding},scopedSlots:t._u([{key:"search",fn:function(){return[i("form",{attrs:{action:"javascript:return true"},on:{submit:function(t){t.preventDefault()}}},[i("van-search",{attrs:{"show-action":!0,placeholder:"请输入搜索关键字"},on:{search:t.searchHandler,cancel:t.cancelHandler},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}})],1)]},proxy:!0},{key:"default",fn:function(e){return[i("div",{staticClass:"g-item",on:{click:function(i){return t.toDetail(e.data)}}},[i("p",{staticClass:"g-item-title van-multi-ellipsis--l2"},[t._v(t._s(t.toText(e.data)))]),i("p",{staticClass:"g-item-content"},[i("span",{staticClass:"g-item-tag"},[t._v(t._s(e.data.typename))])])])]}}])})],1)},En=[];xn._withStripped=!0;var Pn=document.createElement("div"),On=dsf.component({name:"DsfMobileNcGlobalSearch",ctrlCaption:"全局搜索",mixins:[$mixins.control],props:{padding:{type:Array,default:function(){return[0,10,0,10]}},margin:{type:Array,default:function(){return[8,0,0,0]}},courseDetail:{type:String,default:"/mobile/nc/recommendFile/mobile-courseDetail"},specialDetail:{type:String,default:"/mobile/nc/recommendFile/mobile-specilaDetail"},channelDetail:{type:String,default:"/mobile/nc/recommendFile/mobile-chanelDetail"},newsDetail:{type:String,default:"/mobile/nc/recommendFile/mobile-newsDetail"},liveDetail:{type:String,default:"/mobile/nc/recommendFile/mobile-liveDetail"},teacherDetail:{type:String,default:"/mobile/nc/recommendFile/mobile-teacherDetail"}},data:function(){return{searchValue:"",datagrid_httpParam:{query:JSON.stringify({searchContent:""}),order:JSON.stringify([{code:"update_time",sort:"asc"}]),namespace:""}}},mounted:function(){},methods:{toText:function(t){return Pn.innerHTML=t.title,Pn.innerText},searchHandler:function(){this.searchValue?(this.datagrid_httpParam.query=JSON.stringify({searchContent:this.searchValue}),this.$refs.dg.query()):this.$refs.dg.clearData()},cancelHandler:function(){this.searchValue="",this.$router.go(-1)},toDetail:function(t){var e=t.typeid,i="",n=t.id;switch(e){case"00":i=this.courseDetail;break;case"01":i=this.channelDetail;break;case"05":i=this.specialDetail;break;case"11":i=this.newsDetail;break;case"12":i=this.teacherDetail;break;case"14":i=this.liveDetail;break;default:i="";break}i&&this.$router.push({path:i,query:{id:n}})}}}),In=On,Ln=Object(p["a"])(In,xn,En,!1,null,null,null);Ln.options.__file="mobile/recommend/globalSearch/globalSearch.vue";var An=Ln.exports,Dn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{style:{height:t.allHeight}},[i("div",{style:{height:t.playerHeight},attrs:{id:"LiveVideo"}}),i("div",{style:{height:"calc("+t.allHeight+" - "+t.playerHeight+")"},attrs:{id:"chatwrap"}}),t.showSign?i("div",{staticClass:"player-signed"},[i("div",{staticClass:"player-signed-in"},[i("div",{staticClass:"signed-head"},[t._v("签到")]),i("div",{staticClass:"signed-content"},[i("div",[i("span",{staticClass:"signed-time"},[t._v(t._s(t.time))]),t._v(" 秒 ")]),i("li",{staticClass:"sign-message"},[t._v("各位同学开始签到了")]),i("span",{staticClass:"btn-signed",on:{click:function(e){return t.submitSigned()}}},[t._v("签到")])])])]):t._e()])},Mn=[];Dn._withStripped=!0;var jn=i(510),Nn=i.n(jn),Rn=dsf.component({name:"DsfMobileNcLivePlayer",ctrlCaption:"保利直播移动端",mixins:[$mixins.control],props:{othLang:{default:!1,type:Boolean},detailData:{default:function(){return{channelValue:""}},type:Object},allHeight:{default:"100%",type:String},playerHeight:{default:"4rem",type:String},sourceUrl:{default:"",type:String},state:{default:5,type:[String,Number]},PolyvParams:{type:Object,default:function(){return{autoplay:!0,audioMode:!1,controller:!0,pptNav:!0,barrage:!0,switchPlayer:!0}}},charRoomParams:{type:Object,default:function(){return{enableFlower:!0,enableLike:!0,customChatColor:"#2495c7",enableRewardAnimation:!0,enableUpdatePageviews:!0,tabData:[]}}}},data:function(){return{chatroom:null,num:0,barrageStatus:!0,liveSdk:null,showSign:!1,time:0,timer:null,checkinId:null,id:""}},components:{},computed:{},created:function(){var t=document.createElement("script");t.type="text/javascript",t.src=this.othLang?dsf.url.getWebPath("/nc/pc/live/scripts/polyv-live.js"):"https://player.polyv.net/livesdk/polyv-live.min.js";var e=document.createElement("script");e.type="text/javascript",e.src=this.othLang?dsf.url.getWebPath("/nc/pc/live/scripts/polyv-chatroom.js"):"https://player.polyv.net/jssdk/polyv-chatroom.min.js";var i=document.createElement("link");i.rel="stylesheet",i.href="https://player.polyv.net/jssdk/polyv-chatroom.min.css",document.getElementsByTagName("head")[0].appendChild(t),document.getElementsByTagName("head")[0].appendChild(e),document.getElementsByTagName("head")[0].appendChild(i)},mounted:function(){this.id=this.queryString["id"]||"44c8d879bb834d2c9b1b2f8ac1b55fdc",this.isDesign||(this.sourceUrl?this.getLiveinfo():this.getliveConfig())},beforeDestroy:function(){this.chatroom&&this.chatroom.destroy(),this.liveSdk&&this.liveSdk.destroy()},methods:{getLiveinfo:function(){var t=this;this.dsf.http.get(this.sourceUrl,{id:this.id}).done((function(e){e.success?(t.detailData=e.data.ncLiveInfo,t.state=e.data.state.value,t.getliveConfig()):t.dsf.layer.mobile.message(e.message||"获取直播数据异常",!1)})).error((function(e){t.dsf.layer.mobile.message(e.message||"获取直播数据异常",!1)}))},getliveConfig:function(){var t=this;return Object(Ve["a"])(ze.a.mark((function e(){var i,n;return ze.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=2==t.state,n=t.dsf.layer.mobile.loading(),t.dsf.http.get("nc/live/liveConfig",{channelId:t.detailData.channelValue||""}).done((function(e){e.success?t.chatToken(e.data,i):t.dsf.layer.mobile.message(e.message||"获取直播数据异常",!1)})).error((function(e){t.dsf.layer.mobile.message(e.message||"获取直播数据异常",!1)})).always((function(e){t.dsf.layer.mobile.closeLoading(n)}));case 3:case"end":return e.stop()}}),e)})))()},Polyv:function(t,e,i){var n=this,r=new PolyvLiveSdk({channelId:t.channelId,sign:t.sign,timestamp:t.timestamp,appId:t.appId,socket:i.chat.socket,user:{userId:t.user.userId||"",userName:t.user.userName||"",pic:t.user.pic||"",userType:t.user.userType||"slice"}}),a="#LiveVideo",s="#LiveVideo";"ppt"===t.scene&&(a=".tab-ppt");var o={pptEl:a,el:s,type:"auto",autoplay:this.PolyvParams.autoplay,audioMode:this.PolyvParams.audioMode,width:"100%",height:"100%",pptWidth:"100%",pptHeight:"100%",controllerPosition:"ppt",controller:this.PolyvParams.controller,pptNav:this.PolyvParams.pptNav,barrage:this.PolyvParams.barrage,switchPlayer:this.PolyvParams.switchPlayer};e&&(o.fileId=JSON.parse(this.detailData.play_back_videos)[0].fileId||void 0,o.url=JSON.parse(this.detailData.play_back_videos)[0].url||void 0,o.sessionId=JSON.parse(this.detailData.play_back_videos)[0].channelSessionId||void 0,o.type="vod",o.pptType="record"),r.on(PolyvLiveSdk.EVENTS.CHANNEL_DATA_INIT,(function(t,e){r.setupPlayer(o),r.player.on("barrageStatusChange",(function(t){n.barrageStatus=t}))})),this.liveSdk=r},sendText:function(t,e){this.barrageStatus&&this.liveSdk.player.sendBarrage(t,e||this.charRoomParams.customChatColor)},chatToken:function(t,e){var i=this;this.dsf.http.get("nc/live/getLiveSign",{channelId:t.channelId,userId:t.user.userId,appId:t.appId,role:"guest"}).done((function(n){if(2e4===n.state)Nn.a.post("https://api.polyv.net/live/v3/channel/common/get-chat-token",{appId:t.appId||"",timestamp:n.data.timestamp||"",sign:n.data.sign||"",channelId:n.data.channelId||"",userId:t.user.userId||"",role:"guest",origin:n.data.origin},(function(n){if(200==n.code){var r={roomId:t.channelId||"268682",userId:t.user.userId||"153075602311",nick:t.user.userName||"游客",pic:i.getPic(t.user.pic)||"https://livestatic.videocc.net/assets/wimages/missing_face.png",token:n.data.token,mediaChannelKey:n.data.mediaChannelKey,version:"2.0",container:"#chatwrap",width:"100%",height:"100%",userType:t.user.userType||"slice",enableFlower:i.charRoomParams.enableFlower,enableLike:i.charRoomParams.enableLike,enableRewardAnimation:i.charRoomParams.enableRewardAnimation,enableUpdatePageviews:i.charRoomParams.enableUpdatePageviews,roomMessage:function(e){switch(e.EVENT){case"CLOSEROOM":Nn()(".polyv-input-ele").attr("disabled",!0);break;case"openRoom":Nn()(".polyv-input-ele").removeAttr("disabled");break;case"SIGN_IN":i.time=e.data.limitTime,i.checkinId=e.data.checkinId,i.showSign=!0,i.timer=setInterval((function(){i.time-=1,i.time<=0&&clearInterval(i.timer)}),1e3);break;case"STOP_SIGN_IN":i.showSign=!1,clearInterval(i.timer);break;case"CLOSE_DANMU":break;case"SPEAK":e.user.userId!==t.user.userId&&sendText(e.content);break;case"sendMessage":sendText(e.content);break}}};"ppt"===t.scene?r.tabData=[{name:"文档",type:"ppt"},{name:"聊天",type:"chat"},{name:"提问",type:"ask"}]:i.charRoomParams.tabData.length&&(r.tabData=i.charRoomParams.tabData),i.chatroom=new PolyvChatRoom(r),i.Polyv(t,e,i.chatroom)}}));else{var r="<p style='font-size:14px;text-align:center;padding:20px;box-sizing:border-box'>聊天室初始化失败</p>";document.getElementById("chatwrap").innerHTML=r}})).error((function(t){i.dsf.layer.mobile.closeLoading(loader),i.dsf.layer.mobile.message("服务器异常",!1)}))},submitSigned:function(){var t=this;this.liveSdk.toSign(this.checkinId,(function(e){var i=JSON.parse(e).code||null;200===i&&(t.dsf.layer.mobile.message("签到成功",!0),t.showSign=!1,clearInterval(t.timer))}))},getPic:function(t){if(!t)return null;try{if(t.length>2){var e=location.origin+dsf.url.getWebPath(JSON.parse(t)[0].relativePath);return e}}catch(i){return console.error(i),null}}}}),Bn=Rn,Un=(i(1307),Object(p["a"])(Bn,Dn,Mn,!1,null,"44381861",null));Un.options.__file="mobile/base/live/livePlayer.vue";var Fn=Un.exports,$n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dsf-player"},[t._t("baberrage"),i("video-player",{ref:"videoPlayer",staticClass:"video-player vjs-custom-skin",style:{height:t.height},attrs:{playsinline:!0,options:t.playerOptions},on:{play:function(e){return t.playerPlay(e)},pause:function(e){return t.playerPause(e)},ended:function(e){return t.playerEnded(e)},loadeddata:function(e){return t.playerLoadeddata(e)},waiting:function(e){return t.playerWaiting(e)},playing:function(e){return t.playerPlaying(e)},timeupdate:function(e){return t.playerTimeupdate(e)},canplay:function(e){return t.playerCanplay(e)},canplaythrough:function(e){return t.playerCanplaythrough(e)},ready:t.playerReadied,statechanged:function(e){return t.playerStateChanged(e)}}})],2)},zn=[];$n._withStripped=!0;var Vn=dsf.component({name:"DsfMobilePlayer",ctrlCaption:"播放器",mixins:[$mixins.control],props:{height:{type:String,default:""},autoPlay:{type:Boolean,default:!1},isLive:{type:Boolean,default:!1},netWork:{type:Boolean,default:!0},isPause:{type:Boolean,default:!1},seektime:{type:Number,default:0},coverImg:{type:String,default:""},videoSource:{type:[String]},allowFastForward:{type:Boolean,default:!1},playIng:{type:Boolean,default:!1},isFull:{type:Boolean,default:!1},defaultFull:{type:Boolean,default:!1},playbackRates:{type:Array,default:function(){return[]}}},data:function(){return{initPlay:!1,isSeeking:!1,playerOptions:{playbackRates:this.playbackRates||!1,autoplay:this.autoPlay,muted:!1,loop:!1,preload:"auto",language:"zh-CN",aspectRatio:"16:9",fluid:!0,hls:!0,sources:[],poster:this.coverImg,width:document.documentElement.clientWidth,notSupportedMessage:"此视频暂无法播放",languages:{"zh-CN":{Play:"播放",Pause:"暂停","Current Time":"当前时间",Duration:"时长","Remaining Time":"剩余时间","Stream Type":"媒体流类型",LIVE:"直播",Loaded:"加载完毕",Progress:"进度",Fullscreen:"全屏","Non-Fullscreen":"退出全屏",Mute:"静音",Unmute:"取消静音","Playback Rate":"播放速度",Subtitles:"字幕","subtitles off":"关闭字幕",Captions:"内嵌字幕","captions off":"关闭内嵌字幕",Chapters:"节目段落","Close Modal Dialog":"关闭弹窗",Descriptions:"描述","descriptions off":"关闭描述","Audio Track":"音轨","You aborted the media playback":"视频播放被终止","A network error caused the media download to fail part-way.":"网络错误导致视频下载中途失败。","The media could not be loaded, either because the server or network failed or because the format is not supported.":"网络问题无法加载。","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"由于视频文件损坏或是该视频使用了你的浏览器不支持的功能，播放终止。","No compatible source was found for this media.":"无法找到此视频兼容的源。","The media is encrypted and we do not have the keys to decrypt it.":"视频已加密，无法解密。","Play Video":"播放视频",Close:"关闭","Modal Window":"弹窗","This is a modal window":"这是一个弹窗","This modal can be closed by pressing the Escape key or activating the close button.":"可以按ESC按键或启用关闭按钮来关闭此弹窗。",", opens captions settings dialog":", 开启标题设置弹窗",", opens subtitles settings dialog":", 开启字幕设置弹窗",", opens descriptions settings dialog":", 开启描述设置弹窗",", selected":", 选择","captions settings":"字幕设定","Audio Player":"音频播放器","Video Player":"视频播放器",Replay:"重播","Progress Bar":"进度小节","Volume Level":"音量","subtitles settings":"字幕设定","descriptions settings":"描述设定",Text:"文字",White:"白",Black:"黑",Red:"红",Green:"绿",Blue:"蓝",Yellow:"黄",Magenta:"紫红",Cyan:"青",Background:"背景",Window:"视窗",Transparent:"透明","Semi-Transparent":"半透明",Opaque:"不透明","Font Size":"字体尺寸","Text Edge Style":"字体边缘样式",None:"无",Raised:"浮雕",Depressed:"压低",Uniform:"均匀",Dropshadow:"下阴影","Font Family":"字体库","Proportional Sans-Serif":"比例无细体","Monospace Sans-Serif":"单间隔无细体","Proportional Serif":"比例细体","Monospace Serif":"单间隔细体",Casual:"舒适",Script:"手写体","Small Caps":"小型大写字体",Reset:"重启","restore all settings to the default values":"恢复全部设定至预设值",Done:"完成","Caption Settings Dialog":"字幕设定视窗","Beginning of dialog window. Escape will cancel and close the window.":"开始对话视窗。离开会取消及关闭视窗","End of dialog window.":"结束对话视窗"}}},playingTime:0,timeOutTimer:null}},created:function(){var t=this;this.isLive||(this.playerOptions.controlBar={timeDivider:!0,durationDisplay:!0,remainingTimeDisplay:!1,fullscreenToggle:!0},this.$nextTick((function(){var e=t.player.controlBar.addChild("button");e.addClass("vjs-icon-next"),e.on("tap",t.playerNext)}))),document.addEventListener("fullscreenchange",(function(t){document.fullscreenElement})),this.playerOptions.sources=[this.videoSrc()]},mounted:function(){this.initPlay=!0;var t=this.$el.querySelector("video");t.setAttribute("x5-video-player-type","h5-page"),t.setAttribute("x-webkit-airplay",!1),t.setAttribute("x5-video-player-fullscreen",!1),t.removeAttribute("playsinline"),t.setAttribute("x5-video-orientation","landscape|portrait");var e=document.getElementsByClassName("vjs-fullscreen-control");this.isFull&&(e[0].className="vjs-fullscreen-control vjs-control vjs-button  ycfulldom")},computed:{player:function(){return this.$refs.videoPlayer.player},videoSrc:function(){return function(){var t=this.videoSource;if(!t)return{};var e=t.split("."),i=e[e.length-1],n="";switch(i){case"mp3":n="audio/mpeg3";break;case"m3u8":n="application/x-mpegURL";break;case"mp4":n="video/mp4";break;default:n="";break}return n?{type:n,src:t}:t}}},components:{videoPlayer:v},methods:{isAndroid:function(){var t=window.navigator.userAgent;return t.indexOf("Android")>-1&&t.indexOf("Linux")>-1},fullScreen:function(){var t=this.$refs.videoPlayer.player;t.requestFullscreen(),t.isFullscreen(!1),t.play()},pause:function(){this.player.pause()},play:function(){this.player.play()},currentTime:function(t){this.player.currentTime(t)},playerNext:function(){this.$emit("playerNext")},playerPlay:function(t){this.$emit("playerPlay")},playerPause:function(t){this.$emit("playerPause")},playerEnded:function(t){this.player.currentTime(0),this.$emit("playerEnded")},playerStateChanged:function(t){this.$emit("playerState",t)},playerReadied:function(t){this.isAndroid()&&this.playAudio(),this.$emit("playerReadied")},playAudio:function(){this.player.muted(!1)},playerLoadeddata:function(t){var e=this;this.isAndroid()?(this.autoPlay&&this.player&&this.player.play(),this.netWork&&this.$emit("playerLoadeddata")):(this.seektime&&(this.player.currentTime(this.seektime),this.playingTime=this.player.currentTime()),this.player&&this.netWork&&(this.player.muted(!0),setTimeout((function(){e.player.play(),e.$emit("playerLoadeddata"),e.player.muted(!1)}),2e3)))},playerWaiting:function(t){this.timeOutTimer=setTimeout((function(){clearTimeout(this.timeOutTimer)}),5e3)},playerPlaying:function(t){this.$emit("playerPlaying",t),clearTimeout(this.timeOutTimer)},playerTimeupdate:function(t){var e=this;if(this.initPlay&&!this.isSeeking){var i=this.seektime;this.isSeeking=!0,this.isAndroid()?window.setTimeout((function(){e.initPlay=!1,i&&(e.player.currentTime(i),e.playingTime=e.player.currentTime()),e.player.play()}),1e3):this.initPlay=!1}else if(this.allowFastForward)this.playingTime=t.currentTime(),this.$emit("playerPlayingTime",this.playingTime,t);else{var n=t.currentTime();Math.abs(n-this.playingTime)>10?window.setTimeout((function(){e.player.currentTime(e.playingTime)})):(this.playingTime=t.currentTime(),this.$emit("playerPlayingTime",n,t))}},playerCanplay:function(t){},playerCanplaythrough:function(t){this.$emit("playerCanplaythrough")}},beforeDestroy:function(){this.$refs.videoPlayer.dispose()},updated:function(){this.videoSource},watch:{videoSource:function(t,e){var i=this.videoSrc();i&&i.src&&i.type&&(this.playerOptions.sources[0].src=i.src,this.playerOptions.sources[0].type=i.type,this.playerOptions.sources)}}}),qn=Vn,Hn=(i(1309),Object(p["a"])(qn,$n,zn,!1,null,"cf09b77e",null));Hn.options.__file="mobile/base/course/coursePlayer.vue";var Wn=Hn.exports,Gn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"special_title"},[i("div",{staticClass:"title_name"},[i("span",{staticClass:"font"},[t._v(t._s(t.title))])]),i("div",{staticClass:"content"},[t._t("content")],2)])},Xn=[];Gn._withStripped=!0;var Yn=dsf.component({name:"DsfMobleSpecialTitle",ctrlCaption:"专题版详情标题",mixins:[$mixins.control],props:{title:{type:String,default:"培训介绍",desc:"标题名称"}},data:function(){return{}},components:{},computed:{},created:function(){},mounted:function(){},methods:{}}),Kn=Yn,Jn=(i(1311),Object(p["a"])(Kn,Gn,Xn,!1,null,"00434094",null));Jn.options.__file="mobile/base/special/specialTitle.vue";var Qn=Jn.exports,Zn=[Fn,Wn,Qn],tr=Zn,er=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.visible?i("div",{staticClass:"dsf_cardItemByExam"},[t.isDesign?i("div",{staticClass:"content"},[i("div",{staticClass:"item-wrap"},[i("p",{staticClass:"title ell2 margin-bottom-5"},[t._v("《XXXX》考试")]),i("p",{staticClass:"time margin-bottom-5"},[t._v(t._s(t.formatterDate("2020.3.4","yyyy-mm-dd HH:ii"))+"~"+t._s(t.formatterDate("2020.3.15","yyyy-mm-dd HH:ii")))]),t._m(0),t._m(1)]),i("van-button",{staticClass:"start",attrs:{disabled:!1,block:""},on:{click:t.goDetail}},[t._v("开始考试")]),t._m(2)],1):i("div",{staticClass:"content"},[i("div",{staticClass:"item-wrap"},[i("p",{staticClass:"title ell2 margin-bottom-5"},[t._v("《"+t._s(t.data["title"])+"》考试")]),t.data["startTime"]?i("p",{staticClass:"time margin-bottom-5"},[t._v(t._s(t.formatterDate(t.data["startTime"],"yyyy-mm-dd HH:ii"))+"~"+t._s(t.formatterDate(t.data["endTime"],"yyyy-mm-dd HH:ii")))]):t._e(),i("div",{staticClass:"detail-cell-1"},[i("span",[t._v("考试总分："+t._s(t.data["total"]||0)+"分")]),i("span",[t._v("及格分数："+t._s(t.data["pass"]||0)+"分")])]),i("div",{staticClass:"detail-cell-2 margin-bottom-5"},[i("span",[t._v("考试次数："+t._s(t.data["examNum"].includes("无限")?t.data["examNum"]:(t.data["examNum"]||0)+"次"))]),i("span",[t._v("已考次数："+t._s(t.data["already"]||0)+"次")]),i("span",[t._v("剩余次数："+t._s(t.data["residue"].includes("无限")?t.data["residue"]:(t.data["residue"]||0)+"次"))])])]),i("van-button",{staticClass:"start",attrs:{disabled:!t.data["residue"].includes("无限")&&0==t.data["residue"]&&1!=t.data["isDo"],block:""},on:{click:function(e){return t.goDetail(t.data)}}},[t._v("开始考试")]),t.data["heightScore"]?i("div",{staticClass:"score"},[i("p",{staticClass:"score-num"},[t._v(t._s(t.data["heightScore"]||0)+"分")]),i("p",{staticClass:"txt"},[t._v("最高成绩")])]):t._e()],1)]):t._e()},ir=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"detail-cell-1"},[i("span",[t._v("考试总分：0分")]),i("span",[t._v("及格分数：0分")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"detail-cell-2 margin-bottom-5"},[i("span",[t._v("考试次数：0次")]),i("span",[t._v("已考次数：0次")]),i("span",[t._v("剩余次数：0次")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"score"},[i("p",{staticClass:"score-num"},[t._v("0分")]),i("p",{staticClass:"txt"},[t._v("最高成绩")])])}];er._withStripped=!0;i(484),i(485);var nr=dsf.component({name:"DsfMobileNcCardItemByExamOne",ctrlCaption:"考试卡片",mixins:[$mixins.card],props:{visible:{type:Boolean,default:!0},detailUrl:{type:String,default:""},examAppendUrl:{type:String,default:"exam/api/ksgl/kssz/append"},examUrl:{type:String,default:"exam/api/sjgl/url"},keysMap:{type:Array,default:function(){return[{from:"cover",to:"cover",type:"text",desc:"封面"},{from:"title",to:"title",type:"text",desc:"考试名称"},{from:"startTime",to:"startTime",type:"text",desc:"开始时间"},{from:"endTime",to:"endTime",type:"text",desc:"结束时间"},{from:"total",to:"total",type:"text",desc:"总分"},{from:"pass",to:"pass",type:"text",desc:"及格分数"},{from:"examNum",to:"examNum",type:"text",desc:"考试次数"},{from:"already",to:"already",type:"text",desc:"已考次数"},{from:"residue",to:"residue",type:"text",desc:"剩余次数"},{from:"heightScore",to:"heightScore",type:"text",desc:"最高成绩"},{from:"isDo",to:"isDo",type:"text",desc:"考试是否可用"},{from:"businessId",to:"businessId",type:"text",desc:"获取考试businessId"},{from:"id",to:"id",type:"text",desc:"id"}]}}},data:function(){return{}},components:{},methods:{formatterDate:function(t,e){return t?dsf.date.format(t,e||"yyyy-mm-dd HH:ii"):""},goDetail:function(t){var e=this;return Object(Ve["a"])(ze.a.mark((function i(){var n,r,a,s,o;return ze.a.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(n=e.$replace(e.detailUrl,t),!t["residue"].includes("无限")){i.next=13;break}return i.next=5,e.appendExam(e.data);case 5:if(r=i.sent,!r.success){i.next=11;break}return i.next=9,e.getExamUrl(e.data);case 9:a=i.sent,dsf.layer.openWindow(n+a);case 11:i.next=25;break;case 13:if(0==e.data["residue"]){i.next=24;break}return i.next=16,e.appendExam(e.data);case 16:if(s=i.sent,!s.success){i.next=22;break}return i.next=20,e.getExamUrl(e.data);case 20:o=i.sent,dsf.layer.openWindow(n+o);case 22:i.next=25;break;case 24:0==t["residue"]?e.dsf.layer.message("考试次数已用完",!1):0==t["isDo"]?e.dsf.layer.message("该考试不可用",!1):e.dsf.layer.message("进入考试异常",!1);case 25:case"end":return i.stop()}}),i)})))()},appendExam:function(t){var e=this;return new Promise((function(i,n){var r=dsf.layer.loading();e.dsf.http.post(e.examAppendUrl,{examId:t["id"]}).done((function(t){t.success?i(t):(e.dsf.layer.message(t.message||"获取考试异常",!1),n())})).error((function(t){e.dsf.layer.message(t.message||"获取考试异常",!1),n()})).always((function(){dsf.layer.closeLoading(r)}))}))},getExamUrl:function(t){var e=this;return new Promise((function(i,n){var r=dsf.layer.loading();e.dsf.http.get(e.examUrl,{examId:t["id"],deviceType:"mobile",businessId:t["businessId"],entryType:2}).done((function(t){t.success?i(t.data):(n(),e.dsf.layer.mobile.message(t.message||"获取考试异常",!1))})).error((function(t){n(),e.dsf.layer.mobile.message(t.message||"获取考试异常",!1)})).always((function(){dsf.layer.closeLoading(r)}))}))}}}),rr=nr,ar=(i(1313),Object(p["a"])(rr,er,ir,!1,null,"e12796be",null));ar.options.__file="mobile/components/exam/examCardOne.vue";var sr=ar.exports,or=[sr],lr=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.visible?i("div",{staticClass:"dsf_learnHeader"},[i("div",{staticClass:"content"},[t.isDesign?i("div",{staticClass:"item-wrap"},t._l(t.keysMap,(function(e,n){return i("div",{key:n,staticClass:"item"},[i("div",{staticClass:"num"},[e.from.includes(",")?i("span",[t._v(t._s(t.resData[e.from.split(",")[0]])+"/"+t._s(t.resData[e.from.split(",")[1]]))]):i("span",[t._v(t._s(t.resData[e.from]))])]),i("p",{staticClass:"title"},[t._v(t._s(e.label))])])})),0):i("div",{staticClass:"item-wrap"},t._l(t.keysMap,(function(e,n){return i("div",{key:n,staticClass:"item"},[i("div",{staticClass:"num"},[e.from.includes(",")?i("span",[t._v(t._s(t.resData[e.from.split(",")[0]]||0)+"/"+t._s(t.resData[e.from.split(",")[1]]||0))]):i("span",[t._v(t._s(t.resData[e.from]||0))])]),i("p",{staticClass:"title"},[t._v(t._s(e.label))])])})),0)])]):t._e()},cr=[];lr._withStripped=!0;var ur=dsf.component({name:"DsfMobileNcLearnHeader",ctrlCaption:"在学顶部汇总",mixins:[$mixins.control],props:{visible:{type:Boolean,default:!0},reqUrl:{type:String,default:""},keysMap:{type:Array,default:function(){return[{from:"year",to:"year",type:"text",desc:"学习年度",label:"学习年度"},{from:"special,special2",to:"special",type:"text",desc:"必修专题班",label:"必修专题班"},{from:"course,course2",to:"course",type:"text",desc:"必修课程",label:"必修课程"},{from:"total,total2",to:"total",type:"text|number",desc:"总学时",label:"总学时"}]}}},data:function(){return{resData:{}}},components:{},mounted:function(){this.isDesign?this.resData={year:0,special:0,special2:0,course:0,course2:0,total:0,total2:0}:this.getData()},methods:{getData:function(){var t=this;this.reqUrl&&this.dsf.http.get(this.reqUrl,{}).done((function(e){e.success?t.resData=e.data:t.dsf.layer.mobile.message(e.message||"获取数据异常",!1)})).error((function(e){t.dsf.layer.mobile.message(e.message||"获取数据异常",!1)}))}}}),dr=ur,hr=(i(1315),Object(p["a"])(dr,lr,cr,!1,null,"7e18fb1c",null));hr.options.__file="mobile/components/learn/learnHeader.vue";var fr=hr.exports,pr=[fr],mr=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ds-control dsf_nc_mobile_player",style:{width:t.itemWidth}},[i("div",{class:["course-player-player",{positionAbs:t.isDesign}]},["video"==t.curPlayType?i("dsf-mobile-player",{ref:"mobilePlayer",attrs:{videoSource:t.videoSourceUrl,seektime:t.seektime,autoPlay:t.autoPlay},on:{playerPlay:t.playerHasPlay,playerPause:t.playerHasPause,playerPlayingTime:t.playerPlayingTime,playerEnded:t.playerEnded,playerLoadeddata:t.playerHasLoaded}}):i("div",{class:["fixed-top-cover",{positionAbs:t.isDesign}]},[i("van-image",{attrs:{src:t._f("imgFormat")(t.it&&t.it.cover),fit:"cover"}})],1)],1),i("div",{ref:"playerFixedContent",staticClass:"course-player-fixed-content",staticStyle:{"padding-top":"210px"}},[i("div",{staticClass:"course-content-header"},[t.it?i("div",{staticClass:"course-title"},[i("div",{staticClass:"courseTitle"},[i("div",{staticClass:"title"},[i("div",{staticClass:"detail ellipsis-2"},[t._v(t._s(t.it.title))])]),t._m(0)])]):t._e()]),i("div",{staticClass:"fixed-title-visible"},[i("div",{ref:"fixedContentTitle",staticClass:"fixed-content-title-wrap"},t._l(t.fixedMenus,(function(e,n){return i("div",{key:e.id,class:"fixed-title "+(e.active?"active":""),on:{click:function(e){return t.scrollTo(n)}}},[i("dsf-icon",{style:"visibility:"+(e.active?"inherit":"hidden"),attrs:{name:"location-solid"}}),i("span",[t._v(t._s(e.name))])],1)})),0)]),i("div",{staticClass:"course-container"},[i("course-title-content",{ref:"courseContainerIntrduce",attrs:{title:t.fixedMenus[0].name}},[i("template",{slot:"content"},[t.it?i("div",{staticClass:"desc",domProps:{innerHTML:t._s(t.it.content)}}):t._e()])],2),i("course-title-content",{ref:"courseContainerChapter",attrs:{title:t.fixedMenus[1].name}},[i("template",{slot:"content"},[t.chapters?i("courseChapter",{attrs:{chapters:t.chapters},on:{changePlay:t.changePlayerUrl}}):t._e()],1)],2),i("course-title-content",{ref:"courseContainerTeacher",attrs:{title:t.fixedMenus[2].name}},[i("template",{slot:"content"},[i("courseTeachers",{attrs:{list:t.it&&t.it.teacherList?t.it.teacherList:[]},on:{toTeacherDetail:t.toTeacherDetail}})],1)],2),i("div",[i("course-title-content",{ref:"courseContainerRecommend",attrs:{title:t.fixedMenus[3].name,showMore:!0,moreUrl:t.moreUrl}}),i("div",{class:["insert",{"insert-wrap":t.isDesign}]},[i("div",{class:["insert-content",{"insert-border":t.isDesign}],attrs:{"slot-name":"recommend"}},[t._t("recommend")],2)])],1)],1)]),t.showIframe?i("div",{staticClass:"fixed-iframe"},[i("span",{staticClass:"close-icon",on:{click:function(e){t.showIframe=!1}}},[i("dsf-icon",{attrs:{name:"guanbi1"}})],1),i("iframe",{attrs:{src:t.videoSourceUrl,frameborder:"0"}})]):t._e(),i("div",{class:["fixed-bottom",{positionAbs:t.isDesign}]},[i("div",{staticClass:"handle-wrap"},[i("div",{staticClass:"handle-items"},[i("dl",{on:{click:function(e){return t.toHandle("fs")}}},[i("dsf-icon",{attrs:{name:"fenxiangfangshi1"}}),i("span",[t._v("分享")])],1),i("dl",{on:{click:function(e){return t.toHandle("sc")}}},[i("dsf-icon",{attrs:{name:t.collectIcon}}),i("span",[t._v("收藏")])],1)]),i("div",{staticClass:"note",on:{click:t.toNote}},[t._v("笔记")]),i("div",{staticClass:"join-wrap"},[i("van-button",{staticClass:"join-btn",attrs:{round:""},on:{click:t.joinStudy}},[t._v(t._s(t.joinText))])],1)])])])},vr=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"more"},[i("div",{staticClass:"left-click"},[i("i",{staticClass:"iconfont icon-icon_yulan"}),i("span",[t._v("0")])])])}];mr._withStripped=!0;var gr=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"course-introduce-content",staticStyle:{"overflow-y":"auto"}},[i("div",{staticClass:"course-wrap"},[t._m(0),i("div",{ref:"conDescHeight",staticClass:"course-inner"},[i("div",{staticClass:"course-container"},[i("p",{staticClass:"con-desc abstract-height",class:{ell6:t.showDetail,maxHeightAuto:!t.showDetail}},[t._v(" "+t._s("暂无")+" ")]),i("div",{staticClass:"con-desc-show-wrap"},[i("span",{staticClass:"con-desc-show",on:{click:function(e){t.showDetail=!t.showDetail}}},[t._v("展开详情"),i("i",{staticClass:"iconfont icon-xia1"})]),i("span",{staticClass:"con-desc-show",on:{click:function(e){t.showDetail=!t.showDetail}}},[t._v("收起详情"),i("i",{staticClass:"iconfont icon-shang1"})])])])]),t._m(1)])])},yr=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"title"},[i("h3",{staticClass:"title-name"},[t._v(" 课程介绍 ")]),i("div",{staticClass:"title-time"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"course-tags"},[i("div",{staticClass:"title"},[t._v("课程标签")]),i("div",{staticClass:"tags"})])}];gr._withStripped=!0;var _r={name:"DsfMobileCourseIntroduce",ctrlCaption:"课程介绍",components:{},props:{title:{type:String,default:"标题"},itemWidth:{type:String,default:"100%"},itPadding:{type:String,default:"264px 0 0 0 "}},computed:{},data:function(){return{showDetail:!0}},methods:{joinStudy:function(){},rateChange:function(){},setHeight:function(){var t=this;this.$nextTick((function(){var e=t.$refs.conDescHeight?t.$refs.conDescHeight.offsetHeight:0;e>=128&&(t.showDetailBtn=!0)}))}}},br=_r,Tr=(i(1317),Object(p["a"])(br,gr,yr,!1,null,null,null));Tr.options.__file="mobile/base/course/courseIntrduce.vue";var Sr=Tr.exports,wr=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"course-teacher-content"},[i("div",{staticClass:"course-wrap"},t._l(t.list,(function(e,n){return i("div",{key:e+n,staticClass:"teacher-container"},[i("div",{staticClass:"head"},[i("van-image",{attrs:{src:t._f("imgFormat")(e["photo"]),fit:"cover"}})],1),i("div",{staticClass:"teacher-detail"},[i("h4",{staticClass:"con-title"},[t._v(" "+t._s(e.name||"")+" ")]),i("p",{staticClass:"con-desc"},[t._v(" "+t._s(e.unitJob||"")+" ")])]),i("div",{staticClass:"teacher-more"},[i("p",[t._v("共"+t._s(e.courseNum||0)+"门课程")]),i("div",{staticClass:"see",on:{click:function(i){return t.toTeacherDetail(e)}}},[t._v("查看全部")])])])})),0),0===t.list.length?i("div",{staticClass:"noteacher"}):t._e()])},Cr=[];wr._withStripped=!0;var kr={name:"DsfMobileCourseChapter",ctrlCaption:"教师介绍",components:{},props:{title:{type:String,default:"标题"},list:{type:Array,default:function(){return[]}}},computed:{},data:function(){return{showDetail:!0}},mounted:function(){this.list},methods:{toTeacherDetail:function(t){this.$emit("toTeacherDetail",t.id)}}},xr=kr,Er=(i(1319),Object(p["a"])(xr,wr,Cr,!1,null,null,null));Er.options.__file="mobile/base/course/courseTeachers.vue";var Pr=Er.exports,Or=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"course-chapter-content"},[i("div",{staticClass:"course-wrap"},[i("ul",{staticClass:"items"},t._l(t.chapters.children,(function(e,n){return i("li",{key:e.id+n,on:{click:function(i){return t.backToPlayer(e)}}},[i("div",{staticClass:"item-info"},[i("div",{staticClass:"item-desc"},[i("div",{staticClass:"item-info-h4"},[e.rTypeText?i("b",[t._v(t._s(e.rTypeText))]):t._e(),i("span",{},[t._v(t._s(e.title))])]),e.kjsc?i("span",{staticClass:"kjsc"},[t._v(t._s(e.kjsc))]):t._e()]),e.id===t.chapters.playItem.id?i("span",{staticClass:"cur-play"},[i("dsf-icon",{attrs:{name:"tongjitu"}})],1):t._e(),"文稿"!==e.rTypeText?i("div",{staticClass:"item-circle"},[i("van-circle",{attrs:{"layer-color":"#D8D8D8",color:"#FF6A00",size:"40",rate:30,speed:100,value:e.finishedRate,text:""+e.finishedRate,"stroke-width":"100"}})],1):t._e()])])})),0)])])},Ir=[];Or._withStripped=!0;var Lr={name:"DsfMobileCourseChapter",ctrlCaption:"课程目录",components:{},props:{title:{type:String,default:"标题"},chapters:{type:Object,default:function(){return{}}}},computed:{},mounted:function(){this.chapters},data:function(){return{showDetail:!0}},methods:{backToPlayer:function(t){this.$emit("changePlay",t)},rateChange:function(){}}},Ar=Lr,Dr=(i(1321),Object(p["a"])(Ar,Or,Ir,!1,null,null,null));Dr.options.__file="mobile/base/course/courseChapter.vue";var Mr=Dr.exports,jr=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"course-title-content ds-control"},[i("div",{staticClass:"comment-wrap"},[i("div",{staticClass:"commen-title"},[i("h3",{staticClass:"title-name"},[t._v(" "+t._s(t.title)+" "),t.showMore?i("span",{staticClass:"recommend-text",on:{click:t.toMorePage}},[t._t("more",(function(){return[t._v("更多>")]}))],2):t._e()])])]),i("div",{staticClass:"content"},[t._t("content")],2)])},Nr=[];jr._withStripped=!0;var Rr=dsf.component({name:"DsfMobleCourseContentTitle",ctrlCaption:"课程播放内容标题",mixins:[$mixins.control],props:{title:{type:String,default:"培训介绍",desc:"标题名称"},moreUrl:{type:String,default:""},showMore:{type:Boolean,default:!1}},data:function(){return{}},components:{},computed:{},created:function(){},mounted:function(){},methods:{toMorePage:function(){var t=this.moreUrl;t&&this.$router.push({path:t})}}}),Br=Rr,Ur=(i(1323),Object(p["a"])(Br,jr,Nr,!1,null,"675bba61",null));Ur.options.__file="mobile/base/course/courseTitleContent.vue";var Fr=Ur.exports,$r=dsf.component({name:"DsfMobileNcMobileCoursePlayer",ctrlCaption:"课程播放",mixins:[$mixins.layout],components:{courseIntrduce:Sr,courseTeachers:Pr,courseChapter:Mr,courseTitleContent:Fr},props:{moreUrl:{type:String,default:"/mobile/nc/page/app/recommend/mobile-recommendPage?active=course"},teacherDetailUrl:{type:String,default:""},itPadding:{type:String,default:"220px 0 0 0 "},slots:{type:Array,default:function(){return[{name:"recommend",controls:[]}]}}},computed:{videoSourceUrl:function(){var t="",e=this.curPlayItem;if(e){var i=e.rTypeValue,n=this.filterFileUrl(e);switch(i){case"link":t=e.linkPcUrl;break;case"document":t=n;break;case"audio":t=n;break;case"video":t=n;break;default:break}}return dsf.url.getWebPath(t)},joinText:function(){var t="加入在学";return this.item&&(t=1==this.item.isPlaned?"取消加入在学":"加入在学"),t},collectIcon:function(){var t="shoucang";return this.item&&(t=1==this.item.isCollected?"shoucang_shixin":"shoucang"),t}},data:function(){return{commentText:"",tabActive:"课程介绍",rateNum:0,rateReadonly:!1,isPlayError:!1,it:null,item:null,chapters:null,curPlayItem:null,curPlayType:null,playingTimer:null,curPlayingTime:"00:00:00",seektime:0,id:this.$route.query.id||"53ac5afbae104f9089fd17a178d9d0a2",showIframe:!1,playerLoaded:!1,playerPlaying:!1,playerInit:!0,autoPlay:!0,fixedMenus:[{name:"课程介绍",id:"courseIntrduce",active:!0},{name:"课程目录",id:"courseChapter",active:!1},{name:"教师介绍",id:"teacherIntrduce",active:!1},{name:"相关推荐",id:"courseRecommend",active:!1}]}},mounted:function(){var t=this;this.isDesign||(this.loadTechaersList(),this.loadCourseChapterList(),this.$nextTick((function(){t.$refs.playerFixedContent.offsetHeight}))),window.addEventListener("scroll",this.handleScroll,!0)},methods:{reloadData:function(){this.id=this.$route.query.id,this.loadTechaersList(),this.loadCourseChapterList()},loadTechaersList:function(){var t=this,e="nc/course/play/getPlayBase",i={courseId:this.id};zr(e,i,"get",(function(e){t.it=e.data}))},loadCourseChapterList:function(){var t=this,e="nc/course/play/getPlayTrend",i={courseId:this.id};zr(e,i,"get",(function(e){var i=e.data;if(!dsf.isEmptyObject(i)){var n=i.playTree,r=i.locationSite;t.item=i,n&&r&&(n.playItem=r,t.chapters=n,t.curPlayItem=r,t.curPlayType=r.rTypeValue,t.seektime=t.formatSeekTime(r.lastWatchPoint),"document"==r.rTypeValue&&(t.showIframe=!0,t.setSaveProgress()))}}))},changePlayerUrl:function(t){var e=this;if(this.chapters.playItem=t,"link"!==t.rTypeValue){var i="nc/course/play/getPlayRecord",n={courseId:this.id,coursewareId:t.id};zr(i,n,"get",(function(i){e.curPlayItem=i.data,e.curPlayType=t.rTypeValue,"document"==t.rTypeValue&&(e.showIframe=!0,e.setSaveProgress())}))}},playerPlayingTime:function(t){var e=dsf.date.secondsToTime(t),i=e.hours+":"+e.minutes+":"+e.seconds;this.curPlayingTime=i},formatSeekTime:function(t){t||(t="00:00:00"),t=t.split(":");var e=60*t[0]*60+60*t[1]+1*t[2];return e},savePlayerProgress:function(){var t=this,e="nc/course/play/pulseSaveRecord",i=this.curPlayingTime,n=this.curPlayItem,r=this.chapters,a=n.id,s={courseId:this.id,coursewareId:a,watchPoint:i,pulseTime:10};zr(e,s,"post",(function(e){var i=e.data,a=e.success;a&&_.each(r.children,(function(e,r){e.id==n.id&&(t.chapters.children[r].finishedRate=i.finishedRate)}))}),(function(t){dsf.log("保存进度异常")}),!1)},setSaveProgress:function(){var t=this;this.clearPlayingTimer(),this.playingTimer=setInterval((function(){t.savePlayerProgress()}),1e4)},playerHasPlay:function(){dsf.log("播放"),this.$refs.mobilePlayer.playAudio(),this.setSaveProgress()},playerHasPause:function(){dsf.log("暂停"),this.playerLoaded&&(this.savePlayerProgress(),this.clearPlayingTimer())},playerEnded:function(){this.seektime=.1,this.savePlayerProgress(),this.clearPlayingTimer(),this.$refs.mobilePlayer.playerLoadeddata()},playerHasLoaded:function(){dsf.log("加载完成.."),this.playerLoaded=!0},clearPlayingTimer:function(){var t=this.playingTimer;t&&clearInterval(t)},filterFileUrl:function(t){var e="";if("document"==t.rTypeValue){if(t.fileAdditionUrl){var i=dsf.config.setting_public_file_host;e=i+"/preview/file?url=".concat(i).concat(JSON.parse(t.fileAdditionUrl)[0].relativePath)}}else if(t&&t.fileUrl){var n=JSON.parse(t.fileUrl);e=n.file?n.file[0].relativePath:dsf.isArray(n)?n[0].relativePath:n.sd.relative||n.sd.relativePath}return e},toTeacherDetail:function(t){var e=this.teacherDetailUrl;e&&this.$router.push({path:e+t})},joinStudy:function(){var t=this,e="nc/learn/plan/saveOrCancel",i=this.id,n="ztb"==this.$route.query.type?"class":"course",r={id:i,type:n};zr(e,r,"post",(function(e){var i=e.message,n=e.data,r=e.success;r&&(t.item.isPlaned=n.isDo),dsf.layer.mobile.message(i,n.isDo)}),(function(t){dsf.log("加入在学")}),!1)},rateChange:function(){},toNote:function(){dsf.layer.mobile.message("暂未开放,敬请期待")},toHandle:function(t){var e=this;if("fs"==t)dsf.layer.mobile.message("暂未开放,敬请期待");else{var i="/dsfa/collect/saveOrCancel",n={ywlxValue:"course",ywlxText:"课程",ywid:this.id};zr(i,n,"post",(function(t){var i=t.message,n=t.data,r=t.success;r&&(e.item.isCollected=n.isDo),dsf.layer.mobile.message(i,n.isDo)}),(function(t){dsf.log("收藏")}),!1)}},toReaommend:function(){var t=this.recommendUrl;t&&this.$router.push({path:t})},scrollTo:function(t){var e=this;this.$nextTick((function(){var i=["courseContainerIntrduce","courseContainerChapter","courseContainerTeacher","courseContainerRecommend"][t];document.querySelector(".ds-page-center").scrollTo({top:e.$refs[i].$el.offsetTop-310,behavior:"smooth"})}))},handleScroll:function(){var t=this;this.$nextTick((function(){var e=document.querySelector(".ds-page-center").scrollTop,i=310,n=window.innerHeight,r=document.querySelector(".course-player-fixed-content").offsetHeight,a=(Math.abs(n-r),t.$refs.courseContainerIntrduce.$el.offsetTop-i),s=t.$refs.courseContainerChapter.$el.offsetTop-i,o=t.$refs.courseContainerTeacher.$el.offsetTop-i,l=t.$refs.courseContainerRecommend.$el.offsetTop-i;e>=100?(t.$refs.fixedContentTitle.style.position="fixed",t.$refs.fixedContentTitle.style.top="210px"):(t.$refs.fixedContentTitle.style.position="relative",t.$refs.fixedContentTitle.style.top="0"),_.each(t.fixedMenus,(function(t,i){e>a&&a<s&&(t.active=0==i),e>s&&a<o&&(t.active=1==i),e>o&&(t.active=2==i),e>l&&(t.active=3==i)}))}))}},beforeDestroy:function(){this.clearPlayingTimer(),window.removeEventListener("scroll",this.handleScroll)}});function zr(t,e,i,n,r){var a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],s=a?dsf.layer.mobile.loading():"";function o(t){r&&r(t),dsf.layer.mobile.message(t.message,!1)}dsf.http[i](t,e).done((function(t){t.success&&n&&n(t),t.success||o(t)})).error((function(t){o(t)})).always((function(t){dsf.layer.mobile.closeLoading(s)}))}var Vr=$r,qr=(i(1325),Object(p["a"])(Vr,mr,vr,!1,null,null,null));qr.options.__file="mobile/components/course/coursePlayer.vue";var Hr=qr.exports,Wr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dsf_nc_minInfo"},[n("div",{staticClass:"dsf_nc_minInfo_top"},[n("div",{staticClass:"head"},[n("van-image",{staticClass:"round",staticStyle:{width:"60px",height:"60px"},attrs:{round:"",src:t.setImage(t.persion[t.topList[0]]||""),fit:t.fill},scopedSlots:t._u([{key:"error",fn:function(){return[n("div",{staticClass:"image-slot-error"},[n("img",{attrs:{src:i(1327),alt:""}})])]},proxy:!0}])}),n("div",{staticClass:"info"},[n("p",{staticClass:"name"},[t._v(t._s(t.persion[t.topList[1]||""]))]),n("p",{staticClass:"job"},[n("span",[t._v(t._s(t.persion[t.topList[2]||""]))]),n("span",[t._v(t._s(t.persion[t.topList[3]||""]))])])])],1)]),n("div",{staticClass:"learnInfo"},t._l(t.itemList,(function(e,i){return n("div",{key:i,staticClass:"info-box"},[n("p",{staticClass:"num",style:{color:e.color}},[n("span",[t._v(t._s(t.previewData[e.field]||0))]),t._v(" "+t._s(e.unit)+" ")]),n("p",[t._v(t._s(e.text))])])})),0),n("DsfMobileMeMenus",{staticClass:"menu menu1",attrs:{isDesign:t.isDesign,menus:t.menus}}),n("DsfMobileMeMenus",{staticClass:"menu menu2",attrs:{isDesign:t.isDesign,menus:t.menus2}})],1)},Gr=[];Wr._withStripped=!0;var Xr=dsf.component({name:"DsfMobileNcMineInfo",ctrlCaption:"我的个人信息",mixins:[$mixins.control],props:{list:{type:String,default:"注册登录,课程学习,专题培训,获得证书"},unit:{type:String,default:"天,门,次,项"},colorList:{type:String,default:"#FF8F00,#F66C6C,#0E8CEE,#1EBDB8"},fieldList:{type:String,default:"a,b,c,d"},reqUrl:{type:String,default:""},topString:{type:String,default:"cover,name,unit,job"},menus:{type:Array,default:function(){return[{id:1,name:"培训记录",icon:"lianxi",url:"",subhead:""},{id:2,name:"我的笔记",icon:"shouxieqianpi",url:"",subhead:""},{id:3,name:"我的收藏",icon:"shoucang2",url:"",subhead:""},{id:4,name:"学习档案",icon:"wendang",url:"",subhead:""}]}},menus2:{type:Array,default:function(){return[{id:1,name:"快速指南",icon:"zhinan",url:"",subhead:""},{id:2,name:"客服顾问",icon:"lianxikefu",url:"",subhead:""},{id:3,name:"意见反馈",icon:"fankui",url:"",subhead:""},{id:4,name:"更新记录",icon:"yunduanxiazai",url:"",subhead:""},{id:4,name:"账号绑定",icon:"password1",url:"",subhead:""}]}}},computed:{},data:function(){return{itemList:[],topList:[],persion:{},previewData:{}}},mounted:function(){var t=this,e=this.list.split(","),i=this.unit.split(","),n=this.colorList.split(","),r=this.fieldList.split(",");this.topList=this.topString.split(","),e.forEach((function(e,a){var s={text:e,unit:i[a]||"",color:n[a]||"",field:r[a]||""};t.itemList.push(s)})),this.isDesign||this.userInfo()},methods:{userInfo:function(){var t=this;this.reqUrl&&this.dsf.http.get(this.reqUrl,{}).done((function(e){e.success?(t.persion=e.data.persion||{},t.previewData=e.data.previewData||{}):t.dsf.layer.mobile.message(e.message||"获取数据异常",!1)})).error((function(e){t.dsf.layer.mobile.message(e.message||"获取数据异常",!1)}))},setImage:function(t){var e="";return t&&(e=dsf.url.getWebPath(JSON.parse(t)[0].relativePath)||""),e}}}),Yr=Xr,Kr=(i(1328),Object(p["a"])(Yr,Wr,Gr,!1,null,"38e6245a",null));Kr.options.__file="mobile/components/mine/mineInfo.vue";var Jr=Kr.exports,Qr=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bbs-wrap"},[i("div",{staticClass:"bbs-container bbs-add"},[i("div",{staticClass:"content"},[i("van-field",{ref:"select",staticClass:"select",class:{"no-val":-1==t.block},attrs:{name:"radio",label:"类型"},scopedSlots:t._u([{key:"input",fn:function(){return[i("van-dropdown-menu",[i("van-dropdown-item",{attrs:{options:t.blocks},on:{change:t.changeBlock},model:{value:t.block,callback:function(e){t.block=e},expression:"block"}})],1)]},proxy:!0}])}),i("div",[i("div",{staticClass:"title"},[t._v("内容")]),i("van-field",{attrs:{rows:"5",autosize:"",type:"textarea",placeholder:"请输入内容"},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1),i("div",{staticClass:"upload"},[i("div",{staticClass:"title"},[t._v("上传图片")]),i("van-uploader",{attrs:{"max-count":9,multiple:"","after-read":t.uploadAfterRead},model:{value:t.uploader,callback:function(e){t.uploader=e},expression:"uploader"}})],1)],1),i("div",{staticClass:"button",on:{click:t.submit}},[t._v("提交")])])])},Zr=[];Qr._withStripped=!0;var ta=dsf.component({name:"DsfMobileNcUserBack",ctrlCaption:"我的个人信息",mixins:[$mixins.control],data:function(){return{typeObj:{},blocks:[{text:"产品建议",value:1},{text:"使用问题",value:2},{text:"其他反馈",value:3}],block:3,uploader:[],title:"",content:""}},created:function(){},computed:{pageTitle:function(){return""}},methods:{getType:function(){var t=this;dsf.http.post("meta/data?id=588001088f794ee7ba570f6e4488c527&pageName=edit&namespace=nc.operate.feedback&data=%7B%22_id%22%3A%22588001088f794ee7ba570f6e4488c527%22%7D",{}).done((function(e){"20000"==e.state?(t.typeObj=e.data,t.blocks=e.data["nc_operate_feedback.type"],t.blocks):t.dsf.layer.message(e.message,!1)})).error((function(e){t.dsf.layer.message(e.message,!1)})).always((function(){}))},uploadAfterRead:function(t){t.length||(t=[t]),_.forEach(t,(function(t){t.status="uploading",t.message="上传中...";var e=!1,i=new FormData;i.append("file",t.file),dsf.http.post("file/upload",i,{headers:{"Content-Type":"multipart/form-data"}}).done((function(i){"20000"==i.state?(t.status="done",t.data=i.data[0]):e=i.message||!0})).error((function(t){e=t.message||!0})).always((function(){e&&(t.status="failed",t.message="上传失败",t._message=e)}))}))},changeBlock:function(t){"-1"!=t&&"-1"==this.blocks[0].value&&this.blocks.shift(1)},submit:function(){var t=this;this.uploader;var e=[];if(_.each(this.uploader,(function(t){e.push(t.data)})),-1==this.block)return dsf.layer.message("请选择版块",!1),void this.$refs.select.$el.scrollIntoView();var i=this.dsf.layer.loading(),n={namespace:"nc.operate.feedback",pageName:"edit",data:{"nc_operate_feedback.type":this.blocks[0],"nc_operate_feedback.content":this.content,"nc_operate_feedback.file":JSON.stringify(e),"nc_operate_feedback.contact":"",_id:this.typeObj._id}};n.data=JSON.stringify(n.data),dsf.http.post("meta/persistData",n).done((function(e){if("20000"==e.state){t.dsf.layer.message("提交成功",!0);setTimeout((function(){t.$router.go(-1)}),1500)}else t.dsf.layer.message(e.message,!1)})).error((function(e){t.dsf.layer.message(e.message,!1)})).always((function(){t.dsf.layer.closeLoading(i)}))}}}),ea=ta,ia=(i(1330),Object(p["a"])(ea,Qr,Zr,!1,null,"56bd9904",null));ia.options.__file="mobile/components/mine/userBack.vue";var na=ia.exports,ra=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.visible?i("div",{staticClass:"dsf_nc_mobile_livePlay"},[i("div",{staticClass:"player-box",style:{height:t.getPlayHeight(),width:t.playerWidth}},[t.getLivePlayer?i("live-player",{attrs:{detailData:t.ncLiveInfo,playerHeight:t.playerHeight,height:t.playerHeight,state:t.liveInfo.state.value}}):t.getVideoPlay?i("div",[i("coursePlayer",{attrs:{height:t.playerHeight,videoSource:t.getVideoSource,isLive:0==t.liveInfo.state.value}})],1):t._e(),t.getLiveState?i("div",{staticClass:"img-box",style:{height:t.playerHeight}},[i("van-image",{attrs:{width:"100%",height:"100%",fit:"fill",src:t._f("imgFormat")(t.ncLiveInfo.cover)},scopedSlots:t._u([{key:"loading",fn:function(){return[i("van-loading",{attrs:{type:"spinner",size:"20"}})]},proxy:!0},{key:"error",fn:function(){return[i("img",{attrs:{src:t.dsf.config.setting_error_img}})]},proxy:!0}],null,!1,597280870)}),0==t.ncLiveInfo.stateValue?i("div",{staticClass:"liveClose"},[t._v("该直播间被停用")]):2===t.liveInfo.state.value?i("div",{staticClass:"liveClose"},[t._v("直播结束")]):0===t.liveInfo.state.value?i("div",{staticClass:"liveClose"},[i("p",[t._v("开播时间:"+t._s(t.ncLiveInfo.timeSdate||""))])]):t._e()],1):t._e()],1),i("div",{staticClass:"flex1"},[t.showBrief?i("div",{staticClass:"abstract"},[i("div",{staticClass:"live-detail-title"},[t._v(t._s(t.ncLiveInfo.title||"暂无标题"))]),t._m(0),t.ncLiveInfo.content?i("div",{staticClass:"live-detail-abstract",domProps:{innerHTML:t._s(t.ncLiveInfo.content)}}):t._e()]):t._e(),0===t.liveInfo.state.value?i("div",{staticClass:"video-info padding-15"},[i("div",{staticClass:"time"},[i("span",[t._v("倒计时：")]),i("span",[t._v(t._s(t.time.days))]),i("span",[t._v(":")]),i("span",[t._v(t._s(t.time.hours))]),i("span",[t._v(":")]),i("span",[t._v(t._s(t.time.minutes))]),i("span",[t._v(":")]),i("span",[t._v(t._s(t.time.seconds))])]),i("div",[t._v(t._s(t.liveInfo.subscribeTotal||0)+"人 预约")])]):t._e()]),t.showLineLive?i("div",{staticClass:"detail-bottom padding-15",on:{click:t.goLiveLine}},[t._v(t._s(2==t.liveInfo.state.value?"直播回放":"进入直播"))]):t._e(),t.showLineLive||0!==t.liveInfo.state.value?t._e():i("div",{staticClass:"detail-bottom padding-15",on:{click:t.changeState}},[t._v(" "+t._s(t.liveInfo.subscribe?"已预约":"立即预约")+" ")])]):t._e()},aa=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"abstract-title"},[i("span",{staticClass:"title-span"},[t._v("简介")])])}];ra._withStripped=!0;var sa=dsf.component({name:"DsfMobileNcLivePlay",ctrlCaption:"直播播放页",mixins:[$mixins.control],props:{visible:{type:Boolean,default:!0},sourceUrl:{default:"nc/live/info",type:String},ratio:{default:"4:3",type:String},playerWidth:{default:"100%",type:String}},data:function(){return{id:"",playerHeight:"",liveInfo:{state:{value:5}},ncLiveInfo:{},time:{days:"00",hours:"00",minutes:"00",seconds:"00"},getLivePlayer:!1,getVideoPlay:!1,getVideoSource:!1,getLiveState:!1,showBrief:!1,showLineLive:!1}},components:{livePlayer:Fn,coursePlayer:Wn},computed:{},created:function(){},mounted:function(){this.id=this.queryString["id"]||"4e74636177744ab2a0816bf9b3d7c44f",this.getLiveinfo()},methods:{getPlayHeight:function(){var t=$(".player-box").width(),e=this.ratio.split(":");return this.playerHeight=t*e[0]/(100*e[1])+"rem",this.playerHeight,"1"===this.ncLiveInfo.typeValue&&0!=this.ncLiveInfo.stateValue?0==this.liveInfo.state.value?"auto":"100vh":t*e[0]/(100*e[1])+"rem"},getLiveinfo:function(){var t=this;this.dsf.http.get(this.sourceUrl,{id:this.id}).done((function(e){e.success?(t.ncLiveInfo=e.data.ncLiveInfo,t.liveInfo=e.data,t.timeDown(),t.getLivePlayer=t.LivePlayer(),t.getVideoPlay=t.VideoPlay(),t.showBrief=t.Brief(),t.VideoSource(),t.getLiveState=t.LiveState()):t.dsf.layer.mobile.message(e.message||"获取直播数据异常",!1)})).error((function(e){t.dsf.layer.mobile.message(e.message||"获取直播数据异常",!1)}))},timeDown:function(){if(this.ncLiveInfo.timeSdate){var t=dsf.date.parse(this.ncLiveInfo.timeSdate,"yyyy-mm-dd hh:ii:ss"),e=new Date,i=dsf.date.timeDown(e,t);this.time=i}},changeState:function(){var t=this,e=this.dsf.layer.loading();this.dsf.http.post("/dsfa/subscribe/saveOrCancel",{ywlxValue:"live",ywlxText:"直播",ywid:this.id}).done((function(i){t.dsf.layer.closeLoading(e),i.success?(t.liveInfo.subscribe=i.data.isDo,i.data.isDo?++t.liveInfo.subscribeTotal:(--t.liveInfo.subscribeTotal,t.liveInfo.subscribeTotal<0&&(t.liveInfo.subscribeTotal=0)),t.dsf.layer.message(t.liveInfo.subscribe?"预约成功":"取消预约成功",!0)):t.dsf.layer.message(i.message||"操作数据异常",!1)})).error((function(i){t.dsf.layer.closeLoading(e),t.dsf.layer.message("服务器异常",!1)}))},LivePlayer:function(){var t=!1;return 1!==this.liveInfo.state.value&&2!==this.liveInfo.state.value||"1"===this.ncLiveInfo.typeValue&&0!=this.ncLiveInfo.stateValue&&(t=!0),t},VideoPlay:function(){var t=!1;return 1!==this.liveInfo.state.value&&2!==this.liveInfo.state.value||"3"!==this.ncLiveInfo.typeValue&&"4"!==this.ncLiveInfo.typeValue||"0"!==this.ncLiveInfo.stateValue&&(t=!0),t},Brief:function(){var t=!1;return 0===this.liveInfo.state.value?t=!0:1!==this.liveInfo.state.value&&2!==this.liveInfo.state.value||("3"!==this.ncLiveInfo.typeValue&&"4"!==this.ncLiveInfo.typeValue||(t=!0),0==this.ncLiveInfo.stateValue&&(t=!0),"2"===this.ncLiveInfo.typeValue&&(t=!0,this.ncLiveInfo.liveUrl&&"0"!==this.ncLiveInfo.stateValue&&(this.showLineLive=!0))),t},VideoSource:function(){var t=this;return Object(Ve["a"])(ze.a.mark((function e(){var i,n;return ze.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=null,0!==t.liveInfo.state.value&&"0"!=t.ncLiveInfo.stateValue){e.next=3;break}return e.abrupt("return");case 3:if("4"!==t.ncLiveInfo.typeValue){e.next=7;break}t.ncLiveInfo.video&&t.ncLiveInfo.video.length>2&&(i=dsf.url.getWebPath(JSON.parse(t.ncLiveInfo.video)[0].relativePath),t.getVideoSource=i),e.next=12;break;case 7:if("3"!==t.ncLiveInfo.typeValue){e.next=12;break}return e.next=10,t.getVideoUrlApi({coursewareId:t.ncLiveInfo.coursewareValue});case 10:n=e.sent,n.fileUrl&&n.fileUrl.length>2&&(i=dsf.url.getWebPath(JSON.parse(n.fileUrl).sd.relative),!i&&dsf.layer.message("视频不可用",!1),JSON.parse(n.fileUrl),t.getVideoPlay=!1,setTimeout((function(){t.getVideoPlay=!0,t.getVideoSource=i})));case 12:case"end":return e.stop()}}),e)})))()},getVideoUrlApi:function(t){return new Promise((function(e,i){var n=dsf.layer.loading();dsf.http.get("nc/courseware/queryVideoUrlById",t).done((function(t){t.success?e(t.data):(dsf.layer.message(t.message||"请求异常",!1),i())})).error((function(t){dsf.error(t),dsf.layer.message(t.message||"请求异常",!1),i()})).always((function(){dsf.layer.closeLoading(n)}))}))},LiveState:function(){var t=!1;return 2===this.liveInfo.state.value?(0==this.ncLiveInfo.stateValue&&(t=!0),2==this.ncLiveInfo.typeValue&&(t=!0)):0===this.liveInfo.state.value?t=!0:1===this.liveInfo.state.value&&(2==this.ncLiveInfo.typeValue&&(t=!0),1!=this.ncLiveInfo.typeValue&&3!=this.ncLiveInfo.typeValue&&4!=this.ncLiveInfo.typeValue||0!=this.ncLiveInfo.stateValue||(t=!0)),t},goLiveLine:function(){window.open(this.ncLiveInfo.liveUrl)}}}),oa=sa,la=(i(1332),Object(p["a"])(oa,ra,aa,!1,null,"61b8b8f9",null));la.options.__file="mobile/components/live/livePlay.vue";var ca=la.exports,ua=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.visible?i("div",{staticClass:"dsf_cardItemByLive"},[t.isDesign?i("div",{staticClass:"content"},[i("div",{staticClass:"item-wrap pointer"},[i("div",{staticClass:"img-box"},[i("van-image",{attrs:{src:t._f("imgFormat")(t.src),fit:"cover"}}),i("div",{staticClass:"live-type"},[t._v("直播中")])],1),i("div",{staticClass:"info"},[i("p",{staticClass:"ell"},[t._v("上海全力打造全国新一轮全面开放新高地的新举措")]),i("div",{staticClass:"live-time"},[t._v(t._s(t.formatterDate("2020-12-22 22:00:00")))]),i("div",{staticClass:"detail"},[t._v("张三")])])])]):i("div",{staticClass:"content",style:{marign:t.marginString},on:{click:function(e){return t.goDetail(t.data)}}},[i("div",{staticClass:"item-wrap pointer"},[i("div",{staticClass:"img-box"},[i("van-image",{attrs:{src:t._f("imgFormat")(t.data["cover"]),fit:"cover"}}),t.data["stateTxt"]?i("div",{staticClass:"live-type"},[t._v(t._s(t.data["stateTxt"]))]):t._e()],1),i("div",{staticClass:"info"},[i("p",{staticClass:"ell"},[t._v(t._s(t.data["title"]))]),i("div",{staticClass:"live-time"},[t._v(t._s(t.formatterDate(t.data["time"]||"")))]),i("div",{staticClass:"detail"},[t._v(t._s(t.data["teacher"]))])])])])]):t._e()},da=[];ua._withStripped=!0;var ha=dsf.component({name:"DsfMobileNcCardItemByLiveList",ctrlCaption:"直播卡片",mixins:[$mixins.card],props:{visible:{type:Boolean,default:!0},cardWidth:{type:String,default:"220px"},detailUrl:{type:String,default:"/mobile/nc/pagelive/liveDetail?id="},keysMap:{type:Array,default:function(){return[{from:"cover",to:"cover",type:"text",desc:"封面"},{from:"stateTxt",to:"stateTxt",type:"text",desc:"直播状态文字"},{from:"title",to:"title",type:"text",desc:"标题"},{from:"time",to:"time",type:"",desc:"直播时间"},{from:"teacher",to:"teacher",type:"text",desc:"授课教师"},{from:"nc_live_info_id",to:"id",type:"text",desc:"id"}]}}},data:function(){return{}},components:{},methods:{goDetail:function(t){this.$router.push({path:this.detailUrl+t["id"]})},formatterDate:function(t,e){return t?dsf.date.format(t,e||"yyyy-mm-dd hh:ii"):""},getUrl:function(t){return t?dsf.url.getWebPath(JSON.parse(t)[0].relativePath):""}}}),fa=ha,pa=(i(1334),Object(p["a"])(fa,ua,da,!1,null,"41f21963",null));pa.options.__file="mobile/components/live/liveList.vue";var ma=pa.exports,va=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isDesign?i("div",{staticClass:"ds_teacher_list ds-control"},[i("div",{staticClass:"cover"},[i("el-image",{attrs:{src:"https://cube.elemecdn.com/6/94/4d3ea53c084bad6931a56d5158a48jpeg.jpeg"}})],1),t._m(0)]):i("div",{staticClass:"ds_teacher_list ds-control",on:{click:t.click}},[i("div",{staticClass:"cover"},[i("el-image",{attrs:{src:t._f("imgFormat")(t.data["cover"]),fit:"cover"}})],1),i("div",{staticClass:"desc"},[i("h3",{staticClass:"desc-title"},[i("span",{staticClass:"name"},[t._v(t._s(t.data["name"]))]),i("span",{staticClass:"total"},[t._v(t._s(t.data["total"])+"门精品课程")])]),i("div",{staticClass:"info ellipsis-3"},[t._v(t._s(t.data["position"]))]),i("div",{staticClass:"tags"},[i("label",{staticClass:"tag-title"},[t._v("擅长领域")]),t._l(t.data["tags"],(function(e){return i("dl",{key:e.name,staticClass:"tag"},[t._v(t._s(e.name))])}))],2)])])},ga=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"desc"},[i("h3",{staticClass:"desc-title"},[i("span",{staticClass:"name"},[t._v("张三")]),i("span",{staticClass:"total"},[t._v("15门精品课程")])]),i("div",{staticClass:"info ellipsis-3"},[t._v("中央党校（国家行政学院）")]),i("div",{staticClass:"tags"},[i("label",{staticClass:"tag-title"},[t._v("擅长领域")]),i("dl",{staticClass:"tag"},[t._v("自贸区")])])])}];va._withStripped=!0;var ya=dsf.component({name:"DsfMobileNcTeacherList",ctrlCaption:"师资卡片",mixins:[$mixins.control],design:{isMask:!1},props:{keysMap:{type:Array,default:function(){return[{from:"cover",to:"cover",type:"text",desc:"封面"},{from:"name",to:"name",type:"text",desc:"教师姓名"},{from:"total",to:"total",type:"text",desc:"课程数量"},{from:"position",to:"position",type:"text",desc:"职位"},{from:"tags",to:"tags",type:"text",desc:"擅长领域"}]}},clickConfig:{type:Object,default:null},itemClick:{type:Function,default:null}},methods:{click:function(){var t,e=this,i=null===(t=this.itemClick)||void 0===t?void 0:t.call(this,this.local);i&&i.then?i.then((function(t){!1!==t&&e.toUrl()})):!1!==i&&this.toUrl()},toUrl:function(){if(this.clickConfig){var t=this.clickConfig,e=t.url,i=t.state;e=this.$replace(e,this.local),this.$open({url:e,state:i})}}}}),_a=ya,ba=(i(1336),Object(p["a"])(_a,va,ga,!1,null,"7787364a",null));ba.options.__file="mobile/components/teacher/teacherCard.vue";var Ta=ba.exports,Sa=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isDesign?i("div",{staticClass:"ds_teacher_list"},[i("div",{staticClass:"detail-top"},[i("div",{staticClass:"detail-header"},[i("div",{staticClass:"avatar"},[i("van-image",{attrs:{src:"https://cube.elemecdn.com/6/94/4d3ea53c084bad6931a56d5158a48jpeg.jpeg"}})],1),t._m(0)]),t._m(1)])]):i("div",{staticClass:"ds_teacher_list"},[t.it?i("div",{staticClass:"detail-top"},[i("div",{staticClass:"detail-header"},[i("div",{staticClass:"avatar"},[i("van-image",{attrs:{src:t._f("imgFormat")(t.it["photo"]),fit:"cover"}})],1),i("div",{staticClass:"desc"},[i("h3",{staticClass:"desc-title"},[i("span",{staticClass:"name"},[t._v(t._s(t.it.name))])]),i("div",{staticClass:"position ellipsis"},[t._v(t._s(t.it.deptText))]),t.it["adeptText"]?i("div",{staticClass:"tags"},t._l(t.it["adeptText"].split("^"),(function(e){return i("dl",{key:e,staticClass:"tag"},[t._v(t._s(e))])})),0):t._e()])]),i("div",{staticClass:"teacher-desc"},[i("div",{ref:"teacherIntr",staticClass:"text ellipsis-2",domProps:{innerHTML:t._s(t.it.abstracts?t.it.abstracts.length>80?t.it.abstracts.substring(0,t.showFold?1e4:80)+(t.showFold?"":"..."):t.it.abstracts:"")}}),t.showFoldBtn&&t.it.abstracts?i("span",{staticClass:"flod",on:{click:t.flodText}},[t._v(t._s(t.showFold?"收起":"展开"))]):t._e()])]):t._e(),i("div",{staticClass:"fixed-button"},[i("van-button",{staticClass:"subcrible-btn",attrs:{round:""},on:{click:function(e){return t.toSubscrible(t.it)}}},[t._v(t._s(t.subText))])],1)])},wa=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"desc"},[i("h3",{staticClass:"desc-title"},[i("span",{staticClass:"name"},[t._v("张三")])]),i("div",{staticClass:"position ellipsis"},[t._v("中央党校（国家行政学院）")]),i("div",{staticClass:"tags"},[i("dl",{staticClass:"tag"},[t._v("自贸区")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"teacher-desc"},[i("span",{staticClass:"text"},[t._v("谢春涛，男，汉族，1963年生，山东临沭人，1988年7月参加工作，1985年7月加入中国共产党，中国人民大学中共党史系…")]),i("span",{staticClass:"flod"},[t._v("展开")])])}];Sa._withStripped=!0;var Ca=dsf.component({name:"DsfMobileNcTeacherDetailTop",ctrlCaption:"师资详情",mixins:[$mixins.control],computed:{subText:function(){var t="订阅";return this.it&&(t=this.it.mySubscribed?"已订阅":"立即订阅"),t}},data:function(){return{itemList:[],it:null,queryiId:this.$route.query.id||"f445282c9db54cc4b90881f4c5569bcb",showFold:!1,showFoldBtn:!1}},mounted:function(){this.isDesign||this.loadTeacherDetail()},methods:{loadTeacherDetail:function(){var t=this,e="nc/teacher/info",i={id:this.queryiId},n=dsf.layer.mobile.loading();function r(t){dsf.layer.mobile.message("查询失败",!1)}dsf.http.get(e,i).done((function(e){var i=e.success,n=e.data,a=e.message;i?(t.it=n,t.$nextTick((function(){var e=t.$refs.teacherIntr.offsetHeight;e>=50&&(t.showFoldBtn=!0)}))):r(a)})).error((function(t){var e=t.message;r(e)})).always((function(t){dsf.layer.mobile.closeLoading(n)}))},flodText:function(){this.showFold=!this.showFold},toSubscrible:function(t){var e=this,i="/dsfa/subscribe/saveOrCancel",n={ywlxValue:"teacher",ywlxText:"师资",ywid:t.teacherId},r=dsf.layer.mobile.loading("订阅中..");function a(){dsf.layer.mobile.message("订阅失败",!1)}dsf.http.post(i,n).done((function(t){var i=t.success,n=t.data,r=t.message;i?(e.it.mySubscribed=n.isDo,dsf.layer.mobile.message(r)):a()})).error((function(t){a()})).always((function(t){dsf.layer.mobile.closeLoading(r)}))}}}),ka=Ca,xa=(i(1338),Object(p["a"])(ka,Sa,wa,!1,null,"fdbb0e48",null));xa.options.__file="mobile/components/teacher/teacherDetail.vue";var Ea=xa.exports,Pa=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dsf_nc_channelDetail ds-control"},[t.it?i("div",[i("div",{staticClass:"cover"},[i("van-image",{attrs:{src:t._f("imgFormat")(t.it["cover"]),fit:"cover"}}),i("div",{staticClass:"cover-mask"},[i("p",[t._v(t._s(t.it.title))])])],1),i("div",{staticClass:"info"},[i("div",{staticClass:"info-item info-left"},[i("dd",{staticClass:"item"},[i("span",[t._v(t._s(t.it.courseCount))]),i("span",{staticClass:"sub-name"},[t._v("课程")])]),i("dd",{staticClass:"item"},[i("span",[t._v(t._s(t.it.time))]),i("span",{staticClass:"sub-name"},[t._v("发布")])])]),i("div",{staticClass:"info-item info-right"},[i("dd",{staticClass:"item"},[i("dsf-icon",{attrs:{name:"yanjing"}}),t._v(" "+t._s(t.it.hits)+" ")],1),i("dd",{staticClass:"item"},[i("dsf-icon",{attrs:{name:"iconfontzhizuobiaozhun13"}}),t._v(" "+t._s(t.subCount)+" ")],1)])]),t._m(0),i("div",{class:"insert "+(t.isDesign?"insert-wrap":"")},[i("div",{class:["insert-content",{"insert-border":t.isDesign}],attrs:{"slot-name":"chapter"}},[t._t("chapter")],2)]),i("div",{staticClass:"channel-intrduce"},[i("div",{class:["insert-content",{"insert-border":t.isDesign}],attrs:{"slot-name":"desc"}},[t._t("desc")],2),i("div",{staticClass:"text",domProps:{innerHTML:t._s(t.it.describe||"")}})]),i("div",{staticClass:"fixed-button"},[i("van-button",{staticClass:"subcrible-btn",attrs:{round:""},on:{click:function(e){return t.toSubscrible(t.it)}}},[t._v(t._s(t.subText))])],1)]):t._e(),t.isDesign?i("div",[i("div",{staticClass:"cover"},[i("el-image",{attrs:{src:t._f("imgFormat")(1)}}),t._m(1)],1),i("div",{staticClass:"info"},[t._m(2),i("div",{staticClass:"info-item info-right"},[i("dd",{staticClass:"item"},[i("dsf-icon",{attrs:{name:"yanjing"}}),t._v(" 25 ")],1),i("dd",{staticClass:"item"},[i("dsf-icon",{attrs:{name:"iconfontzhizuobiaozhun13"}}),t._v(" 25 ")],1)])]),t._m(3),i("div",{class:"insert "+(t.isDesign?"insert-wrap":"")},[i("div",{class:["insert-content",{"insert-border":t.isDesign}],attrs:{"slot-name":"chapter"}},[t._t("chapter")],2)]),i("div",{staticClass:"channel-intrduce"},[i("div",{class:"insert "+(t.isDesign?"insert-wrap":"")},[i("div",{class:["insert-content",{"insert-border":t.isDesign}],attrs:{"slot-name":"desc"}},[t._t("desc")],2)]),i("div",{staticClass:"text"},[t._v("简介")])])]):t._e()])},Oa=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"buttons"},[i("div",{staticClass:"tags"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"cover-mask"},[i("p",[t._v("测试")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"info-item info-left"},[i("dd",{staticClass:"item"},[i("span",[t._v("17")]),i("span",{staticClass:"sub-name"},[t._v("课程")])]),i("dd",{staticClass:"item"},[i("span",[t._v("17")]),i("span",{staticClass:"sub-name"},[t._v("发布")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"buttons"},[i("div",{staticClass:"tags"},[i("dl",{staticClass:"tag"},[t._v("主题教育")])])])}];Pa._withStripped=!0;var Ia=dsf.component({name:"DsfMobileNcPcChannelDetail",ctrlCaption:"频道详情",mixins:[$mixins.layout],props:{slots:{type:Array,default:function(){return[{name:"chapter",controls:[]},{name:"desc",controls:[]}]}}},computed:{subText:function(){var t="订阅";return this.it.mySubscribed&&(t=this.it.mySubscribed?"已订阅":"订阅"),t},subCount:function(){var t=0;return this.it.subscription&&(t=this.it.subscription),t}},data:function(){return{itemList:[],it:null,queryiId:this.$route.query.id||"4266fa929e3343c6a2dd7f1cc36abc75"}},mounted:function(){this.isDesign||this.loadChannelDetail()},methods:{reloadData:function(){this.isDesign||(this.queryiId=this.$route.query.id,this.loadChannelDetail())},loadChannelDetail:function(){var t=this,e="nc/pack/channel/info",i={id:this.queryiId},n=dsf.layer.mobile.loading();function r(t){dsf.layer.mobile.message("查询失败",!1)}dsf.http.get(e,i).done((function(e){var i=e.success,n=e.data,a=e.message;i?t.it=n:r(a)})).error((function(t){var e=t.message;r(e)})).always((function(t){dsf.layer.mobile.closeLoading(n)}))},toSubscrible:function(t){var e=this,i="/dsfa/subscribe/saveOrCancel",n={ywlxValue:"channel",ywlxText:"频道",ywid:t.channelId},r=dsf.layer.mobile.loading("提交中...");function a(){dsf.layer.mobile.message("订阅失败",!1)}dsf.http.post(i,n).done((function(t){var i=t.success,n=t.data,r=t.message;i?(e.it.mySubscribed=n.isDo,e.it.subscription=n.isDo?++e.it.subscription:--e.it.subscription,dsf.layer.mobile.message(r)):a()})).error((function(t){a()})).always((function(t){dsf.layer.mobile.closeLoading(r)}))}}}),La=Ia,Aa=(i(1340),Object(p["a"])(La,Pa,Oa,!1,null,"06f3ff9e",null));Aa.options.__file="mobile/components/channel/channelDetail.vue";var Da=Aa.exports,Ma=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dsf_nc_special_detail"},[i("div",{staticClass:"special_top"},[i("van-image",{staticStyle:{width:"100%",height:"191px"},attrs:{width:"100%",height:"191px",fit:"fill",src:t._f("imgFormat")(t.info.cover)},scopedSlots:t._u([{key:"loading",fn:function(){return[i("van-loading",{attrs:{type:"spinner",size:"20"}})]},proxy:!0},{key:"error",fn:function(){return[i("img",{staticStyle:{width:"100%",height:"191px"},attrs:{src:t.dsf.config.setting_error_img}})]},proxy:!0}])}),i("div",{staticClass:"special_top_mask"},[i("p",[t._v(t._s(t.info.name))])])],1),i("div",{staticClass:"special_detail_info"},[i("div",{staticClass:"info_left info_items"},[i("div",{staticClass:"item"},[i("span",{staticClass:"date"},[t._v(t._s(t.setDate(t.info.pxsjSdate,t.info.pxsjEdate," ～ ")))]),i("span",{staticClass:"font"},[t._v("培训时间")])])]),i("div",{staticClass:"info_right info_items"},[i("div",{staticClass:"item"},[i("span",{staticClass:"rscount"},[t._v(t._s(t.info.studentCount||0)+"人")]),i("span",{staticClass:"font"},[t._v("学员人数")])])])]),t.labelLists.length?i("ul",{staticClass:"special_detail_label_wrap"},t._l(t.labelLists,(function(e,n){return i("li",{key:n,staticClass:"label_items"},[t._v(t._s(e))])})),0):t._e(),i("special-title",{ref:"title0",attrs:{title:t.titleNames[0].name}},[i("template",{slot:"content"},[i("div",{staticClass:"work_wrap"},[i("p",[i("span",{staticClass:"label"},[t._v("主办单位：")]),i("span",{staticClass:"font"},[t._v(t._s(t.info.fzbmText||"暂无"))])]),i("p",[i("span",{staticClass:"label"},[t._v("协办单位：")]),i("span",{staticClass:"font"},[t._v(t._s(t.info.bm||"暂无"))])]),i("p",[i("span",{staticClass:"label"},[t._v("培训范围：")]),i("span",{staticClass:"font"},[t._v(t._s(t.info.txrs?t.info.txrs:"无限制"))])])]),i("div",{staticClass:"intro_des",domProps:{innerHTML:t._s(t.info.content||"暂无数据")}})])],2),i("special-title",{ref:"title1",attrs:{title:t.titleNames[1].name}},[i("template",{slot:"content"},[t.courseLists.length?i("ul",{staticClass:"course_wrap"},t._l(t.courseLists,(function(e,n){return i("li",{key:e.unitId+n,staticClass:"course_items"},[i("div",{staticClass:"course_item_top_title"},[i("span",{staticClass:"ell"},[t._v(t._s(e.unitName))])]),i("div",{staticClass:"course_notice"},[i("span",[t._v("必修："+t._s(e.compulsory||0)+"门")]),i("span",[t._v(t._s(e.compulsoryPeriod||0)+"学时")]),i("span",[t._v("选修："+t._s(e.electives||0)+"门")]),i("span",[t._v(t._s(e.electivesPeriod||0)+"学时")])]),t._l(e.subList,(function(e,n){return i("div",{key:e.businessId+n,staticClass:"course_sub_items",on:{click:function(i){return t.clickCourseItem(e,t.info)}}},[i("div",{staticClass:"item_type"},[i("div",{staticClass:"type_top"},[i("i",{class:"icon iconfont "+t.setIcon(e.typeValue)}),i("div",{staticClass:"item_name ell"},[t._v(t._s(e.name||"暂无"))])]),i("div",{staticClass:"type_bottom"},[i("div",{staticClass:"period"},[i("span",[t._v(t._s(e.period||0)+" 学时")]),i("span",{staticClass:"isbx"},[t._v(t._s(e.categoryText||""))])]),i("div",{staticClass:"duration"},[t._v(t._s(e.duration||"00:00:00"))])])]),i("div",{staticClass:"item_circle"},[i("van-circle",{attrs:{value:t.recharNum(e.progress||0),rate:100,speed:50,size:"35px","stroke-width":80,text:e.progress||0,"layer-color":"#ebedf0"}})],1)])}))],2)})),0):i("div",{staticClass:"no_data"},[t._v(" 暂无数据 ")])])],2),t.isShowCheck?i("special-title",{ref:"title2",staticClass:"special_check",attrs:{title:t.titleNames[2].name}},[i("template",{slot:"content"},[i("div",{staticClass:"complete_wrap"},[i("div",{staticClass:"complete_progress"},[i("div",{staticClass:"complete_title"},[t._v("进度")]),t._l(t.unitAssess,(function(e,n){return i("div",{key:n,staticClass:"complete_progress_wrap"},[i("div",{staticClass:"progress_circle_compulsory"},[i("van-circle",{attrs:{value:t.recharNum(e.compulsoryper||0),rate:100,speed:50,size:"100px","stroke-width":100,color:"#F66C6C","stroke-linecap":"butt","layer-color":"#CDCDCD"}},[i("template",{slot:"default"},[i("div",{staticClass:"proess"},[i("p",[t._v(t._s(e.compulsoryper||0)+"%")]),i("p",{staticClass:"bx"},[t._v("必修")])])])],2),i("div",{staticClass:"period"},[t._v(t._s(e.compulsoryHursed||0)+"/"+t._s(e.compulsoryPeriod||0)+"学时")])],1),i("div",{staticClass:"progress_circle_electives"},[i("van-circle",{attrs:{value:t.recharNum(e.electiveper||0),rate:100,speed:50,size:"100px","stroke-width":100,color:"#0E8CEE","stroke-linecap":"butt","layer-color":"#CDCDCD"}},[i("template",{slot:"default"},[i("div",{staticClass:"proess"},[i("p",[t._v(t._s(e.electiveper||0)+"%")]),i("p",{staticClass:"xx"},[t._v("选修")])])])],2),i("div",{staticClass:"period"},[t._v(t._s(e.electiveHursed||0)+"/"+t._s(e.electivesPeriod||0)+"学时")])],1)])}))],2)])])],2):t._e(),i("div",{staticClass:"btn_wrap"},[t.setStatus(t.info)?i("div",{staticClass:"btn",style:"待审核"==t.setStatus(t.info)||"已结业"==t.setStatus(t.info)||0==t.info.state&&1!=t.info.signStatus||2==t.info.state&&1!=t.info.trainingStatus?"background: #aaa; cursor: default":"",on:{click:function(e){return t.clickEnter(t.info)}}},[t._v(" "+t._s(t.setStatus(t.info))+" ")]):t._e()]),t.showFixed?i("div",{staticClass:"fixed_title_wrap"},t._l(t.titleNames,(function(e,n){return i("div",{key:n,class:"fixed_title "+(e.isactive?"active":""),on:{click:function(i){return t.clickTitle(e,n)}}},[i("span",{staticClass:"icon"}),i("span",[t._v(t._s(e.name))])])})),0):t._e()],1)},ja=[];Ma._withStripped=!0;var Na=dsf.component({name:"DsfMobileNcSpecialDetail",ctrlCaption:"专题班详情",mixins:[$mixins.control],components:{specialTitle:Qn},props:{infoUrl:{type:String,default:"/nc/class/info"},courseUrl:{type:String,default:"/nc/class/course/list"},isShowCheck:{type:Boolean,default:!0},openUrl:{type:String,default:"#/mobile/nc/page/app/course/mobile-coursePlayer"}},data:function(){return{classId:"",info:{},labelLists:[],courseLists:[],titleNames:[{name:"培训介绍",isactive:!0},{name:"培训课程",isactive:!1},{name:"结业考核",isactive:!1}],showFixed:!1,scheduleData:{},unitAssess:[]}},created:function(){this.classId=this.queryString["id"]||"c9cd45271f374737b973ff461e68d3ad"},mounted:function(){this.isDesign||(this.classInfo(),this.classCourse(),this.scheduleInit()),window.addEventListener("scroll",this.handleScroll,!0)},beforeDestroy:function(){window.removeEventListener("scroll",this.handleScroll)},methods:{classInfo:function(){var t=this;this.dsf.http.get(this.infoUrl,{id:this.classId}).done((function(e){e.success?(t.info=e.data,t.labelLists=t.info.labelsText?t.info.labelsText.split("^"):[]):t.dsf.layer.mobile.message(e.message||"获取数据异常",!1)})).error((function(e){t.dsf.layer.mobile.message(e.message||"获取数据异常",!1)}))},classCourse:function(){var t=this;this.dsf.http.get(this.courseUrl,{id:this.classId}).done((function(e){e.success?t.courseLists=e.data||[]:t.dsf.layer.mobile.message(e.message||"获取数据异常",!1)})).error((function(e){t.dsf.layer.mobile.message(e.message||"获取数据异常",!1)}))},scheduleInit:function(){var t=this;this.dsf.http.get("/nc/class/learning/assess",{id:this.classId}).done((function(e){e.success?(t.scheduleData=e.data,t.unitAssess=e.data.unitAssess.length?e.data.unitAssess:[]):t.dsf.layer.mobile.message(e.message||"获取数据异常",!1)})).error((function(e){t.dsf.layer.mobile.message(e.message||"获取数据异常",!1)}))},clickCourseItem:function(t,e){var i=t.businessId;1==e.trainingStatus&&2==e.state&&this.$open({url:"".concat(this.openUrl,"?id=").concat(i,"&type=ztb")})},setImage:function(t){var e=t,i="";return dsf.isDef(e)&&e[0]&&(i=e[0].photo?dsf.url.getWebPath(JSON.parse(e[0].photo)[0].relativePath):""),i},setDate:function(t,e,i){var n=t?t.slice(5,10):"",r=e?e.slice(5,10):"";return n&&r?"".concat(n,"  ").concat(i,"  ").concat(r):"暂无"},recharNum:function(t){var e=t;return e*=1,e},setStatus:function(t){var e=t.state,i=t.studentCount,n=t.txrs,r="";switch(e){case 0:if(n&&i>=n)return void(r="人数已满");r="立即报名";break;case 1:r="待审核";break;case 2:r="开始学习";break;case 3:r="已结业";break;default:r=""}return r},setIcon:function(t){var e="";switch(t){case"course":e="icon-shipin1";break;case"draft":e="icon-wengao-1";break;case"live":e="icon-a-zhibobofangshexiangjitianxianmianxing";break;case"exam":e="icon-kaoshi";break;case"media":e="icon-fumeitixiaoxi";break;default:e=""}return e},clickEnter:function(t){var e=this,i=t.state,n=t.lastCourseId;if(0==i&&1==this.info.signStatus){var r=t.classId;this.dsf.http.get("nc/class/enroll",{id:r}).done((function(t){t.success?(e.dsf.layer.mobile.message(t.message),e.classInfo()):e.dsf.layer.mobile.message(t.message||"获取数据异常",!1)})).error((function(t){e.dsf.layer.mobile.message(t.message||"获取数据异常",!1)}))}else 2==i&&1==this.info.trainingStatus&&this.$open({url:"".concat(this.openUrl,"?id=").concat(n," ")})},clickTitle:function(t,e){var i=this;this.$nextTick((function(){document.querySelector(".ds-page-center").scrollTo({top:i.$refs["title".concat(e)].$el.offsetTop-document.querySelector(".fixed_title_wrap").clientHeight+10,behavior:"smooth"})}))},handleScroll:function(){var t=this;this.$nextTick((function(){var e=document.querySelector(".ds-page-center").scrollTop,i=t.$refs.title0.$el.offsetTop-45,n=t.$refs.title1.$el.offsetTop-45,r=t.$refs.title2.$el.offsetTop-45,a=document.querySelector(".special_detail_info").offsetTop;t.showFixed=e>a,t.titleNames.forEach((function(t,a){e>i&&i<n&&(t.isactive=0==a),e>n&&i<r&&(t.isactive=1==a),e>r&&(t.isactive=2==a)}))}))}}}),Ra=Na,Ba=(i(1342),Object(p["a"])(Ra,Ma,ja,!1,null,"9f74cbec",null));Ba.options.__file="mobile/components/special/specialDetail.vue";var Ua=Ba.exports,Fa=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ds-control mobile ds-globalsearch"},[i("div",{staticClass:"ds-globalsearch-header"},[i("van-search",{attrs:{label:t.label,shape:t.shape,background:t.background2,maxlength:t.maxlength<0?1/0:t.maxlength,placeholder:t.placeholder,clearable:t.clearable,"clear-trigger":t.clearTrigger,autofocus:t.autofocus,"show-action":t.showAction,"action-text":t.actionText,disabled:t.disabled,readonly:t.readonly,error:t.error,"input-align":t.inputAlign,"left-icon":t.leftIcon,"right-icon":t.rightIcon},on:{focus:function(e){t.isSearching=!0},search:t.onSearch,input:t.$onChange,cancel:t.onCancel},scopedSlots:t._u([{key:"left",fn:function(){return[t._t("left")]},proxy:!0},{key:"action",fn:function(){return[t._t("action",(function(){return[i("span",{on:{click:t.onCancel}},[t._v("取消")])]}))]},proxy:!0},{key:"label",fn:function(){return[t._t("label")]},proxy:!0},{key:"left-icon",fn:function(){return[t._t("left-icon")]},proxy:!0},{key:"right-icon",fn:function(){return[t._t("right-icon")]},proxy:!0}],null,!0),model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1),t.isSearching?i("div",{staticClass:"ds-globalsearch-body"},[t.keyword.length?i("ul",{staticClass:"cascade-words"},t._l(t.cascadeKeywords,(function(e,n){return i("li",{key:n,staticClass:"cascade-words-item van-hairline--bottom"},[i("i",{staticClass:"iconfont icon-sousuo"}),i("div",{staticClass:"cascade-words-item-content"},[i("div",{staticClass:"ds-multi-ellipsis-1",domProps:{innerHTML:t._s(e.html)}})])])})),0):[i("div",{staticClass:"hot-words ds-globalsearch-section"},[i("div",{staticClass:"ds-globalsearch-section-title"},[t._v("热搜")]),i("div",{staticClass:"hot-words-box"},[i("div",{staticClass:"hot-words-list"},t._l(t.hotKeywords,(function(e,n){return i("div",{key:n,staticClass:"hot-words-item",on:{click:function(i){return t.hotClick(e)}}},[i("span",{staticClass:"index"},[t._v(t._s(n))]),i("div",{staticClass:"content"},[i("div",{staticClass:"ds-multi-ellipsis-1"},[t._v(t._s(e.text))])])])})),0)])]),i("div",{staticClass:"history-words ds-globalsearch-section"},[i("div",{staticClass:"ds-globalsearch-section-title"},[t._v("历史搜索")]),i("div",{staticClass:"history-words-box"},[i("div",{staticClass:"history-words-list"},t._l(t.historyKeywords,(function(e,n){return i("div",{key:n,staticClass:"history-words-item",on:{click:function(e){return t.historyClick(t.hot)}}},[i("div",[t._v(t._s(e.text))])])})),0)]),i("div",{staticClass:"history-words-bts"},[i("div",{staticClass:"history-words-bt",on:{click:t.clearHistory}},[i("i",{staticClass:"iconfont icon-shanchu"}),i("span",[t._v("清空搜索记录")])])])])]],2):t._e(),t.isSearching?t._e():i("div",{staticClass:"ds-globalsearch-body"},[t.searchResult.length?t._e():i("van-empty",{attrs:{description:"暂无搜索结果"}})],1)])},$a=[];Fa._withStripped=!0;i(1344),i(1346);var za=dsf.component({name:"DsfMobileNcSearch",ctrlCaption:"全局检索",mixins:[$mixins.control],props:{label:{type:String,default:""},shape:{type:String,default:"square"},background:{type:String,default:"theme"},maxlength:{type:[Number,String],default:-1},placeholder:{type:String,default:"请输入搜索关键词"},clearable:{type:Boolean,default:!0},clearTrigger:{type:String,default:"focus"},autofocus:{type:Boolean,default:!1},showAction:{type:Boolean,default:!1},actionText:{type:[String,Boolean],default:""},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},error:{type:Boolean,default:!1},inputAlign:{type:String,default:"left"},leftIcon:{type:String,default:"search"},rightIcon:{type:String,default:""},interfaceUrl:{type:String,default:""}},data:function(){return{isSearching:!0,keyword:"",cascadeKeywords:[{html:'“<span class="search-text">一带一路</span>”的提出与发展'},{html:'“<span class="search-text">一带一路</span>”提倡：思路、重点、难点'},{html:'“<span class="search-text">一带一路</span>”提倡：思路、重点、难点重点、难点重点、难点'}],hotKeywords:[{text:"“一带一路”的提出与发展"},{text:"“一带一路”提倡：思路、重点、难点"},{text:"“一带一路”提倡：思路、重点、难点"},{text:"“一带一路”提倡：思路、重点、难点思路、重点、难点思路、重点、难点"}],historyKeywords:[{text:"重要活动"},{text:"军事"},{text:"一带一路提出"},{text:"新发展理念"},{text:"国有企业党建工作"}],searchResult:[]}},computed:{background2:function(){return"theme"==this.background||""==this.background?this.$root.themesConfig[this.$root.setting.theme]["main"]:this.background}},created:function(){this.$onChange=_.throttle(this.onChange,500,{leading:!0,trailing:!0})},methods:{changeColor:function(t){var e=this;this.keyword||this.keyword.length?this.cascadeKeywords=t.map((function(t,i){return t.html=t.name.replace(new RegExp(e.keyword,"g"),'<span class="search-text">'.concat(e.keyword,"</span>")),t})):this.cascadeKeywords=[]},onChange:function(t){},onSearch:function(){this.isSearching=!1},onCancel:function(){this.isSearching&&""!=this.keyword?(this.isSearching=!1,this.keyword=""):this.$router.back()},clearHistory:function(){},hotClick:function(t){},historyClick:function(t){}}}),Va=za,qa=(i(1347),Object(p["a"])(Va,Fa,$a,!1,null,"ac0c82d4",null));qa.options.__file="mobile/components/gloabalSearch/globalSearch.vue";var Ha=qa.exports,Wa=[Ha],Ga=[Xi,T,U,O,rt,fi,Ct,ye,ji,tn,on,fn,_n,kn,An].concat(Object(n["a"])(tr),Object(n["a"])(or),Object(n["a"])(pr),Object(n["a"])(Wa),[Hr,Jr,na,ca,ma,Ta,Ea,Da,Ua]);function Xa(t){Ga.forEach((function(e){t.component(e.name,e),window.$components["nc"]||(window.$components["nc"]={}),window.$components["nc"][e.name]=e}))}var Ya=Xa;i(554);!function(t){var e;Vue.use(Ya),(e=t.$platformRouter.mobile).push.apply(e,Object(n["a"])(zi))}(dsf.global||(dsf.global={}))}])["default"]}));
//# sourceMappingURL=dsf-nc.mobile.js.map